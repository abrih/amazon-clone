function eL(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function wP(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var J_={exports:{}},cd={},X_={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ES;function tL(){if(ES)return je;ES=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function _(H){return H===null||typeof H!="object"?null:(H=g&&H[g]||H["@@iterator"],typeof H=="function"?H:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,R={};function b(H,ie,Te){this.props=H,this.context=ie,this.refs=R,this.updater=Te||I}b.prototype.isReactComponent={},b.prototype.setState=function(H,ie){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ie,"setState")},b.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function V(){}V.prototype=b.prototype;function L(H,ie,Te){this.props=H,this.context=ie,this.refs=R,this.updater=Te||I}var M=L.prototype=new V;M.constructor=L,T(M,b.prototype),M.isPureReactComponent=!0;var z=Array.isArray,$=Object.prototype.hasOwnProperty,W={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function A(H,ie,Te){var ke,Ve={},$e=null,Ge=null;if(ie!=null)for(ke in ie.ref!==void 0&&(Ge=ie.ref),ie.key!==void 0&&($e=""+ie.key),ie)$.call(ie,ke)&&!D.hasOwnProperty(ke)&&(Ve[ke]=ie[ke]);var qe=arguments.length-2;if(qe===1)Ve.children=Te;else if(1<qe){for(var nt=Array(qe),vt=0;vt<qe;vt++)nt[vt]=arguments[vt+2];Ve.children=nt}if(H&&H.defaultProps)for(ke in qe=H.defaultProps,qe)Ve[ke]===void 0&&(Ve[ke]=qe[ke]);return{$$typeof:n,type:H,key:$e,ref:Ge,props:Ve,_owner:W.current}}function C(H,ie){return{$$typeof:n,type:H.type,key:ie,ref:H.ref,props:H.props,_owner:H._owner}}function E(H){return typeof H=="object"&&H!==null&&H.$$typeof===n}function x(H){var ie={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(Te){return ie[Te]})}var k=/\/+/g;function O(H,ie){return typeof H=="object"&&H!==null&&H.key!=null?x(""+H.key):ie.toString(36)}function ee(H,ie,Te,ke,Ve){var $e=typeof H;($e==="undefined"||$e==="boolean")&&(H=null);var Ge=!1;if(H===null)Ge=!0;else switch($e){case"string":case"number":Ge=!0;break;case"object":switch(H.$$typeof){case n:case e:Ge=!0}}if(Ge)return Ge=H,Ve=Ve(Ge),H=ke===""?"."+O(Ge,0):ke,z(Ve)?(Te="",H!=null&&(Te=H.replace(k,"$&/")+"/"),ee(Ve,ie,Te,"",function(vt){return vt})):Ve!=null&&(E(Ve)&&(Ve=C(Ve,Te+(!Ve.key||Ge&&Ge.key===Ve.key?"":(""+Ve.key).replace(k,"$&/")+"/")+H)),ie.push(Ve)),1;if(Ge=0,ke=ke===""?".":ke+":",z(H))for(var qe=0;qe<H.length;qe++){$e=H[qe];var nt=ke+O($e,qe);Ge+=ee($e,ie,Te,nt,Ve)}else if(nt=_(H),typeof nt=="function")for(H=nt.call(H),qe=0;!($e=H.next()).done;)$e=$e.value,nt=ke+O($e,qe++),Ge+=ee($e,ie,Te,nt,Ve);else if($e==="object")throw ie=String(H),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.");return Ge}function U(H,ie,Te){if(H==null)return H;var ke=[],Ve=0;return ee(H,ke,"","",function($e){return ie.call(Te,$e,Ve++)}),ke}function ge(H){if(H._status===-1){var ie=H._result;ie=ie(),ie.then(function(Te){(H._status===0||H._status===-1)&&(H._status=1,H._result=Te)},function(Te){(H._status===0||H._status===-1)&&(H._status=2,H._result=Te)}),H._status===-1&&(H._status=0,H._result=ie)}if(H._status===1)return H._result.default;throw H._result}var oe={current:null},Z={transition:null},me={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:Z,ReactCurrentOwner:W};function fe(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:U,forEach:function(H,ie,Te){U(H,function(){ie.apply(this,arguments)},Te)},count:function(H){var ie=0;return U(H,function(){ie++}),ie},toArray:function(H){return U(H,function(ie){return ie})||[]},only:function(H){if(!E(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},je.Component=b,je.Fragment=t,je.Profiler=i,je.PureComponent=L,je.StrictMode=r,je.Suspense=d,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,je.act=fe,je.cloneElement=function(H,ie,Te){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var ke=T({},H.props),Ve=H.key,$e=H.ref,Ge=H._owner;if(ie!=null){if(ie.ref!==void 0&&($e=ie.ref,Ge=W.current),ie.key!==void 0&&(Ve=""+ie.key),H.type&&H.type.defaultProps)var qe=H.type.defaultProps;for(nt in ie)$.call(ie,nt)&&!D.hasOwnProperty(nt)&&(ke[nt]=ie[nt]===void 0&&qe!==void 0?qe[nt]:ie[nt])}var nt=arguments.length-2;if(nt===1)ke.children=Te;else if(1<nt){qe=Array(nt);for(var vt=0;vt<nt;vt++)qe[vt]=arguments[vt+2];ke.children=qe}return{$$typeof:n,type:H.type,key:Ve,ref:$e,props:ke,_owner:Ge}},je.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:s,_context:H},H.Consumer=H},je.createElement=A,je.createFactory=function(H){var ie=A.bind(null,H);return ie.type=H,ie},je.createRef=function(){return{current:null}},je.forwardRef=function(H){return{$$typeof:u,render:H}},je.isValidElement=E,je.lazy=function(H){return{$$typeof:m,_payload:{_status:-1,_result:H},_init:ge}},je.memo=function(H,ie){return{$$typeof:h,type:H,compare:ie===void 0?null:ie}},je.startTransition=function(H){var ie=Z.transition;Z.transition={};try{H()}finally{Z.transition=ie}},je.unstable_act=fe,je.useCallback=function(H,ie){return oe.current.useCallback(H,ie)},je.useContext=function(H){return oe.current.useContext(H)},je.useDebugValue=function(){},je.useDeferredValue=function(H){return oe.current.useDeferredValue(H)},je.useEffect=function(H,ie){return oe.current.useEffect(H,ie)},je.useId=function(){return oe.current.useId()},je.useImperativeHandle=function(H,ie,Te){return oe.current.useImperativeHandle(H,ie,Te)},je.useInsertionEffect=function(H,ie){return oe.current.useInsertionEffect(H,ie)},je.useLayoutEffect=function(H,ie){return oe.current.useLayoutEffect(H,ie)},je.useMemo=function(H,ie){return oe.current.useMemo(H,ie)},je.useReducer=function(H,ie,Te){return oe.current.useReducer(H,ie,Te)},je.useRef=function(H){return oe.current.useRef(H)},je.useState=function(H){return oe.current.useState(H)},je.useSyncExternalStore=function(H,ie,Te){return oe.current.useSyncExternalStore(H,ie,Te)},je.useTransition=function(){return oe.current.useTransition()},je.version="18.3.1",je}var IS;function Uo(){return IS||(IS=1,X_.exports=tL()),X_.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TS;function nL(){if(TS)return cd;TS=1;var n=Uo(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,h){var m,g={},_=null,I=null;h!==void 0&&(_=""+h),d.key!==void 0&&(_=""+d.key),d.ref!==void 0&&(I=d.ref);for(m in d)r.call(d,m)&&!s.hasOwnProperty(m)&&(g[m]=d[m]);if(u&&u.defaultProps)for(m in d=u.defaultProps,d)g[m]===void 0&&(g[m]=d[m]);return{$$typeof:e,type:u,key:_,ref:I,props:g,_owner:i.current}}return cd.Fragment=t,cd.jsx=l,cd.jsxs=l,cd}var SS;function rL(){return SS||(SS=1,J_.exports=nL()),J_.exports}var B=rL(),K=Uo();const vo=wP(K),Bv=eL({__proto__:null,default:vo},[K]);var Op={},Z_={exports:{}},Yn={},ev={exports:{}},tv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RS;function iL(){return RS||(RS=1,function(n){function e(Z,me){var fe=Z.length;Z.push(me);e:for(;0<fe;){var H=fe-1>>>1,ie=Z[H];if(0<i(ie,me))Z[H]=me,Z[fe]=ie,fe=H;else break e}}function t(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var me=Z[0],fe=Z.pop();if(fe!==me){Z[0]=fe;e:for(var H=0,ie=Z.length,Te=ie>>>1;H<Te;){var ke=2*(H+1)-1,Ve=Z[ke],$e=ke+1,Ge=Z[$e];if(0>i(Ve,fe))$e<ie&&0>i(Ge,Ve)?(Z[H]=Ge,Z[$e]=fe,H=$e):(Z[H]=Ve,Z[ke]=fe,H=ke);else if($e<ie&&0>i(Ge,fe))Z[H]=Ge,Z[$e]=fe,H=$e;else break e}}return me}function i(Z,me){var fe=Z.sortIndex-me.sortIndex;return fe!==0?fe:Z.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var d=[],h=[],m=1,g=null,_=3,I=!1,T=!1,R=!1,b=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(Z){for(var me=t(h);me!==null;){if(me.callback===null)r(h);else if(me.startTime<=Z)r(h),me.sortIndex=me.expirationTime,e(d,me);else break;me=t(h)}}function z(Z){if(R=!1,M(Z),!T)if(t(d)!==null)T=!0,ge($);else{var me=t(h);me!==null&&oe(z,me.startTime-Z)}}function $(Z,me){T=!1,R&&(R=!1,V(A),A=-1),I=!0;var fe=_;try{for(M(me),g=t(d);g!==null&&(!(g.expirationTime>me)||Z&&!x());){var H=g.callback;if(typeof H=="function"){g.callback=null,_=g.priorityLevel;var ie=H(g.expirationTime<=me);me=n.unstable_now(),typeof ie=="function"?g.callback=ie:g===t(d)&&r(d),M(me)}else r(d);g=t(d)}if(g!==null)var Te=!0;else{var ke=t(h);ke!==null&&oe(z,ke.startTime-me),Te=!1}return Te}finally{g=null,_=fe,I=!1}}var W=!1,D=null,A=-1,C=5,E=-1;function x(){return!(n.unstable_now()-E<C)}function k(){if(D!==null){var Z=n.unstable_now();E=Z;var me=!0;try{me=D(!0,Z)}finally{me?O():(W=!1,D=null)}}else W=!1}var O;if(typeof L=="function")O=function(){L(k)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,U=ee.port2;ee.port1.onmessage=k,O=function(){U.postMessage(null)}}else O=function(){b(k,0)};function ge(Z){D=Z,W||(W=!0,O())}function oe(Z,me){A=b(function(){Z(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Z){Z.callback=null},n.unstable_continueExecution=function(){T||I||(T=!0,ge($))},n.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Z?Math.floor(1e3/Z):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(Z){switch(_){case 1:case 2:case 3:var me=3;break;default:me=_}var fe=_;_=me;try{return Z()}finally{_=fe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Z,me){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var fe=_;_=Z;try{return me()}finally{_=fe}},n.unstable_scheduleCallback=function(Z,me,fe){var H=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?H+fe:H):fe=H,Z){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=fe+ie,Z={id:m++,callback:me,priorityLevel:Z,startTime:fe,expirationTime:ie,sortIndex:-1},fe>H?(Z.sortIndex=fe,e(h,Z),t(d)===null&&Z===t(h)&&(R?(V(A),A=-1):R=!0,oe(z,fe-H))):(Z.sortIndex=ie,e(d,Z),T||I||(T=!0,ge($))),Z},n.unstable_shouldYield=x,n.unstable_wrapCallback=function(Z){var me=_;return function(){var fe=_;_=me;try{return Z.apply(this,arguments)}finally{_=fe}}}}(tv)),tv}var AS;function sL(){return AS||(AS=1,ev.exports=iL()),ev.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bS;function oL(){if(bS)return Yn;bS=1;var n=Uo(),e=sL();function t(o){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+o,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(o,a){l(o,a),l(o+"Capture",a)}function l(o,a){for(i[o]=a,o=0;o<a.length;o++)r.add(a[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function _(o){return d.call(g,o)?!0:d.call(m,o)?!1:h.test(o)?g[o]=!0:(m[o]=!0,!1)}function I(o,a,c,p){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function T(o,a,c,p){if(a===null||typeof a>"u"||I(o,a,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function R(o,a,c,p,y,w,P){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=y,this.mustUseProperty=c,this.propertyName=o,this.type=a,this.sanitizeURL=w,this.removeEmptyString=P}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){b[o]=new R(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var a=o[0];b[a]=new R(a,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){b[o]=new R(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){b[o]=new R(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){b[o]=new R(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){b[o]=new R(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){b[o]=new R(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){b[o]=new R(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){b[o]=new R(o,5,!1,o.toLowerCase(),null,!1,!1)});var V=/[\-:]([a-z])/g;function L(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var a=o.replace(V,L);b[a]=new R(a,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var a=o.replace(V,L);b[a]=new R(a,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var a=o.replace(V,L);b[a]=new R(a,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){b[o]=new R(o,1,!1,o.toLowerCase(),null,!1,!1)}),b.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){b[o]=new R(o,1,!1,o.toLowerCase(),null,!0,!0)});function M(o,a,c,p){var y=b.hasOwnProperty(a)?b[a]:null;(y!==null?y.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(T(a,c,y,p)&&(c=null),p||y===null?_(a)&&(c===null?o.removeAttribute(a):o.setAttribute(a,""+c)):y.mustUseProperty?o[y.propertyName]=c===null?y.type===3?!1:"":c:(a=y.attributeName,p=y.attributeNamespace,c===null?o.removeAttribute(a):(y=y.type,c=y===3||y===4&&c===!0?"":""+c,p?o.setAttributeNS(p,a,c):o.setAttribute(a,c))))}var z=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),W=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),x=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),Z=Symbol.iterator;function me(o){return o===null||typeof o!="object"?null:(o=Z&&o[Z]||o["@@iterator"],typeof o=="function"?o:null)}var fe=Object.assign,H;function ie(o){if(H===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);H=a&&a[1]||""}return`
`+H+o}var Te=!1;function ke(o,a){if(!o||Te)return"";Te=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(X){var p=X}Reflect.construct(o,[],a)}else{try{a.call()}catch(X){p=X}o.call(a.prototype)}else{try{throw Error()}catch(X){p=X}o()}}catch(X){if(X&&p&&typeof X.stack=="string"){for(var y=X.stack.split(`
`),w=p.stack.split(`
`),P=y.length-1,F=w.length-1;1<=P&&0<=F&&y[P]!==w[F];)F--;for(;1<=P&&0<=F;P--,F--)if(y[P]!==w[F]){if(P!==1||F!==1)do if(P--,F--,0>F||y[P]!==w[F]){var j=`
`+y[P].replace(" at new "," at ");return o.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",o.displayName)),j}while(1<=P&&0<=F);break}}}finally{Te=!1,Error.prepareStackTrace=c}return(o=o?o.displayName||o.name:"")?ie(o):""}function Ve(o){switch(o.tag){case 5:return ie(o.type);case 16:return ie("Lazy");case 13:return ie("Suspense");case 19:return ie("SuspenseList");case 0:case 2:case 15:return o=ke(o.type,!1),o;case 11:return o=ke(o.type.render,!1),o;case 1:return o=ke(o.type,!0),o;default:return""}}function $e(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case D:return"Fragment";case W:return"Portal";case C:return"Profiler";case A:return"StrictMode";case O:return"Suspense";case ee:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case x:return(o.displayName||"Context")+".Consumer";case E:return(o._context.displayName||"Context")+".Provider";case k:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case U:return a=o.displayName||null,a!==null?a:$e(o.type)||"Memo";case ge:a=o._payload,o=o._init;try{return $e(o(a))}catch{}}return null}function Ge(o){var a=o.type;switch(o.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=a.render,o=o.displayName||o.name||"",a.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $e(a);case 8:return a===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function qe(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function nt(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function vt(o){var a=nt(o)?"checked":"value",c=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),p=""+o[a];if(!o.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,w=c.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return y.call(this)},set:function(P){p=""+P,w.call(this,P)}}),Object.defineProperty(o,a,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(P){p=""+P},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function sn(o){o._valueTracker||(o._valueTracker=vt(o))}function rt(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var c=a.getValue(),p="";return o&&(p=nt(o)?o.checked?"true":"false":o.value),o=p,o!==c?(a.setValue(o),!0):!1}function mt(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Yt(o,a){var c=a.checked;return fe({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??o._wrapperState.initialChecked})}function $r(o,a){var c=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;c=qe(a.value!=null?a.value:c),o._wrapperState={initialChecked:p,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Ir(o,a){a=a.checked,a!=null&&M(o,"checked",a,!1)}function Tr(o,a){Ir(o,a);var c=qe(a.value),p=a.type;if(c!=null)p==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+c):o.value!==""+c&&(o.value=""+c);else if(p==="submit"||p==="reset"){o.removeAttribute("value");return}a.hasOwnProperty("value")?Bn(o,a.type,c):a.hasOwnProperty("defaultValue")&&Bn(o,a.type,qe(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(o.defaultChecked=!!a.defaultChecked)}function jn(o,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+o._wrapperState.initialValue,c||a===o.value||(o.value=a),o.defaultValue=a}c=o.name,c!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,c!==""&&(o.name=c)}function Bn(o,a,c){(a!=="number"||mt(o.ownerDocument)!==o)&&(c==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+c&&(o.defaultValue=""+c))}var rr=Array.isArray;function Yi(o,a,c,p){if(o=o.options,a){a={};for(var y=0;y<c.length;y++)a["$"+c[y]]=!0;for(c=0;c<o.length;c++)y=a.hasOwnProperty("$"+o[c].value),o[c].selected!==y&&(o[c].selected=y),y&&p&&(o[c].defaultSelected=!0)}else{for(c=""+qe(c),a=null,y=0;y<o.length;y++){if(o[y].value===c){o[y].selected=!0,p&&(o[y].defaultSelected=!0);return}a!==null||o[y].disabled||(a=o[y])}a!==null&&(a.selected=!0)}}function _c(o,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return fe({},a,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function ul(o,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(rr(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}o._wrapperState={initialValue:qe(c)}}function cl(o,a){var c=qe(a.value),p=qe(a.defaultValue);c!=null&&(c=""+c,c!==o.value&&(o.value=c),a.defaultValue==null&&o.defaultValue!==c&&(o.defaultValue=c)),p!=null&&(o.defaultValue=""+p)}function vc(o){var a=o.textContent;a===o._wrapperState.initialValue&&a!==""&&a!==null&&(o.value=a)}function Jt(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xt(o,a){return o==null||o==="http://www.w3.org/1999/xhtml"?Jt(a):o==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Ji,wc=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,p,y){MSApp.execUnsafeLocalFunction(function(){return o(a,c,p,y)})}:o}(function(o,a){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=a;else{for(Ji=Ji||document.createElement("div"),Ji.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Ji.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;a.firstChild;)o.appendChild(a.firstChild)}});function Ms(o,a){if(a){var c=o.firstChild;if(c&&c===o.lastChild&&c.nodeType===3){c.nodeValue=a;return}}o.textContent=a}var Go={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qo=["Webkit","ms","Moz","O"];Object.keys(Go).forEach(function(o){Qo.forEach(function(a){a=a+o.charAt(0).toUpperCase()+o.substring(1),Go[a]=Go[o]})});function Ec(o,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||Go.hasOwnProperty(o)&&Go[o]?(""+a).trim():a+"px"}function Ic(o,a){o=o.style;for(var c in a)if(a.hasOwnProperty(c)){var p=c.indexOf("--")===0,y=Ec(c,a[c],p);c==="float"&&(c="cssFloat"),p?o.setProperty(c,y):o[c]=y}}var Tc=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sc(o,a){if(a){if(Tc[o]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Rc(o,a){if(o.indexOf("-")===-1)return typeof a.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yo=null;function dl(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var hl=null,Sr=null,hi=null;function fl(o){if(o=Qc(o)){if(typeof hl!="function")throw Error(t(280));var a=o.stateNode;a&&(a=Kf(a),hl(o.stateNode,o.type,a))}}function fi(o){Sr?hi?hi.push(o):hi=[o]:Sr=o}function Ac(){if(Sr){var o=Sr,a=hi;if(hi=Sr=null,fl(o),a)for(o=0;o<a.length;o++)fl(a[o])}}function Jo(o,a){return o(a)}function bc(){}var Xi=!1;function Pc(o,a,c){if(Xi)return o(a,c);Xi=!0;try{return Jo(o,a,c)}finally{Xi=!1,(Sr!==null||hi!==null)&&(bc(),Ac())}}function Ut(o,a){var c=o.stateNode;if(c===null)return null;var p=Kf(c);if(p===null)return null;c=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var pl=!1;if(u)try{var jr={};Object.defineProperty(jr,"passive",{get:function(){pl=!0}}),window.addEventListener("test",jr,jr),window.removeEventListener("test",jr,jr)}catch{pl=!1}function Xo(o,a,c,p,y,w,P,F,j){var X=Array.prototype.slice.call(arguments,3);try{a.apply(c,X)}catch(ce){this.onError(ce)}}var Zo=!1,ml=null,Br=!1,Cc=null,Ry={onError:function(o){Zo=!0,ml=o}};function gl(o,a,c,p,y,w,P,F,j){Zo=!1,ml=null,Xo.apply(Ry,arguments)}function _f(o,a,c,p,y,w,P,F,j){if(gl.apply(this,arguments),Zo){if(Zo){var X=ml;Zo=!1,ml=null}else throw Error(t(198));Br||(Br=!0,Cc=X)}}function zr(o){var a=o,c=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,a.flags&4098&&(c=a.return),o=a.return;while(o)}return a.tag===3?c:null}function ea(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function Wr(o){if(zr(o)!==o)throw Error(t(188))}function vf(o){var a=o.alternate;if(!a){if(a=zr(o),a===null)throw Error(t(188));return a!==o?null:o}for(var c=o,p=a;;){var y=c.return;if(y===null)break;var w=y.alternate;if(w===null){if(p=y.return,p!==null){c=p;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===c)return Wr(y),o;if(w===p)return Wr(y),a;w=w.sibling}throw Error(t(188))}if(c.return!==p.return)c=y,p=w;else{for(var P=!1,F=y.child;F;){if(F===c){P=!0,c=y,p=w;break}if(F===p){P=!0,p=y,c=w;break}F=F.sibling}if(!P){for(F=w.child;F;){if(F===c){P=!0,c=w,p=y;break}if(F===p){P=!0,p=w,c=y;break}F=F.sibling}if(!P)throw Error(t(189))}}if(c.alternate!==p)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?o:a}function kc(o){return o=vf(o),o!==null?yl(o):null}function yl(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var a=yl(o);if(a!==null)return a;o=o.sibling}return null}var _l=e.unstable_scheduleCallback,xc=e.unstable_cancelCallback,wf=e.unstable_shouldYield,Ay=e.unstable_requestPaint,ht=e.unstable_now,Ef=e.unstable_getCurrentPriorityLevel,ta=e.unstable_ImmediatePriority,Fs=e.unstable_UserBlockingPriority,Rr=e.unstable_NormalPriority,Oc=e.unstable_LowPriority,If=e.unstable_IdlePriority,na=null,ir=null;function Tf(o){if(ir&&typeof ir.onCommitFiberRoot=="function")try{ir.onCommitFiberRoot(na,o,void 0,(o.current.flags&128)===128)}catch{}}var Nn=Math.clz32?Math.clz32:Rf,Nc=Math.log,Sf=Math.LN2;function Rf(o){return o>>>=0,o===0?32:31-(Nc(o)/Sf|0)|0}var vl=64,wl=4194304;function Us(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function ra(o,a){var c=o.pendingLanes;if(c===0)return 0;var p=0,y=o.suspendedLanes,w=o.pingedLanes,P=c&268435455;if(P!==0){var F=P&~y;F!==0?p=Us(F):(w&=P,w!==0&&(p=Us(w)))}else P=c&~y,P!==0?p=Us(P):w!==0&&(p=Us(w));if(p===0)return 0;if(a!==0&&a!==p&&!(a&y)&&(y=p&-p,w=a&-a,y>=w||y===16&&(w&4194240)!==0))return a;if(p&4&&(p|=c&16),a=o.entangledLanes,a!==0)for(o=o.entanglements,a&=p;0<a;)c=31-Nn(a),y=1<<c,p|=o[c],a&=~y;return p}function by(o,a){switch(o){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zi(o,a){for(var c=o.suspendedLanes,p=o.pingedLanes,y=o.expirationTimes,w=o.pendingLanes;0<w;){var P=31-Nn(w),F=1<<P,j=y[P];j===-1?(!(F&c)||F&p)&&(y[P]=by(F,a)):j<=a&&(o.expiredLanes|=F),w&=~F}}function sr(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function ia(){var o=vl;return vl<<=1,!(vl&4194240)&&(vl=64),o}function $s(o){for(var a=[],c=0;31>c;c++)a.push(o);return a}function js(o,a,c){o.pendingLanes|=a,a!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,a=31-Nn(a),o[a]=c}function lt(o,a){var c=o.pendingLanes&~a;o.pendingLanes=a,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=a,o.mutableReadLanes&=a,o.entangledLanes&=a,a=o.entanglements;var p=o.eventTimes;for(o=o.expirationTimes;0<c;){var y=31-Nn(c),w=1<<y;a[y]=0,p[y]=-1,o[y]=-1,c&=~w}}function Bs(o,a){var c=o.entangledLanes|=a;for(o=o.entanglements;c;){var p=31-Nn(c),y=1<<p;y&a|o[p]&a&&(o[p]|=a),c&=~y}}var He=0;function zs(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var Af,El,bf,Pf,Cf,Dc=!1,pi=[],pn=null,qr=null,Hr=null,Ws=new Map,Ar=new Map,mi=[],Py="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kf(o,a){switch(o){case"focusin":case"focusout":pn=null;break;case"dragenter":case"dragleave":qr=null;break;case"mouseover":case"mouseout":Hr=null;break;case"pointerover":case"pointerout":Ws.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ar.delete(a.pointerId)}}function zn(o,a,c,p,y,w){return o===null||o.nativeEvent!==w?(o={blockedOn:a,domEventName:c,eventSystemFlags:p,nativeEvent:w,targetContainers:[y]},a!==null&&(a=Qc(a),a!==null&&El(a)),o):(o.eventSystemFlags|=p,a=o.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),o)}function Cy(o,a,c,p,y){switch(a){case"focusin":return pn=zn(pn,o,a,c,p,y),!0;case"dragenter":return qr=zn(qr,o,a,c,p,y),!0;case"mouseover":return Hr=zn(Hr,o,a,c,p,y),!0;case"pointerover":var w=y.pointerId;return Ws.set(w,zn(Ws.get(w)||null,o,a,c,p,y)),!0;case"gotpointercapture":return w=y.pointerId,Ar.set(w,zn(Ar.get(w)||null,o,a,c,p,y)),!0}return!1}function xf(o){var a=ua(o.target);if(a!==null){var c=zr(a);if(c!==null){if(a=c.tag,a===13){if(a=ea(c),a!==null){o.blockedOn=a,Cf(o.priority,function(){bf(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){o.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}o.blockedOn=null}function es(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var c=Il(o.domEventName,o.eventSystemFlags,a[0],o.nativeEvent);if(c===null){c=o.nativeEvent;var p=new c.constructor(c.type,c);Yo=p,c.target.dispatchEvent(p),Yo=null}else return a=Qc(c),a!==null&&El(a),o.blockedOn=c,!1;a.shift()}return!0}function sa(o,a,c){es(o)&&c.delete(a)}function Of(){Dc=!1,pn!==null&&es(pn)&&(pn=null),qr!==null&&es(qr)&&(qr=null),Hr!==null&&es(Hr)&&(Hr=null),Ws.forEach(sa),Ar.forEach(sa)}function Kr(o,a){o.blockedOn===a&&(o.blockedOn=null,Dc||(Dc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Of)))}function Gr(o){function a(y){return Kr(y,o)}if(0<pi.length){Kr(pi[0],o);for(var c=1;c<pi.length;c++){var p=pi[c];p.blockedOn===o&&(p.blockedOn=null)}}for(pn!==null&&Kr(pn,o),qr!==null&&Kr(qr,o),Hr!==null&&Kr(Hr,o),Ws.forEach(a),Ar.forEach(a),c=0;c<mi.length;c++)p=mi[c],p.blockedOn===o&&(p.blockedOn=null);for(;0<mi.length&&(c=mi[0],c.blockedOn===null);)xf(c),c.blockedOn===null&&mi.shift()}var ts=z.ReactCurrentBatchConfig,qs=!0;function wt(o,a,c,p){var y=He,w=ts.transition;ts.transition=null;try{He=1,Lc(o,a,c,p)}finally{He=y,ts.transition=w}}function ky(o,a,c,p){var y=He,w=ts.transition;ts.transition=null;try{He=4,Lc(o,a,c,p)}finally{He=y,ts.transition=w}}function Lc(o,a,c,p){if(qs){var y=Il(o,a,c,p);if(y===null)jy(o,a,p,oa,c),kf(o,p);else if(Cy(y,o,a,c,p))p.stopPropagation();else if(kf(o,p),a&4&&-1<Py.indexOf(o)){for(;y!==null;){var w=Qc(y);if(w!==null&&Af(w),w=Il(o,a,c,p),w===null&&jy(o,a,p,oa,c),w===y)break;y=w}y!==null&&p.stopPropagation()}else jy(o,a,p,null,c)}}var oa=null;function Il(o,a,c,p){if(oa=null,o=dl(p),o=ua(o),o!==null)if(a=zr(o),a===null)o=null;else if(c=a.tag,c===13){if(o=ea(a),o!==null)return o;o=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null);return oa=o,null}function Vc(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ef()){case ta:return 1;case Fs:return 4;case Rr:case Oc:return 16;case If:return 536870912;default:return 16}default:return 16}}var or=null,Tl=null,Wn=null;function Mc(){if(Wn)return Wn;var o,a=Tl,c=a.length,p,y="value"in or?or.value:or.textContent,w=y.length;for(o=0;o<c&&a[o]===y[o];o++);var P=c-o;for(p=1;p<=P&&a[c-p]===y[w-p];p++);return Wn=y.slice(o,1<p?1-p:void 0)}function Sl(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function gi(){return!0}function Fc(){return!1}function mn(o){function a(c,p,y,w,P){this._reactName=c,this._targetInst=y,this.type=p,this.nativeEvent=w,this.target=P,this.currentTarget=null;for(var F in o)o.hasOwnProperty(F)&&(c=o[F],this[F]=c?c(w):w[F]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?gi:Fc,this.isPropagationStopped=Fc,this}return fe(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=gi)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=gi)},persist:function(){},isPersistent:gi}),a}var Qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rl=mn(Qr),yi=fe({},Qr,{view:0,detail:0}),xy=mn(yi),Al,ns,Hs,aa=fe({},yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_i,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Hs&&(Hs&&o.type==="mousemove"?(Al=o.screenX-Hs.screenX,ns=o.screenY-Hs.screenY):ns=Al=0,Hs=o),Al)},movementY:function(o){return"movementY"in o?o.movementY:ns}}),bl=mn(aa),Uc=fe({},aa,{dataTransfer:0}),Nf=mn(Uc),Pl=fe({},yi,{relatedTarget:0}),Cl=mn(Pl),Df=fe({},Qr,{animationName:0,elapsedTime:0,pseudoElement:0}),rs=mn(Df),Lf=fe({},Qr,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Vf=mn(Lf),Mf=fe({},Qr,{data:0}),$c=mn(Mf),kl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ff={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uf(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=Ff[o])?!!a[o]:!1}function _i(){return Uf}var f=fe({},yi,{key:function(o){if(o.key){var a=kl[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=Sl(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Dn[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_i,charCode:function(o){return o.type==="keypress"?Sl(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Sl(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),v=mn(f),S=fe({},aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),N=mn(S),Q=fe({},yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_i}),ne=mn(Q),ye=fe({},Qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),it=mn(ye),Zt=fe({},aa,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Qe=mn(Zt),on=[9,13,27,32],qt=u&&"CompositionEvent"in window,br=null;u&&"documentMode"in document&&(br=document.documentMode);var ar=u&&"TextEvent"in window&&!br,la=u&&(!qt||br&&8<br&&11>=br),xl=" ",mI=!1;function gI(o,a){switch(o){case"keyup":return on.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yI(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Ol=!1;function JN(o,a){switch(o){case"compositionend":return yI(a);case"keypress":return a.which!==32?null:(mI=!0,xl);case"textInput":return o=a.data,o===xl&&mI?null:o;default:return null}}function XN(o,a){if(Ol)return o==="compositionend"||!qt&&gI(o,a)?(o=Mc(),Wn=Tl=or=null,Ol=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return la&&a.locale!=="ko"?null:a.data;default:return null}}var ZN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _I(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!ZN[o.type]:a==="textarea"}function vI(o,a,c,p){fi(p),a=Wf(a,"onChange"),0<a.length&&(c=new Rl("onChange","change",null,c,p),o.push({event:c,listeners:a}))}var jc=null,Bc=null;function eD(o){MI(o,0)}function $f(o){var a=Ml(o);if(rt(a))return o}function tD(o,a){if(o==="change")return a}var wI=!1;if(u){var Oy;if(u){var Ny="oninput"in document;if(!Ny){var EI=document.createElement("div");EI.setAttribute("oninput","return;"),Ny=typeof EI.oninput=="function"}Oy=Ny}else Oy=!1;wI=Oy&&(!document.documentMode||9<document.documentMode)}function II(){jc&&(jc.detachEvent("onpropertychange",TI),Bc=jc=null)}function TI(o){if(o.propertyName==="value"&&$f(Bc)){var a=[];vI(a,Bc,o,dl(o)),Pc(eD,a)}}function nD(o,a,c){o==="focusin"?(II(),jc=a,Bc=c,jc.attachEvent("onpropertychange",TI)):o==="focusout"&&II()}function rD(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return $f(Bc)}function iD(o,a){if(o==="click")return $f(a)}function sD(o,a){if(o==="input"||o==="change")return $f(a)}function oD(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var Yr=typeof Object.is=="function"?Object.is:oD;function zc(o,a){if(Yr(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var c=Object.keys(o),p=Object.keys(a);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var y=c[p];if(!d.call(a,y)||!Yr(o[y],a[y]))return!1}return!0}function SI(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function RI(o,a){var c=SI(o);o=0;for(var p;c;){if(c.nodeType===3){if(p=o+c.textContent.length,o<=a&&p>=a)return{node:c,offset:a-o};o=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=SI(c)}}function AI(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?AI(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function bI(){for(var o=window,a=mt();a instanceof o.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)o=a.contentWindow;else break;a=mt(o.document)}return a}function Dy(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}function aD(o){var a=bI(),c=o.focusedElem,p=o.selectionRange;if(a!==c&&c&&c.ownerDocument&&AI(c.ownerDocument.documentElement,c)){if(p!==null&&Dy(c)){if(a=p.start,o=p.end,o===void 0&&(o=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(o,c.value.length);else if(o=(a=c.ownerDocument||document)&&a.defaultView||window,o.getSelection){o=o.getSelection();var y=c.textContent.length,w=Math.min(p.start,y);p=p.end===void 0?w:Math.min(p.end,y),!o.extend&&w>p&&(y=p,p=w,w=y),y=RI(c,w);var P=RI(c,p);y&&P&&(o.rangeCount!==1||o.anchorNode!==y.node||o.anchorOffset!==y.offset||o.focusNode!==P.node||o.focusOffset!==P.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),o.removeAllRanges(),w>p?(o.addRange(a),o.extend(P.node,P.offset)):(a.setEnd(P.node,P.offset),o.addRange(a)))}}for(a=[],o=c;o=o.parentNode;)o.nodeType===1&&a.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)o=a[c],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var lD=u&&"documentMode"in document&&11>=document.documentMode,Nl=null,Ly=null,Wc=null,Vy=!1;function PI(o,a,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Vy||Nl==null||Nl!==mt(p)||(p=Nl,"selectionStart"in p&&Dy(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Wc&&zc(Wc,p)||(Wc=p,p=Wf(Ly,"onSelect"),0<p.length&&(a=new Rl("onSelect","select",null,a,c),o.push({event:a,listeners:p}),a.target=Nl)))}function jf(o,a){var c={};return c[o.toLowerCase()]=a.toLowerCase(),c["Webkit"+o]="webkit"+a,c["Moz"+o]="moz"+a,c}var Dl={animationend:jf("Animation","AnimationEnd"),animationiteration:jf("Animation","AnimationIteration"),animationstart:jf("Animation","AnimationStart"),transitionend:jf("Transition","TransitionEnd")},My={},CI={};u&&(CI=document.createElement("div").style,"AnimationEvent"in window||(delete Dl.animationend.animation,delete Dl.animationiteration.animation,delete Dl.animationstart.animation),"TransitionEvent"in window||delete Dl.transitionend.transition);function Bf(o){if(My[o])return My[o];if(!Dl[o])return o;var a=Dl[o],c;for(c in a)if(a.hasOwnProperty(c)&&c in CI)return My[o]=a[c];return o}var kI=Bf("animationend"),xI=Bf("animationiteration"),OI=Bf("animationstart"),NI=Bf("transitionend"),DI=new Map,LI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ks(o,a){DI.set(o,a),s(a,[o])}for(var Fy=0;Fy<LI.length;Fy++){var Uy=LI[Fy],uD=Uy.toLowerCase(),cD=Uy[0].toUpperCase()+Uy.slice(1);Ks(uD,"on"+cD)}Ks(kI,"onAnimationEnd"),Ks(xI,"onAnimationIteration"),Ks(OI,"onAnimationStart"),Ks("dblclick","onDoubleClick"),Ks("focusin","onFocus"),Ks("focusout","onBlur"),Ks(NI,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dD=new Set("cancel close invalid load scroll toggle".split(" ").concat(qc));function VI(o,a,c){var p=o.type||"unknown-event";o.currentTarget=c,_f(p,a,void 0,o),o.currentTarget=null}function MI(o,a){a=(a&4)!==0;for(var c=0;c<o.length;c++){var p=o[c],y=p.event;p=p.listeners;e:{var w=void 0;if(a)for(var P=p.length-1;0<=P;P--){var F=p[P],j=F.instance,X=F.currentTarget;if(F=F.listener,j!==w&&y.isPropagationStopped())break e;VI(y,F,X),w=j}else for(P=0;P<p.length;P++){if(F=p[P],j=F.instance,X=F.currentTarget,F=F.listener,j!==w&&y.isPropagationStopped())break e;VI(y,F,X),w=j}}}if(Br)throw o=Cc,Br=!1,Cc=null,o}function gt(o,a){var c=a[Ky];c===void 0&&(c=a[Ky]=new Set);var p=o+"__bubble";c.has(p)||(FI(a,o,2,!1),c.add(p))}function $y(o,a,c){var p=0;a&&(p|=4),FI(c,o,p,a)}var zf="_reactListening"+Math.random().toString(36).slice(2);function Hc(o){if(!o[zf]){o[zf]=!0,r.forEach(function(c){c!=="selectionchange"&&(dD.has(c)||$y(c,!1,o),$y(c,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[zf]||(a[zf]=!0,$y("selectionchange",!1,a))}}function FI(o,a,c,p){switch(Vc(a)){case 1:var y=wt;break;case 4:y=ky;break;default:y=Lc}c=y.bind(null,a,c,o),y=void 0,!pl||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),p?y!==void 0?o.addEventListener(a,c,{capture:!0,passive:y}):o.addEventListener(a,c,!0):y!==void 0?o.addEventListener(a,c,{passive:y}):o.addEventListener(a,c,!1)}function jy(o,a,c,p,y){var w=p;if(!(a&1)&&!(a&2)&&p!==null)e:for(;;){if(p===null)return;var P=p.tag;if(P===3||P===4){var F=p.stateNode.containerInfo;if(F===y||F.nodeType===8&&F.parentNode===y)break;if(P===4)for(P=p.return;P!==null;){var j=P.tag;if((j===3||j===4)&&(j=P.stateNode.containerInfo,j===y||j.nodeType===8&&j.parentNode===y))return;P=P.return}for(;F!==null;){if(P=ua(F),P===null)return;if(j=P.tag,j===5||j===6){p=w=P;continue e}F=F.parentNode}}p=p.return}Pc(function(){var X=w,ce=dl(c),he=[];e:{var le=DI.get(o);if(le!==void 0){var we=Rl,Se=o;switch(o){case"keypress":if(Sl(c)===0)break e;case"keydown":case"keyup":we=v;break;case"focusin":Se="focus",we=Cl;break;case"focusout":Se="blur",we=Cl;break;case"beforeblur":case"afterblur":we=Cl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=bl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=Nf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=ne;break;case kI:case xI:case OI:we=rs;break;case NI:we=it;break;case"scroll":we=xy;break;case"wheel":we=Qe;break;case"copy":case"cut":case"paste":we=Vf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=N}var Ae=(a&4)!==0,$t=!Ae&&o==="scroll",Y=Ae?le!==null?le+"Capture":null:le;Ae=[];for(var q=X,J;q!==null;){J=q;var pe=J.stateNode;if(J.tag===5&&pe!==null&&(J=pe,Y!==null&&(pe=Ut(q,Y),pe!=null&&Ae.push(Kc(q,pe,J)))),$t)break;q=q.return}0<Ae.length&&(le=new we(le,Se,null,c,ce),he.push({event:le,listeners:Ae}))}}if(!(a&7)){e:{if(le=o==="mouseover"||o==="pointerover",we=o==="mouseout"||o==="pointerout",le&&c!==Yo&&(Se=c.relatedTarget||c.fromElement)&&(ua(Se)||Se[is]))break e;if((we||le)&&(le=ce.window===ce?ce:(le=ce.ownerDocument)?le.defaultView||le.parentWindow:window,we?(Se=c.relatedTarget||c.toElement,we=X,Se=Se?ua(Se):null,Se!==null&&($t=zr(Se),Se!==$t||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(we=null,Se=X),we!==Se)){if(Ae=bl,pe="onMouseLeave",Y="onMouseEnter",q="mouse",(o==="pointerout"||o==="pointerover")&&(Ae=N,pe="onPointerLeave",Y="onPointerEnter",q="pointer"),$t=we==null?le:Ml(we),J=Se==null?le:Ml(Se),le=new Ae(pe,q+"leave",we,c,ce),le.target=$t,le.relatedTarget=J,pe=null,ua(ce)===X&&(Ae=new Ae(Y,q+"enter",Se,c,ce),Ae.target=J,Ae.relatedTarget=$t,pe=Ae),$t=pe,we&&Se)t:{for(Ae=we,Y=Se,q=0,J=Ae;J;J=Ll(J))q++;for(J=0,pe=Y;pe;pe=Ll(pe))J++;for(;0<q-J;)Ae=Ll(Ae),q--;for(;0<J-q;)Y=Ll(Y),J--;for(;q--;){if(Ae===Y||Y!==null&&Ae===Y.alternate)break t;Ae=Ll(Ae),Y=Ll(Y)}Ae=null}else Ae=null;we!==null&&UI(he,le,we,Ae,!1),Se!==null&&$t!==null&&UI(he,$t,Se,Ae,!0)}}e:{if(le=X?Ml(X):window,we=le.nodeName&&le.nodeName.toLowerCase(),we==="select"||we==="input"&&le.type==="file")var be=tD;else if(_I(le))if(wI)be=sD;else{be=rD;var xe=nD}else(we=le.nodeName)&&we.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(be=iD);if(be&&(be=be(o,X))){vI(he,be,c,ce);break e}xe&&xe(o,le,X),o==="focusout"&&(xe=le._wrapperState)&&xe.controlled&&le.type==="number"&&Bn(le,"number",le.value)}switch(xe=X?Ml(X):window,o){case"focusin":(_I(xe)||xe.contentEditable==="true")&&(Nl=xe,Ly=X,Wc=null);break;case"focusout":Wc=Ly=Nl=null;break;case"mousedown":Vy=!0;break;case"contextmenu":case"mouseup":case"dragend":Vy=!1,PI(he,c,ce);break;case"selectionchange":if(lD)break;case"keydown":case"keyup":PI(he,c,ce)}var Oe;if(qt)e:{switch(o){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else Ol?gI(o,c)&&(De="onCompositionEnd"):o==="keydown"&&c.keyCode===229&&(De="onCompositionStart");De&&(la&&c.locale!=="ko"&&(Ol||De!=="onCompositionStart"?De==="onCompositionEnd"&&Ol&&(Oe=Mc()):(or=ce,Tl="value"in or?or.value:or.textContent,Ol=!0)),xe=Wf(X,De),0<xe.length&&(De=new $c(De,o,null,c,ce),he.push({event:De,listeners:xe}),Oe?De.data=Oe:(Oe=yI(c),Oe!==null&&(De.data=Oe)))),(Oe=ar?JN(o,c):XN(o,c))&&(X=Wf(X,"onBeforeInput"),0<X.length&&(ce=new $c("onBeforeInput","beforeinput",null,c,ce),he.push({event:ce,listeners:X}),ce.data=Oe))}MI(he,a)})}function Kc(o,a,c){return{instance:o,listener:a,currentTarget:c}}function Wf(o,a){for(var c=a+"Capture",p=[];o!==null;){var y=o,w=y.stateNode;y.tag===5&&w!==null&&(y=w,w=Ut(o,c),w!=null&&p.unshift(Kc(o,w,y)),w=Ut(o,a),w!=null&&p.push(Kc(o,w,y))),o=o.return}return p}function Ll(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function UI(o,a,c,p,y){for(var w=a._reactName,P=[];c!==null&&c!==p;){var F=c,j=F.alternate,X=F.stateNode;if(j!==null&&j===p)break;F.tag===5&&X!==null&&(F=X,y?(j=Ut(c,w),j!=null&&P.unshift(Kc(c,j,F))):y||(j=Ut(c,w),j!=null&&P.push(Kc(c,j,F)))),c=c.return}P.length!==0&&o.push({event:a,listeners:P})}var hD=/\r\n?/g,fD=/\u0000|\uFFFD/g;function $I(o){return(typeof o=="string"?o:""+o).replace(hD,`
`).replace(fD,"")}function qf(o,a,c){if(a=$I(a),$I(o)!==a&&c)throw Error(t(425))}function Hf(){}var By=null,zy=null;function Wy(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var qy=typeof setTimeout=="function"?setTimeout:void 0,pD=typeof clearTimeout=="function"?clearTimeout:void 0,jI=typeof Promise=="function"?Promise:void 0,mD=typeof queueMicrotask=="function"?queueMicrotask:typeof jI<"u"?function(o){return jI.resolve(null).then(o).catch(gD)}:qy;function gD(o){setTimeout(function(){throw o})}function Hy(o,a){var c=a,p=0;do{var y=c.nextSibling;if(o.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(p===0){o.removeChild(y),Gr(a);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=y}while(c);Gr(a)}function Gs(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return o}function BI(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var c=o.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return o;a--}else c==="/$"&&a++}o=o.previousSibling}return null}var Vl=Math.random().toString(36).slice(2),vi="__reactFiber$"+Vl,Gc="__reactProps$"+Vl,is="__reactContainer$"+Vl,Ky="__reactEvents$"+Vl,yD="__reactListeners$"+Vl,_D="__reactHandles$"+Vl;function ua(o){var a=o[vi];if(a)return a;for(var c=o.parentNode;c;){if(a=c[is]||c[vi]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(o=BI(o);o!==null;){if(c=o[vi])return c;o=BI(o)}return a}o=c,c=o.parentNode}return null}function Qc(o){return o=o[vi]||o[is],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Ml(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function Kf(o){return o[Gc]||null}var Gy=[],Fl=-1;function Qs(o){return{current:o}}function yt(o){0>Fl||(o.current=Gy[Fl],Gy[Fl]=null,Fl--)}function ft(o,a){Fl++,Gy[Fl]=o.current,o.current=a}var Ys={},Tn=Qs(Ys),qn=Qs(!1),ca=Ys;function Ul(o,a){var c=o.type.contextTypes;if(!c)return Ys;var p=o.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var y={},w;for(w in c)y[w]=a[w];return p&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=a,o.__reactInternalMemoizedMaskedChildContext=y),y}function Hn(o){return o=o.childContextTypes,o!=null}function Gf(){yt(qn),yt(Tn)}function zI(o,a,c){if(Tn.current!==Ys)throw Error(t(168));ft(Tn,a),ft(qn,c)}function WI(o,a,c){var p=o.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var y in p)if(!(y in a))throw Error(t(108,Ge(o)||"Unknown",y));return fe({},c,p)}function Qf(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Ys,ca=Tn.current,ft(Tn,o),ft(qn,qn.current),!0}function qI(o,a,c){var p=o.stateNode;if(!p)throw Error(t(169));c?(o=WI(o,a,ca),p.__reactInternalMemoizedMergedChildContext=o,yt(qn),yt(Tn),ft(Tn,o)):yt(qn),ft(qn,c)}var ss=null,Yf=!1,Qy=!1;function HI(o){ss===null?ss=[o]:ss.push(o)}function vD(o){Yf=!0,HI(o)}function Js(){if(!Qy&&ss!==null){Qy=!0;var o=0,a=He;try{var c=ss;for(He=1;o<c.length;o++){var p=c[o];do p=p(!0);while(p!==null)}ss=null,Yf=!1}catch(y){throw ss!==null&&(ss=ss.slice(o+1)),_l(ta,Js),y}finally{He=a,Qy=!1}}return null}var $l=[],jl=0,Jf=null,Xf=0,Pr=[],Cr=0,da=null,os=1,as="";function ha(o,a){$l[jl++]=Xf,$l[jl++]=Jf,Jf=o,Xf=a}function KI(o,a,c){Pr[Cr++]=os,Pr[Cr++]=as,Pr[Cr++]=da,da=o;var p=os;o=as;var y=32-Nn(p)-1;p&=~(1<<y),c+=1;var w=32-Nn(a)+y;if(30<w){var P=y-y%5;w=(p&(1<<P)-1).toString(32),p>>=P,y-=P,os=1<<32-Nn(a)+y|c<<y|p,as=w+o}else os=1<<w|c<<y|p,as=o}function Yy(o){o.return!==null&&(ha(o,1),KI(o,1,0))}function Jy(o){for(;o===Jf;)Jf=$l[--jl],$l[jl]=null,Xf=$l[--jl],$l[jl]=null;for(;o===da;)da=Pr[--Cr],Pr[Cr]=null,as=Pr[--Cr],Pr[Cr]=null,os=Pr[--Cr],Pr[Cr]=null}var lr=null,ur=null,Et=!1,Jr=null;function GI(o,a){var c=Nr(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=o,a=o.deletions,a===null?(o.deletions=[c],o.flags|=16):a.push(c)}function QI(o,a){switch(o.tag){case 5:var c=o.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(o.stateNode=a,lr=o,ur=Gs(a.firstChild),!0):!1;case 6:return a=o.pendingProps===""||a.nodeType!==3?null:a,a!==null?(o.stateNode=a,lr=o,ur=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=da!==null?{id:os,overflow:as}:null,o.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=Nr(18,null,null,0),c.stateNode=a,c.return=o,o.child=c,lr=o,ur=null,!0):!1;default:return!1}}function Xy(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Zy(o){if(Et){var a=ur;if(a){var c=a;if(!QI(o,a)){if(Xy(o))throw Error(t(418));a=Gs(c.nextSibling);var p=lr;a&&QI(o,a)?GI(p,c):(o.flags=o.flags&-4097|2,Et=!1,lr=o)}}else{if(Xy(o))throw Error(t(418));o.flags=o.flags&-4097|2,Et=!1,lr=o}}}function YI(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;lr=o}function Zf(o){if(o!==lr)return!1;if(!Et)return YI(o),Et=!0,!1;var a;if((a=o.tag!==3)&&!(a=o.tag!==5)&&(a=o.type,a=a!=="head"&&a!=="body"&&!Wy(o.type,o.memoizedProps)),a&&(a=ur)){if(Xy(o))throw JI(),Error(t(418));for(;a;)GI(o,a),a=Gs(a.nextSibling)}if(YI(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8){var c=o.data;if(c==="/$"){if(a===0){ur=Gs(o.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}o=o.nextSibling}ur=null}}else ur=lr?Gs(o.stateNode.nextSibling):null;return!0}function JI(){for(var o=ur;o;)o=Gs(o.nextSibling)}function Bl(){ur=lr=null,Et=!1}function e_(o){Jr===null?Jr=[o]:Jr.push(o)}var wD=z.ReactCurrentBatchConfig;function Yc(o,a,c){if(o=c.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var p=c.stateNode}if(!p)throw Error(t(147,o));var y=p,w=""+o;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===w?a.ref:(a=function(P){var F=y.refs;P===null?delete F[w]:F[w]=P},a._stringRef=w,a)}if(typeof o!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,o))}return o}function ep(o,a){throw o=Object.prototype.toString.call(a),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o))}function XI(o){var a=o._init;return a(o._payload)}function ZI(o){function a(Y,q){if(o){var J=Y.deletions;J===null?(Y.deletions=[q],Y.flags|=16):J.push(q)}}function c(Y,q){if(!o)return null;for(;q!==null;)a(Y,q),q=q.sibling;return null}function p(Y,q){for(Y=new Map;q!==null;)q.key!==null?Y.set(q.key,q):Y.set(q.index,q),q=q.sibling;return Y}function y(Y,q){return Y=so(Y,q),Y.index=0,Y.sibling=null,Y}function w(Y,q,J){return Y.index=J,o?(J=Y.alternate,J!==null?(J=J.index,J<q?(Y.flags|=2,q):J):(Y.flags|=2,q)):(Y.flags|=1048576,q)}function P(Y){return o&&Y.alternate===null&&(Y.flags|=2),Y}function F(Y,q,J,pe){return q===null||q.tag!==6?(q=q_(J,Y.mode,pe),q.return=Y,q):(q=y(q,J),q.return=Y,q)}function j(Y,q,J,pe){var be=J.type;return be===D?ce(Y,q,J.props.children,pe,J.key):q!==null&&(q.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===ge&&XI(be)===q.type)?(pe=y(q,J.props),pe.ref=Yc(Y,q,J),pe.return=Y,pe):(pe=Sp(J.type,J.key,J.props,null,Y.mode,pe),pe.ref=Yc(Y,q,J),pe.return=Y,pe)}function X(Y,q,J,pe){return q===null||q.tag!==4||q.stateNode.containerInfo!==J.containerInfo||q.stateNode.implementation!==J.implementation?(q=H_(J,Y.mode,pe),q.return=Y,q):(q=y(q,J.children||[]),q.return=Y,q)}function ce(Y,q,J,pe,be){return q===null||q.tag!==7?(q=wa(J,Y.mode,pe,be),q.return=Y,q):(q=y(q,J),q.return=Y,q)}function he(Y,q,J){if(typeof q=="string"&&q!==""||typeof q=="number")return q=q_(""+q,Y.mode,J),q.return=Y,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case $:return J=Sp(q.type,q.key,q.props,null,Y.mode,J),J.ref=Yc(Y,null,q),J.return=Y,J;case W:return q=H_(q,Y.mode,J),q.return=Y,q;case ge:var pe=q._init;return he(Y,pe(q._payload),J)}if(rr(q)||me(q))return q=wa(q,Y.mode,J,null),q.return=Y,q;ep(Y,q)}return null}function le(Y,q,J,pe){var be=q!==null?q.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return be!==null?null:F(Y,q,""+J,pe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case $:return J.key===be?j(Y,q,J,pe):null;case W:return J.key===be?X(Y,q,J,pe):null;case ge:return be=J._init,le(Y,q,be(J._payload),pe)}if(rr(J)||me(J))return be!==null?null:ce(Y,q,J,pe,null);ep(Y,J)}return null}function we(Y,q,J,pe,be){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return Y=Y.get(J)||null,F(q,Y,""+pe,be);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case $:return Y=Y.get(pe.key===null?J:pe.key)||null,j(q,Y,pe,be);case W:return Y=Y.get(pe.key===null?J:pe.key)||null,X(q,Y,pe,be);case ge:var xe=pe._init;return we(Y,q,J,xe(pe._payload),be)}if(rr(pe)||me(pe))return Y=Y.get(J)||null,ce(q,Y,pe,be,null);ep(q,pe)}return null}function Se(Y,q,J,pe){for(var be=null,xe=null,Oe=q,De=q=0,un=null;Oe!==null&&De<J.length;De++){Oe.index>De?(un=Oe,Oe=null):un=Oe.sibling;var Xe=le(Y,Oe,J[De],pe);if(Xe===null){Oe===null&&(Oe=un);break}o&&Oe&&Xe.alternate===null&&a(Y,Oe),q=w(Xe,q,De),xe===null?be=Xe:xe.sibling=Xe,xe=Xe,Oe=un}if(De===J.length)return c(Y,Oe),Et&&ha(Y,De),be;if(Oe===null){for(;De<J.length;De++)Oe=he(Y,J[De],pe),Oe!==null&&(q=w(Oe,q,De),xe===null?be=Oe:xe.sibling=Oe,xe=Oe);return Et&&ha(Y,De),be}for(Oe=p(Y,Oe);De<J.length;De++)un=we(Oe,Y,De,J[De],pe),un!==null&&(o&&un.alternate!==null&&Oe.delete(un.key===null?De:un.key),q=w(un,q,De),xe===null?be=un:xe.sibling=un,xe=un);return o&&Oe.forEach(function(oo){return a(Y,oo)}),Et&&ha(Y,De),be}function Ae(Y,q,J,pe){var be=me(J);if(typeof be!="function")throw Error(t(150));if(J=be.call(J),J==null)throw Error(t(151));for(var xe=be=null,Oe=q,De=q=0,un=null,Xe=J.next();Oe!==null&&!Xe.done;De++,Xe=J.next()){Oe.index>De?(un=Oe,Oe=null):un=Oe.sibling;var oo=le(Y,Oe,Xe.value,pe);if(oo===null){Oe===null&&(Oe=un);break}o&&Oe&&oo.alternate===null&&a(Y,Oe),q=w(oo,q,De),xe===null?be=oo:xe.sibling=oo,xe=oo,Oe=un}if(Xe.done)return c(Y,Oe),Et&&ha(Y,De),be;if(Oe===null){for(;!Xe.done;De++,Xe=J.next())Xe=he(Y,Xe.value,pe),Xe!==null&&(q=w(Xe,q,De),xe===null?be=Xe:xe.sibling=Xe,xe=Xe);return Et&&ha(Y,De),be}for(Oe=p(Y,Oe);!Xe.done;De++,Xe=J.next())Xe=we(Oe,Y,De,Xe.value,pe),Xe!==null&&(o&&Xe.alternate!==null&&Oe.delete(Xe.key===null?De:Xe.key),q=w(Xe,q,De),xe===null?be=Xe:xe.sibling=Xe,xe=Xe);return o&&Oe.forEach(function(ZD){return a(Y,ZD)}),Et&&ha(Y,De),be}function $t(Y,q,J,pe){if(typeof J=="object"&&J!==null&&J.type===D&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case $:e:{for(var be=J.key,xe=q;xe!==null;){if(xe.key===be){if(be=J.type,be===D){if(xe.tag===7){c(Y,xe.sibling),q=y(xe,J.props.children),q.return=Y,Y=q;break e}}else if(xe.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===ge&&XI(be)===xe.type){c(Y,xe.sibling),q=y(xe,J.props),q.ref=Yc(Y,xe,J),q.return=Y,Y=q;break e}c(Y,xe);break}else a(Y,xe);xe=xe.sibling}J.type===D?(q=wa(J.props.children,Y.mode,pe,J.key),q.return=Y,Y=q):(pe=Sp(J.type,J.key,J.props,null,Y.mode,pe),pe.ref=Yc(Y,q,J),pe.return=Y,Y=pe)}return P(Y);case W:e:{for(xe=J.key;q!==null;){if(q.key===xe)if(q.tag===4&&q.stateNode.containerInfo===J.containerInfo&&q.stateNode.implementation===J.implementation){c(Y,q.sibling),q=y(q,J.children||[]),q.return=Y,Y=q;break e}else{c(Y,q);break}else a(Y,q);q=q.sibling}q=H_(J,Y.mode,pe),q.return=Y,Y=q}return P(Y);case ge:return xe=J._init,$t(Y,q,xe(J._payload),pe)}if(rr(J))return Se(Y,q,J,pe);if(me(J))return Ae(Y,q,J,pe);ep(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,q!==null&&q.tag===6?(c(Y,q.sibling),q=y(q,J),q.return=Y,Y=q):(c(Y,q),q=q_(J,Y.mode,pe),q.return=Y,Y=q),P(Y)):c(Y,q)}return $t}var zl=ZI(!0),eT=ZI(!1),tp=Qs(null),np=null,Wl=null,t_=null;function n_(){t_=Wl=np=null}function r_(o){var a=tp.current;yt(tp),o._currentValue=a}function i_(o,a,c){for(;o!==null;){var p=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),o===c)break;o=o.return}}function ql(o,a){np=o,t_=Wl=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&a&&(Kn=!0),o.firstContext=null)}function kr(o){var a=o._currentValue;if(t_!==o)if(o={context:o,memoizedValue:a,next:null},Wl===null){if(np===null)throw Error(t(308));Wl=o,np.dependencies={lanes:0,firstContext:o}}else Wl=Wl.next=o;return a}var fa=null;function s_(o){fa===null?fa=[o]:fa.push(o)}function tT(o,a,c,p){var y=a.interleaved;return y===null?(c.next=c,s_(a)):(c.next=y.next,y.next=c),a.interleaved=c,ls(o,p)}function ls(o,a){o.lanes|=a;var c=o.alternate;for(c!==null&&(c.lanes|=a),c=o,o=o.return;o!==null;)o.childLanes|=a,c=o.alternate,c!==null&&(c.childLanes|=a),c=o,o=o.return;return c.tag===3?c.stateNode:null}var Xs=!1;function o_(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nT(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function us(o,a){return{eventTime:o,lane:a,tag:0,payload:null,callback:null,next:null}}function Zs(o,a,c){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,Je&2){var y=p.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),p.pending=a,ls(o,c)}return y=p.interleaved,y===null?(a.next=a,s_(p)):(a.next=y.next,y.next=a),p.interleaved=a,ls(o,c)}function rp(o,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var p=a.lanes;p&=o.pendingLanes,c|=p,a.lanes=c,Bs(o,c)}}function rT(o,a){var c=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var y=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var P={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};w===null?y=w=P:w=w.next=P,c=c.next}while(c!==null);w===null?y=w=a:w=w.next=a}else y=w=a;c={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:p.shared,effects:p.effects},o.updateQueue=c;return}o=c.lastBaseUpdate,o===null?c.firstBaseUpdate=a:o.next=a,c.lastBaseUpdate=a}function ip(o,a,c,p){var y=o.updateQueue;Xs=!1;var w=y.firstBaseUpdate,P=y.lastBaseUpdate,F=y.shared.pending;if(F!==null){y.shared.pending=null;var j=F,X=j.next;j.next=null,P===null?w=X:P.next=X,P=j;var ce=o.alternate;ce!==null&&(ce=ce.updateQueue,F=ce.lastBaseUpdate,F!==P&&(F===null?ce.firstBaseUpdate=X:F.next=X,ce.lastBaseUpdate=j))}if(w!==null){var he=y.baseState;P=0,ce=X=j=null,F=w;do{var le=F.lane,we=F.eventTime;if((p&le)===le){ce!==null&&(ce=ce.next={eventTime:we,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var Se=o,Ae=F;switch(le=a,we=c,Ae.tag){case 1:if(Se=Ae.payload,typeof Se=="function"){he=Se.call(we,he,le);break e}he=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Ae.payload,le=typeof Se=="function"?Se.call(we,he,le):Se,le==null)break e;he=fe({},he,le);break e;case 2:Xs=!0}}F.callback!==null&&F.lane!==0&&(o.flags|=64,le=y.effects,le===null?y.effects=[F]:le.push(F))}else we={eventTime:we,lane:le,tag:F.tag,payload:F.payload,callback:F.callback,next:null},ce===null?(X=ce=we,j=he):ce=ce.next=we,P|=le;if(F=F.next,F===null){if(F=y.shared.pending,F===null)break;le=F,F=le.next,le.next=null,y.lastBaseUpdate=le,y.shared.pending=null}}while(!0);if(ce===null&&(j=he),y.baseState=j,y.firstBaseUpdate=X,y.lastBaseUpdate=ce,a=y.shared.interleaved,a!==null){y=a;do P|=y.lane,y=y.next;while(y!==a)}else w===null&&(y.shared.lanes=0);ga|=P,o.lanes=P,o.memoizedState=he}}function iT(o,a,c){if(o=a.effects,a.effects=null,o!==null)for(a=0;a<o.length;a++){var p=o[a],y=p.callback;if(y!==null){if(p.callback=null,p=c,typeof y!="function")throw Error(t(191,y));y.call(p)}}}var Jc={},wi=Qs(Jc),Xc=Qs(Jc),Zc=Qs(Jc);function pa(o){if(o===Jc)throw Error(t(174));return o}function a_(o,a){switch(ft(Zc,a),ft(Xc,o),ft(wi,Jc),o=a.nodeType,o){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Xt(null,"");break;default:o=o===8?a.parentNode:a,a=o.namespaceURI||null,o=o.tagName,a=Xt(a,o)}yt(wi),ft(wi,a)}function Hl(){yt(wi),yt(Xc),yt(Zc)}function sT(o){pa(Zc.current);var a=pa(wi.current),c=Xt(a,o.type);a!==c&&(ft(Xc,o),ft(wi,c))}function l_(o){Xc.current===o&&(yt(wi),yt(Xc))}var bt=Qs(0);function sp(o){for(var a=o;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var u_=[];function c_(){for(var o=0;o<u_.length;o++)u_[o]._workInProgressVersionPrimary=null;u_.length=0}var op=z.ReactCurrentDispatcher,d_=z.ReactCurrentBatchConfig,ma=0,Pt=null,en=null,an=null,ap=!1,ed=!1,td=0,ED=0;function Sn(){throw Error(t(321))}function h_(o,a){if(a===null)return!1;for(var c=0;c<a.length&&c<o.length;c++)if(!Yr(o[c],a[c]))return!1;return!0}function f_(o,a,c,p,y,w){if(ma=w,Pt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,op.current=o===null||o.memoizedState===null?RD:AD,o=c(p,y),ed){w=0;do{if(ed=!1,td=0,25<=w)throw Error(t(301));w+=1,an=en=null,a.updateQueue=null,op.current=bD,o=c(p,y)}while(ed)}if(op.current=cp,a=en!==null&&en.next!==null,ma=0,an=en=Pt=null,ap=!1,a)throw Error(t(300));return o}function p_(){var o=td!==0;return td=0,o}function Ei(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?Pt.memoizedState=an=o:an=an.next=o,an}function xr(){if(en===null){var o=Pt.alternate;o=o!==null?o.memoizedState:null}else o=en.next;var a=an===null?Pt.memoizedState:an.next;if(a!==null)an=a,en=o;else{if(o===null)throw Error(t(310));en=o,o={memoizedState:en.memoizedState,baseState:en.baseState,baseQueue:en.baseQueue,queue:en.queue,next:null},an===null?Pt.memoizedState=an=o:an=an.next=o}return an}function nd(o,a){return typeof a=="function"?a(o):a}function m_(o){var a=xr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=o;var p=en,y=p.baseQueue,w=c.pending;if(w!==null){if(y!==null){var P=y.next;y.next=w.next,w.next=P}p.baseQueue=y=w,c.pending=null}if(y!==null){w=y.next,p=p.baseState;var F=P=null,j=null,X=w;do{var ce=X.lane;if((ma&ce)===ce)j!==null&&(j=j.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),p=X.hasEagerState?X.eagerState:o(p,X.action);else{var he={lane:ce,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};j===null?(F=j=he,P=p):j=j.next=he,Pt.lanes|=ce,ga|=ce}X=X.next}while(X!==null&&X!==w);j===null?P=p:j.next=F,Yr(p,a.memoizedState)||(Kn=!0),a.memoizedState=p,a.baseState=P,a.baseQueue=j,c.lastRenderedState=p}if(o=c.interleaved,o!==null){y=o;do w=y.lane,Pt.lanes|=w,ga|=w,y=y.next;while(y!==o)}else y===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function g_(o){var a=xr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=o;var p=c.dispatch,y=c.pending,w=a.memoizedState;if(y!==null){c.pending=null;var P=y=y.next;do w=o(w,P.action),P=P.next;while(P!==y);Yr(w,a.memoizedState)||(Kn=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),c.lastRenderedState=w}return[w,p]}function oT(){}function aT(o,a){var c=Pt,p=xr(),y=a(),w=!Yr(p.memoizedState,y);if(w&&(p.memoizedState=y,Kn=!0),p=p.queue,y_(cT.bind(null,c,p,o),[o]),p.getSnapshot!==a||w||an!==null&&an.memoizedState.tag&1){if(c.flags|=2048,rd(9,uT.bind(null,c,p,y,a),void 0,null),ln===null)throw Error(t(349));ma&30||lT(c,a,y)}return y}function lT(o,a,c){o.flags|=16384,o={getSnapshot:a,value:c},a=Pt.updateQueue,a===null?(a={lastEffect:null,stores:null},Pt.updateQueue=a,a.stores=[o]):(c=a.stores,c===null?a.stores=[o]:c.push(o))}function uT(o,a,c,p){a.value=c,a.getSnapshot=p,dT(a)&&hT(o)}function cT(o,a,c){return c(function(){dT(a)&&hT(o)})}function dT(o){var a=o.getSnapshot;o=o.value;try{var c=a();return!Yr(o,c)}catch{return!0}}function hT(o){var a=ls(o,1);a!==null&&ti(a,o,1,-1)}function fT(o){var a=Ei();return typeof o=="function"&&(o=o()),a.memoizedState=a.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nd,lastRenderedState:o},a.queue=o,o=o.dispatch=SD.bind(null,Pt,o),[a.memoizedState,o]}function rd(o,a,c,p){return o={tag:o,create:a,destroy:c,deps:p,next:null},a=Pt.updateQueue,a===null?(a={lastEffect:null,stores:null},Pt.updateQueue=a,a.lastEffect=o.next=o):(c=a.lastEffect,c===null?a.lastEffect=o.next=o:(p=c.next,c.next=o,o.next=p,a.lastEffect=o)),o}function pT(){return xr().memoizedState}function lp(o,a,c,p){var y=Ei();Pt.flags|=o,y.memoizedState=rd(1|a,c,void 0,p===void 0?null:p)}function up(o,a,c,p){var y=xr();p=p===void 0?null:p;var w=void 0;if(en!==null){var P=en.memoizedState;if(w=P.destroy,p!==null&&h_(p,P.deps)){y.memoizedState=rd(a,c,w,p);return}}Pt.flags|=o,y.memoizedState=rd(1|a,c,w,p)}function mT(o,a){return lp(8390656,8,o,a)}function y_(o,a){return up(2048,8,o,a)}function gT(o,a){return up(4,2,o,a)}function yT(o,a){return up(4,4,o,a)}function _T(o,a){if(typeof a=="function")return o=o(),a(o),function(){a(null)};if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function vT(o,a,c){return c=c!=null?c.concat([o]):null,up(4,4,_T.bind(null,a,o),c)}function __(){}function wT(o,a){var c=xr();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&h_(a,p[1])?p[0]:(c.memoizedState=[o,a],o)}function ET(o,a){var c=xr();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&h_(a,p[1])?p[0]:(o=o(),c.memoizedState=[o,a],o)}function IT(o,a,c){return ma&21?(Yr(c,a)||(c=ia(),Pt.lanes|=c,ga|=c,o.baseState=!0),a):(o.baseState&&(o.baseState=!1,Kn=!0),o.memoizedState=c)}function ID(o,a){var c=He;He=c!==0&&4>c?c:4,o(!0);var p=d_.transition;d_.transition={};try{o(!1),a()}finally{He=c,d_.transition=p}}function TT(){return xr().memoizedState}function TD(o,a,c){var p=ro(o);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},ST(o))RT(a,c);else if(c=tT(o,a,c,p),c!==null){var y=Vn();ti(c,o,p,y),AT(c,a,p)}}function SD(o,a,c){var p=ro(o),y={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(ST(o))RT(a,y);else{var w=o.alternate;if(o.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var P=a.lastRenderedState,F=w(P,c);if(y.hasEagerState=!0,y.eagerState=F,Yr(F,P)){var j=a.interleaved;j===null?(y.next=y,s_(a)):(y.next=j.next,j.next=y),a.interleaved=y;return}}catch{}finally{}c=tT(o,a,y,p),c!==null&&(y=Vn(),ti(c,o,p,y),AT(c,a,p))}}function ST(o){var a=o.alternate;return o===Pt||a!==null&&a===Pt}function RT(o,a){ed=ap=!0;var c=o.pending;c===null?a.next=a:(a.next=c.next,c.next=a),o.pending=a}function AT(o,a,c){if(c&4194240){var p=a.lanes;p&=o.pendingLanes,c|=p,a.lanes=c,Bs(o,c)}}var cp={readContext:kr,useCallback:Sn,useContext:Sn,useEffect:Sn,useImperativeHandle:Sn,useInsertionEffect:Sn,useLayoutEffect:Sn,useMemo:Sn,useReducer:Sn,useRef:Sn,useState:Sn,useDebugValue:Sn,useDeferredValue:Sn,useTransition:Sn,useMutableSource:Sn,useSyncExternalStore:Sn,useId:Sn,unstable_isNewReconciler:!1},RD={readContext:kr,useCallback:function(o,a){return Ei().memoizedState=[o,a===void 0?null:a],o},useContext:kr,useEffect:mT,useImperativeHandle:function(o,a,c){return c=c!=null?c.concat([o]):null,lp(4194308,4,_T.bind(null,a,o),c)},useLayoutEffect:function(o,a){return lp(4194308,4,o,a)},useInsertionEffect:function(o,a){return lp(4,2,o,a)},useMemo:function(o,a){var c=Ei();return a=a===void 0?null:a,o=o(),c.memoizedState=[o,a],o},useReducer:function(o,a,c){var p=Ei();return a=c!==void 0?c(a):a,p.memoizedState=p.baseState=a,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:a},p.queue=o,o=o.dispatch=TD.bind(null,Pt,o),[p.memoizedState,o]},useRef:function(o){var a=Ei();return o={current:o},a.memoizedState=o},useState:fT,useDebugValue:__,useDeferredValue:function(o){return Ei().memoizedState=o},useTransition:function(){var o=fT(!1),a=o[0];return o=ID.bind(null,o[1]),Ei().memoizedState=o,[a,o]},useMutableSource:function(){},useSyncExternalStore:function(o,a,c){var p=Pt,y=Ei();if(Et){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),ln===null)throw Error(t(349));ma&30||lT(p,a,c)}y.memoizedState=c;var w={value:c,getSnapshot:a};return y.queue=w,mT(cT.bind(null,p,w,o),[o]),p.flags|=2048,rd(9,uT.bind(null,p,w,c,a),void 0,null),c},useId:function(){var o=Ei(),a=ln.identifierPrefix;if(Et){var c=as,p=os;c=(p&~(1<<32-Nn(p)-1)).toString(32)+c,a=":"+a+"R"+c,c=td++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=ED++,a=":"+a+"r"+c.toString(32)+":";return o.memoizedState=a},unstable_isNewReconciler:!1},AD={readContext:kr,useCallback:wT,useContext:kr,useEffect:y_,useImperativeHandle:vT,useInsertionEffect:gT,useLayoutEffect:yT,useMemo:ET,useReducer:m_,useRef:pT,useState:function(){return m_(nd)},useDebugValue:__,useDeferredValue:function(o){var a=xr();return IT(a,en.memoizedState,o)},useTransition:function(){var o=m_(nd)[0],a=xr().memoizedState;return[o,a]},useMutableSource:oT,useSyncExternalStore:aT,useId:TT,unstable_isNewReconciler:!1},bD={readContext:kr,useCallback:wT,useContext:kr,useEffect:y_,useImperativeHandle:vT,useInsertionEffect:gT,useLayoutEffect:yT,useMemo:ET,useReducer:g_,useRef:pT,useState:function(){return g_(nd)},useDebugValue:__,useDeferredValue:function(o){var a=xr();return en===null?a.memoizedState=o:IT(a,en.memoizedState,o)},useTransition:function(){var o=g_(nd)[0],a=xr().memoizedState;return[o,a]},useMutableSource:oT,useSyncExternalStore:aT,useId:TT,unstable_isNewReconciler:!1};function Xr(o,a){if(o&&o.defaultProps){a=fe({},a),o=o.defaultProps;for(var c in o)a[c]===void 0&&(a[c]=o[c]);return a}return a}function v_(o,a,c,p){a=o.memoizedState,c=c(p,a),c=c==null?a:fe({},a,c),o.memoizedState=c,o.lanes===0&&(o.updateQueue.baseState=c)}var dp={isMounted:function(o){return(o=o._reactInternals)?zr(o)===o:!1},enqueueSetState:function(o,a,c){o=o._reactInternals;var p=Vn(),y=ro(o),w=us(p,y);w.payload=a,c!=null&&(w.callback=c),a=Zs(o,w,y),a!==null&&(ti(a,o,y,p),rp(a,o,y))},enqueueReplaceState:function(o,a,c){o=o._reactInternals;var p=Vn(),y=ro(o),w=us(p,y);w.tag=1,w.payload=a,c!=null&&(w.callback=c),a=Zs(o,w,y),a!==null&&(ti(a,o,y,p),rp(a,o,y))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var c=Vn(),p=ro(o),y=us(c,p);y.tag=2,a!=null&&(y.callback=a),a=Zs(o,y,p),a!==null&&(ti(a,o,p,c),rp(a,o,p))}};function bT(o,a,c,p,y,w,P){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,w,P):a.prototype&&a.prototype.isPureReactComponent?!zc(c,p)||!zc(y,w):!0}function PT(o,a,c){var p=!1,y=Ys,w=a.contextType;return typeof w=="object"&&w!==null?w=kr(w):(y=Hn(a)?ca:Tn.current,p=a.contextTypes,w=(p=p!=null)?Ul(o,y):Ys),a=new a(c,w),o.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=dp,o.stateNode=a,a._reactInternals=o,p&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=y,o.__reactInternalMemoizedMaskedChildContext=w),a}function CT(o,a,c,p){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,p),a.state!==o&&dp.enqueueReplaceState(a,a.state,null)}function w_(o,a,c,p){var y=o.stateNode;y.props=c,y.state=o.memoizedState,y.refs={},o_(o);var w=a.contextType;typeof w=="object"&&w!==null?y.context=kr(w):(w=Hn(a)?ca:Tn.current,y.context=Ul(o,w)),y.state=o.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(v_(o,a,w,c),y.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(a=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),a!==y.state&&dp.enqueueReplaceState(y,y.state,null),ip(o,c,y,p),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308)}function Kl(o,a){try{var c="",p=a;do c+=Ve(p),p=p.return;while(p);var y=c}catch(w){y=`
Error generating stack: `+w.message+`
`+w.stack}return{value:o,source:a,stack:y,digest:null}}function E_(o,a,c){return{value:o,source:null,stack:c??null,digest:a??null}}function I_(o,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var PD=typeof WeakMap=="function"?WeakMap:Map;function kT(o,a,c){c=us(-1,c),c.tag=3,c.payload={element:null};var p=a.value;return c.callback=function(){_p||(_p=!0,M_=p),I_(o,a)},c}function xT(o,a,c){c=us(-1,c),c.tag=3;var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var y=a.value;c.payload=function(){return p(y)},c.callback=function(){I_(o,a)}}var w=o.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(c.callback=function(){I_(o,a),typeof p!="function"&&(to===null?to=new Set([this]):to.add(this));var P=a.stack;this.componentDidCatch(a.value,{componentStack:P!==null?P:""})}),c}function OT(o,a,c){var p=o.pingCache;if(p===null){p=o.pingCache=new PD;var y=new Set;p.set(a,y)}else y=p.get(a),y===void 0&&(y=new Set,p.set(a,y));y.has(c)||(y.add(c),o=BD.bind(null,o,a,c),a.then(o,o))}function NT(o){do{var a;if((a=o.tag===13)&&(a=o.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return o;o=o.return}while(o!==null);return null}function DT(o,a,c,p,y){return o.mode&1?(o.flags|=65536,o.lanes=y,o):(o===a?o.flags|=65536:(o.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=us(-1,1),a.tag=2,Zs(c,a,1))),c.lanes|=1),o)}var CD=z.ReactCurrentOwner,Kn=!1;function Ln(o,a,c,p){a.child=o===null?eT(a,null,c,p):zl(a,o.child,c,p)}function LT(o,a,c,p,y){c=c.render;var w=a.ref;return ql(a,y),p=f_(o,a,c,p,w,y),c=p_(),o!==null&&!Kn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~y,cs(o,a,y)):(Et&&c&&Yy(a),a.flags|=1,Ln(o,a,p,y),a.child)}function VT(o,a,c,p,y){if(o===null){var w=c.type;return typeof w=="function"&&!W_(w)&&w.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=w,MT(o,a,w,p,y)):(o=Sp(c.type,null,p,a,a.mode,y),o.ref=a.ref,o.return=a,a.child=o)}if(w=o.child,!(o.lanes&y)){var P=w.memoizedProps;if(c=c.compare,c=c!==null?c:zc,c(P,p)&&o.ref===a.ref)return cs(o,a,y)}return a.flags|=1,o=so(w,p),o.ref=a.ref,o.return=a,a.child=o}function MT(o,a,c,p,y){if(o!==null){var w=o.memoizedProps;if(zc(w,p)&&o.ref===a.ref)if(Kn=!1,a.pendingProps=p=w,(o.lanes&y)!==0)o.flags&131072&&(Kn=!0);else return a.lanes=o.lanes,cs(o,a,y)}return T_(o,a,c,p,y)}function FT(o,a,c){var p=a.pendingProps,y=p.children,w=o!==null?o.memoizedState:null;if(p.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},ft(Ql,cr),cr|=c;else{if(!(c&1073741824))return o=w!==null?w.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:o,cachePool:null,transitions:null},a.updateQueue=null,ft(Ql,cr),cr|=o,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=w!==null?w.baseLanes:c,ft(Ql,cr),cr|=p}else w!==null?(p=w.baseLanes|c,a.memoizedState=null):p=c,ft(Ql,cr),cr|=p;return Ln(o,a,y,c),a.child}function UT(o,a){var c=a.ref;(o===null&&c!==null||o!==null&&o.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function T_(o,a,c,p,y){var w=Hn(c)?ca:Tn.current;return w=Ul(a,w),ql(a,y),c=f_(o,a,c,p,w,y),p=p_(),o!==null&&!Kn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~y,cs(o,a,y)):(Et&&p&&Yy(a),a.flags|=1,Ln(o,a,c,y),a.child)}function $T(o,a,c,p,y){if(Hn(c)){var w=!0;Qf(a)}else w=!1;if(ql(a,y),a.stateNode===null)fp(o,a),PT(a,c,p),w_(a,c,p,y),p=!0;else if(o===null){var P=a.stateNode,F=a.memoizedProps;P.props=F;var j=P.context,X=c.contextType;typeof X=="object"&&X!==null?X=kr(X):(X=Hn(c)?ca:Tn.current,X=Ul(a,X));var ce=c.getDerivedStateFromProps,he=typeof ce=="function"||typeof P.getSnapshotBeforeUpdate=="function";he||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(F!==p||j!==X)&&CT(a,P,p,X),Xs=!1;var le=a.memoizedState;P.state=le,ip(a,p,P,y),j=a.memoizedState,F!==p||le!==j||qn.current||Xs?(typeof ce=="function"&&(v_(a,c,ce,p),j=a.memoizedState),(F=Xs||bT(a,c,F,p,le,j,X))?(he||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(a.flags|=4194308)):(typeof P.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=j),P.props=p,P.state=j,P.context=X,p=F):(typeof P.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{P=a.stateNode,nT(o,a),F=a.memoizedProps,X=a.type===a.elementType?F:Xr(a.type,F),P.props=X,he=a.pendingProps,le=P.context,j=c.contextType,typeof j=="object"&&j!==null?j=kr(j):(j=Hn(c)?ca:Tn.current,j=Ul(a,j));var we=c.getDerivedStateFromProps;(ce=typeof we=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(F!==he||le!==j)&&CT(a,P,p,j),Xs=!1,le=a.memoizedState,P.state=le,ip(a,p,P,y);var Se=a.memoizedState;F!==he||le!==Se||qn.current||Xs?(typeof we=="function"&&(v_(a,c,we,p),Se=a.memoizedState),(X=Xs||bT(a,c,X,p,le,Se,j)||!1)?(ce||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(p,Se,j),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(p,Se,j)),typeof P.componentDidUpdate=="function"&&(a.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof P.componentDidUpdate!="function"||F===o.memoizedProps&&le===o.memoizedState||(a.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||F===o.memoizedProps&&le===o.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=Se),P.props=p,P.state=Se,P.context=j,p=X):(typeof P.componentDidUpdate!="function"||F===o.memoizedProps&&le===o.memoizedState||(a.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||F===o.memoizedProps&&le===o.memoizedState||(a.flags|=1024),p=!1)}return S_(o,a,c,p,w,y)}function S_(o,a,c,p,y,w){UT(o,a);var P=(a.flags&128)!==0;if(!p&&!P)return y&&qI(a,c,!1),cs(o,a,w);p=a.stateNode,CD.current=a;var F=P&&typeof c.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,o!==null&&P?(a.child=zl(a,o.child,null,w),a.child=zl(a,null,F,w)):Ln(o,a,F,w),a.memoizedState=p.state,y&&qI(a,c,!0),a.child}function jT(o){var a=o.stateNode;a.pendingContext?zI(o,a.pendingContext,a.pendingContext!==a.context):a.context&&zI(o,a.context,!1),a_(o,a.containerInfo)}function BT(o,a,c,p,y){return Bl(),e_(y),a.flags|=256,Ln(o,a,c,p),a.child}var R_={dehydrated:null,treeContext:null,retryLane:0};function A_(o){return{baseLanes:o,cachePool:null,transitions:null}}function zT(o,a,c){var p=a.pendingProps,y=bt.current,w=!1,P=(a.flags&128)!==0,F;if((F=P)||(F=o!==null&&o.memoizedState===null?!1:(y&2)!==0),F?(w=!0,a.flags&=-129):(o===null||o.memoizedState!==null)&&(y|=1),ft(bt,y&1),o===null)return Zy(a),o=a.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(a.mode&1?o.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(P=p.children,o=p.fallback,w?(p=a.mode,w=a.child,P={mode:"hidden",children:P},!(p&1)&&w!==null?(w.childLanes=0,w.pendingProps=P):w=Rp(P,p,0,null),o=wa(o,p,c,null),w.return=a,o.return=a,w.sibling=o,a.child=w,a.child.memoizedState=A_(c),a.memoizedState=R_,o):b_(a,P));if(y=o.memoizedState,y!==null&&(F=y.dehydrated,F!==null))return kD(o,a,P,p,F,y,c);if(w){w=p.fallback,P=a.mode,y=o.child,F=y.sibling;var j={mode:"hidden",children:p.children};return!(P&1)&&a.child!==y?(p=a.child,p.childLanes=0,p.pendingProps=j,a.deletions=null):(p=so(y,j),p.subtreeFlags=y.subtreeFlags&14680064),F!==null?w=so(F,w):(w=wa(w,P,c,null),w.flags|=2),w.return=a,p.return=a,p.sibling=w,a.child=p,p=w,w=a.child,P=o.child.memoizedState,P=P===null?A_(c):{baseLanes:P.baseLanes|c,cachePool:null,transitions:P.transitions},w.memoizedState=P,w.childLanes=o.childLanes&~c,a.memoizedState=R_,p}return w=o.child,o=w.sibling,p=so(w,{mode:"visible",children:p.children}),!(a.mode&1)&&(p.lanes=c),p.return=a,p.sibling=null,o!==null&&(c=a.deletions,c===null?(a.deletions=[o],a.flags|=16):c.push(o)),a.child=p,a.memoizedState=null,p}function b_(o,a){return a=Rp({mode:"visible",children:a},o.mode,0,null),a.return=o,o.child=a}function hp(o,a,c,p){return p!==null&&e_(p),zl(a,o.child,null,c),o=b_(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function kD(o,a,c,p,y,w,P){if(c)return a.flags&256?(a.flags&=-257,p=E_(Error(t(422))),hp(o,a,P,p)):a.memoizedState!==null?(a.child=o.child,a.flags|=128,null):(w=p.fallback,y=a.mode,p=Rp({mode:"visible",children:p.children},y,0,null),w=wa(w,y,P,null),w.flags|=2,p.return=a,w.return=a,p.sibling=w,a.child=p,a.mode&1&&zl(a,o.child,null,P),a.child.memoizedState=A_(P),a.memoizedState=R_,w);if(!(a.mode&1))return hp(o,a,P,null);if(y.data==="$!"){if(p=y.nextSibling&&y.nextSibling.dataset,p)var F=p.dgst;return p=F,w=Error(t(419)),p=E_(w,p,void 0),hp(o,a,P,p)}if(F=(P&o.childLanes)!==0,Kn||F){if(p=ln,p!==null){switch(P&-P){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=y&(p.suspendedLanes|P)?0:y,y!==0&&y!==w.retryLane&&(w.retryLane=y,ls(o,y),ti(p,o,y,-1))}return z_(),p=E_(Error(t(421))),hp(o,a,P,p)}return y.data==="$?"?(a.flags|=128,a.child=o.child,a=zD.bind(null,o),y._reactRetry=a,null):(o=w.treeContext,ur=Gs(y.nextSibling),lr=a,Et=!0,Jr=null,o!==null&&(Pr[Cr++]=os,Pr[Cr++]=as,Pr[Cr++]=da,os=o.id,as=o.overflow,da=a),a=b_(a,p.children),a.flags|=4096,a)}function WT(o,a,c){o.lanes|=a;var p=o.alternate;p!==null&&(p.lanes|=a),i_(o.return,a,c)}function P_(o,a,c,p,y){var w=o.memoizedState;w===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:y}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=c,w.tailMode=y)}function qT(o,a,c){var p=a.pendingProps,y=p.revealOrder,w=p.tail;if(Ln(o,a,p.children,c),p=bt.current,p&2)p=p&1|2,a.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&WT(o,c,a);else if(o.tag===19)WT(o,c,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}p&=1}if(ft(bt,p),!(a.mode&1))a.memoizedState=null;else switch(y){case"forwards":for(c=a.child,y=null;c!==null;)o=c.alternate,o!==null&&sp(o)===null&&(y=c),c=c.sibling;c=y,c===null?(y=a.child,a.child=null):(y=c.sibling,c.sibling=null),P_(a,!1,y,c,w);break;case"backwards":for(c=null,y=a.child,a.child=null;y!==null;){if(o=y.alternate,o!==null&&sp(o)===null){a.child=y;break}o=y.sibling,y.sibling=c,c=y,y=o}P_(a,!0,c,null,w);break;case"together":P_(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function fp(o,a){!(a.mode&1)&&o!==null&&(o.alternate=null,a.alternate=null,a.flags|=2)}function cs(o,a,c){if(o!==null&&(a.dependencies=o.dependencies),ga|=a.lanes,!(c&a.childLanes))return null;if(o!==null&&a.child!==o.child)throw Error(t(153));if(a.child!==null){for(o=a.child,c=so(o,o.pendingProps),a.child=c,c.return=a;o.sibling!==null;)o=o.sibling,c=c.sibling=so(o,o.pendingProps),c.return=a;c.sibling=null}return a.child}function xD(o,a,c){switch(a.tag){case 3:jT(a),Bl();break;case 5:sT(a);break;case 1:Hn(a.type)&&Qf(a);break;case 4:a_(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,y=a.memoizedProps.value;ft(tp,p._currentValue),p._currentValue=y;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(ft(bt,bt.current&1),a.flags|=128,null):c&a.child.childLanes?zT(o,a,c):(ft(bt,bt.current&1),o=cs(o,a,c),o!==null?o.sibling:null);ft(bt,bt.current&1);break;case 19:if(p=(c&a.childLanes)!==0,o.flags&128){if(p)return qT(o,a,c);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ft(bt,bt.current),p)break;return null;case 22:case 23:return a.lanes=0,FT(o,a,c)}return cs(o,a,c)}var HT,C_,KT,GT;HT=function(o,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)o.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},C_=function(){},KT=function(o,a,c,p){var y=o.memoizedProps;if(y!==p){o=a.stateNode,pa(wi.current);var w=null;switch(c){case"input":y=Yt(o,y),p=Yt(o,p),w=[];break;case"select":y=fe({},y,{value:void 0}),p=fe({},p,{value:void 0}),w=[];break;case"textarea":y=_c(o,y),p=_c(o,p),w=[];break;default:typeof y.onClick!="function"&&typeof p.onClick=="function"&&(o.onclick=Hf)}Sc(c,p);var P;c=null;for(X in y)if(!p.hasOwnProperty(X)&&y.hasOwnProperty(X)&&y[X]!=null)if(X==="style"){var F=y[X];for(P in F)F.hasOwnProperty(P)&&(c||(c={}),c[P]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(i.hasOwnProperty(X)?w||(w=[]):(w=w||[]).push(X,null));for(X in p){var j=p[X];if(F=y!=null?y[X]:void 0,p.hasOwnProperty(X)&&j!==F&&(j!=null||F!=null))if(X==="style")if(F){for(P in F)!F.hasOwnProperty(P)||j&&j.hasOwnProperty(P)||(c||(c={}),c[P]="");for(P in j)j.hasOwnProperty(P)&&F[P]!==j[P]&&(c||(c={}),c[P]=j[P])}else c||(w||(w=[]),w.push(X,c)),c=j;else X==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,F=F?F.__html:void 0,j!=null&&F!==j&&(w=w||[]).push(X,j)):X==="children"?typeof j!="string"&&typeof j!="number"||(w=w||[]).push(X,""+j):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(i.hasOwnProperty(X)?(j!=null&&X==="onScroll"&&gt("scroll",o),w||F===j||(w=[])):(w=w||[]).push(X,j))}c&&(w=w||[]).push("style",c);var X=w;(a.updateQueue=X)&&(a.flags|=4)}},GT=function(o,a,c,p){c!==p&&(a.flags|=4)};function id(o,a){if(!Et)switch(o.tailMode){case"hidden":a=o.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?o.tail=null:c.sibling=null;break;case"collapsed":c=o.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function Rn(o){var a=o.alternate!==null&&o.alternate.child===o.child,c=0,p=0;if(a)for(var y=o.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags&14680064,p|=y.flags&14680064,y.return=o,y=y.sibling;else for(y=o.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=o,y=y.sibling;return o.subtreeFlags|=p,o.childLanes=c,a}function OD(o,a,c){var p=a.pendingProps;switch(Jy(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rn(a),null;case 1:return Hn(a.type)&&Gf(),Rn(a),null;case 3:return p=a.stateNode,Hl(),yt(qn),yt(Tn),c_(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(Zf(a)?a.flags|=4:o===null||o.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,Jr!==null&&($_(Jr),Jr=null))),C_(o,a),Rn(a),null;case 5:l_(a);var y=pa(Zc.current);if(c=a.type,o!==null&&a.stateNode!=null)KT(o,a,c,p,y),o.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(t(166));return Rn(a),null}if(o=pa(wi.current),Zf(a)){p=a.stateNode,c=a.type;var w=a.memoizedProps;switch(p[vi]=a,p[Gc]=w,o=(a.mode&1)!==0,c){case"dialog":gt("cancel",p),gt("close",p);break;case"iframe":case"object":case"embed":gt("load",p);break;case"video":case"audio":for(y=0;y<qc.length;y++)gt(qc[y],p);break;case"source":gt("error",p);break;case"img":case"image":case"link":gt("error",p),gt("load",p);break;case"details":gt("toggle",p);break;case"input":$r(p,w),gt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!w.multiple},gt("invalid",p);break;case"textarea":ul(p,w),gt("invalid",p)}Sc(c,w),y=null;for(var P in w)if(w.hasOwnProperty(P)){var F=w[P];P==="children"?typeof F=="string"?p.textContent!==F&&(w.suppressHydrationWarning!==!0&&qf(p.textContent,F,o),y=["children",F]):typeof F=="number"&&p.textContent!==""+F&&(w.suppressHydrationWarning!==!0&&qf(p.textContent,F,o),y=["children",""+F]):i.hasOwnProperty(P)&&F!=null&&P==="onScroll"&&gt("scroll",p)}switch(c){case"input":sn(p),jn(p,w,!0);break;case"textarea":sn(p),vc(p);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(p.onclick=Hf)}p=y,a.updateQueue=p,p!==null&&(a.flags|=4)}else{P=y.nodeType===9?y:y.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Jt(c)),o==="http://www.w3.org/1999/xhtml"?c==="script"?(o=P.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof p.is=="string"?o=P.createElement(c,{is:p.is}):(o=P.createElement(c),c==="select"&&(P=o,p.multiple?P.multiple=!0:p.size&&(P.size=p.size))):o=P.createElementNS(o,c),o[vi]=a,o[Gc]=p,HT(o,a,!1,!1),a.stateNode=o;e:{switch(P=Rc(c,p),c){case"dialog":gt("cancel",o),gt("close",o),y=p;break;case"iframe":case"object":case"embed":gt("load",o),y=p;break;case"video":case"audio":for(y=0;y<qc.length;y++)gt(qc[y],o);y=p;break;case"source":gt("error",o),y=p;break;case"img":case"image":case"link":gt("error",o),gt("load",o),y=p;break;case"details":gt("toggle",o),y=p;break;case"input":$r(o,p),y=Yt(o,p),gt("invalid",o);break;case"option":y=p;break;case"select":o._wrapperState={wasMultiple:!!p.multiple},y=fe({},p,{value:void 0}),gt("invalid",o);break;case"textarea":ul(o,p),y=_c(o,p),gt("invalid",o);break;default:y=p}Sc(c,y),F=y;for(w in F)if(F.hasOwnProperty(w)){var j=F[w];w==="style"?Ic(o,j):w==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&wc(o,j)):w==="children"?typeof j=="string"?(c!=="textarea"||j!=="")&&Ms(o,j):typeof j=="number"&&Ms(o,""+j):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?j!=null&&w==="onScroll"&&gt("scroll",o):j!=null&&M(o,w,j,P))}switch(c){case"input":sn(o),jn(o,p,!1);break;case"textarea":sn(o),vc(o);break;case"option":p.value!=null&&o.setAttribute("value",""+qe(p.value));break;case"select":o.multiple=!!p.multiple,w=p.value,w!=null?Yi(o,!!p.multiple,w,!1):p.defaultValue!=null&&Yi(o,!!p.multiple,p.defaultValue,!0);break;default:typeof y.onClick=="function"&&(o.onclick=Hf)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Rn(a),null;case 6:if(o&&a.stateNode!=null)GT(o,a,o.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(t(166));if(c=pa(Zc.current),pa(wi.current),Zf(a)){if(p=a.stateNode,c=a.memoizedProps,p[vi]=a,(w=p.nodeValue!==c)&&(o=lr,o!==null))switch(o.tag){case 3:qf(p.nodeValue,c,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&qf(p.nodeValue,c,(o.mode&1)!==0)}w&&(a.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[vi]=a,a.stateNode=p}return Rn(a),null;case 13:if(yt(bt),p=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Et&&ur!==null&&a.mode&1&&!(a.flags&128))JI(),Bl(),a.flags|=98560,w=!1;else if(w=Zf(a),p!==null&&p.dehydrated!==null){if(o===null){if(!w)throw Error(t(318));if(w=a.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(t(317));w[vi]=a}else Bl(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;Rn(a),w=!1}else Jr!==null&&($_(Jr),Jr=null),w=!0;if(!w)return a.flags&65536?a:null}return a.flags&128?(a.lanes=c,a):(p=p!==null,p!==(o!==null&&o.memoizedState!==null)&&p&&(a.child.flags|=8192,a.mode&1&&(o===null||bt.current&1?tn===0&&(tn=3):z_())),a.updateQueue!==null&&(a.flags|=4),Rn(a),null);case 4:return Hl(),C_(o,a),o===null&&Hc(a.stateNode.containerInfo),Rn(a),null;case 10:return r_(a.type._context),Rn(a),null;case 17:return Hn(a.type)&&Gf(),Rn(a),null;case 19:if(yt(bt),w=a.memoizedState,w===null)return Rn(a),null;if(p=(a.flags&128)!==0,P=w.rendering,P===null)if(p)id(w,!1);else{if(tn!==0||o!==null&&o.flags&128)for(o=a.child;o!==null;){if(P=sp(o),P!==null){for(a.flags|=128,id(w,!1),p=P.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=c,c=a.child;c!==null;)w=c,o=p,w.flags&=14680066,P=w.alternate,P===null?(w.childLanes=0,w.lanes=o,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=P.childLanes,w.lanes=P.lanes,w.child=P.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=P.memoizedProps,w.memoizedState=P.memoizedState,w.updateQueue=P.updateQueue,w.type=P.type,o=P.dependencies,w.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),c=c.sibling;return ft(bt,bt.current&1|2),a.child}o=o.sibling}w.tail!==null&&ht()>Yl&&(a.flags|=128,p=!0,id(w,!1),a.lanes=4194304)}else{if(!p)if(o=sp(P),o!==null){if(a.flags|=128,p=!0,c=o.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),id(w,!0),w.tail===null&&w.tailMode==="hidden"&&!P.alternate&&!Et)return Rn(a),null}else 2*ht()-w.renderingStartTime>Yl&&c!==1073741824&&(a.flags|=128,p=!0,id(w,!1),a.lanes=4194304);w.isBackwards?(P.sibling=a.child,a.child=P):(c=w.last,c!==null?c.sibling=P:a.child=P,w.last=P)}return w.tail!==null?(a=w.tail,w.rendering=a,w.tail=a.sibling,w.renderingStartTime=ht(),a.sibling=null,c=bt.current,ft(bt,p?c&1|2:c&1),a):(Rn(a),null);case 22:case 23:return B_(),p=a.memoizedState!==null,o!==null&&o.memoizedState!==null!==p&&(a.flags|=8192),p&&a.mode&1?cr&1073741824&&(Rn(a),a.subtreeFlags&6&&(a.flags|=8192)):Rn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function ND(o,a){switch(Jy(a),a.tag){case 1:return Hn(a.type)&&Gf(),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return Hl(),yt(qn),yt(Tn),c_(),o=a.flags,o&65536&&!(o&128)?(a.flags=o&-65537|128,a):null;case 5:return l_(a),null;case 13:if(yt(bt),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Bl()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return yt(bt),null;case 4:return Hl(),null;case 10:return r_(a.type._context),null;case 22:case 23:return B_(),null;case 24:return null;default:return null}}var pp=!1,An=!1,DD=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function Gl(o,a){var c=o.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){Nt(o,a,p)}else c.current=null}function k_(o,a,c){try{c()}catch(p){Nt(o,a,p)}}var QT=!1;function LD(o,a){if(By=qs,o=bI(),Dy(o)){if("selectionStart"in o)var c={start:o.selectionStart,end:o.selectionEnd};else e:{c=(c=o.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var y=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var P=0,F=-1,j=-1,X=0,ce=0,he=o,le=null;t:for(;;){for(var we;he!==c||y!==0&&he.nodeType!==3||(F=P+y),he!==w||p!==0&&he.nodeType!==3||(j=P+p),he.nodeType===3&&(P+=he.nodeValue.length),(we=he.firstChild)!==null;)le=he,he=we;for(;;){if(he===o)break t;if(le===c&&++X===y&&(F=P),le===w&&++ce===p&&(j=P),(we=he.nextSibling)!==null)break;he=le,le=he.parentNode}he=we}c=F===-1||j===-1?null:{start:F,end:j}}else c=null}c=c||{start:0,end:0}}else c=null;for(zy={focusedElem:o,selectionRange:c},qs=!1,Ie=a;Ie!==null;)if(a=Ie,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,Ie=o;else for(;Ie!==null;){a=Ie;try{var Se=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var Ae=Se.memoizedProps,$t=Se.memoizedState,Y=a.stateNode,q=Y.getSnapshotBeforeUpdate(a.elementType===a.type?Ae:Xr(a.type,Ae),$t);Y.__reactInternalSnapshotBeforeUpdate=q}break;case 3:var J=a.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(pe){Nt(a,a.return,pe)}if(o=a.sibling,o!==null){o.return=a.return,Ie=o;break}Ie=a.return}return Se=QT,QT=!1,Se}function sd(o,a,c){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&o)===o){var w=y.destroy;y.destroy=void 0,w!==void 0&&k_(a,c,w)}y=y.next}while(y!==p)}}function mp(o,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&o)===o){var p=c.create;c.destroy=p()}c=c.next}while(c!==a)}}function x_(o){var a=o.ref;if(a!==null){var c=o.stateNode;switch(o.tag){case 5:o=c;break;default:o=c}typeof a=="function"?a(o):a.current=o}}function YT(o){var a=o.alternate;a!==null&&(o.alternate=null,YT(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&(delete a[vi],delete a[Gc],delete a[Ky],delete a[yD],delete a[_D])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function JT(o){return o.tag===5||o.tag===3||o.tag===4}function XT(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||JT(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function O_(o,a,c){var p=o.tag;if(p===5||p===6)o=o.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(o,a):c.insertBefore(o,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(o,c)):(a=c,a.appendChild(o)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Hf));else if(p!==4&&(o=o.child,o!==null))for(O_(o,a,c),o=o.sibling;o!==null;)O_(o,a,c),o=o.sibling}function N_(o,a,c){var p=o.tag;if(p===5||p===6)o=o.stateNode,a?c.insertBefore(o,a):c.appendChild(o);else if(p!==4&&(o=o.child,o!==null))for(N_(o,a,c),o=o.sibling;o!==null;)N_(o,a,c),o=o.sibling}var gn=null,Zr=!1;function eo(o,a,c){for(c=c.child;c!==null;)ZT(o,a,c),c=c.sibling}function ZT(o,a,c){if(ir&&typeof ir.onCommitFiberUnmount=="function")try{ir.onCommitFiberUnmount(na,c)}catch{}switch(c.tag){case 5:An||Gl(c,a);case 6:var p=gn,y=Zr;gn=null,eo(o,a,c),gn=p,Zr=y,gn!==null&&(Zr?(o=gn,c=c.stateNode,o.nodeType===8?o.parentNode.removeChild(c):o.removeChild(c)):gn.removeChild(c.stateNode));break;case 18:gn!==null&&(Zr?(o=gn,c=c.stateNode,o.nodeType===8?Hy(o.parentNode,c):o.nodeType===1&&Hy(o,c),Gr(o)):Hy(gn,c.stateNode));break;case 4:p=gn,y=Zr,gn=c.stateNode.containerInfo,Zr=!0,eo(o,a,c),gn=p,Zr=y;break;case 0:case 11:case 14:case 15:if(!An&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){y=p=p.next;do{var w=y,P=w.destroy;w=w.tag,P!==void 0&&(w&2||w&4)&&k_(c,a,P),y=y.next}while(y!==p)}eo(o,a,c);break;case 1:if(!An&&(Gl(c,a),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(F){Nt(c,a,F)}eo(o,a,c);break;case 21:eo(o,a,c);break;case 22:c.mode&1?(An=(p=An)||c.memoizedState!==null,eo(o,a,c),An=p):eo(o,a,c);break;default:eo(o,a,c)}}function eS(o){var a=o.updateQueue;if(a!==null){o.updateQueue=null;var c=o.stateNode;c===null&&(c=o.stateNode=new DD),a.forEach(function(p){var y=WD.bind(null,o,p);c.has(p)||(c.add(p),p.then(y,y))})}}function ei(o,a){var c=a.deletions;if(c!==null)for(var p=0;p<c.length;p++){var y=c[p];try{var w=o,P=a,F=P;e:for(;F!==null;){switch(F.tag){case 5:gn=F.stateNode,Zr=!1;break e;case 3:gn=F.stateNode.containerInfo,Zr=!0;break e;case 4:gn=F.stateNode.containerInfo,Zr=!0;break e}F=F.return}if(gn===null)throw Error(t(160));ZT(w,P,y),gn=null,Zr=!1;var j=y.alternate;j!==null&&(j.return=null),y.return=null}catch(X){Nt(y,a,X)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)tS(a,o),a=a.sibling}function tS(o,a){var c=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(ei(a,o),Ii(o),p&4){try{sd(3,o,o.return),mp(3,o)}catch(Ae){Nt(o,o.return,Ae)}try{sd(5,o,o.return)}catch(Ae){Nt(o,o.return,Ae)}}break;case 1:ei(a,o),Ii(o),p&512&&c!==null&&Gl(c,c.return);break;case 5:if(ei(a,o),Ii(o),p&512&&c!==null&&Gl(c,c.return),o.flags&32){var y=o.stateNode;try{Ms(y,"")}catch(Ae){Nt(o,o.return,Ae)}}if(p&4&&(y=o.stateNode,y!=null)){var w=o.memoizedProps,P=c!==null?c.memoizedProps:w,F=o.type,j=o.updateQueue;if(o.updateQueue=null,j!==null)try{F==="input"&&w.type==="radio"&&w.name!=null&&Ir(y,w),Rc(F,P);var X=Rc(F,w);for(P=0;P<j.length;P+=2){var ce=j[P],he=j[P+1];ce==="style"?Ic(y,he):ce==="dangerouslySetInnerHTML"?wc(y,he):ce==="children"?Ms(y,he):M(y,ce,he,X)}switch(F){case"input":Tr(y,w);break;case"textarea":cl(y,w);break;case"select":var le=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!w.multiple;var we=w.value;we!=null?Yi(y,!!w.multiple,we,!1):le!==!!w.multiple&&(w.defaultValue!=null?Yi(y,!!w.multiple,w.defaultValue,!0):Yi(y,!!w.multiple,w.multiple?[]:"",!1))}y[Gc]=w}catch(Ae){Nt(o,o.return,Ae)}}break;case 6:if(ei(a,o),Ii(o),p&4){if(o.stateNode===null)throw Error(t(162));y=o.stateNode,w=o.memoizedProps;try{y.nodeValue=w}catch(Ae){Nt(o,o.return,Ae)}}break;case 3:if(ei(a,o),Ii(o),p&4&&c!==null&&c.memoizedState.isDehydrated)try{Gr(a.containerInfo)}catch(Ae){Nt(o,o.return,Ae)}break;case 4:ei(a,o),Ii(o);break;case 13:ei(a,o),Ii(o),y=o.child,y.flags&8192&&(w=y.memoizedState!==null,y.stateNode.isHidden=w,!w||y.alternate!==null&&y.alternate.memoizedState!==null||(V_=ht())),p&4&&eS(o);break;case 22:if(ce=c!==null&&c.memoizedState!==null,o.mode&1?(An=(X=An)||ce,ei(a,o),An=X):ei(a,o),Ii(o),p&8192){if(X=o.memoizedState!==null,(o.stateNode.isHidden=X)&&!ce&&o.mode&1)for(Ie=o,ce=o.child;ce!==null;){for(he=Ie=ce;Ie!==null;){switch(le=Ie,we=le.child,le.tag){case 0:case 11:case 14:case 15:sd(4,le,le.return);break;case 1:Gl(le,le.return);var Se=le.stateNode;if(typeof Se.componentWillUnmount=="function"){p=le,c=le.return;try{a=p,Se.props=a.memoizedProps,Se.state=a.memoizedState,Se.componentWillUnmount()}catch(Ae){Nt(p,c,Ae)}}break;case 5:Gl(le,le.return);break;case 22:if(le.memoizedState!==null){iS(he);continue}}we!==null?(we.return=le,Ie=we):iS(he)}ce=ce.sibling}e:for(ce=null,he=o;;){if(he.tag===5){if(ce===null){ce=he;try{y=he.stateNode,X?(w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(F=he.stateNode,j=he.memoizedProps.style,P=j!=null&&j.hasOwnProperty("display")?j.display:null,F.style.display=Ec("display",P))}catch(Ae){Nt(o,o.return,Ae)}}}else if(he.tag===6){if(ce===null)try{he.stateNode.nodeValue=X?"":he.memoizedProps}catch(Ae){Nt(o,o.return,Ae)}}else if((he.tag!==22&&he.tag!==23||he.memoizedState===null||he===o)&&he.child!==null){he.child.return=he,he=he.child;continue}if(he===o)break e;for(;he.sibling===null;){if(he.return===null||he.return===o)break e;ce===he&&(ce=null),he=he.return}ce===he&&(ce=null),he.sibling.return=he.return,he=he.sibling}}break;case 19:ei(a,o),Ii(o),p&4&&eS(o);break;case 21:break;default:ei(a,o),Ii(o)}}function Ii(o){var a=o.flags;if(a&2){try{e:{for(var c=o.return;c!==null;){if(JT(c)){var p=c;break e}c=c.return}throw Error(t(160))}switch(p.tag){case 5:var y=p.stateNode;p.flags&32&&(Ms(y,""),p.flags&=-33);var w=XT(o);N_(o,w,y);break;case 3:case 4:var P=p.stateNode.containerInfo,F=XT(o);O_(o,F,P);break;default:throw Error(t(161))}}catch(j){Nt(o,o.return,j)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function VD(o,a,c){Ie=o,nS(o)}function nS(o,a,c){for(var p=(o.mode&1)!==0;Ie!==null;){var y=Ie,w=y.child;if(y.tag===22&&p){var P=y.memoizedState!==null||pp;if(!P){var F=y.alternate,j=F!==null&&F.memoizedState!==null||An;F=pp;var X=An;if(pp=P,(An=j)&&!X)for(Ie=y;Ie!==null;)P=Ie,j=P.child,P.tag===22&&P.memoizedState!==null?sS(y):j!==null?(j.return=P,Ie=j):sS(y);for(;w!==null;)Ie=w,nS(w),w=w.sibling;Ie=y,pp=F,An=X}rS(o)}else y.subtreeFlags&8772&&w!==null?(w.return=y,Ie=w):rS(o)}}function rS(o){for(;Ie!==null;){var a=Ie;if(a.flags&8772){var c=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:An||mp(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!An)if(c===null)p.componentDidMount();else{var y=a.elementType===a.type?c.memoizedProps:Xr(a.type,c.memoizedProps);p.componentDidUpdate(y,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var w=a.updateQueue;w!==null&&iT(a,w,p);break;case 3:var P=a.updateQueue;if(P!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}iT(a,P,c)}break;case 5:var F=a.stateNode;if(c===null&&a.flags&4){c=F;var j=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&c.focus();break;case"img":j.src&&(c.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var X=a.alternate;if(X!==null){var ce=X.memoizedState;if(ce!==null){var he=ce.dehydrated;he!==null&&Gr(he)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}An||a.flags&512&&x_(a)}catch(le){Nt(a,a.return,le)}}if(a===o){Ie=null;break}if(c=a.sibling,c!==null){c.return=a.return,Ie=c;break}Ie=a.return}}function iS(o){for(;Ie!==null;){var a=Ie;if(a===o){Ie=null;break}var c=a.sibling;if(c!==null){c.return=a.return,Ie=c;break}Ie=a.return}}function sS(o){for(;Ie!==null;){var a=Ie;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{mp(4,a)}catch(j){Nt(a,c,j)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var y=a.return;try{p.componentDidMount()}catch(j){Nt(a,y,j)}}var w=a.return;try{x_(a)}catch(j){Nt(a,w,j)}break;case 5:var P=a.return;try{x_(a)}catch(j){Nt(a,P,j)}}}catch(j){Nt(a,a.return,j)}if(a===o){Ie=null;break}var F=a.sibling;if(F!==null){F.return=a.return,Ie=F;break}Ie=a.return}}var MD=Math.ceil,gp=z.ReactCurrentDispatcher,D_=z.ReactCurrentOwner,Or=z.ReactCurrentBatchConfig,Je=0,ln=null,Ht=null,yn=0,cr=0,Ql=Qs(0),tn=0,od=null,ga=0,yp=0,L_=0,ad=null,Gn=null,V_=0,Yl=1/0,ds=null,_p=!1,M_=null,to=null,vp=!1,no=null,wp=0,ld=0,F_=null,Ep=-1,Ip=0;function Vn(){return Je&6?ht():Ep!==-1?Ep:Ep=ht()}function ro(o){return o.mode&1?Je&2&&yn!==0?yn&-yn:wD.transition!==null?(Ip===0&&(Ip=ia()),Ip):(o=He,o!==0||(o=window.event,o=o===void 0?16:Vc(o.type)),o):1}function ti(o,a,c,p){if(50<ld)throw ld=0,F_=null,Error(t(185));js(o,c,p),(!(Je&2)||o!==ln)&&(o===ln&&(!(Je&2)&&(yp|=c),tn===4&&io(o,yn)),Qn(o,p),c===1&&Je===0&&!(a.mode&1)&&(Yl=ht()+500,Yf&&Js()))}function Qn(o,a){var c=o.callbackNode;Zi(o,a);var p=ra(o,o===ln?yn:0);if(p===0)c!==null&&xc(c),o.callbackNode=null,o.callbackPriority=0;else if(a=p&-p,o.callbackPriority!==a){if(c!=null&&xc(c),a===1)o.tag===0?vD(aS.bind(null,o)):HI(aS.bind(null,o)),mD(function(){!(Je&6)&&Js()}),c=null;else{switch(zs(p)){case 1:c=ta;break;case 4:c=Fs;break;case 16:c=Rr;break;case 536870912:c=If;break;default:c=Rr}c=mS(c,oS.bind(null,o))}o.callbackPriority=a,o.callbackNode=c}}function oS(o,a){if(Ep=-1,Ip=0,Je&6)throw Error(t(327));var c=o.callbackNode;if(Jl()&&o.callbackNode!==c)return null;var p=ra(o,o===ln?yn:0);if(p===0)return null;if(p&30||p&o.expiredLanes||a)a=Tp(o,p);else{a=p;var y=Je;Je|=2;var w=uS();(ln!==o||yn!==a)&&(ds=null,Yl=ht()+500,_a(o,a));do try{$D();break}catch(F){lS(o,F)}while(!0);n_(),gp.current=w,Je=y,Ht!==null?a=0:(ln=null,yn=0,a=tn)}if(a!==0){if(a===2&&(y=sr(o),y!==0&&(p=y,a=U_(o,y))),a===1)throw c=od,_a(o,0),io(o,p),Qn(o,ht()),c;if(a===6)io(o,p);else{if(y=o.current.alternate,!(p&30)&&!FD(y)&&(a=Tp(o,p),a===2&&(w=sr(o),w!==0&&(p=w,a=U_(o,w))),a===1))throw c=od,_a(o,0),io(o,p),Qn(o,ht()),c;switch(o.finishedWork=y,o.finishedLanes=p,a){case 0:case 1:throw Error(t(345));case 2:va(o,Gn,ds);break;case 3:if(io(o,p),(p&130023424)===p&&(a=V_+500-ht(),10<a)){if(ra(o,0)!==0)break;if(y=o.suspendedLanes,(y&p)!==p){Vn(),o.pingedLanes|=o.suspendedLanes&y;break}o.timeoutHandle=qy(va.bind(null,o,Gn,ds),a);break}va(o,Gn,ds);break;case 4:if(io(o,p),(p&4194240)===p)break;for(a=o.eventTimes,y=-1;0<p;){var P=31-Nn(p);w=1<<P,P=a[P],P>y&&(y=P),p&=~w}if(p=y,p=ht()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*MD(p/1960))-p,10<p){o.timeoutHandle=qy(va.bind(null,o,Gn,ds),p);break}va(o,Gn,ds);break;case 5:va(o,Gn,ds);break;default:throw Error(t(329))}}}return Qn(o,ht()),o.callbackNode===c?oS.bind(null,o):null}function U_(o,a){var c=ad;return o.current.memoizedState.isDehydrated&&(_a(o,a).flags|=256),o=Tp(o,a),o!==2&&(a=Gn,Gn=c,a!==null&&$_(a)),o}function $_(o){Gn===null?Gn=o:Gn.push.apply(Gn,o)}function FD(o){for(var a=o;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var y=c[p],w=y.getSnapshot;y=y.value;try{if(!Yr(w(),y))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function io(o,a){for(a&=~L_,a&=~yp,o.suspendedLanes|=a,o.pingedLanes&=~a,o=o.expirationTimes;0<a;){var c=31-Nn(a),p=1<<c;o[c]=-1,a&=~p}}function aS(o){if(Je&6)throw Error(t(327));Jl();var a=ra(o,0);if(!(a&1))return Qn(o,ht()),null;var c=Tp(o,a);if(o.tag!==0&&c===2){var p=sr(o);p!==0&&(a=p,c=U_(o,p))}if(c===1)throw c=od,_a(o,0),io(o,a),Qn(o,ht()),c;if(c===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=a,va(o,Gn,ds),Qn(o,ht()),null}function j_(o,a){var c=Je;Je|=1;try{return o(a)}finally{Je=c,Je===0&&(Yl=ht()+500,Yf&&Js())}}function ya(o){no!==null&&no.tag===0&&!(Je&6)&&Jl();var a=Je;Je|=1;var c=Or.transition,p=He;try{if(Or.transition=null,He=1,o)return o()}finally{He=p,Or.transition=c,Je=a,!(Je&6)&&Js()}}function B_(){cr=Ql.current,yt(Ql)}function _a(o,a){o.finishedWork=null,o.finishedLanes=0;var c=o.timeoutHandle;if(c!==-1&&(o.timeoutHandle=-1,pD(c)),Ht!==null)for(c=Ht.return;c!==null;){var p=c;switch(Jy(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Gf();break;case 3:Hl(),yt(qn),yt(Tn),c_();break;case 5:l_(p);break;case 4:Hl();break;case 13:yt(bt);break;case 19:yt(bt);break;case 10:r_(p.type._context);break;case 22:case 23:B_()}c=c.return}if(ln=o,Ht=o=so(o.current,null),yn=cr=a,tn=0,od=null,L_=yp=ga=0,Gn=ad=null,fa!==null){for(a=0;a<fa.length;a++)if(c=fa[a],p=c.interleaved,p!==null){c.interleaved=null;var y=p.next,w=c.pending;if(w!==null){var P=w.next;w.next=y,p.next=P}c.pending=p}fa=null}return o}function lS(o,a){do{var c=Ht;try{if(n_(),op.current=cp,ap){for(var p=Pt.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}ap=!1}if(ma=0,an=en=Pt=null,ed=!1,td=0,D_.current=null,c===null||c.return===null){tn=1,od=a,Ht=null;break}e:{var w=o,P=c.return,F=c,j=a;if(a=yn,F.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var X=j,ce=F,he=ce.tag;if(!(ce.mode&1)&&(he===0||he===11||he===15)){var le=ce.alternate;le?(ce.updateQueue=le.updateQueue,ce.memoizedState=le.memoizedState,ce.lanes=le.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var we=NT(P);if(we!==null){we.flags&=-257,DT(we,P,F,w,a),we.mode&1&&OT(w,X,a),a=we,j=X;var Se=a.updateQueue;if(Se===null){var Ae=new Set;Ae.add(j),a.updateQueue=Ae}else Se.add(j);break e}else{if(!(a&1)){OT(w,X,a),z_();break e}j=Error(t(426))}}else if(Et&&F.mode&1){var $t=NT(P);if($t!==null){!($t.flags&65536)&&($t.flags|=256),DT($t,P,F,w,a),e_(Kl(j,F));break e}}w=j=Kl(j,F),tn!==4&&(tn=2),ad===null?ad=[w]:ad.push(w),w=P;do{switch(w.tag){case 3:w.flags|=65536,a&=-a,w.lanes|=a;var Y=kT(w,j,a);rT(w,Y);break e;case 1:F=j;var q=w.type,J=w.stateNode;if(!(w.flags&128)&&(typeof q.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(to===null||!to.has(J)))){w.flags|=65536,a&=-a,w.lanes|=a;var pe=xT(w,F,a);rT(w,pe);break e}}w=w.return}while(w!==null)}dS(c)}catch(be){a=be,Ht===c&&c!==null&&(Ht=c=c.return);continue}break}while(!0)}function uS(){var o=gp.current;return gp.current=cp,o===null?cp:o}function z_(){(tn===0||tn===3||tn===2)&&(tn=4),ln===null||!(ga&268435455)&&!(yp&268435455)||io(ln,yn)}function Tp(o,a){var c=Je;Je|=2;var p=uS();(ln!==o||yn!==a)&&(ds=null,_a(o,a));do try{UD();break}catch(y){lS(o,y)}while(!0);if(n_(),Je=c,gp.current=p,Ht!==null)throw Error(t(261));return ln=null,yn=0,tn}function UD(){for(;Ht!==null;)cS(Ht)}function $D(){for(;Ht!==null&&!wf();)cS(Ht)}function cS(o){var a=pS(o.alternate,o,cr);o.memoizedProps=o.pendingProps,a===null?dS(o):Ht=a,D_.current=null}function dS(o){var a=o;do{var c=a.alternate;if(o=a.return,a.flags&32768){if(c=ND(c,a),c!==null){c.flags&=32767,Ht=c;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{tn=6,Ht=null;return}}else if(c=OD(c,a,cr),c!==null){Ht=c;return}if(a=a.sibling,a!==null){Ht=a;return}Ht=a=o}while(a!==null);tn===0&&(tn=5)}function va(o,a,c){var p=He,y=Or.transition;try{Or.transition=null,He=1,jD(o,a,c,p)}finally{Or.transition=y,He=p}return null}function jD(o,a,c,p){do Jl();while(no!==null);if(Je&6)throw Error(t(327));c=o.finishedWork;var y=o.finishedLanes;if(c===null)return null;if(o.finishedWork=null,o.finishedLanes=0,c===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var w=c.lanes|c.childLanes;if(lt(o,w),o===ln&&(Ht=ln=null,yn=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||vp||(vp=!0,mS(Rr,function(){return Jl(),null})),w=(c.flags&15990)!==0,c.subtreeFlags&15990||w){w=Or.transition,Or.transition=null;var P=He;He=1;var F=Je;Je|=4,D_.current=null,LD(o,c),tS(c,o),aD(zy),qs=!!By,zy=By=null,o.current=c,VD(c),Ay(),Je=F,He=P,Or.transition=w}else o.current=c;if(vp&&(vp=!1,no=o,wp=y),w=o.pendingLanes,w===0&&(to=null),Tf(c.stateNode),Qn(o,ht()),a!==null)for(p=o.onRecoverableError,c=0;c<a.length;c++)y=a[c],p(y.value,{componentStack:y.stack,digest:y.digest});if(_p)throw _p=!1,o=M_,M_=null,o;return wp&1&&o.tag!==0&&Jl(),w=o.pendingLanes,w&1?o===F_?ld++:(ld=0,F_=o):ld=0,Js(),null}function Jl(){if(no!==null){var o=zs(wp),a=Or.transition,c=He;try{if(Or.transition=null,He=16>o?16:o,no===null)var p=!1;else{if(o=no,no=null,wp=0,Je&6)throw Error(t(331));var y=Je;for(Je|=4,Ie=o.current;Ie!==null;){var w=Ie,P=w.child;if(Ie.flags&16){var F=w.deletions;if(F!==null){for(var j=0;j<F.length;j++){var X=F[j];for(Ie=X;Ie!==null;){var ce=Ie;switch(ce.tag){case 0:case 11:case 15:sd(8,ce,w)}var he=ce.child;if(he!==null)he.return=ce,Ie=he;else for(;Ie!==null;){ce=Ie;var le=ce.sibling,we=ce.return;if(YT(ce),ce===X){Ie=null;break}if(le!==null){le.return=we,Ie=le;break}Ie=we}}}var Se=w.alternate;if(Se!==null){var Ae=Se.child;if(Ae!==null){Se.child=null;do{var $t=Ae.sibling;Ae.sibling=null,Ae=$t}while(Ae!==null)}}Ie=w}}if(w.subtreeFlags&2064&&P!==null)P.return=w,Ie=P;else e:for(;Ie!==null;){if(w=Ie,w.flags&2048)switch(w.tag){case 0:case 11:case 15:sd(9,w,w.return)}var Y=w.sibling;if(Y!==null){Y.return=w.return,Ie=Y;break e}Ie=w.return}}var q=o.current;for(Ie=q;Ie!==null;){P=Ie;var J=P.child;if(P.subtreeFlags&2064&&J!==null)J.return=P,Ie=J;else e:for(P=q;Ie!==null;){if(F=Ie,F.flags&2048)try{switch(F.tag){case 0:case 11:case 15:mp(9,F)}}catch(be){Nt(F,F.return,be)}if(F===P){Ie=null;break e}var pe=F.sibling;if(pe!==null){pe.return=F.return,Ie=pe;break e}Ie=F.return}}if(Je=y,Js(),ir&&typeof ir.onPostCommitFiberRoot=="function")try{ir.onPostCommitFiberRoot(na,o)}catch{}p=!0}return p}finally{He=c,Or.transition=a}}return!1}function hS(o,a,c){a=Kl(c,a),a=kT(o,a,1),o=Zs(o,a,1),a=Vn(),o!==null&&(js(o,1,a),Qn(o,a))}function Nt(o,a,c){if(o.tag===3)hS(o,o,c);else for(;a!==null;){if(a.tag===3){hS(a,o,c);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(to===null||!to.has(p))){o=Kl(c,o),o=xT(a,o,1),a=Zs(a,o,1),o=Vn(),a!==null&&(js(a,1,o),Qn(a,o));break}}a=a.return}}function BD(o,a,c){var p=o.pingCache;p!==null&&p.delete(a),a=Vn(),o.pingedLanes|=o.suspendedLanes&c,ln===o&&(yn&c)===c&&(tn===4||tn===3&&(yn&130023424)===yn&&500>ht()-V_?_a(o,0):L_|=c),Qn(o,a)}function fS(o,a){a===0&&(o.mode&1?(a=wl,wl<<=1,!(wl&130023424)&&(wl=4194304)):a=1);var c=Vn();o=ls(o,a),o!==null&&(js(o,a,c),Qn(o,c))}function zD(o){var a=o.memoizedState,c=0;a!==null&&(c=a.retryLane),fS(o,c)}function WD(o,a){var c=0;switch(o.tag){case 13:var p=o.stateNode,y=o.memoizedState;y!==null&&(c=y.retryLane);break;case 19:p=o.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(a),fS(o,c)}var pS;pS=function(o,a,c){if(o!==null)if(o.memoizedProps!==a.pendingProps||qn.current)Kn=!0;else{if(!(o.lanes&c)&&!(a.flags&128))return Kn=!1,xD(o,a,c);Kn=!!(o.flags&131072)}else Kn=!1,Et&&a.flags&1048576&&KI(a,Xf,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;fp(o,a),o=a.pendingProps;var y=Ul(a,Tn.current);ql(a,c),y=f_(null,a,p,o,y,c);var w=p_();return a.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Hn(p)?(w=!0,Qf(a)):w=!1,a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,o_(a),y.updater=dp,a.stateNode=y,y._reactInternals=a,w_(a,p,o,c),a=S_(null,a,p,!0,w,c)):(a.tag=0,Et&&w&&Yy(a),Ln(null,a,y,c),a=a.child),a;case 16:p=a.elementType;e:{switch(fp(o,a),o=a.pendingProps,y=p._init,p=y(p._payload),a.type=p,y=a.tag=HD(p),o=Xr(p,o),y){case 0:a=T_(null,a,p,o,c);break e;case 1:a=$T(null,a,p,o,c);break e;case 11:a=LT(null,a,p,o,c);break e;case 14:a=VT(null,a,p,Xr(p.type,o),c);break e}throw Error(t(306,p,""))}return a;case 0:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:Xr(p,y),T_(o,a,p,y,c);case 1:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:Xr(p,y),$T(o,a,p,y,c);case 3:e:{if(jT(a),o===null)throw Error(t(387));p=a.pendingProps,w=a.memoizedState,y=w.element,nT(o,a),ip(a,p,null,c);var P=a.memoizedState;if(p=P.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){y=Kl(Error(t(423)),a),a=BT(o,a,p,c,y);break e}else if(p!==y){y=Kl(Error(t(424)),a),a=BT(o,a,p,c,y);break e}else for(ur=Gs(a.stateNode.containerInfo.firstChild),lr=a,Et=!0,Jr=null,c=eT(a,null,p,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Bl(),p===y){a=cs(o,a,c);break e}Ln(o,a,p,c)}a=a.child}return a;case 5:return sT(a),o===null&&Zy(a),p=a.type,y=a.pendingProps,w=o!==null?o.memoizedProps:null,P=y.children,Wy(p,y)?P=null:w!==null&&Wy(p,w)&&(a.flags|=32),UT(o,a),Ln(o,a,P,c),a.child;case 6:return o===null&&Zy(a),null;case 13:return zT(o,a,c);case 4:return a_(a,a.stateNode.containerInfo),p=a.pendingProps,o===null?a.child=zl(a,null,p,c):Ln(o,a,p,c),a.child;case 11:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:Xr(p,y),LT(o,a,p,y,c);case 7:return Ln(o,a,a.pendingProps,c),a.child;case 8:return Ln(o,a,a.pendingProps.children,c),a.child;case 12:return Ln(o,a,a.pendingProps.children,c),a.child;case 10:e:{if(p=a.type._context,y=a.pendingProps,w=a.memoizedProps,P=y.value,ft(tp,p._currentValue),p._currentValue=P,w!==null)if(Yr(w.value,P)){if(w.children===y.children&&!qn.current){a=cs(o,a,c);break e}}else for(w=a.child,w!==null&&(w.return=a);w!==null;){var F=w.dependencies;if(F!==null){P=w.child;for(var j=F.firstContext;j!==null;){if(j.context===p){if(w.tag===1){j=us(-1,c&-c),j.tag=2;var X=w.updateQueue;if(X!==null){X=X.shared;var ce=X.pending;ce===null?j.next=j:(j.next=ce.next,ce.next=j),X.pending=j}}w.lanes|=c,j=w.alternate,j!==null&&(j.lanes|=c),i_(w.return,c,a),F.lanes|=c;break}j=j.next}}else if(w.tag===10)P=w.type===a.type?null:w.child;else if(w.tag===18){if(P=w.return,P===null)throw Error(t(341));P.lanes|=c,F=P.alternate,F!==null&&(F.lanes|=c),i_(P,c,a),P=w.sibling}else P=w.child;if(P!==null)P.return=w;else for(P=w;P!==null;){if(P===a){P=null;break}if(w=P.sibling,w!==null){w.return=P.return,P=w;break}P=P.return}w=P}Ln(o,a,y.children,c),a=a.child}return a;case 9:return y=a.type,p=a.pendingProps.children,ql(a,c),y=kr(y),p=p(y),a.flags|=1,Ln(o,a,p,c),a.child;case 14:return p=a.type,y=Xr(p,a.pendingProps),y=Xr(p.type,y),VT(o,a,p,y,c);case 15:return MT(o,a,a.type,a.pendingProps,c);case 17:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:Xr(p,y),fp(o,a),a.tag=1,Hn(p)?(o=!0,Qf(a)):o=!1,ql(a,c),PT(a,p,y),w_(a,p,y,c),S_(null,a,p,!0,o,c);case 19:return qT(o,a,c);case 22:return FT(o,a,c)}throw Error(t(156,a.tag))};function mS(o,a){return _l(o,a)}function qD(o,a,c,p){this.tag=o,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nr(o,a,c,p){return new qD(o,a,c,p)}function W_(o){return o=o.prototype,!(!o||!o.isReactComponent)}function HD(o){if(typeof o=="function")return W_(o)?1:0;if(o!=null){if(o=o.$$typeof,o===k)return 11;if(o===U)return 14}return 2}function so(o,a){var c=o.alternate;return c===null?(c=Nr(o.tag,a,o.key,o.mode),c.elementType=o.elementType,c.type=o.type,c.stateNode=o.stateNode,c.alternate=o,o.alternate=c):(c.pendingProps=a,c.type=o.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=o.flags&14680064,c.childLanes=o.childLanes,c.lanes=o.lanes,c.child=o.child,c.memoizedProps=o.memoizedProps,c.memoizedState=o.memoizedState,c.updateQueue=o.updateQueue,a=o.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=o.sibling,c.index=o.index,c.ref=o.ref,c}function Sp(o,a,c,p,y,w){var P=2;if(p=o,typeof o=="function")W_(o)&&(P=1);else if(typeof o=="string")P=5;else e:switch(o){case D:return wa(c.children,y,w,a);case A:P=8,y|=8;break;case C:return o=Nr(12,c,a,y|2),o.elementType=C,o.lanes=w,o;case O:return o=Nr(13,c,a,y),o.elementType=O,o.lanes=w,o;case ee:return o=Nr(19,c,a,y),o.elementType=ee,o.lanes=w,o;case oe:return Rp(c,y,w,a);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case E:P=10;break e;case x:P=9;break e;case k:P=11;break e;case U:P=14;break e;case ge:P=16,p=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return a=Nr(P,c,a,y),a.elementType=o,a.type=p,a.lanes=w,a}function wa(o,a,c,p){return o=Nr(7,o,p,a),o.lanes=c,o}function Rp(o,a,c,p){return o=Nr(22,o,p,a),o.elementType=oe,o.lanes=c,o.stateNode={isHidden:!1},o}function q_(o,a,c){return o=Nr(6,o,null,a),o.lanes=c,o}function H_(o,a,c){return a=Nr(4,o.children!==null?o.children:[],o.key,a),a.lanes=c,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function KD(o,a,c,p,y){this.tag=a,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$s(0),this.expirationTimes=$s(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$s(0),this.identifierPrefix=p,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function K_(o,a,c,p,y,w,P,F,j){return o=new KD(o,a,c,F,j),a===1?(a=1,w===!0&&(a|=8)):a=0,w=Nr(3,null,null,a),o.current=w,w.stateNode=o,w.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},o_(w),o}function GD(o,a,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:W,key:p==null?null:""+p,children:o,containerInfo:a,implementation:c}}function gS(o){if(!o)return Ys;o=o._reactInternals;e:{if(zr(o)!==o||o.tag!==1)throw Error(t(170));var a=o;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Hn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(o.tag===1){var c=o.type;if(Hn(c))return WI(o,c,a)}return a}function yS(o,a,c,p,y,w,P,F,j){return o=K_(c,p,!0,o,y,w,P,F,j),o.context=gS(null),c=o.current,p=Vn(),y=ro(c),w=us(p,y),w.callback=a??null,Zs(c,w,y),o.current.lanes=y,js(o,y,p),Qn(o,p),o}function Ap(o,a,c,p){var y=a.current,w=Vn(),P=ro(y);return c=gS(c),a.context===null?a.context=c:a.pendingContext=c,a=us(w,P),a.payload={element:o},p=p===void 0?null:p,p!==null&&(a.callback=p),o=Zs(y,a,P),o!==null&&(ti(o,y,P,w),rp(o,y,P)),P}function bp(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function _S(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var c=o.retryLane;o.retryLane=c!==0&&c<a?c:a}}function G_(o,a){_S(o,a),(o=o.alternate)&&_S(o,a)}function QD(){return null}var vS=typeof reportError=="function"?reportError:function(o){console.error(o)};function Q_(o){this._internalRoot=o}Pp.prototype.render=Q_.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(t(409));Ap(o,a,null,null)},Pp.prototype.unmount=Q_.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;ya(function(){Ap(null,o,null,null)}),a[is]=null}};function Pp(o){this._internalRoot=o}Pp.prototype.unstable_scheduleHydration=function(o){if(o){var a=Pf();o={blockedOn:null,target:o,priority:a};for(var c=0;c<mi.length&&a!==0&&a<mi[c].priority;c++);mi.splice(c,0,o),c===0&&xf(o)}};function Y_(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Cp(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function wS(){}function YD(o,a,c,p,y){if(y){if(typeof p=="function"){var w=p;p=function(){var X=bp(P);w.call(X)}}var P=yS(a,p,o,0,null,!1,!1,"",wS);return o._reactRootContainer=P,o[is]=P.current,Hc(o.nodeType===8?o.parentNode:o),ya(),P}for(;y=o.lastChild;)o.removeChild(y);if(typeof p=="function"){var F=p;p=function(){var X=bp(j);F.call(X)}}var j=K_(o,0,!1,null,null,!1,!1,"",wS);return o._reactRootContainer=j,o[is]=j.current,Hc(o.nodeType===8?o.parentNode:o),ya(function(){Ap(a,j,c,p)}),j}function kp(o,a,c,p,y){var w=c._reactRootContainer;if(w){var P=w;if(typeof y=="function"){var F=y;y=function(){var j=bp(P);F.call(j)}}Ap(a,P,o,y)}else P=YD(c,a,o,y,p);return bp(P)}Af=function(o){switch(o.tag){case 3:var a=o.stateNode;if(a.current.memoizedState.isDehydrated){var c=Us(a.pendingLanes);c!==0&&(Bs(a,c|1),Qn(a,ht()),!(Je&6)&&(Yl=ht()+500,Js()))}break;case 13:ya(function(){var p=ls(o,1);if(p!==null){var y=Vn();ti(p,o,1,y)}}),G_(o,1)}},El=function(o){if(o.tag===13){var a=ls(o,134217728);if(a!==null){var c=Vn();ti(a,o,134217728,c)}G_(o,134217728)}},bf=function(o){if(o.tag===13){var a=ro(o),c=ls(o,a);if(c!==null){var p=Vn();ti(c,o,a,p)}G_(o,a)}},Pf=function(){return He},Cf=function(o,a){var c=He;try{return He=o,a()}finally{He=c}},hl=function(o,a,c){switch(a){case"input":if(Tr(o,c),a=c.name,c.type==="radio"&&a!=null){for(c=o;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var p=c[a];if(p!==o&&p.form===o.form){var y=Kf(p);if(!y)throw Error(t(90));rt(p),Tr(p,y)}}}break;case"textarea":cl(o,c);break;case"select":a=c.value,a!=null&&Yi(o,!!c.multiple,a,!1)}},Jo=j_,bc=ya;var JD={usingClientEntryPoint:!1,Events:[Qc,Ml,Kf,fi,Ac,j_]},ud={findFiberByHostInstance:ua,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XD={bundleType:ud.bundleType,version:ud.version,rendererPackageName:ud.rendererPackageName,rendererConfig:ud.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=kc(o),o===null?null:o.stateNode},findFiberByHostInstance:ud.findFiberByHostInstance||QD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xp.isDisabled&&xp.supportsFiber)try{na=xp.inject(XD),ir=xp}catch{}}return Yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JD,Yn.createPortal=function(o,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Y_(a))throw Error(t(200));return GD(o,a,null,c)},Yn.createRoot=function(o,a){if(!Y_(o))throw Error(t(299));var c=!1,p="",y=vS;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=K_(o,1,!1,null,null,c,!1,p,y),o[is]=a.current,Hc(o.nodeType===8?o.parentNode:o),new Q_(a)},Yn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=kc(a),o=o===null?null:o.stateNode,o},Yn.flushSync=function(o){return ya(o)},Yn.hydrate=function(o,a,c){if(!Cp(a))throw Error(t(200));return kp(null,o,a,!0,c)},Yn.hydrateRoot=function(o,a,c){if(!Y_(o))throw Error(t(405));var p=c!=null&&c.hydratedSources||null,y=!1,w="",P=vS;if(c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onRecoverableError!==void 0&&(P=c.onRecoverableError)),a=yS(a,null,o,1,c??null,y,!1,w,P),o[is]=a.current,Hc(o),p)for(o=0;o<p.length;o++)c=p[o],y=c._getVersion,y=y(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,y]:a.mutableSourceEagerHydrationData.push(c,y);return new Pp(a)},Yn.render=function(o,a,c){if(!Cp(a))throw Error(t(200));return kp(null,o,a,!1,c)},Yn.unmountComponentAtNode=function(o){if(!Cp(o))throw Error(t(40));return o._reactRootContainer?(ya(function(){kp(null,null,o,!1,function(){o._reactRootContainer=null,o[is]=null})}),!0):!1},Yn.unstable_batchedUpdates=j_,Yn.unstable_renderSubtreeIntoContainer=function(o,a,c,p){if(!Cp(c))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return kp(o,a,c,!1,p)},Yn.version="18.3.1-next-f1338f8080-20240426",Yn}var PS;function aL(){if(PS)return Z_.exports;PS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Z_.exports=oL(),Z_.exports}var CS;function lL(){if(CS)return Op;CS=1;var n=aL();return Op.createRoot=n.createRoot,Op.hydrateRoot=n.hydrateRoot,Op}var uL=lL(),dd={},kS;function cL(){if(kS)return dd;kS=1,Object.defineProperty(dd,"__esModule",{value:!0}),dd.parse=l,dd.serialize=h;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function l(_,I){const T=new s,R=_.length;if(R<2)return T;const b=(I==null?void 0:I.decode)||m;let V=0;do{const L=_.indexOf("=",V);if(L===-1)break;const M=_.indexOf(";",V),z=M===-1?R:M;if(L>z){V=_.lastIndexOf(";",L-1)+1;continue}const $=u(_,V,L),W=d(_,L,$),D=_.slice($,W);if(T[D]===void 0){let A=u(_,L+1,z),C=d(_,z,A);const E=b(_.slice(A,C));T[D]=E}V=z+1}while(V<R);return T}function u(_,I,T){do{const R=_.charCodeAt(I);if(R!==32&&R!==9)return I}while(++I<T);return T}function d(_,I,T){for(;I>T;){const R=_.charCodeAt(--I);if(R!==32&&R!==9)return I+1}return T}function h(_,I,T){const R=(T==null?void 0:T.encode)||encodeURIComponent;if(!n.test(_))throw new TypeError(`argument name is invalid: ${_}`);const b=R(I);if(!e.test(b))throw new TypeError(`argument val is invalid: ${I}`);let V=_+"="+b;if(!T)return V;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);V+="; Max-Age="+T.maxAge}if(T.domain){if(!t.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);V+="; Domain="+T.domain}if(T.path){if(!r.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);V+="; Path="+T.path}if(T.expires){if(!g(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);V+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(V+="; HttpOnly"),T.secure&&(V+="; Secure"),T.partitioned&&(V+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":V+="; Priority=Low";break;case"medium":V+="; Priority=Medium";break;case"high":V+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":V+="; SameSite=Strict";break;case"lax":V+="; SameSite=Lax";break;case"none":V+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return V}function m(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function g(_){return i.call(_)==="[object Date]"}return dd}cL();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var xS="popstate";function dL(n={}){function e(i,s){let{pathname:l="/",search:u="",hash:d=""}=el(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),zv("",{pathname:l,search:u,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){let l=i.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let d=i.location.href,h=d.indexOf("#");u=h===-1?d:d.slice(0,h)}return u+"#"+(typeof s=="string"?s:sh(s))}function r(i,s){oi(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return fL(e,t,r,n)}function Ct(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function oi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hL(){return Math.random().toString(36).substring(2,10)}function OS(n,e){return{usr:n.state,key:n.key,idx:e}}function zv(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?el(e):e,state:t,key:e&&e.key||r||hL()}}function sh({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function el(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function fL(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,u="POP",d=null,h=m();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function m(){return(l.state||{idx:null}).idx}function g(){u="POP";let b=m(),V=b==null?null:b-h;h=b,d&&d({action:u,location:R.location,delta:V})}function _(b,V){u="PUSH";let L=zv(R.location,b,V);t&&t(L,b),h=m()+1;let M=OS(L,h),z=R.createHref(L);try{l.pushState(M,"",z)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;i.location.assign(z)}s&&d&&d({action:u,location:R.location,delta:1})}function I(b,V){u="REPLACE";let L=zv(R.location,b,V);t&&t(L,b),h=m();let M=OS(L,h),z=R.createHref(L);l.replaceState(M,"",z),s&&d&&d({action:u,location:R.location,delta:0})}function T(b){let V=i.location.origin!=="null"?i.location.origin:i.location.href,L=typeof b=="string"?b:sh(b);return L=L.replace(/ $/,"%20"),Ct(V,`No window.location.(origin|href) available to create URL for href: ${L}`),new URL(L,V)}let R={get action(){return u},get location(){return n(i,l)},listen(b){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(xS,g),d=b,()=>{i.removeEventListener(xS,g),d=null}},createHref(b){return e(i,b)},createURL:T,encodeLocation(b){let V=T(b);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:_,replace:I,go(b){return l.go(b)}};return R}function EP(n,e,t="/"){return pL(n,e,t,!1)}function pL(n,e,t,r){let i=typeof e=="string"?el(e):e,s=Ro(i.pathname||"/",t);if(s==null)return null;let l=IP(n);mL(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let h=AL(s);u=SL(l[d],h,r)}return u}function IP(n,e=[],t=[],r=""){let i=(s,l,u)=>{let d={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};d.relativePath.startsWith("/")&&(Ct(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let h=Es([r,d.relativePath]),m=t.concat(d);s.children&&s.children.length>0&&(Ct(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),IP(s.children,e,m,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:IL(h,s.index),routesMeta:m})};return n.forEach((s,l)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,l);else for(let d of TP(s.path))i(s,l,d)}),e}function TP(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=TP(r.join("/")),u=[];return u.push(...l.map(d=>d===""?s:[s,d].join("/"))),i&&u.push(...l),u.map(d=>n.startsWith("/")&&d===""?"/":d)}function mL(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:TL(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var gL=/^:[\w-]+$/,yL=3,_L=2,vL=1,wL=10,EL=-2,NS=n=>n==="*";function IL(n,e){let t=n.split("/"),r=t.length;return t.some(NS)&&(r+=EL),e&&(r+=_L),t.filter(i=>!NS(i)).reduce((i,s)=>i+(gL.test(s)?yL:s===""?vL:wL),r)}function TL(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function SL(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],h=u===r.length-1,m=s==="/"?e:e.slice(s.length)||"/",g=Sm({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},m),_=d.route;if(!g&&h&&t&&!r[r.length-1].route.index&&(g=Sm({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:Es([s,g.pathname]),pathnameBase:kL(Es([s,g.pathnameBase])),route:_}),g.pathnameBase!=="/"&&(s=Es([s,g.pathnameBase]))}return l}function Sm(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=RL(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:g},_)=>{if(m==="*"){let T=u[_]||"";l=s.slice(0,s.length-T.length).replace(/(.)\/+$/,"$1")}const I=u[_];return g&&!I?h[m]=void 0:h[m]=(I||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:l,pattern:n}}function RL(n,e=!1,t=!0){oi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function AL(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return oi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ro(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function bL(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?el(n):n;return{pathname:t?t.startsWith("/")?t:PL(t,e):e,search:xL(r),hash:OL(i)}}function PL(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function nv(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function CL(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function SP(n){let e=CL(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function RP(n,e,t,r=!1){let i;typeof n=="string"?i=el(n):(i={...n},Ct(!i.pathname||!i.pathname.includes("?"),nv("?","pathname","search",i)),Ct(!i.pathname||!i.pathname.includes("#"),nv("#","pathname","hash",i)),Ct(!i.search||!i.search.includes("#"),nv("#","search","hash",i)));let s=n===""||i.pathname==="",l=s?"/":i.pathname,u;if(l==null)u=t;else{let g=e.length-1;if(!r&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),g-=1;i.pathname=_.join("/")}u=g>=0?e[g]:"/"}let d=bL(i,u),h=l&&l!=="/"&&l.endsWith("/"),m=(s||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(h||m)&&(d.pathname+="/"),d}var Es=n=>n.join("/").replace(/\/\/+/g,"/"),kL=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),xL=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,OL=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function NL(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var AP=["POST","PUT","PATCH","DELETE"];new Set(AP);var DL=["GET",...AP];new Set(DL);var ec=K.createContext(null);ec.displayName="DataRouter";var hg=K.createContext(null);hg.displayName="DataRouterState";var bP=K.createContext({isTransitioning:!1});bP.displayName="ViewTransition";var LL=K.createContext(new Map);LL.displayName="Fetchers";var VL=K.createContext(null);VL.displayName="Await";var Ki=K.createContext(null);Ki.displayName="Navigation";var Lh=K.createContext(null);Lh.displayName="Location";var Gi=K.createContext({outlet:null,matches:[],isDataRoute:!1});Gi.displayName="Route";var n0=K.createContext(null);n0.displayName="RouteError";function ML(n,{relative:e}={}){Ct(Vh(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=K.useContext(Ki),{hash:i,pathname:s,search:l}=Mh(n,{relative:e}),u=s;return t!=="/"&&(u=s==="/"?t:Es([t,s])),r.createHref({pathname:u,search:l,hash:i})}function Vh(){return K.useContext(Lh)!=null}function tl(){return Ct(Vh(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(Lh).location}var PP="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function CP(n){K.useContext(Ki).static||K.useLayoutEffect(n)}function kP(){let{isDataRoute:n}=K.useContext(Gi);return n?YL():FL()}function FL(){Ct(Vh(),"useNavigate() may be used only in the context of a <Router> component.");let n=K.useContext(ec),{basename:e,navigator:t}=K.useContext(Ki),{matches:r}=K.useContext(Gi),{pathname:i}=tl(),s=JSON.stringify(SP(r)),l=K.useRef(!1);return CP(()=>{l.current=!0}),K.useCallback((d,h={})=>{if(oi(l.current,PP),!l.current)return;if(typeof d=="number"){t.go(d);return}let m=RP(d,JSON.parse(s),i,h.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Es([e,m.pathname])),(h.replace?t.replace:t.push)(m,h.state,h)},[e,t,s,i,n])}K.createContext(null);function xP(){let{matches:n}=K.useContext(Gi),e=n[n.length-1];return e?e.params:{}}function Mh(n,{relative:e}={}){let{matches:t}=K.useContext(Gi),{pathname:r}=tl(),i=JSON.stringify(SP(t));return K.useMemo(()=>RP(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function UL(n,e){return OP(n,e)}function OP(n,e,t,r){var L;Ct(Vh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=K.useContext(Ki),{matches:l}=K.useContext(Gi),u=l[l.length-1],d=u?u.params:{},h=u?u.pathname:"/",m=u?u.pathnameBase:"/",g=u&&u.route;{let M=g&&g.path||"";NP(h,!g||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let _=tl(),I;if(e){let M=typeof e=="string"?el(e):e;Ct(m==="/"||((L=M.pathname)==null?void 0:L.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${M.pathname}" was given in the \`location\` prop.`),I=M}else I=_;let T=I.pathname||"/",R=T;if(m!=="/"){let M=m.replace(/^\//,"").split("/");R="/"+T.replace(/^\//,"").split("/").slice(M.length).join("/")}let b=!s&&t&&t.matches&&t.matches.length>0?t.matches:EP(n,{pathname:R});oi(g||b!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),oi(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=WL(b&&b.map(M=>Object.assign({},M,{params:Object.assign({},d,M.params),pathname:Es([m,i.encodeLocation?i.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?m:Es([m,i.encodeLocation?i.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),l,t,r);return e&&V?K.createElement(Lh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},V):V}function $L(){let n=QL(),e=NL(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=K.createElement(K.Fragment,null,K.createElement("p",null,"💿 Hey developer 👋"),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:s},"ErrorBoundary")," or"," ",K.createElement("code",{style:s},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),t?K.createElement("pre",{style:i},t):null,l)}var jL=K.createElement($L,null),BL=class extends K.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?K.createElement(Gi.Provider,{value:this.props.routeContext},K.createElement(n0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zL({routeContext:n,match:e,children:t}){let r=K.useContext(ec);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(Gi.Provider,{value:n},t)}function WL(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,s=t==null?void 0:t.errors;if(s!=null){let d=i.findIndex(h=>h.route.id&&(s==null?void 0:s[h.route.id])!==void 0);Ct(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,u=-1;if(t)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:g}=t,_=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||_){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,h,m)=>{let g,_=!1,I=null,T=null;t&&(g=s&&h.route.id?s[h.route.id]:void 0,I=h.route.errorElement||jL,l&&(u<0&&m===0?(NP("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,T=null):u===m&&(_=!0,T=h.route.hydrateFallbackElement||null)));let R=e.concat(i.slice(0,m+1)),b=()=>{let V;return g?V=I:_?V=T:h.route.Component?V=K.createElement(h.route.Component,null):h.route.element?V=h.route.element:V=d,K.createElement(zL,{match:h,routeContext:{outlet:d,matches:R,isDataRoute:t!=null},children:V})};return t&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?K.createElement(BL,{location:t.location,revalidation:t.revalidation,component:I,error:g,children:b(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):b()},null)}function r0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qL(n){let e=K.useContext(ec);return Ct(e,r0(n)),e}function HL(n){let e=K.useContext(hg);return Ct(e,r0(n)),e}function KL(n){let e=K.useContext(Gi);return Ct(e,r0(n)),e}function i0(n){let e=KL(n),t=e.matches[e.matches.length-1];return Ct(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function GL(){return i0("useRouteId")}function QL(){var r;let n=K.useContext(n0),e=HL("useRouteError"),t=i0("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function YL(){let{router:n}=qL("useNavigate"),e=i0("useNavigate"),t=K.useRef(!1);return CP(()=>{t.current=!0}),K.useCallback(async(i,s={})=>{oi(t.current,PP),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var DS={};function NP(n,e,t){!e&&!DS[n]&&(DS[n]=!0,oi(!1,t))}K.memo(JL);function JL({routes:n,future:e,state:t}){return OP(n,void 0,t,e)}function fs(n){Ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function XL({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1}){Ct(!Vh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=K.useMemo(()=>({basename:l,navigator:i,static:s,future:{}}),[l,i,s]);typeof t=="string"&&(t=el(t));let{pathname:d="/",search:h="",hash:m="",state:g=null,key:_="default"}=t,I=K.useMemo(()=>{let T=Ro(d,l);return T==null?null:{location:{pathname:T,search:h,hash:m,state:g,key:_},navigationType:r}},[l,d,h,m,g,_,r]);return oi(I!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:K.createElement(Ki.Provider,{value:u},K.createElement(Lh.Provider,{children:e,value:I}))}function ZL({children:n,location:e}){return UL(Wv(n),e)}function Wv(n,e=[]){let t=[];return K.Children.forEach(n,(r,i)=>{if(!K.isValidElement(r))return;let s=[...e,i];if(r.type===K.Fragment){t.push.apply(t,Wv(r.props.children,s));return}Ct(r.type===fs,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ct(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Wv(r.props.children,s)),t.push(l)}),t}var Qp="get",Yp="application/x-www-form-urlencoded";function fg(n){return n!=null&&typeof n.tagName=="string"}function eV(n){return fg(n)&&n.tagName.toLowerCase()==="button"}function tV(n){return fg(n)&&n.tagName.toLowerCase()==="form"}function nV(n){return fg(n)&&n.tagName.toLowerCase()==="input"}function rV(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function iV(n,e){return n.button===0&&(!e||e==="_self")&&!rV(n)}var Np=null;function sV(){if(Np===null)try{new FormData(document.createElement("form"),0),Np=!1}catch{Np=!0}return Np}var oV=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rv(n){return n!=null&&!oV.has(n)?(oi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yp}"`),null):n}function aV(n,e){let t,r,i,s,l;if(tV(n)){let u=n.getAttribute("action");r=u?Ro(u,e):null,t=n.getAttribute("method")||Qp,i=rv(n.getAttribute("enctype"))||Yp,s=new FormData(n)}else if(eV(n)||nV(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||u.getAttribute("action");if(r=d?Ro(d,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||Qp,i=rv(n.getAttribute("formenctype"))||rv(u.getAttribute("enctype"))||Yp,s=new FormData(u,n),!sV()){let{name:h,type:m,value:g}=n;if(m==="image"){let _=h?`${h}.`:"";s.append(`${_}x`,"0"),s.append(`${_}y`,"0")}else h&&s.append(h,g)}}else{if(fg(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Qp,r=null,i=Yp,l=n}return s&&i==="text/plain"&&(l=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:l}}function s0(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function lV(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uV(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function cV(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let l=await lV(s,t);return l.links?l.links():[]}return[]}));return pV(r.flat(1).filter(uV).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function LS(n,e,t,r,i,s){let l=(d,h)=>t[h]?d.route.id!==t[h].route.id:!0,u=(d,h)=>{var m;return t[h].pathname!==d.pathname||((m=t[h].route.path)==null?void 0:m.endsWith("*"))&&t[h].params["*"]!==d.params["*"]};return s==="assets"?e.filter((d,h)=>l(d,h)||u(d,h)):s==="data"?e.filter((d,h)=>{var g;let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(l(d,h)||u(d,h))return!0;if(d.route.shouldRevalidate){let _=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=t[0])==null?void 0:g.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function dV(n,e,{includeHydrateFallback:t}={}){return hV(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function hV(n){return[...new Set(n)]}function fV(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function pV(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(fV(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}function mV(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function gV(){let n=K.useContext(ec);return s0(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function yV(){let n=K.useContext(hg);return s0(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var o0=K.createContext(void 0);o0.displayName="FrameworkContext";function DP(){let n=K.useContext(o0);return s0(n,"You must render this element inside a <HydratedRouter> element"),n}function _V(n,e){let t=K.useContext(o0),[r,i]=K.useState(!1),[s,l]=K.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:h,onMouseLeave:m,onTouchStart:g}=e,_=K.useRef(null);K.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let R=V=>{V.forEach(L=>{l(L.isIntersecting)})},b=new IntersectionObserver(R,{threshold:.5});return _.current&&b.observe(_.current),()=>{b.disconnect()}}},[n]),K.useEffect(()=>{if(r){let R=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(R)}}},[r]);let I=()=>{i(!0)},T=()=>{i(!1),l(!1)};return t?n!=="intent"?[s,_,{}]:[s,_,{onFocus:hd(u,I),onBlur:hd(d,T),onMouseEnter:hd(h,I),onMouseLeave:hd(m,T),onTouchStart:hd(g,I)}]:[!1,_,{}]}function hd(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function vV({page:n,...e}){let{router:t}=gV(),r=K.useMemo(()=>EP(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?K.createElement(EV,{page:n,matches:r,...e}):null}function wV(n){let{manifest:e,routeModules:t}=DP(),[r,i]=K.useState([]);return K.useEffect(()=>{let s=!1;return cV(n,e,t).then(l=>{s||i(l)}),()=>{s=!0}},[n,e,t]),r}function EV({page:n,matches:e,...t}){let r=tl(),{manifest:i,routeModules:s}=DP(),{loaderData:l,matches:u}=yV(),d=K.useMemo(()=>LS(n,e,u,i,r,"data"),[n,e,u,i,r]),h=K.useMemo(()=>LS(n,e,u,i,r,"assets"),[n,e,u,i,r]),m=K.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let I=new Set,T=!1;if(e.forEach(b=>{var L;let V=i.routes[b.route.id];!V||!V.hasLoader||(!d.some(M=>M.route.id===b.route.id)&&b.route.id in l&&((L=s[b.route.id])!=null&&L.shouldRevalidate)||V.hasClientLoader?T=!0:I.add(b.route.id))}),I.size===0)return[];let R=mV(n);return T&&I.size>0&&R.searchParams.set("_routes",e.filter(b=>I.has(b.route.id)).map(b=>b.route.id).join(",")),[R.pathname+R.search]},[l,r,i,d,e,n,s]),g=K.useMemo(()=>dV(h,i),[h,i]),_=wV(h);return K.createElement(K.Fragment,null,m.map(I=>K.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...t})),g.map(I=>K.createElement("link",{key:I,rel:"modulepreload",href:I,...t})),_.map(({key:I,link:T})=>K.createElement("link",{key:I,...T})))}function IV(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var LP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{LP&&(window.__reactRouterVersion="7.2.0")}catch{}function TV({basename:n,children:e,window:t}){let r=K.useRef();r.current==null&&(r.current=dL({window:t,v5Compat:!0}));let i=r.current,[s,l]=K.useState({action:i.action,location:i.location}),u=K.useCallback(d=>{K.startTransition(()=>l(d))},[l]);return K.useLayoutEffect(()=>i.listen(u),[i,u]),K.createElement(XL,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:i})}var VP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ii=K.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:l,state:u,target:d,to:h,preventScrollReset:m,viewTransition:g,..._},I){let{basename:T}=K.useContext(Ki),R=typeof h=="string"&&VP.test(h),b,V=!1;if(typeof h=="string"&&R&&(b=h,LP))try{let C=new URL(window.location.href),E=h.startsWith("//")?new URL(C.protocol+h):new URL(h),x=Ro(E.pathname,T);E.origin===C.origin&&x!=null?h=x+E.search+E.hash:V=!0}catch{oi(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=ML(h,{relative:i}),[M,z,$]=_V(r,_),W=bV(h,{replace:l,state:u,target:d,preventScrollReset:m,relative:i,viewTransition:g});function D(C){e&&e(C),C.defaultPrevented||W(C)}let A=K.createElement("a",{..._,...$,href:b||L,onClick:V||s?e:D,ref:IV(I,z),target:d,"data-discover":!R&&t==="render"?"true":void 0});return M&&!R?K.createElement(K.Fragment,null,A,K.createElement(vV,{page:L})):A});ii.displayName="Link";var SV=K.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:l,viewTransition:u,children:d,...h},m){let g=Mh(l,{relative:h.relative}),_=tl(),I=K.useContext(hg),{navigator:T,basename:R}=K.useContext(Ki),b=I!=null&&OV(g)&&u===!0,V=T.encodeLocation?T.encodeLocation(g).pathname:g.pathname,L=_.pathname,M=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;t||(L=L.toLowerCase(),M=M?M.toLowerCase():null,V=V.toLowerCase()),M&&R&&(M=Ro(M,R)||M);const z=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let $=L===V||!i&&L.startsWith(V)&&L.charAt(z)==="/",W=M!=null&&(M===V||!i&&M.startsWith(V)&&M.charAt(V.length)==="/"),D={isActive:$,isPending:W,isTransitioning:b},A=$?e:void 0,C;typeof r=="function"?C=r(D):C=[r,$?"active":null,W?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let E=typeof s=="function"?s(D):s;return K.createElement(ii,{...h,"aria-current":A,className:C,ref:m,style:E,to:l,viewTransition:u},typeof d=="function"?d(D):d)});SV.displayName="NavLink";var RV=K.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:l=Qp,action:u,onSubmit:d,relative:h,preventScrollReset:m,viewTransition:g,..._},I)=>{let T=kV(),R=xV(u,{relative:h}),b=l.toLowerCase()==="get"?"get":"post",V=typeof u=="string"&&VP.test(u),L=M=>{if(d&&d(M),M.defaultPrevented)return;M.preventDefault();let z=M.nativeEvent.submitter,$=(z==null?void 0:z.getAttribute("formmethod"))||l;T(z||M.currentTarget,{fetcherKey:e,method:$,navigate:t,replace:i,state:s,relative:h,preventScrollReset:m,viewTransition:g})};return K.createElement("form",{ref:I,method:b,action:R,onSubmit:r?d:L,..._,"data-discover":!V&&n==="render"?"true":void 0})});RV.displayName="Form";function AV(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MP(n){let e=K.useContext(ec);return Ct(e,AV(n)),e}function bV(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:l}={}){let u=kP(),d=tl(),h=Mh(n,{relative:s});return K.useCallback(m=>{if(iV(m,e)){m.preventDefault();let g=t!==void 0?t:sh(d)===sh(h);u(n,{replace:g,state:r,preventScrollReset:i,relative:s,viewTransition:l})}},[d,u,h,t,r,e,n,i,s,l])}var PV=0,CV=()=>`__${String(++PV)}__`;function kV(){let{router:n}=MP("useSubmit"),{basename:e}=K.useContext(Ki),t=GL();return K.useCallback(async(r,i={})=>{let{action:s,method:l,encType:u,formData:d,body:h}=aV(r,e);if(i.navigate===!1){let m=i.fetcherKey||CV();await n.fetch(m,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await n.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function xV(n,{relative:e}={}){let{basename:t}=K.useContext(Ki),r=K.useContext(Gi);Ct(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Mh(n||".",{relative:e})},l=tl();if(n==null){s.search=l.search;let u=new URLSearchParams(s.search),d=u.getAll("index");if(d.some(m=>m==="")){u.delete("index"),d.filter(g=>g).forEach(g=>u.append("index",g));let m=u.toString();s.search=m?`?${m}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Es([t,s.pathname])),sh(s)}function OV(n,e={}){let t=K.useContext(bP);Ct(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=MP("useViewTransitionState"),i=Mh(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=Ro(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=Ro(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Sm(i.pathname,l)!=null||Sm(i.pathname,s)!=null}new TextEncoder;var FP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},VS=vo.createContext&&vo.createContext(FP),NV=["attr","size","title"];function DV(n,e){if(n==null)return{};var t=LV(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function LV(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Rm(){return Rm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Rm.apply(this,arguments)}function MS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Am(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?MS(Object(t),!0).forEach(function(r){VV(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):MS(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function VV(n,e,t){return e=MV(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function MV(n){var e=FV(n,"string");return typeof e=="symbol"?e:e+""}function FV(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function UP(n){return n&&n.map((e,t)=>vo.createElement(e.tag,Am({key:t},e.attr),UP(e.child)))}function nl(n){return e=>vo.createElement(UV,Rm({attr:Am({},n.attr)},e),UP(n.child))}function UV(n){var e=t=>{var{attr:r,size:i,title:s}=n,l=DV(n,NV),u=i||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),vo.createElement("svg",Rm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:d,style:Am(Am({color:n.color||t.color},t.style),n.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),s&&vo.createElement("title",null,s),n.children)};return VS!==void 0?vo.createElement(VS.Consumer,null,t=>e(t)):e(FP)}function $V(n){return nl({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(n)}function jV(n){return nl({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Location_On"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M12,21.933a1.715,1.715,0,0,1-1.384-.691L5.555,14.5a7.894,7.894,0,1,1,12.885-.009L13.385,21.24A1.717,1.717,0,0,1,12,21.933ZM11.992,3.066A6.81,6.81,0,0,0,7.414,4.815a6.891,6.891,0,0,0-1.05,9.1l5.051,6.727a.725.725,0,0,0,.584.292h0a.732.732,0,0,0,.586-.292l5.044-6.734A6.874,6.874,0,0,0,12.81,3.113,7.277,7.277,0,0,0,11.992,3.066Z"},child:[]},{tag:"path",attr:{d:"M12,12.5A2.5,2.5,0,1,1,14.5,10,2.5,2.5,0,0,1,12,12.5Zm0-4A1.5,1.5,0,1,0,13.5,10,1.5,1.5,0,0,0,12,8.5Z"},child:[]}]}]}]})(n)}function FS(n){return nl({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"m7 10 5 5 5-5H7z"},child:[]}]})(n)}function BV(n){return nl({attr:{viewBox:"0 0 24 24"},child:[{tag:"circle",attr:{cx:"10.5",cy:"19.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"19.5",r:"1.5"},child:[]},{tag:"path",attr:{d:"M13 13h2v-2.99h2.99v-2H15V5.03h-2v2.98h-2.99v2H13V13z"},child:[]},{tag:"path",attr:{d:"M10 17h8a1 1 0 0 0 .93-.64L21.76 9h-2.14l-2.31 6h-6.64L6.18 4.23A2 2 0 0 0 4.33 3H2v2h2.33l4.75 11.38A1 1 0 0 0 10 17z"},child:[]}]})(n)}const zV="_fixed_x9kyr_17",WV="_header_x9kyr_31",qV="_header_left_x9kyr_51",HV="_Amlogo1_x9kyr_63",KV="_Amlogo_x9kyr_63",GV="_header_delivery_x9kyr_85",QV="_deliver_to_x9kyr_93",YV="_header_nav_x9kyr_103",JV="_delivery_line1_x9kyr_131",XV="_delivery_line2_x9kyr_145",ZV="_header_search_x9kyr_157",eM="_search_dropdown_x9kyr_171",tM="_search_input_x9kyr_193",nM="_search_button_x9kyr_213",rM="_language_x9kyr_241",iM="_nav_item_x9kyr_267",sM="_nav_line1_x9kyr_283",oM="_nav_line2_x9kyr_295",aM="_cart_x9kyr_305",lM="_cart_count_x9kyr_327",uM="_cart_text_x9kyr_347",cM="_nav_itemcart_x9kyr_355",dM="_flag_x9kyr_363",ut={fixed:zV,header:WV,header_left:qV,Amlogo1:HV,Amlogo:KV,header_delivery:GV,deliver_to:QV,header_nav:YV,delivery_line1:JV,delivery_line2:XV,header_search:ZV,search_dropdown:eM,search_input:tM,search_button:nM,language:rM,nav_item:iM,nav_line1:sM,nav_line2:oM,cart:aM,cart_count:lM,cart_text:uM,nav_itemcart:cM,flag:dM},Fh=K.createContext(),hM=({children:n,reducer:e,initialState:t})=>{const[r,i]=K.useReducer(e,t);return B.jsx(Fh.Provider,{value:[r,i],children:n})},fM="_fixed_dsn4q_29",pM="_all_dsn4q_47",mM="_menu_dsn4q_91",Dp={"loweheader-Wrapper":"_loweheader-Wrapper_dsn4q_1",fixed:fM,all:pM,menu:mM};function gM(n){return nl({attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M1.5 3C1.22386 3 1 3.22386 1 3.5C1 3.77614 1.22386 4 1.5 4H13.5C13.7761 4 14 3.77614 14 3.5C14 3.22386 13.7761 3 13.5 3H1.5ZM1 7.5C1 7.22386 1.22386 7 1.5 7H13.5C13.7761 7 14 7.22386 14 7.5C14 7.77614 13.7761 8 13.5 8H1.5C1.22386 8 1 7.77614 1 7.5ZM1 11.5C1 11.2239 1.22386 11 1.5 11H13.5C13.7761 11 14 11.2239 14 11.5C14 11.7761 13.7761 12 13.5 12H1.5C1.22386 12 1 11.7761 1 11.5Z",fill:"currentColor"},child:[]}]})(n)}const yM=()=>{const[n,e]=K.useState(!1),t=()=>{e(!n)};return B.jsx("section",{className:Dp.fixed,children:B.jsx("div",{className:Dp["loweheader-Wrapper"],children:B.jsxs("ul",{children:[B.jsxs("li",{className:Dp.all,children:[B.jsx(gM,{size:24}),B.jsx("button",{onClick:t,children:"All"}),n?B.jsxs("ul",{className:Dp.menu,children:[B.jsx("li",{children:"Today's Deals"}),B.jsx("li",{children:"Customer Services "}),B.jsx("li",{children:"registery"}),B.jsx("li",{children:"gift cards"}),B.jsx("li",{children:"Sell"})]}):null]}),B.jsx("li",{children:"Today's Deals"}),B.jsx("li",{children:"Customer Services "}),B.jsx("li",{children:"registery"}),B.jsx("li",{children:"gift cards"}),B.jsx("li",{children:"Sell"})]})})})},_M=()=>{var u;const[n,e]=K.useState(""),[t,r]=K.useState(!1),[{user:i,basket:s},l]=K.useContext(Fh);return console.log(s.length),B.jsxs("section",{className:ut.fixed,children:[B.jsxs("header",{className:ut.header,children:[B.jsxs("div",{className:ut.header_left,children:[B.jsx(ii,{to:"/",children:B.jsx("div",{className:ut.Amlogo1,children:B.jsx("img",{className:ut.Amlogo,src:"https://pngimg.com/uploads/amazon/amazon_PNG11.png",alt:"Amazon logo"})})}),B.jsxs("div",{className:ut.header_delivery,children:[B.jsx("div",{children:B.jsx("span",{children:B.jsx(jV,{})})}),B.jsxs("div",{className:ut.deliver_to,children:[B.jsx("span",{className:ut.delivery_line1,children:"Deliver to"}),B.jsx("span",{className:ut.delivery_line2,children:"USA"})]})]})]}),B.jsxs("div",{className:ut.header_search,children:[B.jsx("select",{className:ut.search_dropdown,children:B.jsx("option",{children:"All"})}),B.jsx("input",{className:ut.search_input,type:"text",placeholder:"Search Amazon",value:n,onChange:d=>e(d.target.value)}),B.jsx("button",{className:ut.search_button,children:B.jsx($V,{})})]}),B.jsxs("div",{className:ut.header_nav,children:[B.jsx(ii,{to:"",children:B.jsxs("div",{className:ut.language,children:[B.jsx("img",{className:ut.flag,src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Flag_of_the_United_States_%28DoS_ECA_Color_Standard%29.svg/1280px-Flag_of_the_United_States_%28DoS_ECA_Color_Standard%29.svg.png",alt:"flag"}),B.jsx("section",{children:B.jsx("option",{value:"",children:"EN"})}),B.jsx(FS,{})]})}),B.jsxs("div",{className:ut.header_left,children:[B.jsx(ii,{to:"/amazon-clone/auth",children:B.jsxs("div",{className:ut.nav_item,children:[B.jsx("div",{className:ut.nav_line1,children:i?B.jsxs("span",{children:["Hello, ",(u=i==null?void 0:i.email)==null?void 0:u.split("@")[0]]}):B.jsx("span",{children:"Hello,signin"})}),B.jsxs("span",{className:ut.nav_line2,children:["Account & Lists",B.jsx(FS,{})]})]})}),B.jsx(ii,{to:"/amazon-clone/orders",children:B.jsxs("div",{className:ut.nav_item,children:[B.jsx("span",{className:ut.nav_line1,children:"Returns"}),B.jsx("span",{className:ut.nav_line2,children:"& Orders"})]})}),B.jsx(ii,{to:"/amazon-clone/cart",children:B.jsx("div",{className:ut.nav_itemcart,onClick:()=>r(!t),children:B.jsxs("div",{className:ut.cart,children:[B.jsx("span",{className:ut.cart_count,children:s==null?void 0:s.length}),B.jsx(BV,{size:38}),B.jsx("span",{className:ut.cart_text,children:"Cart"})]})})})]})]})]}),B.jsx(yM,{})]})},tc=({children:n})=>B.jsxs("div",{children:[B.jsx(_M,{}),n]});var iv={},fd={},Lp={},Vp={},sv={exports:{}},ov,US;function vM(){if(US)return ov;US=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ov=n,ov}var av,$S;function wM(){if($S)return av;$S=1;var n=vM();function e(){}function t(){}return t.resetWarningCache=e,av=function(){function r(l,u,d,h,m,g){if(g!==n){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},av}var jS;function EM(){return jS||(jS=1,sv.exports=wM()()),sv.exports}var BS;function IM(){return BS||(BS=1,function(n){(function(e,t){t(n,Uo(),EM())})(Vp,function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=T;var i=l(t),s=l(r);function l(L){return L&&L.__esModule?L:{default:L}}var u=Object.assign||function(L){for(var M=1;M<arguments.length;M++){var z=arguments[M];for(var $ in z)Object.prototype.hasOwnProperty.call(z,$)&&(L[$]=z[$])}return L};function d(L,M){var z={};for(var $ in L)M.indexOf($)>=0||Object.prototype.hasOwnProperty.call(L,$)&&(z[$]=L[$]);return z}function h(L,M){if(!(L instanceof M))throw new TypeError("Cannot call a class as a function")}var m=function(){function L(M,z){for(var $=0;$<z.length;$++){var W=z[$];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(M,W.key,W)}}return function(M,z,$){return z&&L(M.prototype,z),$&&L(M,$),M}}();function g(L,M){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:L}function _(L,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);L.prototype=Object.create(M&&M.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(L,M):L.__proto__=M)}var I=!1;function T(L){I=L}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){T(!0)}}))}catch{}function R(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return I?L:L.capture}function b(L){if("touches"in L){var M=L.touches[0],z=M.pageX,$=M.pageY;return{x:z,y:$}}var W=L.screenX,D=L.screenY;return{x:W,y:D}}var V=function(L){_(M,L);function M(){var z;h(this,M);for(var $=arguments.length,W=Array($),D=0;D<$;D++)W[D]=arguments[D];var A=g(this,(z=M.__proto__||Object.getPrototypeOf(M)).call.apply(z,[this].concat(W)));return A._handleSwipeStart=A._handleSwipeStart.bind(A),A._handleSwipeMove=A._handleSwipeMove.bind(A),A._handleSwipeEnd=A._handleSwipeEnd.bind(A),A._onMouseDown=A._onMouseDown.bind(A),A._onMouseMove=A._onMouseMove.bind(A),A._onMouseUp=A._onMouseUp.bind(A),A._setSwiperRef=A._setSwiperRef.bind(A),A}return m(M,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,R({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,R({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function($){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart($))}},{key:"_onMouseMove",value:function($){this.mouseDown&&this._handleSwipeMove($)}},{key:"_onMouseUp",value:function($){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd($)}},{key:"_handleSwipeStart",value:function($){var W=b($),D=W.x,A=W.y;this.moveStart={x:D,y:A},this.props.onSwipeStart($)}},{key:"_handleSwipeMove",value:function($){if(this.moveStart){var W=b($),D=W.x,A=W.y,C=D-this.moveStart.x,E=A-this.moveStart.y;this.moving=!0;var x=this.props.onSwipeMove({x:C,y:E},$);x&&$.cancelable&&$.preventDefault(),this.movePosition={deltaX:C,deltaY:E}}}},{key:"_handleSwipeEnd",value:function($){this.props.onSwipeEnd($);var W=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-W?this.props.onSwipeLeft(1,$):this.movePosition.deltaX>W&&this.props.onSwipeRight(1,$),this.movePosition.deltaY<-W?this.props.onSwipeUp(1,$):this.movePosition.deltaY>W&&this.props.onSwipeDown(1,$)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function($){this.swiper=$,this.props.innerRef($)}},{key:"render",value:function(){var $=this.props;$.tagName;var W=$.className,D=$.style,A=$.children;$.allowMouseEvents,$.onSwipeUp,$.onSwipeDown,$.onSwipeLeft,$.onSwipeRight,$.onSwipeStart,$.onSwipeMove,$.onSwipeEnd,$.innerRef,$.tolerance;var C=d($,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return i.default.createElement(this.props.tagName,u({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:W,style:D},C),A)}}]),M}(t.Component);V.displayName="ReactSwipe",V.propTypes={tagName:s.default.string,className:s.default.string,style:s.default.object,children:s.default.node,allowMouseEvents:s.default.bool,onSwipeUp:s.default.func,onSwipeDown:s.default.func,onSwipeLeft:s.default.func,onSwipeRight:s.default.func,onSwipeStart:s.default.func,onSwipeMove:s.default.func,onSwipeEnd:s.default.func,innerRef:s.default.func,tolerance:s.default.number.isRequired},V.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=V})}(Vp)),Vp}var zS;function $P(){return zS||(zS=1,function(n){(function(e,t){t(n,IM())})(Lp,function(e,t){Object.defineProperty(e,"__esModule",{value:!0});var r=i(t);function i(s){return s&&s.__esModule?s:{default:s}}e.default=r.default})}(Lp)),Lp}var pd={},lv={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var WS;function TM(){return WS||(WS=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var s="",l=0;l<arguments.length;l++){var u=arguments[l];u&&(s=i(s,r(u)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return t.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var l="";for(var u in s)e.call(s,u)&&s[u]&&(l=i(l,u));return l}function i(s,l){return l?s?s+" "+l:s+l:s}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(lv)),lv.exports}var qS;function jP(){if(qS)return pd;qS=1,Object.defineProperty(pd,"__esModule",{value:!0}),pd.default=void 0;var n=e(TM());function e(i){return i&&i.__esModule?i:{default:i}}function t(i,s,l){return s in i?Object.defineProperty(i,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[s]=l,i}var r={ROOT:function(s){return(0,n.default)(t({"carousel-root":!0},s||"",!!s))},CAROUSEL:function(s){return(0,n.default)({carousel:!0,"carousel-slider":s})},WRAPPER:function(s,l){return(0,n.default)({"thumbs-wrapper":!s,"slider-wrapper":s,"axis-horizontal":l==="horizontal","axis-vertical":l!=="horizontal"})},SLIDER:function(s,l){return(0,n.default)({thumbs:!s,slider:s,animated:!l})},ITEM:function(s,l,u){return(0,n.default)({thumb:!s,slide:s,selected:l,previous:u})},ARROW_PREV:function(s){return(0,n.default)({"control-arrow control-prev":!0,"control-disabled":s})},ARROW_NEXT:function(s){return(0,n.default)({"control-arrow control-next":!0,"control-disabled":s})},DOT:function(s){return(0,n.default)({dot:!0,selected:s})}};return pd.default=r,pd}var md={},gd={},HS;function SM(){if(HS)return gd;HS=1,Object.defineProperty(gd,"__esModule",{value:!0}),gd.outerWidth=void 0;var n=function(t){var r=t.offsetWidth,i=getComputedStyle(t);return r+=parseInt(i.marginLeft)+parseInt(i.marginRight),r};return gd.outerWidth=n,gd}var yd={},KS;function a0(){if(KS)return yd;KS=1,Object.defineProperty(yd,"__esModule",{value:!0}),yd.default=void 0;var n=function(t,r,i){var s=t===0?t:t+r,l=i==="horizontal"?[s,0,0]:[0,s,0],u="translate3d",d="("+l.join(",")+")";return u+d};return yd.default=n,yd}var _d={},GS;function BP(){if(GS)return _d;GS=1,Object.defineProperty(_d,"__esModule",{value:!0}),_d.default=void 0;var n=function(){return window};return _d.default=n,_d}var QS;function zP(){if(QS)return md;QS=1,Object.defineProperty(md,"__esModule",{value:!0}),md.default=void 0;var n=d(Uo()),e=l(jP()),t=SM(),r=l(a0()),i=l($P()),s=l(BP());function l(A){return A&&A.__esModule?A:{default:A}}function u(){if(typeof WeakMap!="function")return null;var A=new WeakMap;return u=function(){return A},A}function d(A){if(A&&A.__esModule)return A;if(A===null||h(A)!=="object"&&typeof A!="function")return{default:A};var C=u();if(C&&C.has(A))return C.get(A);var E={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var k in A)if(Object.prototype.hasOwnProperty.call(A,k)){var O=x?Object.getOwnPropertyDescriptor(A,k):null;O&&(O.get||O.set)?Object.defineProperty(E,k,O):E[k]=A[k]}return E.default=A,C&&C.set(A,E),E}function h(A){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(E){return typeof E}:h=function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},h(A)}function m(){return m=Object.assign||function(A){for(var C=1;C<arguments.length;C++){var E=arguments[C];for(var x in E)Object.prototype.hasOwnProperty.call(E,x)&&(A[x]=E[x])}return A},m.apply(this,arguments)}function g(A,C){if(!(A instanceof C))throw new TypeError("Cannot call a class as a function")}function _(A,C){for(var E=0;E<C.length;E++){var x=C[E];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(A,x.key,x)}}function I(A,C,E){return C&&_(A.prototype,C),A}function T(A,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(C&&C.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),C&&R(A,C)}function R(A,C){return R=Object.setPrototypeOf||function(x,k){return x.__proto__=k,x},R(A,C)}function b(A){var C=M();return function(){var x=z(A),k;if(C){var O=z(this).constructor;k=Reflect.construct(x,arguments,O)}else k=x.apply(this,arguments);return V(this,k)}}function V(A,C){return C&&(h(C)==="object"||typeof C=="function")?C:L(A)}function L(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function M(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function z(A){return z=Object.setPrototypeOf?Object.getPrototypeOf:function(E){return E.__proto__||Object.getPrototypeOf(E)},z(A)}function $(A,C,E){return C in A?Object.defineProperty(A,C,{value:E,enumerable:!0,configurable:!0,writable:!0}):A[C]=E,A}var W=function(C){return C.hasOwnProperty("key")},D=function(A){T(E,A);var C=b(E);function E(x){var k;return g(this,E),k=C.call(this,x),$(L(k),"itemsWrapperRef",void 0),$(L(k),"itemsListRef",void 0),$(L(k),"thumbsRef",void 0),$(L(k),"setItemsWrapperRef",function(O){k.itemsWrapperRef=O}),$(L(k),"setItemsListRef",function(O){k.itemsListRef=O}),$(L(k),"setThumbsRef",function(O,ee){k.thumbsRef||(k.thumbsRef=[]),k.thumbsRef[ee]=O}),$(L(k),"updateSizes",function(){if(!(!k.props.children||!k.itemsWrapperRef||!k.thumbsRef)){var O=n.Children.count(k.props.children),ee=k.itemsWrapperRef.clientWidth,U=k.props.thumbWidth?k.props.thumbWidth:(0,t.outerWidth)(k.thumbsRef[0]),ge=Math.floor(ee/U),oe=ge<O,Z=oe?O-ge:0;k.setState(function(me,fe){return{itemSize:U,visibleItems:ge,firstItem:oe?k.getFirstItem(fe.selectedItem):0,lastPosition:Z,showArrows:oe}})}}),$(L(k),"handleClickItem",function(O,ee,U){if(!W(U)||U.key==="Enter"){var ge=k.props.onSelectItem;typeof ge=="function"&&ge(O,ee)}}),$(L(k),"onSwipeStart",function(){k.setState({swiping:!0})}),$(L(k),"onSwipeEnd",function(){k.setState({swiping:!1})}),$(L(k),"onSwipeMove",function(O){var ee=O.x;if(!k.state.itemSize||!k.itemsWrapperRef||!k.state.visibleItems)return!1;var U=0,ge=n.Children.count(k.props.children),oe=-(k.state.firstItem*100)/k.state.visibleItems,Z=Math.max(ge-k.state.visibleItems,0),me=-Z*100/k.state.visibleItems;oe===U&&ee>0&&(ee=0),oe===me&&ee<0&&(ee=0);var fe=k.itemsWrapperRef.clientWidth,H=oe+100/(fe/ee);return k.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(ie){k.itemsListRef.style[ie]=(0,r.default)(H,"%",k.props.axis)}),!0}),$(L(k),"slideRight",function(O){k.moveTo(k.state.firstItem-(typeof O=="number"?O:1))}),$(L(k),"slideLeft",function(O){k.moveTo(k.state.firstItem+(typeof O=="number"?O:1))}),$(L(k),"moveTo",function(O){O=O<0?0:O,O=O>=k.state.lastPosition?k.state.lastPosition:O,k.setState({firstItem:O})}),k.state={selectedItem:x.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},k}return I(E,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(k){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==k.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,s.default)().addEventListener("resize",this.updateSizes),(0,s.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,s.default)().removeEventListener("resize",this.updateSizes),(0,s.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(k){var O=k;return k>=this.state.lastPosition&&(O=this.state.lastPosition),k<this.state.firstItem+this.state.visibleItems&&(O=this.state.firstItem),k<this.state.firstItem&&(O=k),O}},{key:"renderItems",value:function(){var k=this;return this.props.children.map(function(O,ee){var U=e.default.ITEM(!1,ee===k.state.selectedItem),ge={key:ee,ref:function(Z){return k.setThumbsRef(Z,ee)},className:U,onClick:k.handleClickItem.bind(k,ee,k.props.children[ee]),onKeyDown:k.handleClickItem.bind(k,ee,k.props.children[ee]),"aria-label":"".concat(k.props.labels.item," ").concat(ee+1),style:{width:k.props.thumbWidth}};return n.default.createElement("li",m({},ge,{role:"button",tabIndex:0}),O)})}},{key:"render",value:function(){var k=this;if(!this.props.children)return null;var O=n.Children.count(this.props.children)>1,ee=this.state.showArrows&&this.state.firstItem>0,U=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,ge={},oe=-this.state.firstItem*(this.state.itemSize||0),Z=(0,r.default)(oe,"px",this.props.axis),me=this.props.transitionTime+"ms";return ge={WebkitTransform:Z,MozTransform:Z,MsTransform:Z,OTransform:Z,transform:Z,msTransform:Z,WebkitTransitionDuration:me,MozTransitionDuration:me,MsTransitionDuration:me,OTransitionDuration:me,transitionDuration:me,msTransitionDuration:me},n.default.createElement("div",{className:e.default.CAROUSEL(!1)},n.default.createElement("div",{className:e.default.WRAPPER(!1),ref:this.setItemsWrapperRef},n.default.createElement("button",{type:"button",className:e.default.ARROW_PREV(!ee),onClick:function(){return k.slideRight()},"aria-label":this.props.labels.leftArrow}),O?n.default.createElement(i.default,{tagName:"ul",className:e.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:ge,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):n.default.createElement("ul",{className:e.default.SLIDER(!1,this.state.swiping),ref:function(H){return k.setItemsListRef(H)},style:ge},this.renderItems()),n.default.createElement("button",{type:"button",className:e.default.ARROW_NEXT(!U),onClick:function(){return k.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),E}(n.Component);return md.default=D,$(D,"displayName","Thumbs"),$(D,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350}),md}var vd={},YS;function RM(){if(YS)return vd;YS=1,Object.defineProperty(vd,"__esModule",{value:!0}),vd.default=void 0;var n=function(){return document};return vd.default=n,vd}var dr={},JS;function WP(){if(JS)return dr;JS=1,Object.defineProperty(dr,"__esModule",{value:!0}),dr.setPosition=dr.getPosition=dr.isKeyboardEvent=dr.defaultStatusFormatter=dr.noop=void 0;var n=Uo(),e=t(a0());function t(d){return d&&d.__esModule?d:{default:d}}var r=function(){};dr.noop=r;var i=function(h,m){return"".concat(h," of ").concat(m)};dr.defaultStatusFormatter=i;var s=function(h){return h?h.hasOwnProperty("key"):!1};dr.isKeyboardEvent=s;var l=function(h,m){if(m.infiniteLoop&&++h,h===0)return 0;var g=n.Children.count(m.children);if(m.centerMode&&m.axis==="horizontal"){var _=-h*m.centerSlidePercentage,I=g-1;return h&&(h!==I||m.infiniteLoop)?_+=(100-m.centerSlidePercentage)/2:h===I&&(_+=100-m.centerSlidePercentage),_}return-h*100};dr.getPosition=l;var u=function(h,m){var g={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(_){g[_]=(0,e.default)(h,"%",m)}),g};return dr.setPosition=u,dr}var ni={},XS;function AM(){if(XS)return ni;XS=1,Object.defineProperty(ni,"__esModule",{value:!0}),ni.fadeAnimationHandler=ni.slideStopSwipingHandler=ni.slideSwipeAnimationHandler=ni.slideAnimationHandler=void 0;var n=Uo(),e=r(a0()),t=WP();function r(g){return g&&g.__esModule?g:{default:g}}function i(g,_){var I=Object.keys(g);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(g);_&&(T=T.filter(function(R){return Object.getOwnPropertyDescriptor(g,R).enumerable})),I.push.apply(I,T)}return I}function s(g){for(var _=1;_<arguments.length;_++){var I=arguments[_]!=null?arguments[_]:{};_%2?i(Object(I),!0).forEach(function(T){l(g,T,I[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(I)):i(Object(I)).forEach(function(T){Object.defineProperty(g,T,Object.getOwnPropertyDescriptor(I,T))})}return g}function l(g,_,I){return _ in g?Object.defineProperty(g,_,{value:I,enumerable:!0,configurable:!0,writable:!0}):g[_]=I,g}var u=function(_,I){var T={},R=I.selectedItem,b=R,V=n.Children.count(_.children)-1,L=_.infiniteLoop&&(R<0||R>V);if(L)return b<0?_.centerMode&&_.centerSlidePercentage&&_.axis==="horizontal"?T.itemListStyle=(0,t.setPosition)(-(V+2)*_.centerSlidePercentage-(100-_.centerSlidePercentage)/2,_.axis):T.itemListStyle=(0,t.setPosition)(-(V+2)*100,_.axis):b>V&&(T.itemListStyle=(0,t.setPosition)(0,_.axis)),T;var M=(0,t.getPosition)(R,_),z=(0,e.default)(M,"%",_.axis),$=_.transitionTime+"ms";return T.itemListStyle={WebkitTransform:z,msTransform:z,OTransform:z,transform:z},I.swiping||(T.itemListStyle=s(s({},T.itemListStyle),{},{WebkitTransitionDuration:$,MozTransitionDuration:$,OTransitionDuration:$,transitionDuration:$,msTransitionDuration:$})),T};ni.slideAnimationHandler=u;var d=function(_,I,T,R){var b={},V=I.axis==="horizontal",L=n.Children.count(I.children),M=0,z=(0,t.getPosition)(T.selectedItem,I),$=I.infiniteLoop?(0,t.getPosition)(L-1,I)-100:(0,t.getPosition)(L-1,I),W=V?_.x:_.y,D=W;z===M&&W>0&&(D=0),z===$&&W<0&&(D=0);var A=z+100/(T.itemSize/D),C=Math.abs(W)>I.swipeScrollTolerance;return I.infiniteLoop&&C&&(T.selectedItem===0&&A>-100?A-=L*100:T.selectedItem===L-1&&A<-L*100&&(A+=L*100)),(!I.preventMovementUntilSwipeScrollTolerance||C||T.swipeMovementStarted)&&(T.swipeMovementStarted||R({swipeMovementStarted:!0}),b.itemListStyle=(0,t.setPosition)(A,I.axis)),C&&!T.cancelClick&&R({cancelClick:!0}),b};ni.slideSwipeAnimationHandler=d;var h=function(_,I){var T=(0,t.getPosition)(I.selectedItem,_),R=(0,t.setPosition)(T,_.axis);return{itemListStyle:R}};ni.slideStopSwipingHandler=h;var m=function(_,I){var T=_.transitionTime+"ms",R="ease-in-out",b={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:R,msTransitionTimingFunction:R,MozTransitionTimingFunction:R,WebkitTransitionTimingFunction:R,OTransitionTimingFunction:R};return I.swiping||(b=s(s({},b),{},{WebkitTransitionDuration:T,MozTransitionDuration:T,OTransitionDuration:T,transitionDuration:T,msTransitionDuration:T})),{slideStyle:b,selectedStyle:s(s({},b),{},{opacity:1,position:"relative"}),prevStyle:s({},b)}};return ni.fadeAnimationHandler=m,ni}var ZS;function bM(){if(ZS)return fd;ZS=1,Object.defineProperty(fd,"__esModule",{value:!0}),fd.default=void 0;var n=m(Uo()),e=d($P()),t=d(jP()),r=d(zP()),i=d(RM()),s=d(BP()),l=WP(),u=AM();function d(x){return x&&x.__esModule?x:{default:x}}function h(){if(typeof WeakMap!="function")return null;var x=new WeakMap;return h=function(){return x},x}function m(x){if(x&&x.__esModule)return x;if(x===null||g(x)!=="object"&&typeof x!="function")return{default:x};var k=h();if(k&&k.has(x))return k.get(x);var O={},ee=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var U in x)if(Object.prototype.hasOwnProperty.call(x,U)){var ge=ee?Object.getOwnPropertyDescriptor(x,U):null;ge&&(ge.get||ge.set)?Object.defineProperty(O,U,ge):O[U]=x[U]}return O.default=x,k&&k.set(x,O),O}function g(x){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?g=function(O){return typeof O}:g=function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},g(x)}function _(){return _=Object.assign||function(x){for(var k=1;k<arguments.length;k++){var O=arguments[k];for(var ee in O)Object.prototype.hasOwnProperty.call(O,ee)&&(x[ee]=O[ee])}return x},_.apply(this,arguments)}function I(x,k){var O=Object.keys(x);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(x);k&&(ee=ee.filter(function(U){return Object.getOwnPropertyDescriptor(x,U).enumerable})),O.push.apply(O,ee)}return O}function T(x){for(var k=1;k<arguments.length;k++){var O=arguments[k]!=null?arguments[k]:{};k%2?I(Object(O),!0).forEach(function(ee){C(x,ee,O[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(O)):I(Object(O)).forEach(function(ee){Object.defineProperty(x,ee,Object.getOwnPropertyDescriptor(O,ee))})}return x}function R(x,k){if(!(x instanceof k))throw new TypeError("Cannot call a class as a function")}function b(x,k){for(var O=0;O<k.length;O++){var ee=k[O];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(x,ee.key,ee)}}function V(x,k,O){return k&&b(x.prototype,k),x}function L(x,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(k&&k.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),k&&M(x,k)}function M(x,k){return M=Object.setPrototypeOf||function(ee,U){return ee.__proto__=U,ee},M(x,k)}function z(x){var k=D();return function(){var ee=A(x),U;if(k){var ge=A(this).constructor;U=Reflect.construct(ee,arguments,ge)}else U=ee.apply(this,arguments);return $(this,U)}}function $(x,k){return k&&(g(k)==="object"||typeof k=="function")?k:W(x)}function W(x){if(x===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}function D(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function A(x){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)},A(x)}function C(x,k,O){return k in x?Object.defineProperty(x,k,{value:O,enumerable:!0,configurable:!0,writable:!0}):x[k]=O,x}var E=function(x){L(O,x);var k=z(O);function O(ee){var U;R(this,O),U=k.call(this,ee),C(W(U),"thumbsRef",void 0),C(W(U),"carouselWrapperRef",void 0),C(W(U),"listRef",void 0),C(W(U),"itemsRef",void 0),C(W(U),"timer",void 0),C(W(U),"animationHandler",void 0),C(W(U),"setThumbsRef",function(oe){U.thumbsRef=oe}),C(W(U),"setCarouselWrapperRef",function(oe){U.carouselWrapperRef=oe}),C(W(U),"setListRef",function(oe){U.listRef=oe}),C(W(U),"setItemsRef",function(oe,Z){U.itemsRef||(U.itemsRef=[]),U.itemsRef[Z]=oe}),C(W(U),"autoPlay",function(){n.Children.count(U.props.children)<=1||(U.clearAutoPlay(),U.props.autoPlay&&(U.timer=setTimeout(function(){U.increment()},U.props.interval)))}),C(W(U),"clearAutoPlay",function(){U.timer&&clearTimeout(U.timer)}),C(W(U),"resetAutoPlay",function(){U.clearAutoPlay(),U.autoPlay()}),C(W(U),"stopOnHover",function(){U.setState({isMouseEntered:!0},U.clearAutoPlay)}),C(W(U),"startOnLeave",function(){U.setState({isMouseEntered:!1},U.autoPlay)}),C(W(U),"isFocusWithinTheCarousel",function(){return U.carouselWrapperRef?!!((0,i.default)().activeElement===U.carouselWrapperRef||U.carouselWrapperRef.contains((0,i.default)().activeElement)):!1}),C(W(U),"navigateWithKeyboard",function(oe){if(U.isFocusWithinTheCarousel()){var Z=U.props.axis,me=Z==="horizontal",fe={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},H=me?fe.ArrowRight:fe.ArrowDown,ie=me?fe.ArrowLeft:fe.ArrowUp;H===oe.keyCode?U.increment():ie===oe.keyCode&&U.decrement()}}),C(W(U),"updateSizes",function(){if(!(!U.state.initialized||!U.itemsRef||U.itemsRef.length===0)){var oe=U.props.axis==="horizontal",Z=U.itemsRef[0];if(Z){var me=oe?Z.clientWidth:Z.clientHeight;U.setState({itemSize:me}),U.thumbsRef&&U.thumbsRef.updateSizes()}}}),C(W(U),"setMountState",function(){U.setState({hasMount:!0}),U.updateSizes()}),C(W(U),"handleClickItem",function(oe,Z){if(n.Children.count(U.props.children)!==0){if(U.state.cancelClick){U.setState({cancelClick:!1});return}U.props.onClickItem(oe,Z),oe!==U.state.selectedItem&&U.setState({selectedItem:oe})}}),C(W(U),"handleOnChange",function(oe,Z){n.Children.count(U.props.children)<=1||U.props.onChange(oe,Z)}),C(W(U),"handleClickThumb",function(oe,Z){U.props.onClickThumb(oe,Z),U.moveTo(oe)}),C(W(U),"onSwipeStart",function(oe){U.setState({swiping:!0}),U.props.onSwipeStart(oe)}),C(W(U),"onSwipeEnd",function(oe){U.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),U.props.onSwipeEnd(oe),U.clearAutoPlay(),U.state.autoPlay&&U.autoPlay()}),C(W(U),"onSwipeMove",function(oe,Z){U.props.onSwipeMove(Z);var me=U.props.swipeAnimationHandler(oe,U.props,U.state,U.setState.bind(W(U)));return U.setState(T({},me)),!!Object.keys(me).length}),C(W(U),"decrement",function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;U.moveTo(U.state.selectedItem-(typeof oe=="number"?oe:1))}),C(W(U),"increment",function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;U.moveTo(U.state.selectedItem+(typeof oe=="number"?oe:1))}),C(W(U),"moveTo",function(oe){if(typeof oe=="number"){var Z=n.Children.count(U.props.children)-1;oe<0&&(oe=U.props.infiniteLoop?Z:0),oe>Z&&(oe=U.props.infiniteLoop?0:Z),U.selectItem({selectedItem:oe}),U.state.autoPlay&&U.state.isMouseEntered===!1&&U.resetAutoPlay()}}),C(W(U),"onClickNext",function(){U.increment(1)}),C(W(U),"onClickPrev",function(){U.decrement(1)}),C(W(U),"onSwipeForward",function(){U.increment(1),U.props.emulateTouch&&U.setState({cancelClick:!0})}),C(W(U),"onSwipeBackwards",function(){U.decrement(1),U.props.emulateTouch&&U.setState({cancelClick:!0})}),C(W(U),"changeItem",function(oe){return function(Z){(!(0,l.isKeyboardEvent)(Z)||Z.key==="Enter")&&U.moveTo(oe)}}),C(W(U),"selectItem",function(oe){U.setState(T({previousItem:U.state.selectedItem},oe),function(){U.setState(U.animationHandler(U.props,U.state))}),U.handleOnChange(oe.selectedItem,n.Children.toArray(U.props.children)[oe.selectedItem])}),C(W(U),"getInitialImage",function(){var oe=U.props.selectedItem,Z=U.itemsRef&&U.itemsRef[oe],me=Z&&Z.getElementsByTagName("img")||[];return me[0]}),C(W(U),"getVariableItemHeight",function(oe){var Z=U.itemsRef&&U.itemsRef[oe];if(U.state.hasMount&&Z&&Z.children.length){var me=Z.children[0].getElementsByTagName("img")||[];if(me.length>0){var fe=me[0];if(!fe.complete){var H=function ke(){U.forceUpdate(),fe.removeEventListener("load",ke)};fe.addEventListener("load",H)}}var ie=me[0]||Z.children[0],Te=ie.clientHeight;return Te>0?Te:null}return null});var ge={initialized:!1,previousItem:ee.selectedItem,selectedItem:ee.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:ee.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return U.animationHandler=typeof ee.animationHandler=="function"&&ee.animationHandler||ee.animationHandler==="fade"&&u.fadeAnimationHandler||u.slideAnimationHandler,U.state=T(T({},ge),U.animationHandler(ee,ge)),U}return V(O,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(U,ge){!U.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!U.autoFocus&&this.props.autoFocus&&this.forceFocus(),ge.swiping&&!this.state.swiping&&this.setState(T({},this.props.stopSwipingHandler(this.props,this.state))),(U.selectedItem!==this.props.selectedItem||U.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),U.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var U=this;this.bindEvents(),this.state.autoPlay&&n.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var ge=U.getInitialImage();ge&&!ge.complete?ge.addEventListener("load",U.setMountState):U.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var U=this.carouselWrapperRef;this.props.stopOnHover&&U&&(U.addEventListener("mouseenter",this.stopOnHover),U.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var U=this.carouselWrapperRef;this.props.stopOnHover&&U&&(U.removeEventListener("mouseenter",this.stopOnHover),U.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,s.default)().addEventListener("resize",this.updateSizes),(0,s.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,i.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,s.default)().removeEventListener("resize",this.updateSizes),(0,s.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var U=this.getInitialImage();U&&U.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,i.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var U;(U=this.carouselWrapperRef)===null||U===void 0||U.focus()}},{key:"renderItems",value:function(U){var ge=this;return this.props.children?n.Children.map(this.props.children,function(oe,Z){var me=Z===ge.state.selectedItem,fe=Z===ge.state.previousItem,H=me&&ge.state.selectedStyle||fe&&ge.state.prevStyle||ge.state.slideStyle||{};ge.props.centerMode&&ge.props.axis==="horizontal"&&(H=T(T({},H),{},{minWidth:ge.props.centerSlidePercentage+"%"})),ge.state.swiping&&ge.state.swipeMovementStarted&&(H=T(T({},H),{},{pointerEvents:"none"}));var ie={ref:function(ke){return ge.setItemsRef(ke,Z)},key:"itemKey"+Z+(U?"clone":""),className:t.default.ITEM(!0,Z===ge.state.selectedItem,Z===ge.state.previousItem),onClick:ge.handleClickItem.bind(ge,Z,oe),style:H};return n.default.createElement("li",ie,ge.props.renderItem(oe,{isSelected:Z===ge.state.selectedItem,isPrevious:Z===ge.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var U=this,ge=this.props,oe=ge.showIndicators,Z=ge.labels,me=ge.renderIndicator,fe=ge.children;return oe?n.default.createElement("ul",{className:"control-dots"},n.Children.map(fe,function(H,ie){return me&&me(U.changeItem(ie),ie===U.state.selectedItem,ie,Z.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?n.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,n.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||n.Children.count(this.props.children)===0?null:n.default.createElement(r.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var U=this;if(!this.props.children||n.Children.count(this.props.children)===0)return null;var ge=this.props.swipeable&&n.Children.count(this.props.children)>1,oe=this.props.axis==="horizontal",Z=this.props.showArrows&&n.Children.count(this.props.children)>1,me=Z&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,fe=Z&&(this.state.selectedItem<n.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,H=this.renderItems(!0),ie=H.shift(),Te=H.pop(),ke={className:t.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},Ve={};if(oe){if(ke.onSwipeLeft=this.onSwipeForward,ke.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var $e=this.getVariableItemHeight(this.state.selectedItem);Ve.height=$e||"auto"}}else ke.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,ke.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,ke.style=T(T({},ke.style),{},{height:this.state.itemSize}),Ve.height=this.state.itemSize;return n.default.createElement("div",{"aria-label":this.props.ariaLabel,className:t.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},n.default.createElement("div",{className:t.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,me,this.props.labels.leftArrow),n.default.createElement("div",{className:t.default.WRAPPER(!0,this.props.axis),style:Ve},ge?n.default.createElement(e.default,_({tagName:"ul",innerRef:this.setListRef},ke,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&Te,this.renderItems(),this.props.infiniteLoop&&ie):n.default.createElement("ul",{className:t.default.SLIDER(!0,this.state.swiping),ref:function(qe){return U.setListRef(qe)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&Te,this.renderItems(),this.props.infiniteLoop&&ie)),this.props.renderArrowNext(this.onClickNext,fe,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),O}(n.default.Component);return fd.default=E,C(E,"displayName","Carousel"),C(E,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:l.noop,onClickThumb:l.noop,onChange:l.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(k,O,ee){return n.default.createElement("button",{type:"button","aria-label":ee,className:t.default.ARROW_PREV(!O),onClick:k})},renderArrowNext:function(k,O,ee){return n.default.createElement("button",{type:"button","aria-label":ee,className:t.default.ARROW_NEXT(!O),onClick:k})},renderIndicator:function(k,O,ee,U){return n.default.createElement("li",{className:t.default.DOT(O),onClick:k,onKeyDown:k,value:ee,key:ee,role:"button",tabIndex:0,"aria-label":"".concat(U," ").concat(ee+1)})},renderItem:function(k){return k},renderThumbs:function(k){var O=n.Children.map(k,function(ee){var U=ee;if(ee.type!=="img"&&(U=n.Children.toArray(ee.props.children).find(function(ge){return ge.type==="img"})),!!U)return U});return O.filter(function(ee){return ee}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):O},statusFormatter:l.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:u.slideSwipeAnimationHandler,stopSwipingHandler:u.slideStopSwipingHandler}),fd}var eR={},tR;function PM(){return tR||(tR=1),eR}var nR;function CM(){return nR||(nR=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(n,"CarouselProps",{enumerable:!0,get:function(){return t.CarouselProps}}),Object.defineProperty(n,"Thumbs",{enumerable:!0,get:function(){return r.default}});var e=i(bM()),t=PM(),r=i(zP());function i(s){return s&&s.__esModule?s:{default:s}}}(iv)),iv}var kM=CM();const xM="/amazon-clone/assets/img1-bl35EseN.jpg",OM="/amazon-clone/assets/img2-CO6XiwvK.jpg",NM="/amazon-clone/assets/img3-BPr44Ttk.jpg",DM="/amazon-clone/assets/img4-Fp0oaH3y.jpg",uv=[xM,OM,NM,DM],LM="_hero__img_12y1j_3",VM={hero__img:LM},MM=()=>B.jsxs("div",{children:[B.jsx(kM.Carousel,{autoplay:!0,infiniteLoop:!0,showIndicators:!1,showThumbs:!1,children:uv==null?void 0:uv.map((n,e)=>B.jsx("img",{src:n,alt:`Slide ${e}`},e))}),B.jsx("div",{className:VM.hero__img})]}),FM="_category_1sdlo_1",UM="_category_container_1sdlo_69",qP={category:FM,category_container:UM},$M=({data:n})=>B.jsx("div",{className:qP.category,children:B.jsxs(ii,{to:`/amazon-clone/category/${n.name}`,children:[B.jsx("span",{children:B.jsx("h2",{children:n.title})}),B.jsx("img",{src:n.imgLink,alt:""}),B.jsx("p",{children:"shop now"})]})}),cv=[{title:"Electronics",name:"electronics",imgLink:"https://images-na.ssl-images-amazon.com/images/G/01/AmazonExports/Fuji/2020/May/Dashboard/Fuji_Dash_TV_2X._SY304_CB432517900_.jpg"},{title:"Discover fashion trends",name:"women's clothing",imgLink:"https://images.unsplash.com/photo-1675881149252-a2e3d0e57e0f?w=2000&auto=format&fit=crop&q=&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTJ8fGZlbWFsZSUyMGZhc2hpb258ZW58MHx8MHx8fDA%3D"},{title:"Men's Clothing",name:"men's clothing",imgLink:"https://m.media-amazon.com/images/I/618bcm65ksL._AC_UL480_FMwebp_QL65_.jpg"},{title:"Jewelery",name:"jewelery",imgLink:"https://m.media-amazon.com/images/I/71r7eWuCsaL._AC_UL480_FMwebp_QL65_.jpg"}],jM=()=>B.jsx("section",{className:qP.category_container,children:cv==null?void 0:cv.map((n,e)=>B.jsx($M,{data:n},e))});function HP(n,e){return function(){return n.apply(e,arguments)}}const{toString:BM}=Object.prototype,{getPrototypeOf:l0}=Object,pg=(n=>e=>{const t=BM.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ci=n=>(n=n.toLowerCase(),e=>pg(e)===n),mg=n=>e=>typeof e===n,{isArray:nc}=Array,oh=mg("undefined");function zM(n){return n!==null&&!oh(n)&&n.constructor!==null&&!oh(n.constructor)&&gr(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const KP=ci("ArrayBuffer");function WM(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&KP(n.buffer),e}const qM=mg("string"),gr=mg("function"),GP=mg("number"),gg=n=>n!==null&&typeof n=="object",HM=n=>n===!0||n===!1,Jp=n=>{if(pg(n)!=="object")return!1;const e=l0(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},KM=ci("Date"),GM=ci("File"),QM=ci("Blob"),YM=ci("FileList"),JM=n=>gg(n)&&gr(n.pipe),XM=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||gr(n.append)&&((e=pg(n))==="formdata"||e==="object"&&gr(n.toString)&&n.toString()==="[object FormData]"))},ZM=ci("URLSearchParams"),[e2,t2,n2,r2]=["ReadableStream","Request","Response","Headers"].map(ci),i2=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Uh(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),nc(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const s=t?Object.getOwnPropertyNames(n):Object.keys(n),l=s.length;let u;for(r=0;r<l;r++)u=s[r],e.call(null,n[u],u,n)}}function QP(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const xa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,YP=n=>!oh(n)&&n!==xa;function qv(){const{caseless:n}=YP(this)&&this||{},e={},t=(r,i)=>{const s=n&&QP(e,i)||i;Jp(e[s])&&Jp(r)?e[s]=qv(e[s],r):Jp(r)?e[s]=qv({},r):nc(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Uh(arguments[r],t);return e}const s2=(n,e,t,{allOwnKeys:r}={})=>(Uh(e,(i,s)=>{t&&gr(i)?n[s]=HP(i,t):n[s]=i},{allOwnKeys:r}),n),o2=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),a2=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},l2=(n,e,t,r)=>{let i,s,l;const u={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),s=i.length;s-- >0;)l=i[s],(!r||r(l,n,e))&&!u[l]&&(e[l]=n[l],u[l]=!0);n=t!==!1&&l0(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},u2=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},c2=n=>{if(!n)return null;if(nc(n))return n;let e=n.length;if(!GP(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},d2=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&l0(Uint8Array)),h2=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(n,s[0],s[1])}},f2=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},p2=ci("HTMLFormElement"),m2=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),rR=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),g2=ci("RegExp"),JP=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Uh(t,(i,s)=>{let l;(l=e(i,s,n))!==!1&&(r[s]=l||i)}),Object.defineProperties(n,r)},y2=n=>{JP(n,(e,t)=>{if(gr(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(gr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},_2=(n,e)=>{const t={},r=i=>{i.forEach(s=>{t[s]=!0})};return nc(n)?r(n):r(String(n).split(e)),t},v2=()=>{},w2=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function E2(n){return!!(n&&gr(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const I2=n=>{const e=new Array(10),t=(r,i)=>{if(gg(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=nc(r)?[]:{};return Uh(r,(l,u)=>{const d=t(l,i+1);!oh(d)&&(s[u]=d)}),e[i]=void 0,s}}return r};return t(n,0)},T2=ci("AsyncFunction"),S2=n=>n&&(gg(n)||gr(n))&&gr(n.then)&&gr(n.catch),XP=((n,e)=>n?setImmediate:e?((t,r)=>(xa.addEventListener("message",({source:i,data:s})=>{i===xa&&s===t&&r.length&&r.shift()()},!1),i=>{r.push(i),xa.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",gr(xa.postMessage)),R2=typeof queueMicrotask<"u"?queueMicrotask.bind(xa):typeof process<"u"&&process.nextTick||XP,re={isArray:nc,isArrayBuffer:KP,isBuffer:zM,isFormData:XM,isArrayBufferView:WM,isString:qM,isNumber:GP,isBoolean:HM,isObject:gg,isPlainObject:Jp,isReadableStream:e2,isRequest:t2,isResponse:n2,isHeaders:r2,isUndefined:oh,isDate:KM,isFile:GM,isBlob:QM,isRegExp:g2,isFunction:gr,isStream:JM,isURLSearchParams:ZM,isTypedArray:d2,isFileList:YM,forEach:Uh,merge:qv,extend:s2,trim:i2,stripBOM:o2,inherits:a2,toFlatObject:l2,kindOf:pg,kindOfTest:ci,endsWith:u2,toArray:c2,forEachEntry:h2,matchAll:f2,isHTMLForm:p2,hasOwnProperty:rR,hasOwnProp:rR,reduceDescriptors:JP,freezeMethods:y2,toObjectSet:_2,toCamelCase:m2,noop:v2,toFiniteNumber:w2,findKey:QP,global:xa,isContextDefined:YP,isSpecCompliantForm:E2,toJSONObject:I2,isAsyncFn:T2,isThenable:S2,setImmediate:XP,asap:R2};function Me(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}re.inherits(Me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:re.toJSONObject(this.config),code:this.code,status:this.status}}});const ZP=Me.prototype,eC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{eC[n]={value:n}});Object.defineProperties(Me,eC);Object.defineProperty(ZP,"isAxiosError",{value:!0});Me.from=(n,e,t,r,i,s)=>{const l=Object.create(ZP);return re.toFlatObject(n,l,function(d){return d!==Error.prototype},u=>u!=="isAxiosError"),Me.call(l,n.message,e,t,r,i),l.cause=n,l.name=n.name,s&&Object.assign(l,s),l};const A2=null;function Hv(n){return re.isPlainObject(n)||re.isArray(n)}function tC(n){return re.endsWith(n,"[]")?n.slice(0,-2):n}function iR(n,e,t){return n?n.concat(e).map(function(i,s){return i=tC(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function b2(n){return re.isArray(n)&&!n.some(Hv)}const P2=re.toFlatObject(re,{},null,function(e){return/^is[A-Z]/.test(e)});function yg(n,e,t){if(!re.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=re.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,b){return!re.isUndefined(b[R])});const r=t.metaTokens,i=t.visitor||m,s=t.dots,l=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&re.isSpecCompliantForm(e);if(!re.isFunction(i))throw new TypeError("visitor must be a function");function h(T){if(T===null)return"";if(re.isDate(T))return T.toISOString();if(!d&&re.isBlob(T))throw new Me("Blob is not supported. Use a Buffer instead.");return re.isArrayBuffer(T)||re.isTypedArray(T)?d&&typeof Blob=="function"?new Blob([T]):Buffer.from(T):T}function m(T,R,b){let V=T;if(T&&!b&&typeof T=="object"){if(re.endsWith(R,"{}"))R=r?R:R.slice(0,-2),T=JSON.stringify(T);else if(re.isArray(T)&&b2(T)||(re.isFileList(T)||re.endsWith(R,"[]"))&&(V=re.toArray(T)))return R=tC(R),V.forEach(function(M,z){!(re.isUndefined(M)||M===null)&&e.append(l===!0?iR([R],z,s):l===null?R:R+"[]",h(M))}),!1}return Hv(T)?!0:(e.append(iR(b,R,s),h(T)),!1)}const g=[],_=Object.assign(P2,{defaultVisitor:m,convertValue:h,isVisitable:Hv});function I(T,R){if(!re.isUndefined(T)){if(g.indexOf(T)!==-1)throw Error("Circular reference detected in "+R.join("."));g.push(T),re.forEach(T,function(V,L){(!(re.isUndefined(V)||V===null)&&i.call(e,V,re.isString(L)?L.trim():L,R,_))===!0&&I(V,R?R.concat(L):[L])}),g.pop()}}if(!re.isObject(n))throw new TypeError("data must be an object");return I(n),e}function sR(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function u0(n,e){this._pairs=[],n&&yg(n,this,e)}const nC=u0.prototype;nC.append=function(e,t){this._pairs.push([e,t])};nC.toString=function(e){const t=e?function(r){return e.call(this,r,sR)}:sR;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function C2(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function rC(n,e,t){if(!e)return n;const r=t&&t.encode||C2;re.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let s;if(i?s=i(e,t):s=re.isURLSearchParams(e)?e.toString():new u0(e,t).toString(r),s){const l=n.indexOf("#");l!==-1&&(n=n.slice(0,l)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class oR{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){re.forEach(this.handlers,function(r){r!==null&&e(r)})}}const iC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},k2=typeof URLSearchParams<"u"?URLSearchParams:u0,x2=typeof FormData<"u"?FormData:null,O2=typeof Blob<"u"?Blob:null,N2={isBrowser:!0,classes:{URLSearchParams:k2,FormData:x2,Blob:O2},protocols:["http","https","file","blob","url","data"]},c0=typeof window<"u"&&typeof document<"u",Kv=typeof navigator=="object"&&navigator||void 0,D2=c0&&(!Kv||["ReactNative","NativeScript","NS"].indexOf(Kv.product)<0),L2=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",V2=c0&&window.location.href||"http://localhost",M2=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:c0,hasStandardBrowserEnv:D2,hasStandardBrowserWebWorkerEnv:L2,navigator:Kv,origin:V2},Symbol.toStringTag,{value:"Module"})),kn={...M2,...N2};function F2(n,e){return yg(n,new kn.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,s){return kn.isNode&&re.isBuffer(t)?(this.append(r,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function U2(n){return re.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function $2(n){const e={},t=Object.keys(n);let r;const i=t.length;let s;for(r=0;r<i;r++)s=t[r],e[s]=n[s];return e}function sC(n){function e(t,r,i,s){let l=t[s++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),d=s>=t.length;return l=!l&&re.isArray(i)?i.length:l,d?(re.hasOwnProp(i,l)?i[l]=[i[l],r]:i[l]=r,!u):((!i[l]||!re.isObject(i[l]))&&(i[l]=[]),e(t,r,i[l],s)&&re.isArray(i[l])&&(i[l]=$2(i[l])),!u)}if(re.isFormData(n)&&re.isFunction(n.entries)){const t={};return re.forEachEntry(n,(r,i)=>{e(U2(r),i,t,0)}),t}return null}function j2(n,e,t){if(re.isString(n))try{return(e||JSON.parse)(n),re.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const $h={transitional:iC,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,s=re.isObject(e);if(s&&re.isHTMLForm(e)&&(e=new FormData(e)),re.isFormData(e))return i?JSON.stringify(sC(e)):e;if(re.isArrayBuffer(e)||re.isBuffer(e)||re.isStream(e)||re.isFile(e)||re.isBlob(e)||re.isReadableStream(e))return e;if(re.isArrayBufferView(e))return e.buffer;if(re.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return F2(e,this.formSerializer).toString();if((u=re.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return yg(u?{"files[]":e}:e,d&&new d,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),j2(e)):e}],transformResponse:[function(e){const t=this.transitional||$h.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(re.isResponse(e)||re.isReadableStream(e))return e;if(e&&re.isString(e)&&(r&&!this.responseType||i)){const l=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(u){if(l)throw u.name==="SyntaxError"?Me.from(u,Me.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:kn.classes.FormData,Blob:kn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};re.forEach(["delete","get","head","post","put","patch"],n=>{$h.headers[n]={}});const B2=re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),z2=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(l){i=l.indexOf(":"),t=l.substring(0,i).trim().toLowerCase(),r=l.substring(i+1).trim(),!(!t||e[t]&&B2[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},aR=Symbol("internals");function wd(n){return n&&String(n).trim().toLowerCase()}function Xp(n){return n===!1||n==null?n:re.isArray(n)?n.map(Xp):String(n)}function W2(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const q2=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function dv(n,e,t,r,i){if(re.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!re.isString(e)){if(re.isString(r))return e.indexOf(r)!==-1;if(re.isRegExp(r))return r.test(e)}}function H2(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function K2(n,e){const t=re.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,s,l){return this[r].call(this,e,i,s,l)},configurable:!0})})}let tr=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function s(u,d,h){const m=wd(d);if(!m)throw new Error("header name must be a non-empty string");const g=re.findKey(i,m);(!g||i[g]===void 0||h===!0||h===void 0&&i[g]!==!1)&&(i[g||d]=Xp(u))}const l=(u,d)=>re.forEach(u,(h,m)=>s(h,m,d));if(re.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(re.isString(e)&&(e=e.trim())&&!q2(e))l(z2(e),t);else if(re.isHeaders(e))for(const[u,d]of e.entries())s(d,u,r);else e!=null&&s(t,e,r);return this}get(e,t){if(e=wd(e),e){const r=re.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return W2(i);if(re.isFunction(t))return t.call(this,i,r);if(re.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=wd(e),e){const r=re.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||dv(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function s(l){if(l=wd(l),l){const u=re.findKey(r,l);u&&(!t||dv(r,r[u],u,t))&&(delete r[u],i=!0)}}return re.isArray(e)?e.forEach(s):s(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const s=t[r];(!e||dv(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const t=this,r={};return re.forEach(this,(i,s)=>{const l=re.findKey(r,s);if(l){t[l]=Xp(i),delete t[s];return}const u=e?H2(s):String(s).trim();u!==s&&delete t[s],t[u]=Xp(i),r[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return re.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&re.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[aR]=this[aR]={accessors:{}}).accessors,i=this.prototype;function s(l){const u=wd(l);r[u]||(K2(i,l),r[u]=!0)}return re.isArray(e)?e.forEach(s):s(e),this}};tr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);re.reduceDescriptors(tr.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});re.freezeMethods(tr);function hv(n,e){const t=this||$h,r=e||t,i=tr.from(r.headers);let s=r.data;return re.forEach(n,function(u){s=u.call(t,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function oC(n){return!!(n&&n.__CANCEL__)}function rc(n,e,t){Me.call(this,n??"canceled",Me.ERR_CANCELED,e,t),this.name="CanceledError"}re.inherits(rc,Me,{__CANCEL__:!0});function aC(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Me("Request failed with status code "+t.status,[Me.ERR_BAD_REQUEST,Me.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function G2(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function Q2(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,s=0,l;return e=e!==void 0?e:1e3,function(d){const h=Date.now(),m=r[s];l||(l=h),t[i]=d,r[i]=h;let g=s,_=0;for(;g!==i;)_+=t[g++],g=g%n;if(i=(i+1)%n,i===s&&(s=(s+1)%n),h-l<e)return;const I=m&&h-m;return I?Math.round(_*1e3/I):void 0}}function Y2(n,e){let t=0,r=1e3/e,i,s;const l=(h,m=Date.now())=>{t=m,i=null,s&&(clearTimeout(s),s=null),n.apply(null,h)};return[(...h)=>{const m=Date.now(),g=m-t;g>=r?l(h,m):(i=h,s||(s=setTimeout(()=>{s=null,l(i)},r-g)))},()=>i&&l(i)]}const bm=(n,e,t=3)=>{let r=0;const i=Q2(50,250);return Y2(s=>{const l=s.loaded,u=s.lengthComputable?s.total:void 0,d=l-r,h=i(d),m=l<=u;r=l;const g={loaded:l,total:u,progress:u?l/u:void 0,bytes:d,rate:h||void 0,estimated:h&&u&&m?(u-l)/h:void 0,event:s,lengthComputable:u!=null,[e?"download":"upload"]:!0};n(g)},t)},lR=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},uR=n=>(...e)=>re.asap(()=>n(...e)),J2=kn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,kn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(kn.origin),kn.navigator&&/(msie|trident)/i.test(kn.navigator.userAgent)):()=>!0,X2=kn.hasStandardBrowserEnv?{write(n,e,t,r,i,s){const l=[n+"="+encodeURIComponent(e)];re.isNumber(t)&&l.push("expires="+new Date(t).toGMTString()),re.isString(r)&&l.push("path="+r),re.isString(i)&&l.push("domain="+i),s===!0&&l.push("secure"),document.cookie=l.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Z2(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function eF(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function lC(n,e,t){let r=!Z2(e);return n&&r||t==!1?eF(n,e):e}const cR=n=>n instanceof tr?{...n}:n;function $a(n,e){e=e||{};const t={};function r(h,m,g,_){return re.isPlainObject(h)&&re.isPlainObject(m)?re.merge.call({caseless:_},h,m):re.isPlainObject(m)?re.merge({},m):re.isArray(m)?m.slice():m}function i(h,m,g,_){if(re.isUndefined(m)){if(!re.isUndefined(h))return r(void 0,h,g,_)}else return r(h,m,g,_)}function s(h,m){if(!re.isUndefined(m))return r(void 0,m)}function l(h,m){if(re.isUndefined(m)){if(!re.isUndefined(h))return r(void 0,h)}else return r(void 0,m)}function u(h,m,g){if(g in e)return r(h,m);if(g in n)return r(void 0,h)}const d={url:s,method:s,data:s,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(h,m,g)=>i(cR(h),cR(m),g,!0)};return re.forEach(Object.keys(Object.assign({},n,e)),function(m){const g=d[m]||i,_=g(n[m],e[m],m);re.isUndefined(_)&&g!==u||(t[m]=_)}),t}const uC=n=>{const e=$a({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:l,auth:u}=e;e.headers=l=tr.from(l),e.url=rC(lC(e.baseURL,e.url),n.params,n.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let d;if(re.isFormData(t)){if(kn.hasStandardBrowserEnv||kn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((d=l.getContentType())!==!1){const[h,...m]=d?d.split(";").map(g=>g.trim()).filter(Boolean):[];l.setContentType([h||"multipart/form-data",...m].join("; "))}}if(kn.hasStandardBrowserEnv&&(r&&re.isFunction(r)&&(r=r(e)),r||r!==!1&&J2(e.url))){const h=i&&s&&X2.read(s);h&&l.set(i,h)}return e},tF=typeof XMLHttpRequest<"u",nF=tF&&function(n){return new Promise(function(t,r){const i=uC(n);let s=i.data;const l=tr.from(i.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:h}=i,m,g,_,I,T;function R(){I&&I(),T&&T(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function V(){if(!b)return;const M=tr.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),$={data:!u||u==="text"||u==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:M,config:n,request:b};aC(function(D){t(D),R()},function(D){r(D),R()},$),b=null}"onloadend"in b?b.onloadend=V:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(V)},b.onabort=function(){b&&(r(new Me("Request aborted",Me.ECONNABORTED,n,b)),b=null)},b.onerror=function(){r(new Me("Network Error",Me.ERR_NETWORK,n,b)),b=null},b.ontimeout=function(){let z=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const $=i.transitional||iC;i.timeoutErrorMessage&&(z=i.timeoutErrorMessage),r(new Me(z,$.clarifyTimeoutError?Me.ETIMEDOUT:Me.ECONNABORTED,n,b)),b=null},s===void 0&&l.setContentType(null),"setRequestHeader"in b&&re.forEach(l.toJSON(),function(z,$){b.setRequestHeader($,z)}),re.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),u&&u!=="json"&&(b.responseType=i.responseType),h&&([_,T]=bm(h,!0),b.addEventListener("progress",_)),d&&b.upload&&([g,I]=bm(d),b.upload.addEventListener("progress",g),b.upload.addEventListener("loadend",I)),(i.cancelToken||i.signal)&&(m=M=>{b&&(r(!M||M.type?new rc(null,n,b):M),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const L=G2(i.url);if(L&&kn.protocols.indexOf(L)===-1){r(new Me("Unsupported protocol "+L+":",Me.ERR_BAD_REQUEST,n));return}b.send(s||null)})},rF=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const s=function(h){if(!i){i=!0,u();const m=h instanceof Error?h:this.reason;r.abort(m instanceof Me?m:new rc(m instanceof Error?m.message:m))}};let l=e&&setTimeout(()=>{l=null,s(new Me(`timeout ${e} of ms exceeded`,Me.ETIMEDOUT))},e);const u=()=>{n&&(l&&clearTimeout(l),l=null,n.forEach(h=>{h.unsubscribe?h.unsubscribe(s):h.removeEventListener("abort",s)}),n=null)};n.forEach(h=>h.addEventListener("abort",s));const{signal:d}=r;return d.unsubscribe=()=>re.asap(u),d}},iF=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},sF=async function*(n,e){for await(const t of oF(n))yield*iF(t,e)},oF=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},dR=(n,e,t,r)=>{const i=sF(n,e);let s=0,l,u=d=>{l||(l=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:h,value:m}=await i.next();if(h){u(),d.close();return}let g=m.byteLength;if(t){let _=s+=g;t(_)}d.enqueue(new Uint8Array(m))}catch(h){throw u(h),h}},cancel(d){return u(d),i.return()}},{highWaterMark:2})},_g=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",cC=_g&&typeof ReadableStream=="function",aF=_g&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),dC=(n,...e)=>{try{return!!n(...e)}catch{return!1}},lF=cC&&dC(()=>{let n=!1;const e=new Request(kn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),hR=64*1024,Gv=cC&&dC(()=>re.isReadableStream(new Response("").body)),Pm={stream:Gv&&(n=>n.body)};_g&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Pm[e]&&(Pm[e]=re.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new Me(`Response type '${e}' is not supported`,Me.ERR_NOT_SUPPORT,r)})})})(new Response);const uF=async n=>{if(n==null)return 0;if(re.isBlob(n))return n.size;if(re.isSpecCompliantForm(n))return(await new Request(kn.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(re.isArrayBufferView(n)||re.isArrayBuffer(n))return n.byteLength;if(re.isURLSearchParams(n)&&(n=n+""),re.isString(n))return(await aF(n)).byteLength},cF=async(n,e)=>{const t=re.toFiniteNumber(n.getContentLength());return t??uF(e)},dF=_g&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:s,timeout:l,onDownloadProgress:u,onUploadProgress:d,responseType:h,headers:m,withCredentials:g="same-origin",fetchOptions:_}=uC(n);h=h?(h+"").toLowerCase():"text";let I=rF([i,s&&s.toAbortSignal()],l),T;const R=I&&I.unsubscribe&&(()=>{I.unsubscribe()});let b;try{if(d&&lF&&t!=="get"&&t!=="head"&&(b=await cF(m,r))!==0){let $=new Request(e,{method:"POST",body:r,duplex:"half"}),W;if(re.isFormData(r)&&(W=$.headers.get("content-type"))&&m.setContentType(W),$.body){const[D,A]=lR(b,bm(uR(d)));r=dR($.body,hR,D,A)}}re.isString(g)||(g=g?"include":"omit");const V="credentials"in Request.prototype;T=new Request(e,{..._,signal:I,method:t.toUpperCase(),headers:m.normalize().toJSON(),body:r,duplex:"half",credentials:V?g:void 0});let L=await fetch(T);const M=Gv&&(h==="stream"||h==="response");if(Gv&&(u||M&&R)){const $={};["status","statusText","headers"].forEach(C=>{$[C]=L[C]});const W=re.toFiniteNumber(L.headers.get("content-length")),[D,A]=u&&lR(W,bm(uR(u),!0))||[];L=new Response(dR(L.body,hR,D,()=>{A&&A(),R&&R()}),$)}h=h||"text";let z=await Pm[re.findKey(Pm,h)||"text"](L,n);return!M&&R&&R(),await new Promise(($,W)=>{aC($,W,{data:z,headers:tr.from(L.headers),status:L.status,statusText:L.statusText,config:n,request:T})})}catch(V){throw R&&R(),V&&V.name==="TypeError"&&/fetch/i.test(V.message)?Object.assign(new Me("Network Error",Me.ERR_NETWORK,n,T),{cause:V.cause||V}):Me.from(V,V&&V.code,n,T)}}),Qv={http:A2,xhr:nF,fetch:dF};re.forEach(Qv,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const fR=n=>`- ${n}`,hF=n=>re.isFunction(n)||n===null||n===!1,hC={getAdapter:n=>{n=re.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let s=0;s<e;s++){t=n[s];let l;if(r=t,!hF(t)&&(r=Qv[(l=String(t)).toLowerCase()],r===void 0))throw new Me(`Unknown adapter '${l}'`);if(r)break;i[l||"#"+s]=r}if(!r){const s=Object.entries(i).map(([u,d])=>`adapter ${u} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=e?s.length>1?`since :
`+s.map(fR).join(`
`):" "+fR(s[0]):"as no adapter specified";throw new Me("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:Qv};function fv(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new rc(null,n)}function pR(n){return fv(n),n.headers=tr.from(n.headers),n.data=hv.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),hC.getAdapter(n.adapter||$h.adapter)(n).then(function(r){return fv(n),r.data=hv.call(n,n.transformResponse,r),r.headers=tr.from(r.headers),r},function(r){return oC(r)||(fv(n),r&&r.response&&(r.response.data=hv.call(n,n.transformResponse,r.response),r.response.headers=tr.from(r.response.headers))),Promise.reject(r)})}const fC="1.8.1",vg={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{vg[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const mR={};vg.transitional=function(e,t,r){function i(s,l){return"[Axios v"+fC+"] Transitional option '"+s+"'"+l+(r?". "+r:"")}return(s,l,u)=>{if(e===!1)throw new Me(i(l," has been removed"+(t?" in "+t:"")),Me.ERR_DEPRECATED);return t&&!mR[l]&&(mR[l]=!0,console.warn(i(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,l,u):!0}};vg.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function fF(n,e,t){if(typeof n!="object")throw new Me("options must be an object",Me.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const s=r[i],l=e[s];if(l){const u=n[s],d=u===void 0||l(u,s,n);if(d!==!0)throw new Me("option "+s+" must be "+d,Me.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Me("Unknown option "+s,Me.ERR_BAD_OPTION)}}const Zp={assertOptions:fF,validators:vg},Ti=Zp.validators;let Va=class{constructor(e){this.defaults=e,this.interceptors={request:new oR,response:new oR}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=$a(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:s}=t;r!==void 0&&Zp.assertOptions(r,{silentJSONParsing:Ti.transitional(Ti.boolean),forcedJSONParsing:Ti.transitional(Ti.boolean),clarifyTimeoutError:Ti.transitional(Ti.boolean)},!1),i!=null&&(re.isFunction(i)?t.paramsSerializer={serialize:i}:Zp.assertOptions(i,{encode:Ti.function,serialize:Ti.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Zp.assertOptions(t,{baseUrl:Ti.spelling("baseURL"),withXsrfToken:Ti.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=s&&re.merge(s.common,s[t.method]);s&&re.forEach(["delete","get","head","post","put","patch","common"],T=>{delete s[T]}),t.headers=tr.concat(l,s);const u=[];let d=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(t)===!1||(d=d&&R.synchronous,u.unshift(R.fulfilled,R.rejected))});const h=[];this.interceptors.response.forEach(function(R){h.push(R.fulfilled,R.rejected)});let m,g=0,_;if(!d){const T=[pR.bind(this),void 0];for(T.unshift.apply(T,u),T.push.apply(T,h),_=T.length,m=Promise.resolve(t);g<_;)m=m.then(T[g++],T[g++]);return m}_=u.length;let I=t;for(g=0;g<_;){const T=u[g++],R=u[g++];try{I=T(I)}catch(b){R.call(this,b);break}}try{m=pR.call(this,I)}catch(T){return Promise.reject(T)}for(g=0,_=h.length;g<_;)m=m.then(h[g++],h[g++]);return m}getUri(e){e=$a(this.defaults,e);const t=lC(e.baseURL,e.url,e.allowAbsoluteUrls);return rC(t,e.params,e.paramsSerializer)}};re.forEach(["delete","get","head","options"],function(e){Va.prototype[e]=function(t,r){return this.request($a(r||{},{method:e,url:t,data:(r||{}).data}))}});re.forEach(["post","put","patch"],function(e){function t(r){return function(s,l,u){return this.request($a(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:l}))}}Va.prototype[e]=t(),Va.prototype[e+"Form"]=t(!0)});let pF=class pC{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const l=new Promise(u=>{r.subscribe(u),s=u}).then(i);return l.cancel=function(){r.unsubscribe(s)},l},e(function(s,l,u){r.reason||(r.reason=new rc(s,l,u),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new pC(function(i){e=i}),cancel:e}}};function mF(n){return function(t){return n.apply(null,t)}}function gF(n){return re.isObject(n)&&n.isAxiosError===!0}const Yv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Yv).forEach(([n,e])=>{Yv[e]=n});function mC(n){const e=new Va(n),t=HP(Va.prototype.request,e);return re.extend(t,Va.prototype,e,{allOwnKeys:!0}),re.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return mC($a(n,i))},t}const xt=mC($h);xt.Axios=Va;xt.CanceledError=rc;xt.CancelToken=pF;xt.isCancel=oC;xt.VERSION=fC;xt.toFormData=yg;xt.AxiosError=Me;xt.Cancel=xt.CanceledError;xt.all=function(e){return Promise.all(e)};xt.spread=mF;xt.isAxiosError=gF;xt.mergeConfig=$a;xt.AxiosHeaders=tr;xt.formToJSON=n=>sC(re.isHTMLForm(n)?new FormData(n):n);xt.getAdapter=hC.getAdapter;xt.HttpStatusCode=Yv;xt.default=xt;const{Axios:eG,AxiosError:tG,CanceledError:nG,isCancel:rG,CancelToken:iG,VERSION:sG,all:oG,Cancel:aG,isAxiosError:lG,spread:uG,toFormData:cG,AxiosHeaders:dG,HttpStatusCode:hG,formToJSON:fG,getAdapter:pG,mergeConfig:mG}=xt;function gC(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=gC(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Wd(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=gC(n))&&(r&&(r+=" "),r+=e);return r}function yC(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}const yF={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function _C(n,e,t=void 0){const r={};for(const i in n){const s=n[i];let l="",u=!0;for(let d=0;d<s.length;d+=1){const h=s[d];h&&(l+=(u===!0?"":" ")+e(h),u=!1,t&&t[h]&&(l+=" "+t[h]))}r[i]=l}return r}const _F=K.createContext(),vF=()=>K.useContext(_F)??!1;function gR(n){try{return n.matches(":focus-visible")}catch{}return!1}var pv={exports:{}},at={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yR;function wF(){if(yR)return at;yR=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),I=Symbol.for("react.client.reference");function T(R){if(typeof R=="object"&&R!==null){var b=R.$$typeof;switch(b){case n:switch(R=R.type,R){case t:case i:case r:case d:case h:return R;default:switch(R=R&&R.$$typeof,R){case l:case u:case g:case m:return R;case s:return R;default:return b}}case e:return b}}}return at.ContextConsumer=s,at.ContextProvider=l,at.Element=n,at.ForwardRef=u,at.Fragment=t,at.Lazy=g,at.Memo=m,at.Portal=e,at.Profiler=i,at.StrictMode=r,at.Suspense=d,at.SuspenseList=h,at.isContextConsumer=function(R){return T(R)===s},at.isContextProvider=function(R){return T(R)===l},at.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===n},at.isForwardRef=function(R){return T(R)===u},at.isFragment=function(R){return T(R)===t},at.isLazy=function(R){return T(R)===g},at.isMemo=function(R){return T(R)===m},at.isPortal=function(R){return T(R)===e},at.isProfiler=function(R){return T(R)===i},at.isStrictMode=function(R){return T(R)===r},at.isSuspense=function(R){return T(R)===d},at.isSuspenseList=function(R){return T(R)===h},at.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===t||R===i||R===r||R===d||R===h||R===_||typeof R=="object"&&R!==null&&(R.$$typeof===g||R.$$typeof===m||R.$$typeof===l||R.$$typeof===s||R.$$typeof===u||R.$$typeof===I||R.getModuleId!==void 0)},at.typeOf=T,at}var _R;function EF(){return _R||(_R=1,pv.exports=wF()),pv.exports}var vC=EF();function ps(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function wC(n){if(K.isValidElement(n)||vC.isValidElementType(n)||!ps(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=wC(n[t])}),e}function yr(n,e,t={clone:!0}){const r=t.clone?{...n}:n;return ps(n)&&ps(e)&&Object.keys(e).forEach(i=>{K.isValidElement(e[i])||vC.isValidElementType(e[i])?r[i]=e[i]:ps(e[i])&&Object.prototype.hasOwnProperty.call(n,i)&&ps(n[i])?r[i]=yr(n[i],e[i],t):t.clone?r[i]=ps(e[i])?wC(e[i]):e[i]:r[i]=e[i]}),r}function ja(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${n}; visit ${t} for the full message.`}function Ao(n){if(typeof n!="string")throw new Error(ja(7));return n.charAt(0).toUpperCase()+n.slice(1)}function IF(n,e){typeof n=="function"?n(e):n&&(n.current=e)}let vR=0;function TF(n){const[e,t]=K.useState(n),r=n||e;return K.useEffect(()=>{e==null&&(vR+=1,t(`mui-${vR}`))},[e]),r}const SF={...Bv},wR=SF.useId;function EC(n){if(wR!==void 0){const e=wR();return n??e}return TF(n)}function RF({controlled:n,default:e,name:t,state:r="value"}){const{current:i}=K.useRef(n!==void 0),[s,l]=K.useState(e),u=i?n:s,d=K.useCallback(h=>{i||l(h)},[]);return[u,d]}function AF(...n){return K.useMemo(()=>n.every(e=>e==null)?null:e=>{n.forEach(t=>{IF(t,e)})},n)}function Jv(n,e){const t={...e};for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const i=r;if(i==="components"||i==="slots")t[i]={...n[i],...t[i]};else if(i==="componentsProps"||i==="slotProps"){const s=n[i],l=e[i];if(!l)t[i]=s||{};else if(!s)t[i]=l;else{t[i]={...l};for(const u in s)if(Object.prototype.hasOwnProperty.call(s,u)){const d=u;t[i][d]=Jv(s[d],l[d])}}}else t[i]===void 0&&(t[i]=n[i])}return t}const ER=n=>n,bF=()=>{let n=ER;return{configure(e){n=e},generate(e){return n(e)},reset(){n=ER}}},PF=bF(),CF={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function d0(n,e,t="Mui"){const r=CF[e];return r?`${t}-${r}`:`${PF.generate(n)}-${e}`}function IC(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=d0(n,i,t)}),r}function qd(n,e){return e?yr(n,e,{clone:!1}):n}function kF(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var l,u;const s=/min-width:\s*([0-9.]+)/;return+(((l=r.match(s))==null?void 0:l[1])||0)-+(((u=i.match(s))==null?void 0:u[1])||0)});return t.length?t.reduce((r,i)=>{const s=e[i];return delete r[i],r[i]=s,r},{...e}):e}function xF(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function OF(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,r,i]=t,s=Number.isNaN(+r)?r||0:+r;return n.containerQueries(i).up(s)}function NF(n){const e=(s,l)=>s.replace("@media",l?`@container ${l}`:"@container");function t(s,l){s.up=(...u)=>e(n.breakpoints.up(...u),l),s.down=(...u)=>e(n.breakpoints.down(...u),l),s.between=(...u)=>e(n.breakpoints.between(...u),l),s.only=(...u)=>e(n.breakpoints.only(...u),l),s.not=(...u)=>{const d=e(n.breakpoints.not(...u),l);return d.includes("not all and")?d.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):d}}const r={},i=s=>(t(r,s),r);return t(i),{...n,containerQueries:i}}const wg={xs:0,sm:600,md:900,lg:1200,xl:1536},IR={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${wg[n]}px)`},DF={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:wg[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function Ss(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const s=r.breakpoints||IR;return e.reduce((l,u,d)=>(l[s.up(s.keys[d])]=t(e[d]),l),{})}if(typeof e=="object"){const s=r.breakpoints||IR;return Object.keys(e).reduce((l,u)=>{if(xF(s.keys,u)){const d=OF(r.containerQueries?r:DF,u);d&&(l[d]=t(e[u],u))}else if(Object.keys(s.values||wg).includes(u)){const d=s.up(u);l[d]=t(e[u],u)}else{const d=u;l[d]=e[d]}return l},{})}return t(e)}function LF(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((r,i)=>{const s=n.up(i);return r[s]={},r},{}))||{}}function VF(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function Eg(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function Cm(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=Eg(n,t)||r,e&&(i=e(i,r,n)),i}function Wt(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,s=l=>{if(l[e]==null)return null;const u=l[e],d=l.theme,h=Eg(d,r)||{};return Ss(l,u,g=>{let _=Cm(h,i,g);return g===_&&typeof g=="string"&&(_=Cm(h,i,`${e}${g==="default"?"":Ao(g)}`,g)),t===!1?_:{[t]:_}})};return s.propTypes={},s.filterProps=[e],s}function MF(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const FF={m:"margin",p:"padding"},UF={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},TR={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},$F=MF(n=>{if(n.length>2)if(TR[n])n=TR[n];else return[n];const[e,t]=n.split(""),r=FF[e],i=UF[t]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),h0=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],f0=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...h0,...f0];function jh(n,e,t,r){const i=Eg(n,e,!0)??t;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const l=Math.abs(s),u=i[l];return s>=0?u:typeof u=="number"?-u:`-${u}`}:typeof i=="function"?i:()=>{}}function p0(n){return jh(n,"spacing",8)}function Bh(n,e){return typeof e=="string"||e==null?e:n(e)}function jF(n,e){return t=>n.reduce((r,i)=>(r[i]=Bh(e,t),r),{})}function BF(n,e,t,r){if(!e.includes(t))return null;const i=$F(t),s=jF(i,r),l=n[t];return Ss(n,l,s)}function TC(n,e){const t=p0(n.theme);return Object.keys(n).map(r=>BF(n,e,r,t)).reduce(qd,{})}function Dt(n){return TC(n,h0)}Dt.propTypes={};Dt.filterProps=h0;function Lt(n){return TC(n,f0)}Lt.propTypes={};Lt.filterProps=f0;function Ig(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),t=r=>Object.keys(r).reduce((i,s)=>e[s]?qd(i,e[s](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function Dr(n){return typeof n!="number"?n:`${n}px solid`}function Ur(n,e){return Wt({prop:n,themeKey:"borders",transform:e})}const zF=Ur("border",Dr),WF=Ur("borderTop",Dr),qF=Ur("borderRight",Dr),HF=Ur("borderBottom",Dr),KF=Ur("borderLeft",Dr),GF=Ur("borderColor"),QF=Ur("borderTopColor"),YF=Ur("borderRightColor"),JF=Ur("borderBottomColor"),XF=Ur("borderLeftColor"),ZF=Ur("outline",Dr),eU=Ur("outlineColor"),Tg=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=jh(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:Bh(e,r)});return Ss(n,n.borderRadius,t)}return null};Tg.propTypes={};Tg.filterProps=["borderRadius"];Ig(zF,WF,qF,HF,KF,GF,QF,YF,JF,XF,Tg,ZF,eU);const Sg=n=>{if(n.gap!==void 0&&n.gap!==null){const e=jh(n.theme,"spacing",8),t=r=>({gap:Bh(e,r)});return Ss(n,n.gap,t)}return null};Sg.propTypes={};Sg.filterProps=["gap"];const Rg=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=jh(n.theme,"spacing",8),t=r=>({columnGap:Bh(e,r)});return Ss(n,n.columnGap,t)}return null};Rg.propTypes={};Rg.filterProps=["columnGap"];const Ag=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=jh(n.theme,"spacing",8),t=r=>({rowGap:Bh(e,r)});return Ss(n,n.rowGap,t)}return null};Ag.propTypes={};Ag.filterProps=["rowGap"];const tU=Wt({prop:"gridColumn"}),nU=Wt({prop:"gridRow"}),rU=Wt({prop:"gridAutoFlow"}),iU=Wt({prop:"gridAutoColumns"}),sU=Wt({prop:"gridAutoRows"}),oU=Wt({prop:"gridTemplateColumns"}),aU=Wt({prop:"gridTemplateRows"}),lU=Wt({prop:"gridTemplateAreas"}),uU=Wt({prop:"gridArea"});Ig(Sg,Rg,Ag,tU,nU,rU,iU,sU,oU,aU,lU,uU);function vu(n,e){return e==="grey"?e:n}const cU=Wt({prop:"color",themeKey:"palette",transform:vu}),dU=Wt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:vu}),hU=Wt({prop:"backgroundColor",themeKey:"palette",transform:vu});Ig(cU,dU,hU);function pr(n){return n<=1&&n!==0?`${n*100}%`:n}const fU=Wt({prop:"width",transform:pr}),m0=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var i,s,l,u,d;const r=((l=(s=(i=n.theme)==null?void 0:i.breakpoints)==null?void 0:s.values)==null?void 0:l[t])||wg[t];return r?((d=(u=n.theme)==null?void 0:u.breakpoints)==null?void 0:d.unit)!=="px"?{maxWidth:`${r}${n.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:pr(t)}};return Ss(n,n.maxWidth,e)}return null};m0.filterProps=["maxWidth"];const pU=Wt({prop:"minWidth",transform:pr}),mU=Wt({prop:"height",transform:pr}),gU=Wt({prop:"maxHeight",transform:pr}),yU=Wt({prop:"minHeight",transform:pr});Wt({prop:"size",cssProperty:"width",transform:pr});Wt({prop:"size",cssProperty:"height",transform:pr});const _U=Wt({prop:"boxSizing"});Ig(fU,m0,pU,mU,gU,yU,_U);const bg={border:{themeKey:"borders",transform:Dr},borderTop:{themeKey:"borders",transform:Dr},borderRight:{themeKey:"borders",transform:Dr},borderBottom:{themeKey:"borders",transform:Dr},borderLeft:{themeKey:"borders",transform:Dr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Dr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Tg},color:{themeKey:"palette",transform:vu},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:vu},backgroundColor:{themeKey:"palette",transform:vu},p:{style:Lt},pt:{style:Lt},pr:{style:Lt},pb:{style:Lt},pl:{style:Lt},px:{style:Lt},py:{style:Lt},padding:{style:Lt},paddingTop:{style:Lt},paddingRight:{style:Lt},paddingBottom:{style:Lt},paddingLeft:{style:Lt},paddingX:{style:Lt},paddingY:{style:Lt},paddingInline:{style:Lt},paddingInlineStart:{style:Lt},paddingInlineEnd:{style:Lt},paddingBlock:{style:Lt},paddingBlockStart:{style:Lt},paddingBlockEnd:{style:Lt},m:{style:Dt},mt:{style:Dt},mr:{style:Dt},mb:{style:Dt},ml:{style:Dt},mx:{style:Dt},my:{style:Dt},margin:{style:Dt},marginTop:{style:Dt},marginRight:{style:Dt},marginBottom:{style:Dt},marginLeft:{style:Dt},marginX:{style:Dt},marginY:{style:Dt},marginInline:{style:Dt},marginInlineStart:{style:Dt},marginInlineEnd:{style:Dt},marginBlock:{style:Dt},marginBlockStart:{style:Dt},marginBlockEnd:{style:Dt},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Sg},rowGap:{style:Ag},columnGap:{style:Rg},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:pr},maxWidth:{style:m0},minWidth:{transform:pr},height:{transform:pr},maxHeight:{transform:pr},minHeight:{transform:pr},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function vU(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function wU(n,e){return typeof n=="function"?n(e):n}function EU(){function n(t,r,i,s){const l={[t]:r,theme:i},u=s[t];if(!u)return{[t]:r};const{cssProperty:d=t,themeKey:h,transform:m,style:g}=u;if(r==null)return null;if(h==="typography"&&r==="inherit")return{[t]:r};const _=Eg(i,h)||{};return g?g(l):Ss(l,r,T=>{let R=Cm(_,m,T);return T===R&&typeof T=="string"&&(R=Cm(_,m,`${t}${T==="default"?"":Ao(T)}`,T)),d===!1?R:{[d]:R}})}function e(t){const{sx:r,theme:i={}}=t||{};if(!r)return null;const s=i.unstable_sxConfig??bg;function l(u){let d=u;if(typeof u=="function")d=u(i);else if(typeof u!="object")return u;if(!d)return null;const h=LF(i.breakpoints),m=Object.keys(h);let g=h;return Object.keys(d).forEach(_=>{const I=wU(d[_],i);if(I!=null)if(typeof I=="object")if(s[_])g=qd(g,n(_,I,i,s));else{const T=Ss({theme:i},I,R=>({[_]:R}));vU(T,I)?g[_]=e({sx:I,theme:i}):g=qd(g,T)}else g=qd(g,n(_,I,i,s))}),kF(i,VF(m,g))}return Array.isArray(r)?r.map(l):l(r)}return e}const Cu=EU();Cu.filterProps=["sx"];function Xv(){return Xv=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Xv.apply(null,arguments)}function IU(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function TU(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var SU=function(){function n(t){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(TU(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=IU(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},n}(),Pn="-ms-",km="-moz-",et="-webkit-",SC="comm",g0="rule",y0="decl",RU="@import",RC="@keyframes",AU="@layer",bU=Math.abs,Pg=String.fromCharCode,PU=Object.assign;function CU(n,e){return vn(n,0)^45?(((e<<2^vn(n,0))<<2^vn(n,1))<<2^vn(n,2))<<2^vn(n,3):0}function AC(n){return n.trim()}function kU(n,e){return(n=e.exec(n))?n[0]:n}function tt(n,e,t){return n.replace(e,t)}function Zv(n,e){return n.indexOf(e)}function vn(n,e){return n.charCodeAt(e)|0}function ah(n,e,t){return n.slice(e,t)}function Ai(n){return n.length}function _0(n){return n.length}function Mp(n,e){return e.push(n),n}function xU(n,e){return n.map(e).join("")}var Cg=1,ku=1,bC=0,nr=0,Qt=0,ic="";function kg(n,e,t,r,i,s,l){return{value:n,root:e,parent:t,type:r,props:i,children:s,line:Cg,column:ku,length:l,return:""}}function Ed(n,e){return PU(kg("",null,null,"",null,null,0),n,{length:-n.length},e)}function OU(){return Qt}function NU(){return Qt=nr>0?vn(ic,--nr):0,ku--,Qt===10&&(ku=1,Cg--),Qt}function _r(){return Qt=nr<bC?vn(ic,nr++):0,ku++,Qt===10&&(ku=1,Cg++),Qt}function Mi(){return vn(ic,nr)}function em(){return nr}function zh(n,e){return ah(ic,n,e)}function lh(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function PC(n){return Cg=ku=1,bC=Ai(ic=n),nr=0,[]}function CC(n){return ic="",n}function tm(n){return AC(zh(nr-1,ew(n===91?n+2:n===40?n+1:n)))}function DU(n){for(;(Qt=Mi())&&Qt<33;)_r();return lh(n)>2||lh(Qt)>3?"":" "}function LU(n,e){for(;--e&&_r()&&!(Qt<48||Qt>102||Qt>57&&Qt<65||Qt>70&&Qt<97););return zh(n,em()+(e<6&&Mi()==32&&_r()==32))}function ew(n){for(;_r();)switch(Qt){case n:return nr;case 34:case 39:n!==34&&n!==39&&ew(Qt);break;case 40:n===41&&ew(n);break;case 92:_r();break}return nr}function VU(n,e){for(;_r()&&n+Qt!==57;)if(n+Qt===84&&Mi()===47)break;return"/*"+zh(e,nr-1)+"*"+Pg(n===47?n:_r())}function MU(n){for(;!lh(Mi());)_r();return zh(n,nr)}function FU(n){return CC(nm("",null,null,null,[""],n=PC(n),0,[0],n))}function nm(n,e,t,r,i,s,l,u,d){for(var h=0,m=0,g=l,_=0,I=0,T=0,R=1,b=1,V=1,L=0,M="",z=i,$=s,W=r,D=M;b;)switch(T=L,L=_r()){case 40:if(T!=108&&vn(D,g-1)==58){Zv(D+=tt(tm(L),"&","&\f"),"&\f")!=-1&&(V=-1);break}case 34:case 39:case 91:D+=tm(L);break;case 9:case 10:case 13:case 32:D+=DU(T);break;case 92:D+=LU(em()-1,7);continue;case 47:switch(Mi()){case 42:case 47:Mp(UU(VU(_r(),em()),e,t),d);break;default:D+="/"}break;case 123*R:u[h++]=Ai(D)*V;case 125*R:case 59:case 0:switch(L){case 0:case 125:b=0;case 59+m:V==-1&&(D=tt(D,/\f/g,"")),I>0&&Ai(D)-g&&Mp(I>32?RR(D+";",r,t,g-1):RR(tt(D," ","")+";",r,t,g-2),d);break;case 59:D+=";";default:if(Mp(W=SR(D,e,t,h,m,i,u,M,z=[],$=[],g),s),L===123)if(m===0)nm(D,e,W,W,z,s,g,u,$);else switch(_===99&&vn(D,3)===110?100:_){case 100:case 108:case 109:case 115:nm(n,W,W,r&&Mp(SR(n,W,W,0,0,i,u,M,i,z=[],g),$),i,$,g,u,r?z:$);break;default:nm(D,W,W,W,[""],$,0,u,$)}}h=m=I=0,R=V=1,M=D="",g=l;break;case 58:g=1+Ai(D),I=T;default:if(R<1){if(L==123)--R;else if(L==125&&R++==0&&NU()==125)continue}switch(D+=Pg(L),L*R){case 38:V=m>0?1:(D+="\f",-1);break;case 44:u[h++]=(Ai(D)-1)*V,V=1;break;case 64:Mi()===45&&(D+=tm(_r())),_=Mi(),m=g=Ai(M=D+=MU(em())),L++;break;case 45:T===45&&Ai(D)==2&&(R=0)}}return s}function SR(n,e,t,r,i,s,l,u,d,h,m){for(var g=i-1,_=i===0?s:[""],I=_0(_),T=0,R=0,b=0;T<r;++T)for(var V=0,L=ah(n,g+1,g=bU(R=l[T])),M=n;V<I;++V)(M=AC(R>0?_[V]+" "+L:tt(L,/&\f/g,_[V])))&&(d[b++]=M);return kg(n,e,t,i===0?g0:u,d,h,m)}function UU(n,e,t){return kg(n,e,t,SC,Pg(OU()),ah(n,2,-2),0)}function RR(n,e,t,r){return kg(n,e,t,y0,ah(n,0,r),ah(n,r+1,-1),r)}function wu(n,e){for(var t="",r=_0(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function $U(n,e,t,r){switch(n.type){case AU:if(n.children.length)break;case RU:case y0:return n.return=n.return||n.value;case SC:return"";case RC:return n.return=n.value+"{"+wu(n.children,r)+"}";case g0:n.value=n.props.join(",")}return Ai(t=wu(n.children,r))?n.return=n.value+"{"+t+"}":""}function jU(n){var e=_0(n);return function(t,r,i,s){for(var l="",u=0;u<e;u++)l+=n[u](t,r,i,s)||"";return l}}function BU(n){return function(e){e.root||(e=e.return)&&n(e)}}function kC(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var zU=function(e,t,r){for(var i=0,s=0;i=s,s=Mi(),i===38&&s===12&&(t[r]=1),!lh(s);)_r();return zh(e,nr)},WU=function(e,t){var r=-1,i=44;do switch(lh(i)){case 0:i===38&&Mi()===12&&(t[r]=1),e[r]+=zU(nr-1,t,r);break;case 2:e[r]+=tm(i);break;case 4:if(i===44){e[++r]=Mi()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=Pg(i)}while(i=_r());return e},qU=function(e,t){return CC(WU(PC(e),t))},AR=new WeakMap,HU=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!AR.get(r))&&!i){AR.set(e,!0);for(var s=[],l=qU(t,s),u=r.props,d=0,h=0;d<l.length;d++)for(var m=0;m<u.length;m++,h++)e.props[h]=s[d]?l[d].replace(/&\f/g,u[m]):u[m]+" "+l[d]}}},KU=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function xC(n,e){switch(CU(n,e)){case 5103:return et+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return et+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return et+n+km+n+Pn+n+n;case 6828:case 4268:return et+n+Pn+n+n;case 6165:return et+n+Pn+"flex-"+n+n;case 5187:return et+n+tt(n,/(\w+).+(:[^]+)/,et+"box-$1$2"+Pn+"flex-$1$2")+n;case 5443:return et+n+Pn+"flex-item-"+tt(n,/flex-|-self/,"")+n;case 4675:return et+n+Pn+"flex-line-pack"+tt(n,/align-content|flex-|-self/,"")+n;case 5548:return et+n+Pn+tt(n,"shrink","negative")+n;case 5292:return et+n+Pn+tt(n,"basis","preferred-size")+n;case 6060:return et+"box-"+tt(n,"-grow","")+et+n+Pn+tt(n,"grow","positive")+n;case 4554:return et+tt(n,/([^-])(transform)/g,"$1"+et+"$2")+n;case 6187:return tt(tt(tt(n,/(zoom-|grab)/,et+"$1"),/(image-set)/,et+"$1"),n,"")+n;case 5495:case 3959:return tt(n,/(image-set\([^]*)/,et+"$1$`$1");case 4968:return tt(tt(n,/(.+:)(flex-)?(.*)/,et+"box-pack:$3"+Pn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+et+n+n;case 4095:case 3583:case 4068:case 2532:return tt(n,/(.+)-inline(.+)/,et+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ai(n)-1-e>6)switch(vn(n,e+1)){case 109:if(vn(n,e+4)!==45)break;case 102:return tt(n,/(.+:)(.+)-([^]+)/,"$1"+et+"$2-$3$1"+km+(vn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~Zv(n,"stretch")?xC(tt(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(vn(n,e+1)!==115)break;case 6444:switch(vn(n,Ai(n)-3-(~Zv(n,"!important")&&10))){case 107:return tt(n,":",":"+et)+n;case 101:return tt(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+et+(vn(n,14)===45?"inline-":"")+"box$3$1"+et+"$2$3$1"+Pn+"$2box$3")+n}break;case 5936:switch(vn(n,e+11)){case 114:return et+n+Pn+tt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return et+n+Pn+tt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return et+n+Pn+tt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return et+n+Pn+n+n}return n}var GU=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case y0:e.return=xC(e.value,e.length);break;case RC:return wu([Ed(e,{value:tt(e.value,"@","@"+et)})],i);case g0:if(e.length)return xU(e.props,function(s){switch(kU(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return wu([Ed(e,{props:[tt(s,/:(read-\w+)/,":"+km+"$1")]})],i);case"::placeholder":return wu([Ed(e,{props:[tt(s,/:(plac\w+)/,":"+et+"input-$1")]}),Ed(e,{props:[tt(s,/:(plac\w+)/,":"+km+"$1")]}),Ed(e,{props:[tt(s,/:(plac\w+)/,Pn+"input-$1")]})],i)}return""})}},QU=[GU],YU=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(R){var b=R.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(R),R.setAttribute("data-s",""))})}var i=e.stylisPlugins||QU,s={},l,u=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(R){for(var b=R.getAttribute("data-emotion").split(" "),V=1;V<b.length;V++)s[b[V]]=!0;u.push(R)});var d,h=[HU,KU];{var m,g=[$U,BU(function(R){m.insert(R)})],_=jU(h.concat(i,g)),I=function(b){return wu(FU(b),_)};d=function(b,V,L,M){m=L,I(b?b+"{"+V.styles+"}":V.styles),M&&(T.inserted[V.name]=!0)}}var T={key:t,sheet:new SU({key:t,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:d};return T.sheet.hydrate(u),T},JU=!0;function XU(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):i&&(r+=i+" ")}),r}var OC=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||JU===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},ZU=function(e,t,r){OC(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var s=t;do e.insert(t===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function e$(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var t$={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},n$=/[A-Z]|^ms/g,r$=/_EMO_([^_]+?)_([^]*?)_EMO_/g,NC=function(e){return e.charCodeAt(1)===45},bR=function(e){return e!=null&&typeof e!="boolean"},mv=kC(function(n){return NC(n)?n:n.replace(n$,"-$&").toLowerCase()}),PR=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(r$,function(r,i,s){return bi={name:i,styles:s,next:bi},i})}return t$[e]!==1&&!NC(e)&&typeof t=="number"&&t!==0?t+"px":t};function uh(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return bi={name:i.name,styles:i.styles,next:bi},i.name;var s=t;if(s.styles!==void 0){var l=s.next;if(l!==void 0)for(;l!==void 0;)bi={name:l.name,styles:l.styles,next:bi},l=l.next;var u=s.styles+";";return u}return i$(n,e,t)}case"function":{if(n!==void 0){var d=bi,h=t(n);return bi=d,uh(n,e,h)}break}}var m=t;if(e==null)return m;var g=e[m];return g!==void 0?g:m}function i$(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=uh(n,e,t[i])+";";else for(var s in t){var l=t[s];if(typeof l!="object"){var u=l;e!=null&&e[u]!==void 0?r+=s+"{"+e[u]+"}":bR(u)&&(r+=mv(s)+":"+PR(s,u)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&(e==null||e[l[0]]===void 0))for(var d=0;d<l.length;d++)bR(l[d])&&(r+=mv(s)+":"+PR(s,l[d])+";");else{var h=uh(n,e,l);switch(s){case"animation":case"animationName":{r+=mv(s)+":"+h+";";break}default:r+=s+"{"+h+"}"}}}return r}var CR=/label:\s*([^\s;{]+)\s*(;|$)/g,bi;function DC(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,i="";bi=void 0;var s=n[0];if(s==null||s.raw===void 0)r=!1,i+=uh(t,e,s);else{var l=s;i+=l[0]}for(var u=1;u<n.length;u++)if(i+=uh(t,e,n[u]),r){var d=s;i+=d[u]}CR.lastIndex=0;for(var h="",m;(m=CR.exec(i))!==null;)h+="-"+m[1];var g=e$(i)+h;return{name:g,styles:i,next:bi}}var s$=function(e){return e()},o$=Bv.useInsertionEffect?Bv.useInsertionEffect:!1,a$=o$||s$,LC=K.createContext(typeof HTMLElement<"u"?YU({key:"css"}):null);LC.Provider;var l$=function(e){return K.forwardRef(function(t,r){var i=K.useContext(LC);return e(t,i,r)})},u$=K.createContext({}),c$=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,d$=kC(function(n){return c$.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),h$=d$,f$=function(e){return e!=="theme"},kR=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?h$:f$},xR=function(e,t,r){var i;if(t){var s=t.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(l){return e.__emotion_forwardProp(l)&&s(l)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},p$=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return OC(t,r,i),a$(function(){return ZU(t,r,i)}),null},m$=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,l;t!==void 0&&(s=t.label,l=t.target);var u=xR(e,t,r),d=u||kR(i),h=!d("as");return function(){var m=arguments,g=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&g.push("label:"+s+";"),m[0]==null||m[0].raw===void 0)g.push.apply(g,m);else{var _=m[0];g.push(_[0]);for(var I=m.length,T=1;T<I;T++)g.push(m[T],_[T])}var R=l$(function(b,V,L){var M=h&&b.as||i,z="",$=[],W=b;if(b.theme==null){W={};for(var D in b)W[D]=b[D];W.theme=K.useContext(u$)}typeof b.className=="string"?z=XU(V.registered,$,b.className):b.className!=null&&(z=b.className+" ");var A=DC(g.concat($),V.registered,W);z+=V.key+"-"+A.name,l!==void 0&&(z+=" "+l);var C=h&&u===void 0?kR(M):d,E={};for(var x in b)h&&x==="as"||C(x)&&(E[x]=b[x]);return E.className=z,L&&(E.ref=L),K.createElement(K.Fragment,null,K.createElement(p$,{cache:V,serialized:A,isStringTag:typeof M=="string"}),K.createElement(M,E))});return R.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",R.defaultProps=e.defaultProps,R.__emotion_real=R,R.__emotion_base=i,R.__emotion_styles=g,R.__emotion_forwardProp=u,Object.defineProperty(R,"toString",{value:function(){return"."+l}}),R.withComponent=function(b,V){var L=n(b,Xv({},t,V,{shouldForwardProp:xR(R,V,!0)}));return L.apply(void 0,g)},R}},g$=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],tw=m$.bind(null);g$.forEach(function(n){tw[n]=tw(n)});/**
 * @mui/styled-engine v6.4.6
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function y$(n,e){return tw(n,e)}function _$(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const OR=[];function NR(n){return OR[0]=n,DC(OR)}const v$=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>({...t,[r.key]:r.val}),{})};function w$(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5,...i}=n,s=v$(e),l=Object.keys(s);function u(_){return`@media (min-width:${typeof e[_]=="number"?e[_]:_}${t})`}function d(_){return`@media (max-width:${(typeof e[_]=="number"?e[_]:_)-r/100}${t})`}function h(_,I){const T=l.indexOf(I);return`@media (min-width:${typeof e[_]=="number"?e[_]:_}${t}) and (max-width:${(T!==-1&&typeof e[l[T]]=="number"?e[l[T]]:I)-r/100}${t})`}function m(_){return l.indexOf(_)+1<l.length?h(_,l[l.indexOf(_)+1]):u(_)}function g(_){const I=l.indexOf(_);return I===0?u(l[1]):I===l.length-1?d(l[I]):h(_,l[l.indexOf(_)+1]).replace("@media","@media not all and")}return{keys:l,values:s,up:u,down:d,between:h,only:m,not:g,unit:t,...i}}const E$={borderRadius:4};function VC(n=8,e=p0({spacing:n})){if(n.mui)return n;const t=(...r)=>(r.length===0?[1]:r).map(s=>{const l=e(s);return typeof l=="number"?`${l}px`:l}).join(" ");return t.mui=!0,t}function I$(n,e){var r;const t=this;if(t.vars){if(!((r=t.colorSchemes)!=null&&r[n])||typeof t.getColorSchemeSelector!="function")return{};let i=t.getColorSchemeSelector(n);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return t.palette.mode===n?e:{}}function MC(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:s={},...l}=n,u=w$(t),d=VC(i);let h=yr({breakpoints:u,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:d,shape:{...E$,...s}},l);return h=NF(h),h.applyStyles=I$,h=e.reduce((m,g)=>yr(m,g),h),h.unstable_sxConfig={...bg,...l==null?void 0:l.unstable_sxConfig},h.unstable_sx=function(g){return Cu({sx:g,theme:this})},h}function FC(n){const{variants:e,...t}=n,r={variants:e,style:NR(t),isProcessed:!0};return r.style===t||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=NR(i.style))}),r}const T$=MC();function gv(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function S$(n){return n?(e,t)=>t[n]:null}function R$(n,e,t){n.theme=P$(n.theme)?t:n.theme[e]||n.theme}function rm(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(r=>rm(n,r));if(Array.isArray(t==null?void 0:t.variants)){let r;if(t.isProcessed)r=t.style;else{const{variants:i,...s}=t;r=s}return UC(n,t.variants,[r])}return t!=null&&t.isProcessed?t.style:t}function UC(n,e,t=[]){var i;let r;e:for(let s=0;s<e.length;s+=1){const l=e[s];if(typeof l.props=="function"){if(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),!l.props(r))continue}else for(const u in l.props)if(n[u]!==l.props[u]&&((i=n.ownerState)==null?void 0:i[u])!==l.props[u])continue e;typeof l.style=="function"?(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),t.push(l.style(r))):t.push(l.style)}return t}function A$(n={}){const{themeId:e,defaultTheme:t=T$,rootShouldForwardProp:r=gv,slotShouldForwardProp:i=gv}=n;function s(u){R$(u,e,t)}return(u,d={})=>{_$(u,$=>$.filter(W=>W!==Cu));const{name:h,slot:m,skipVariantsResolver:g,skipSx:_,overridesResolver:I=S$(k$(m)),...T}=d,R=g!==void 0?g:m&&m!=="Root"&&m!=="root"||!1,b=_||!1;let V=gv;m==="Root"||m==="root"?V=r:m?V=i:C$(u)&&(V=void 0);const L=y$(u,{shouldForwardProp:V,label:b$(),...T}),M=$=>{if(typeof $=="function"&&$.__emotion_real!==$)return function(D){return rm(D,$)};if(ps($)){const W=FC($);return W.variants?function(A){return rm(A,W)}:W.style}return $},z=(...$)=>{const W=[],D=$.map(M),A=[];if(W.push(s),h&&I&&A.push(function(k){var ge,oe;const ee=(oe=(ge=k.theme.components)==null?void 0:ge[h])==null?void 0:oe.styleOverrides;if(!ee)return null;const U={};for(const Z in ee)U[Z]=rm(k,ee[Z]);return I(k,U)}),h&&!R&&A.push(function(k){var U,ge;const O=k.theme,ee=(ge=(U=O==null?void 0:O.components)==null?void 0:U[h])==null?void 0:ge.variants;return ee?UC(k,ee):null}),b||A.push(Cu),Array.isArray(D[0])){const x=D.shift(),k=new Array(W.length).fill(""),O=new Array(A.length).fill("");let ee;ee=[...k,...x,...O],ee.raw=[...k,...x.raw,...O],W.unshift(ee)}const C=[...W,...D,...A],E=L(...C);return u.muiName&&(E.muiName=u.muiName),E};return L.withConfig&&(z.withConfig=L.withConfig),z}}function b$(n,e){return void 0}function P$(n){for(const e in n)return!1;return!0}function C$(n){return typeof n=="string"&&n.charCodeAt(0)>96}function k$(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function v0(n,e=0,t=1){return yC(n,e,t)}function x$(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function bo(n){if(n.type)return n;if(n.charAt(0)==="#")return bo(x$(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(ja(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(ja(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:t,values:r,colorSpace:i}}const O$=n=>{const e=bo(n);return e.values.slice(0,3).map((t,r)=>e.type.includes("hsl")&&r!==0?`${t}%`:t).join(" ")},Nd=(n,e)=>{try{return O$(n)}catch{return n}};function xg(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function $C(n){n=bo(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),l=(h,m=(h+t/30)%12)=>i-s*Math.max(Math.min(m-3,9-m,1),-1);let u="rgb";const d=[Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255)];return n.type==="hsla"&&(u+="a",d.push(e[3])),xg({type:u,values:d})}function nw(n){n=bo(n);let e=n.type==="hsl"||n.type==="hsla"?bo($C(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function N$(n,e){const t=nw(n),r=nw(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function D$(n,e){return n=bo(n),e=v0(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,xg(n)}function Fp(n,e,t){try{return D$(n,e)}catch{return n}}function w0(n,e){if(n=bo(n),e=v0(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return xg(n)}function ct(n,e,t){try{return w0(n,e)}catch{return n}}function E0(n,e){if(n=bo(n),e=v0(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return xg(n)}function dt(n,e,t){try{return E0(n,e)}catch{return n}}function L$(n,e=.15){return nw(n)>.5?w0(n,e):E0(n,e)}function Up(n,e,t){try{return L$(n,e)}catch{return n}}const V$=K.createContext(void 0);function M$(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const i=e.components[t];return i.defaultProps?Jv(i.defaultProps,r):!i.styleOverrides&&!i.variants?Jv(i,r):r}function F$({props:n,name:e}){const t=K.useContext(V$);return M$({props:n,name:e,theme:{components:t}})}const DR={theme:void 0};function U$(n){let e,t;return function(i){let s=e;return(s===void 0||i.theme!==t)&&(DR.theme=i.theme,s=FC(n(DR)),e=s,t=i.theme),s}}function $$(n=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${n?`${n}-`:""}${r}${e(...i)})`}const LR=(n,e,t,r=[])=>{let i=n;e.forEach((s,l)=>{l===e.length-1?Array.isArray(i)?i[Number(s)]=t:i&&typeof i=="object"&&(i[s]=t):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},j$=(n,e,t)=>{function r(i,s=[],l=[]){Object.entries(i).forEach(([u,d])=>{(!t||t&&!t([...s,u]))&&d!=null&&(typeof d=="object"&&Object.keys(d).length>0?r(d,[...s,u],Array.isArray(d)?[...l,u]:l):e([...s,u],d,l))})}r(n)},B$=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function yv(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},i={},s={},l={};return j$(n,(u,d,h)=>{if((typeof d=="string"||typeof d=="number")&&(!r||!r(u,d))){const m=`--${t?`${t}-`:""}${u.join("-")}`,g=B$(u,d);Object.assign(i,{[m]:g}),LR(s,u,`var(${m})`,h),LR(l,u,`var(${m}, ${g})`,h)}},u=>u[0]==="vars"),{css:i,vars:s,varsWithDefaults:l}}function z$(n,e={}){const{getSelector:t=b,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:s={},components:l,defaultColorScheme:u="light",...d}=n,{vars:h,css:m,varsWithDefaults:g}=yv(d,e);let _=g;const I={},{[u]:T,...R}=s;if(Object.entries(R||{}).forEach(([M,z])=>{const{vars:$,css:W,varsWithDefaults:D}=yv(z,e);_=yr(_,D),I[M]={css:W,vars:$}}),T){const{css:M,vars:z,varsWithDefaults:$}=yv(T,e);_=yr(_,$),I[u]={css:M,vars:z}}function b(M,z){var W,D;let $=i;if(i==="class"&&($=".%s"),i==="data"&&($="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&($=`[${i}="%s"]`),M){if($==="media")return n.defaultColorScheme===M?":root":{[`@media (prefers-color-scheme: ${((D=(W=s[M])==null?void 0:W.palette)==null?void 0:D.mode)||M})`]:{":root":z}};if($)return n.defaultColorScheme===M?`:root, ${$.replace("%s",String(M))}`:$.replace("%s",String(M))}return":root"}return{vars:_,generateThemeVars:()=>{let M={...h};return Object.entries(I).forEach(([,{vars:z}])=>{M=yr(M,z)}),M},generateStyleSheets:()=>{var A,C;const M=[],z=n.defaultColorScheme||"light";function $(E,x){Object.keys(x).length&&M.push(typeof E=="string"?{[E]:{...x}}:E)}$(t(void 0,{...m}),m);const{[z]:W,...D}=I;if(W){const{css:E}=W,x=(C=(A=s[z])==null?void 0:A.palette)==null?void 0:C.mode,k=!r&&x?{colorScheme:x,...E}:{...E};$(t(z,{...k}),k)}return Object.entries(D).forEach(([E,{css:x}])=>{var ee,U;const k=(U=(ee=s[E])==null?void 0:ee.palette)==null?void 0:U.mode,O=!r&&k?{colorScheme:k,...x}:{...x};$(t(E,{...O}),O)}),M}}}function W$(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}const ch={black:"#000",white:"#fff"},q$={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Xl={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Zl={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Id={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},eu={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},tu={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},nu={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function jC(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:ch.white,default:ch.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const H$=jC();function BC(){return{text:{primary:ch.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:ch.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const VR=BC();function MR(n,e,t,r){const i=r.light||r,s=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=E0(n.main,i):e==="dark"&&(n.dark=w0(n.main,s)))}function K$(n="light"){return n==="dark"?{main:eu[200],light:eu[50],dark:eu[400]}:{main:eu[700],light:eu[400],dark:eu[800]}}function G$(n="light"){return n==="dark"?{main:Xl[200],light:Xl[50],dark:Xl[400]}:{main:Xl[500],light:Xl[300],dark:Xl[700]}}function Q$(n="light"){return n==="dark"?{main:Zl[500],light:Zl[300],dark:Zl[700]}:{main:Zl[700],light:Zl[400],dark:Zl[800]}}function Y$(n="light"){return n==="dark"?{main:tu[400],light:tu[300],dark:tu[700]}:{main:tu[700],light:tu[500],dark:tu[900]}}function J$(n="light"){return n==="dark"?{main:nu[400],light:nu[300],dark:nu[700]}:{main:nu[800],light:nu[500],dark:nu[900]}}function X$(n="light"){return n==="dark"?{main:Id[400],light:Id[300],dark:Id[700]}:{main:"#ed6c02",light:Id[500],dark:Id[900]}}function I0(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2,...i}=n,s=n.primary||K$(e),l=n.secondary||G$(e),u=n.error||Q$(e),d=n.info||Y$(e),h=n.success||J$(e),m=n.warning||X$(e);function g(R){return N$(R,VR.text.primary)>=t?VR.text.primary:H$.text.primary}const _=({color:R,name:b,mainShade:V=500,lightShade:L=300,darkShade:M=700})=>{if(R={...R},!R.main&&R[V]&&(R.main=R[V]),!R.hasOwnProperty("main"))throw new Error(ja(11,b?` (${b})`:"",V));if(typeof R.main!="string")throw new Error(ja(12,b?` (${b})`:"",JSON.stringify(R.main)));return MR(R,"light",L,r),MR(R,"dark",M,r),R.contrastText||(R.contrastText=g(R.main)),R};let I;return e==="light"?I=jC():e==="dark"&&(I=BC()),yr({common:{...ch},mode:e,primary:_({color:s,name:"primary"}),secondary:_({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:_({color:u,name:"error"}),warning:_({color:m,name:"warning"}),info:_({color:d,name:"info"}),success:_({color:h,name:"success"}),grey:q$,contrastThreshold:t,getContrastText:g,augmentColor:_,tonalOffset:r,...I},i)}function Z$(n){const e={};return Object.entries(n).forEach(r=>{const[i,s]=r;typeof s=="object"&&(e[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function e4(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function t4(n){return Math.round(n*1e5)/1e5}const FR={textTransform:"uppercase"},UR='"Roboto", "Helvetica", "Arial", sans-serif';function n4(n,e){const{fontFamily:t=UR,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:l=500,fontWeightBold:u=700,htmlFontSize:d=16,allVariants:h,pxToRem:m,...g}=typeof e=="function"?e(n):e,_=r/14,I=m||(b=>`${b/d*_}rem`),T=(b,V,L,M,z)=>({fontFamily:t,fontWeight:b,fontSize:I(V),lineHeight:L,...t===UR?{letterSpacing:`${t4(M/V)}em`}:{},...z,...h}),R={h1:T(i,96,1.167,-1.5),h2:T(i,60,1.2,-.5),h3:T(s,48,1.167,0),h4:T(s,34,1.235,.25),h5:T(s,24,1.334,0),h6:T(l,20,1.6,.15),subtitle1:T(s,16,1.75,.15),subtitle2:T(l,14,1.57,.1),body1:T(s,16,1.5,.15),body2:T(s,14,1.43,.15),button:T(l,14,1.75,.4,FR),caption:T(s,12,1.66,.4),overline:T(s,12,2.66,1,FR),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return yr({htmlFontSize:d,pxToRem:I,fontFamily:t,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:l,fontWeightBold:u,...R},g,{clone:!1})}const r4=.2,i4=.14,s4=.12;function It(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${r4})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${i4})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${s4})`].join(",")}const o4=["none",It(0,2,1,-1,0,1,1,0,0,1,3,0),It(0,3,1,-2,0,2,2,0,0,1,5,0),It(0,3,3,-2,0,3,4,0,0,1,8,0),It(0,2,4,-1,0,4,5,0,0,1,10,0),It(0,3,5,-1,0,5,8,0,0,1,14,0),It(0,3,5,-1,0,6,10,0,0,1,18,0),It(0,4,5,-2,0,7,10,1,0,2,16,1),It(0,5,5,-3,0,8,10,1,0,3,14,2),It(0,5,6,-3,0,9,12,1,0,3,16,2),It(0,6,6,-3,0,10,14,1,0,4,18,3),It(0,6,7,-4,0,11,15,1,0,4,20,3),It(0,7,8,-4,0,12,17,2,0,5,22,4),It(0,7,8,-4,0,13,19,2,0,5,24,4),It(0,7,9,-4,0,14,21,2,0,5,26,4),It(0,8,9,-5,0,15,22,2,0,6,28,5),It(0,8,10,-5,0,16,24,2,0,6,30,5),It(0,8,11,-5,0,17,26,2,0,6,32,5),It(0,9,11,-5,0,18,28,2,0,7,34,6),It(0,9,12,-6,0,19,29,2,0,7,36,6),It(0,10,13,-6,0,20,31,3,0,8,38,7),It(0,10,13,-6,0,21,33,3,0,8,40,7),It(0,10,14,-6,0,22,35,3,0,8,42,7),It(0,11,14,-7,0,23,36,3,0,9,44,8),It(0,11,15,-7,0,24,38,3,0,9,46,8)],a4={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},l4={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function $R(n){return`${Math.round(n)}ms`}function u4(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function c4(n){const e={...a4,...n.easing},t={...l4,...n.duration};return{getAutoHeightDuration:u4,create:(i=["all"],s={})=>{const{duration:l=t.standard,easing:u=e.easeInOut,delay:d=0,...h}=s;return(Array.isArray(i)?i:[i]).map(m=>`${m} ${typeof l=="string"?l:$R(l)} ${u} ${typeof d=="string"?d:$R(d)}`).join(",")},...n,easing:e,duration:t}}const d4={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function h4(n){return ps(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function zC(n={}){const e={...n};function t(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[l,u]=i[s];!h4(u)||l.startsWith("unstable_")?delete r[l]:ps(u)&&(r[l]={...u},t(r[l]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function rw(n={},...e){const{breakpoints:t,mixins:r={},spacing:i,palette:s={},transitions:l={},typography:u={},shape:d,...h}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(ja(20));const m=I0(s),g=MC(n);let _=yr(g,{mixins:e4(g.breakpoints,r),palette:m,shadows:o4.slice(),typography:n4(m,u),transitions:c4(l),zIndex:{...d4}});return _=yr(_,h),_=e.reduce((I,T)=>yr(I,T),_),_.unstable_sxConfig={...bg,...h==null?void 0:h.unstable_sxConfig},_.unstable_sx=function(T){return Cu({sx:T,theme:this})},_.toRuntimeSource=zC,_}function f4(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const p4=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=f4(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function WC(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function qC(n){return n==="dark"?p4:[]}function m4(n){const{palette:e={mode:"light"},opacity:t,overlays:r,...i}=n,s=I0(e);return{palette:s,opacity:{...WC(s.mode),...t},overlays:r||qC(s.mode),...i}}function g4(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const y4=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],_4=n=>(e,t)=>{const r=n.rootSelector||":root",i=n.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const l={};return y4(n.cssVarPrefix).forEach(u=>{l[u]=t[u],delete t[u]}),s==="media"?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:l}}:s?{[s.replace("%s",e)]:l,[`${r}, ${s.replace("%s",e)}`]:t}:{[r]:{...t,...l}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(s)return s.replace("%s",String(e))}return r};function v4(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function se(n,e,t){!n[e]&&t&&(n[e]=t)}function Dd(n){return typeof n!="string"||!n.startsWith("hsl")?n:$C(n)}function hs(n,e){`${e}Channel`in n||(n[`${e}Channel`]=Nd(Dd(n[e])))}function w4(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const Si=n=>{try{return n()}catch{}},E4=(n="mui")=>$$(n);function _v(n,e,t,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!t){n[r]=m4({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:s,...l}=rw({...t,palette:{mode:i,...e==null?void 0:e.palette}});return n[r]={...e,palette:s,opacity:{...WC(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||qC(i)},l}function I4(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:l=g4,colorSchemeSelector:u=t.light&&t.dark?"media":void 0,rootSelector:d=":root",...h}=n,m=Object.keys(t)[0],g=r||(t.light&&m!=="light"?"light":m),_=E4(s),{[g]:I,light:T,dark:R,...b}=t,V={...b};let L=I;if((g==="dark"&&!("dark"in t)||g==="light"&&!("light"in t))&&(L=!0),!L)throw new Error(ja(21,g));const M=_v(V,L,h,g);T&&!V.light&&_v(V,T,void 0,"light"),R&&!V.dark&&_v(V,R,void 0,"dark");let z={defaultColorScheme:g,...M,cssVarPrefix:s,colorSchemeSelector:u,rootSelector:d,getCssVar:_,colorSchemes:V,font:{...Z$(M.typography),...M.font},spacing:w4(h.spacing)};Object.keys(z.colorSchemes).forEach(C=>{const E=z.colorSchemes[C].palette,x=k=>{const O=k.split("-"),ee=O[1],U=O[2];return _(k,E[ee][U])};if(E.mode==="light"&&(se(E.common,"background","#fff"),se(E.common,"onBackground","#000")),E.mode==="dark"&&(se(E.common,"background","#000"),se(E.common,"onBackground","#fff")),v4(E,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),E.mode==="light"){se(E.Alert,"errorColor",ct(E.error.light,.6)),se(E.Alert,"infoColor",ct(E.info.light,.6)),se(E.Alert,"successColor",ct(E.success.light,.6)),se(E.Alert,"warningColor",ct(E.warning.light,.6)),se(E.Alert,"errorFilledBg",x("palette-error-main")),se(E.Alert,"infoFilledBg",x("palette-info-main")),se(E.Alert,"successFilledBg",x("palette-success-main")),se(E.Alert,"warningFilledBg",x("palette-warning-main")),se(E.Alert,"errorFilledColor",Si(()=>E.getContrastText(E.error.main))),se(E.Alert,"infoFilledColor",Si(()=>E.getContrastText(E.info.main))),se(E.Alert,"successFilledColor",Si(()=>E.getContrastText(E.success.main))),se(E.Alert,"warningFilledColor",Si(()=>E.getContrastText(E.warning.main))),se(E.Alert,"errorStandardBg",dt(E.error.light,.9)),se(E.Alert,"infoStandardBg",dt(E.info.light,.9)),se(E.Alert,"successStandardBg",dt(E.success.light,.9)),se(E.Alert,"warningStandardBg",dt(E.warning.light,.9)),se(E.Alert,"errorIconColor",x("palette-error-main")),se(E.Alert,"infoIconColor",x("palette-info-main")),se(E.Alert,"successIconColor",x("palette-success-main")),se(E.Alert,"warningIconColor",x("palette-warning-main")),se(E.AppBar,"defaultBg",x("palette-grey-100")),se(E.Avatar,"defaultBg",x("palette-grey-400")),se(E.Button,"inheritContainedBg",x("palette-grey-300")),se(E.Button,"inheritContainedHoverBg",x("palette-grey-A100")),se(E.Chip,"defaultBorder",x("palette-grey-400")),se(E.Chip,"defaultAvatarColor",x("palette-grey-700")),se(E.Chip,"defaultIconColor",x("palette-grey-700")),se(E.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),se(E.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),se(E.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),se(E.LinearProgress,"primaryBg",dt(E.primary.main,.62)),se(E.LinearProgress,"secondaryBg",dt(E.secondary.main,.62)),se(E.LinearProgress,"errorBg",dt(E.error.main,.62)),se(E.LinearProgress,"infoBg",dt(E.info.main,.62)),se(E.LinearProgress,"successBg",dt(E.success.main,.62)),se(E.LinearProgress,"warningBg",dt(E.warning.main,.62)),se(E.Skeleton,"bg",`rgba(${x("palette-text-primaryChannel")} / 0.11)`),se(E.Slider,"primaryTrack",dt(E.primary.main,.62)),se(E.Slider,"secondaryTrack",dt(E.secondary.main,.62)),se(E.Slider,"errorTrack",dt(E.error.main,.62)),se(E.Slider,"infoTrack",dt(E.info.main,.62)),se(E.Slider,"successTrack",dt(E.success.main,.62)),se(E.Slider,"warningTrack",dt(E.warning.main,.62));const k=Up(E.background.default,.8);se(E.SnackbarContent,"bg",k),se(E.SnackbarContent,"color",Si(()=>E.getContrastText(k))),se(E.SpeedDialAction,"fabHoverBg",Up(E.background.paper,.15)),se(E.StepConnector,"border",x("palette-grey-400")),se(E.StepContent,"border",x("palette-grey-400")),se(E.Switch,"defaultColor",x("palette-common-white")),se(E.Switch,"defaultDisabledColor",x("palette-grey-100")),se(E.Switch,"primaryDisabledColor",dt(E.primary.main,.62)),se(E.Switch,"secondaryDisabledColor",dt(E.secondary.main,.62)),se(E.Switch,"errorDisabledColor",dt(E.error.main,.62)),se(E.Switch,"infoDisabledColor",dt(E.info.main,.62)),se(E.Switch,"successDisabledColor",dt(E.success.main,.62)),se(E.Switch,"warningDisabledColor",dt(E.warning.main,.62)),se(E.TableCell,"border",dt(Fp(E.divider,1),.88)),se(E.Tooltip,"bg",Fp(E.grey[700],.92))}if(E.mode==="dark"){se(E.Alert,"errorColor",dt(E.error.light,.6)),se(E.Alert,"infoColor",dt(E.info.light,.6)),se(E.Alert,"successColor",dt(E.success.light,.6)),se(E.Alert,"warningColor",dt(E.warning.light,.6)),se(E.Alert,"errorFilledBg",x("palette-error-dark")),se(E.Alert,"infoFilledBg",x("palette-info-dark")),se(E.Alert,"successFilledBg",x("palette-success-dark")),se(E.Alert,"warningFilledBg",x("palette-warning-dark")),se(E.Alert,"errorFilledColor",Si(()=>E.getContrastText(E.error.dark))),se(E.Alert,"infoFilledColor",Si(()=>E.getContrastText(E.info.dark))),se(E.Alert,"successFilledColor",Si(()=>E.getContrastText(E.success.dark))),se(E.Alert,"warningFilledColor",Si(()=>E.getContrastText(E.warning.dark))),se(E.Alert,"errorStandardBg",ct(E.error.light,.9)),se(E.Alert,"infoStandardBg",ct(E.info.light,.9)),se(E.Alert,"successStandardBg",ct(E.success.light,.9)),se(E.Alert,"warningStandardBg",ct(E.warning.light,.9)),se(E.Alert,"errorIconColor",x("palette-error-main")),se(E.Alert,"infoIconColor",x("palette-info-main")),se(E.Alert,"successIconColor",x("palette-success-main")),se(E.Alert,"warningIconColor",x("palette-warning-main")),se(E.AppBar,"defaultBg",x("palette-grey-900")),se(E.AppBar,"darkBg",x("palette-background-paper")),se(E.AppBar,"darkColor",x("palette-text-primary")),se(E.Avatar,"defaultBg",x("palette-grey-600")),se(E.Button,"inheritContainedBg",x("palette-grey-800")),se(E.Button,"inheritContainedHoverBg",x("palette-grey-700")),se(E.Chip,"defaultBorder",x("palette-grey-700")),se(E.Chip,"defaultAvatarColor",x("palette-grey-300")),se(E.Chip,"defaultIconColor",x("palette-grey-300")),se(E.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),se(E.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),se(E.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),se(E.LinearProgress,"primaryBg",ct(E.primary.main,.5)),se(E.LinearProgress,"secondaryBg",ct(E.secondary.main,.5)),se(E.LinearProgress,"errorBg",ct(E.error.main,.5)),se(E.LinearProgress,"infoBg",ct(E.info.main,.5)),se(E.LinearProgress,"successBg",ct(E.success.main,.5)),se(E.LinearProgress,"warningBg",ct(E.warning.main,.5)),se(E.Skeleton,"bg",`rgba(${x("palette-text-primaryChannel")} / 0.13)`),se(E.Slider,"primaryTrack",ct(E.primary.main,.5)),se(E.Slider,"secondaryTrack",ct(E.secondary.main,.5)),se(E.Slider,"errorTrack",ct(E.error.main,.5)),se(E.Slider,"infoTrack",ct(E.info.main,.5)),se(E.Slider,"successTrack",ct(E.success.main,.5)),se(E.Slider,"warningTrack",ct(E.warning.main,.5));const k=Up(E.background.default,.98);se(E.SnackbarContent,"bg",k),se(E.SnackbarContent,"color",Si(()=>E.getContrastText(k))),se(E.SpeedDialAction,"fabHoverBg",Up(E.background.paper,.15)),se(E.StepConnector,"border",x("palette-grey-600")),se(E.StepContent,"border",x("palette-grey-600")),se(E.Switch,"defaultColor",x("palette-grey-300")),se(E.Switch,"defaultDisabledColor",x("palette-grey-600")),se(E.Switch,"primaryDisabledColor",ct(E.primary.main,.55)),se(E.Switch,"secondaryDisabledColor",ct(E.secondary.main,.55)),se(E.Switch,"errorDisabledColor",ct(E.error.main,.55)),se(E.Switch,"infoDisabledColor",ct(E.info.main,.55)),se(E.Switch,"successDisabledColor",ct(E.success.main,.55)),se(E.Switch,"warningDisabledColor",ct(E.warning.main,.55)),se(E.TableCell,"border",ct(Fp(E.divider,1),.68)),se(E.Tooltip,"bg",Fp(E.grey[700],.92))}hs(E.background,"default"),hs(E.background,"paper"),hs(E.common,"background"),hs(E.common,"onBackground"),hs(E,"divider"),Object.keys(E).forEach(k=>{const O=E[k];k!=="tonalOffset"&&O&&typeof O=="object"&&(O.main&&se(E[k],"mainChannel",Nd(Dd(O.main))),O.light&&se(E[k],"lightChannel",Nd(Dd(O.light))),O.dark&&se(E[k],"darkChannel",Nd(Dd(O.dark))),O.contrastText&&se(E[k],"contrastTextChannel",Nd(Dd(O.contrastText))),k==="text"&&(hs(E[k],"primary"),hs(E[k],"secondary")),k==="action"&&(O.active&&hs(E[k],"active"),O.selected&&hs(E[k],"selected")))})}),z=e.reduce((C,E)=>yr(C,E),z);const $={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:l,getSelector:_4(z)},{vars:W,generateThemeVars:D,generateStyleSheets:A}=z$(z,$);return z.vars=W,Object.entries(z.colorSchemes[z.defaultColorScheme]).forEach(([C,E])=>{z[C]=E}),z.generateThemeVars=D,z.generateStyleSheets=A,z.generateSpacing=function(){return VC(h.spacing,p0(this))},z.getColorSchemeSelector=W$(u),z.spacing=z.generateSpacing(),z.shouldSkipGeneratingVar=l,z.unstable_sxConfig={...bg,...h==null?void 0:h.unstable_sxConfig},z.unstable_sx=function(E){return Cu({sx:E,theme:this})},z.toRuntimeSource=zC,z}function jR(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:I0({...t===!0?{}:t.palette,mode:e})})}function T4(n={},...e){const{palette:t,cssVariables:r=!1,colorSchemes:i=t?void 0:{light:!0},defaultColorScheme:s=t==null?void 0:t.mode,...l}=n,u=s||"light",d=i==null?void 0:i[u],h={...i,...t?{[u]:{...typeof d!="boolean"&&d,palette:t}}:void 0};if(r===!1){if(!("colorSchemes"in n))return rw(n,...e);let m=t;"palette"in n||h[u]&&(h[u]!==!0?m=h[u].palette:u==="dark"&&(m={mode:"dark"}));const g=rw({...n,palette:m},...e);return g.defaultColorScheme=u,g.colorSchemes=h,g.palette.mode==="light"&&(g.colorSchemes.light={...h.light!==!0&&h.light,palette:g.palette},jR(g,"dark",h.dark)),g.palette.mode==="dark"&&(g.colorSchemes.dark={...h.dark!==!0&&h.dark,palette:g.palette},jR(g,"light",h.light)),g}return!t&&!("light"in h)&&u==="light"&&(h.light=!0),I4({...l,colorSchemes:h,defaultColorScheme:u,...typeof r!="boolean"&&r},...e)}const S4=T4(),R4="$$material";function HC(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const A4=n=>HC(n)&&n!=="classes",Wh=A$({themeId:R4,defaultTheme:S4,rootShouldForwardProp:A4}),T0=U$;function KC(n){return F$(n)}function b4(n){return d0("MuiSvgIcon",n)}IC("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const P4=n=>{const{color:e,fontSize:t,classes:r}=n,i={root:["root",e!=="inherit"&&`color${Ao(e)}`,`fontSize${Ao(t)}`]};return _C(i,b4,r)},C4=Wh("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${Ao(t.color)}`],e[`fontSize${Ao(t.fontSize)}`]]}})(T0(({theme:n})=>{var e,t,r,i,s,l,u,d,h,m,g,_,I,T;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=n.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:r.shorter}),variants:[{props:R=>!R.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((l=(s=n.typography)==null?void 0:s.pxToRem)==null?void 0:l.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((d=(u=n.typography)==null?void 0:u.pxToRem)==null?void 0:d.call(u,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((m=(h=n.typography)==null?void 0:h.pxToRem)==null?void 0:m.call(h,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,R])=>R&&R.main).map(([R])=>{var b,V;return{props:{color:R},style:{color:(V=(b=(n.vars??n).palette)==null?void 0:b[R])==null?void 0:V.main}}}),{props:{color:"action"},style:{color:(_=(g=(n.vars??n).palette)==null?void 0:g.action)==null?void 0:_.active}},{props:{color:"disabled"},style:{color:(T=(I=(n.vars??n).palette)==null?void 0:I.action)==null?void 0:T.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),iw=K.forwardRef(function(e,t){const r=KC({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:l="inherit",component:u="svg",fontSize:d="medium",htmlColor:h,inheritViewBox:m=!1,titleAccess:g,viewBox:_="0 0 24 24",...I}=r,T=K.isValidElement(i)&&i.type==="svg",R={...r,color:l,component:u,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:m,viewBox:_,hasSvgAsChild:T},b={};m||(b.viewBox=_);const V=P4(R);return B.jsxs(C4,{as:u,className:Wd(V.root,s),focusable:"false",color:h,"aria-hidden":g?void 0:!0,role:g?"img":void 0,ref:t,...b,...I,...T&&i.props,ownerState:R,children:[T?i.props.children:i,g?B.jsx("title",{children:g}):null]})});iw.muiName="SvgIcon";function GC(n,e){function t(r,i){return B.jsx(iw,{"data-testid":`${e}Icon`,ref:i,...r,children:n})}return t.muiName=iw.muiName,K.memo(K.forwardRef(t))}const k4=GC(B.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),x4=GC(B.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function O4(n){return d0("MuiRating",n)}const Td=IC("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);function N4(n){const e=n.toString().split(".")[1];return e?e.length:0}function vv(n,e){if(n==null)return n;const t=Math.round(n/e)*e;return Number(t.toFixed(N4(e)))}const D4=n=>{const{classes:e,size:t,readOnly:r,disabled:i,emptyValueFocused:s,focusVisible:l}=n,u={root:["root",`size${Ao(t)}`,i&&"disabled",l&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[s&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return _C(u,O4,e)},L4=Wh("span",{name:"MuiRating",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${Td.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${Ao(t.size)}`],t.readOnly&&e.readOnly]}})(T0(({theme:n})=>({display:"inline-flex",position:"relative",fontSize:n.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${Td.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${Td.focusVisible} .${Td.iconActive}`]:{outline:"1px solid #999"},[`& .${Td.visuallyHidden}`]:yF,variants:[{props:{size:"small"},style:{fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:n.typography.pxToRem(30)}},{props:({ownerState:e})=>e.readOnly,style:{pointerEvents:"none"}}]}))),QC=Wh("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:n},e)=>[e.label,n.emptyValueFocused&&e.labelEmptyValueActive]})({cursor:"inherit",variants:[{props:({ownerState:n})=>n.emptyValueFocused,style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),V4=Wh("span",{name:"MuiRating",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.iconEmpty&&e.iconEmpty,t.iconFilled&&e.iconFilled,t.iconHover&&e.iconHover,t.iconFocus&&e.iconFocus,t.iconActive&&e.iconActive]}})(T0(({theme:n})=>({display:"flex",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:({ownerState:e})=>e.iconActive,style:{transform:"scale(1.2)"}},{props:({ownerState:e})=>e.iconEmpty,style:{color:(n.vars||n).palette.action.disabled}}]}))),M4=Wh("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:n=>HC(n)&&n!=="iconActive",overridesResolver:(n,e)=>{const{iconActive:t}=n;return[e.decimal,t&&e.iconActive]}})({position:"relative",variants:[{props:({iconActive:n})=>n,style:{transform:"scale(1.2)"}}]});function F4(n){const{value:e,...t}=n;return B.jsx("span",{...t})}function BR(n){const{classes:e,disabled:t,emptyIcon:r,focus:i,getLabelText:s,highlightSelectedOnly:l,hover:u,icon:d,IconContainerComponent:h,isActive:m,itemValue:g,labelProps:_,name:I,onBlur:T,onChange:R,onClick:b,onFocus:V,readOnly:L,ownerState:M,ratingValue:z,ratingValueRounded:$}=n,W=l?g===z:g<=z,D=g<=u,A=g<=i,C=g===$,E=`${I}-${EC()}`,x=B.jsx(V4,{as:h,value:g,className:Wd(e.icon,W?e.iconFilled:e.iconEmpty,D&&e.iconHover,A&&e.iconFocus,m&&e.iconActive),ownerState:{...M,iconEmpty:!W,iconFilled:W,iconHover:D,iconFocus:A,iconActive:m},children:r&&!W?r:d});return L?B.jsx("span",{..._,children:x}):B.jsxs(K.Fragment,{children:[B.jsxs(QC,{ownerState:{...M,emptyValueFocused:void 0},htmlFor:E,..._,children:[x,B.jsx("span",{className:e.visuallyHidden,children:s(g)})]}),B.jsx("input",{className:e.visuallyHidden,onFocus:V,onBlur:T,onChange:R,onClick:b,disabled:t,value:g,id:E,type:"radio",name:I,checked:C})]})}const U4=B.jsx(k4,{fontSize:"inherit"}),$4=B.jsx(x4,{fontSize:"inherit"});function j4(n){return`${n||"0"} Star${n!==1?"s":""}`}const B4=K.forwardRef(function(e,t){const r=KC({name:"MuiRating",props:e}),{component:i="span",className:s,defaultValue:l=null,disabled:u=!1,emptyIcon:d=$4,emptyLabelText:h="Empty",getLabelText:m=j4,highlightSelectedOnly:g=!1,icon:_=U4,IconContainerComponent:I=F4,max:T=5,name:R,onChange:b,onChangeActive:V,onMouseLeave:L,onMouseMove:M,precision:z=1,readOnly:$=!1,size:W="medium",value:D,...A}=r,C=EC(R),[E,x]=RF({controlled:D,default:l,name:"Rating"}),k=vv(E,z),O=vF(),[{hover:ee,focus:U},ge]=K.useState({hover:-1,focus:-1});let oe=k;ee!==-1&&(oe=ee),U!==-1&&(oe=U);const[Z,me]=K.useState(!1),fe=K.useRef(),H=AF(fe,t),ie=rt=>{M&&M(rt);const mt=fe.current,{right:Yt,left:$r,width:Ir}=mt.getBoundingClientRect();let Tr;O?Tr=(Yt-rt.clientX)/Ir:Tr=(rt.clientX-$r)/Ir;let jn=vv(T*Tr+z/2,z);jn=yC(jn,z,T),ge(Bn=>Bn.hover===jn&&Bn.focus===jn?Bn:{hover:jn,focus:jn}),me(!1),V&&ee!==jn&&V(rt,jn)},Te=rt=>{L&&L(rt);const mt=-1;ge({hover:mt,focus:mt}),V&&ee!==mt&&V(rt,mt)},ke=rt=>{let mt=rt.target.value===""?null:parseFloat(rt.target.value);ee!==-1&&(mt=ee),x(mt),b&&b(rt,mt)},Ve=rt=>{rt.clientX===0&&rt.clientY===0||(ge({hover:-1,focus:-1}),x(null),b&&parseFloat(rt.target.value)===k&&b(rt,null))},$e=rt=>{gR(rt.target)&&me(!0);const mt=parseFloat(rt.target.value);ge(Yt=>({hover:Yt.hover,focus:mt}))},Ge=rt=>{if(ee!==-1)return;gR(rt.target)||me(!1);const mt=-1;ge(Yt=>({hover:Yt.hover,focus:mt}))},[qe,nt]=K.useState(!1),vt={...r,component:i,defaultValue:l,disabled:u,emptyIcon:d,emptyLabelText:h,emptyValueFocused:qe,focusVisible:Z,getLabelText:m,icon:_,IconContainerComponent:I,max:T,precision:z,readOnly:$,size:W},sn=D4(vt);return B.jsxs(L4,{as:i,ref:H,onMouseMove:ie,onMouseLeave:Te,className:Wd(sn.root,s,$&&"MuiRating-readOnly"),ownerState:vt,role:$?"img":null,"aria-label":$?m(oe):null,...A,children:[Array.from(new Array(T)).map((rt,mt)=>{const Yt=mt+1,$r={classes:sn,disabled:u,emptyIcon:d,focus:U,getLabelText:m,highlightSelectedOnly:g,hover:ee,icon:_,IconContainerComponent:I,name:C,onBlur:Ge,onChange:ke,onClick:Ve,onFocus:$e,ratingValue:oe,ratingValueRounded:k,readOnly:$,ownerState:vt},Ir=Yt===Math.ceil(oe)&&(ee!==-1||U!==-1);if(z<1){const Tr=Array.from(new Array(1/z));return B.jsx(M4,{className:Wd(sn.decimal,Ir&&sn.iconActive),ownerState:vt,iconActive:Ir,children:Tr.map((jn,Bn)=>{const rr=vv(Yt-1+(Bn+1)*z,z);return B.jsx(BR,{...$r,isActive:!1,itemValue:rr,labelProps:{style:Tr.length-1===Bn?{}:{width:rr===oe?`${(Bn+1)*z*100}%`:"0%",overflow:"hidden",position:"absolute"}}},rr)})},Yt)}return B.jsx(BR,{...$r,isActive:Ir,itemValue:Yt},Yt)}),!$&&!u&&B.jsxs(QC,{className:Wd(sn.label,sn.labelEmptyValue),ownerState:vt,children:[B.jsx("input",{className:sn.visuallyHidden,value:"",id:`${C}-empty`,type:"radio",name:C,checked:k==null,onFocus:()=>nt(!0),onBlur:()=>nt(!1),onChange:ke}),B.jsx("span",{className:sn.visuallyHidden,children:h})]})]})});var im={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */var z4=im.exports,zR;function W4(){return zR||(zR=1,function(n){(function(e,t){n.exports?n.exports=t():e.numeral=t()})(z4,function(){var e,t,r="2.0.6",i={},s={},l={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},u={currentLocale:l.currentLocale,zeroFormat:l.zeroFormat,nullFormat:l.nullFormat,defaultFormat:l.defaultFormat,scalePercentBy100:l.scalePercentBy100};function d(h,m){this._input=h,this._value=m}return e=function(h){var m,g,_,I;if(e.isNumeral(h))m=h.value();else if(h===0||typeof h>"u")m=0;else if(h===null||t.isNaN(h))m=null;else if(typeof h=="string")if(u.zeroFormat&&h===u.zeroFormat)m=0;else if(u.nullFormat&&h===u.nullFormat||!h.replace(/[^0-9]+/g,"").length)m=null;else{for(g in i)if(I=typeof i[g].regexps.unformat=="function"?i[g].regexps.unformat():i[g].regexps.unformat,I&&h.match(I)){_=i[g].unformat;break}_=_||e._.stringToNumber,m=_(h)}else m=Number(h)||null;return new d(h,m)},e.version=r,e.isNumeral=function(h){return h instanceof d},e._=t={numberToFormat:function(h,m,g){var _=s[e.options.currentLocale],I=!1,T=!1,R=0,b="",V=1e12,L=1e9,M=1e6,z=1e3,$="",W=!1,D,A,C,E,x,k,O;if(h=h||0,A=Math.abs(h),e._.includes(m,"(")?(I=!0,m=m.replace(/[\(|\)]/g,"")):(e._.includes(m,"+")||e._.includes(m,"-"))&&(x=e._.includes(m,"+")?m.indexOf("+"):h<0?m.indexOf("-"):-1,m=m.replace(/[\+|\-]/g,"")),e._.includes(m,"a")&&(D=m.match(/a(k|m|b|t)?/),D=D?D[1]:!1,e._.includes(m," a")&&(b=" "),m=m.replace(new RegExp(b+"a[kmbt]?"),""),A>=V&&!D||D==="t"?(b+=_.abbreviations.trillion,h=h/V):A<V&&A>=L&&!D||D==="b"?(b+=_.abbreviations.billion,h=h/L):A<L&&A>=M&&!D||D==="m"?(b+=_.abbreviations.million,h=h/M):(A<M&&A>=z&&!D||D==="k")&&(b+=_.abbreviations.thousand,h=h/z)),e._.includes(m,"[.]")&&(T=!0,m=m.replace("[.]",".")),C=h.toString().split(".")[0],E=m.split(".")[1],k=m.indexOf(","),R=(m.split(".")[0].split(",")[0].match(/0/g)||[]).length,E?(e._.includes(E,"[")?(E=E.replace("]",""),E=E.split("["),$=e._.toFixed(h,E[0].length+E[1].length,g,E[1].length)):$=e._.toFixed(h,E.length,g),C=$.split(".")[0],e._.includes($,".")?$=_.delimiters.decimal+$.split(".")[1]:$="",T&&Number($.slice(1))===0&&($="")):C=e._.toFixed(h,0,g),b&&!D&&Number(C)>=1e3&&b!==_.abbreviations.trillion)switch(C=String(Number(C)/1e3),b){case _.abbreviations.thousand:b=_.abbreviations.million;break;case _.abbreviations.million:b=_.abbreviations.billion;break;case _.abbreviations.billion:b=_.abbreviations.trillion;break}if(e._.includes(C,"-")&&(C=C.slice(1),W=!0),C.length<R)for(var ee=R-C.length;ee>0;ee--)C="0"+C;return k>-1&&(C=C.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+_.delimiters.thousands)),m.indexOf(".")===0&&(C=""),O=C+$+(b||""),I?O=(I&&W?"(":"")+O+(I&&W?")":""):x>=0?O=x===0?(W?"-":"+")+O:O+(W?"-":"+"):W&&(O="-"+O),O},stringToNumber:function(h){var m=s[u.currentLocale],g=h,_={thousand:3,million:6,billion:9,trillion:12},I,T,R;if(u.zeroFormat&&h===u.zeroFormat)T=0;else if(u.nullFormat&&h===u.nullFormat||!h.replace(/[^0-9]+/g,"").length)T=null;else{T=1,m.delimiters.decimal!=="."&&(h=h.replace(/\./g,"").replace(m.delimiters.decimal,"."));for(I in _)if(R=new RegExp("[^a-zA-Z]"+m.abbreviations[I]+"(?:\\)|(\\"+m.currency.symbol+")?(?:\\))?)?$"),g.match(R)){T*=Math.pow(10,_[I]);break}T*=(h.split("-").length+Math.min(h.split("(").length-1,h.split(")").length-1))%2?1:-1,h=h.replace(/[^0-9\.]+/g,""),T*=Number(h)}return T},isNaN:function(h){return typeof h=="number"&&isNaN(h)},includes:function(h,m){return h.indexOf(m)!==-1},insert:function(h,m,g){return h.slice(0,g)+m+h.slice(g)},reduce:function(h,m){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof m!="function")throw new TypeError(m+" is not a function");var g=Object(h),_=g.length>>>0,I=0,T;if(arguments.length===3)T=arguments[2];else{for(;I<_&&!(I in g);)I++;if(I>=_)throw new TypeError("Reduce of empty array with no initial value");T=g[I++]}for(;I<_;I++)I in g&&(T=m(T,g[I],I,g));return T},multiplier:function(h){var m=h.toString().split(".");return m.length<2?1:Math.pow(10,m[1].length)},correctionFactor:function(){var h=Array.prototype.slice.call(arguments);return h.reduce(function(m,g){var _=t.multiplier(g);return m>_?m:_},1)},toFixed:function(h,m,g,_){var I=h.toString().split("."),T=m-(_||0),R,b,V,L;return I.length===2?R=Math.min(Math.max(I[1].length,T),m):R=T,V=Math.pow(10,R),L=(g(h+"e+"+R)/V).toFixed(R),_>m-R&&(b=new RegExp("\\.?0{1,"+(_-(m-R))+"}$"),L=L.replace(b,"")),L}},e.options=u,e.formats=i,e.locales=s,e.locale=function(h){return h&&(u.currentLocale=h.toLowerCase()),u.currentLocale},e.localeData=function(h){if(!h)return s[u.currentLocale];if(h=h.toLowerCase(),!s[h])throw new Error("Unknown locale : "+h);return s[h]},e.reset=function(){for(var h in l)u[h]=l[h]},e.zeroFormat=function(h){u.zeroFormat=typeof h=="string"?h:null},e.nullFormat=function(h){u.nullFormat=typeof h=="string"?h:null},e.defaultFormat=function(h){u.defaultFormat=typeof h=="string"?h:"0.0"},e.register=function(h,m,g){if(m=m.toLowerCase(),this[h+"s"][m])throw new TypeError(m+" "+h+" already registered.");return this[h+"s"][m]=g,g},e.validate=function(h,m){var g,_,I,T,R,b,V,L;if(typeof h!="string"&&(h+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",h)),h=h.trim(),h.match(/^\d+$/))return!0;if(h==="")return!1;try{V=e.localeData(m)}catch{V=e.localeData(e.locale())}return I=V.currency.symbol,R=V.abbreviations,g=V.delimiters.decimal,V.delimiters.thousands==="."?_="\\.":_=V.delimiters.thousands,L=h.match(/^[^\d]+/),L!==null&&(h=h.substr(1),L[0]!==I)||(L=h.match(/[^\d]+$/),L!==null&&(h=h.slice(0,-1),L[0]!==R.thousand&&L[0]!==R.million&&L[0]!==R.billion&&L[0]!==R.trillion))?!1:(b=new RegExp(_+"{2}"),h.match(/[^\d.,]/g)?!1:(T=h.split(g),T.length>2?!1:T.length<2?!!T[0].match(/^\d+.*\d$/)&&!T[0].match(b):T[0].length===1?!!T[0].match(/^\d+$/)&&!T[0].match(b)&&!!T[1].match(/^\d+$/):!!T[0].match(/^\d+.*\d$/)&&!T[0].match(b)&&!!T[1].match(/^\d+$/)))},e.fn=d.prototype={clone:function(){return e(this)},format:function(h,m){var g=this._value,_=h||u.defaultFormat,I,T,R;if(m=m||Math.round,g===0&&u.zeroFormat!==null)T=u.zeroFormat;else if(g===null&&u.nullFormat!==null)T=u.nullFormat;else{for(I in i)if(_.match(i[I].regexps.format)){R=i[I].format;break}R=R||e._.numberToFormat,T=R(g,_,m)}return T},value:function(){return this._value},input:function(){return this._input},set:function(h){return this._value=Number(h),this},add:function(h){var m=t.correctionFactor.call(null,this._value,h);function g(_,I,T,R){return _+Math.round(m*I)}return this._value=t.reduce([this._value,h],g,0)/m,this},subtract:function(h){var m=t.correctionFactor.call(null,this._value,h);function g(_,I,T,R){return _-Math.round(m*I)}return this._value=t.reduce([h],g,Math.round(this._value*m))/m,this},multiply:function(h){function m(g,_,I,T){var R=t.correctionFactor(g,_);return Math.round(g*R)*Math.round(_*R)/Math.round(R*R)}return this._value=t.reduce([this._value,h],m,1),this},divide:function(h){function m(g,_,I,T){var R=t.correctionFactor(g,_);return Math.round(g*R)/Math.round(_*R)}return this._value=t.reduce([this._value,h],m),this},difference:function(h){return Math.abs(e(this._value).subtract(h).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(h){var m=h%10;return~~(h%100/10)===1?"th":m===1?"st":m===2?"nd":m===3?"rd":"th"},currency:{symbol:"$"}}),function(){e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(h,m,g){var _=e._.includes(m," BPS")?" ":"",I;return h=h*1e4,m=m.replace(/\s?BPS/,""),I=e._.numberToFormat(h,m,g),e._.includes(I,")")?(I=I.split(""),I.splice(-1,0,_+"BPS"),I=I.join("")):I=I+_+"BPS",I},unformat:function(h){return+(e._.stringToNumber(h)*1e-4).toFixed(15)}})}(),function(){var h={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},m={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},g=h.suffixes.concat(m.suffixes.filter(function(I){return h.suffixes.indexOf(I)<0})),_=g.join("|");_="("+_.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(_)},format:function(I,T,R){var b,V=e._.includes(T,"ib")?m:h,L=e._.includes(T," b")||e._.includes(T," ib")?" ":"",M,z,$;for(T=T.replace(/\s?i?b/,""),M=0;M<=V.suffixes.length;M++)if(z=Math.pow(V.base,M),$=Math.pow(V.base,M+1),I===null||I===0||I>=z&&I<$){L+=V.suffixes[M],z>0&&(I=I/z);break}return b=e._.numberToFormat(I,T,R),b+L},unformat:function(I){var T=e._.stringToNumber(I),R,b;if(T){for(R=h.suffixes.length-1;R>=0;R--){if(e._.includes(I,h.suffixes[R])){b=Math.pow(h.base,R);break}if(e._.includes(I,m.suffixes[R])){b=Math.pow(m.base,R);break}}T*=b||1}return T}})}(),function(){e.register("format","currency",{regexps:{format:/(\$)/},format:function(h,m,g){var _=e.locales[e.options.currentLocale],I={before:m.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:m.match(/([\+|\-|\)|\s|\$]*)$/)[0]},T,R,b;for(m=m.replace(/\s?\$\s?/,""),T=e._.numberToFormat(h,m,g),h>=0?(I.before=I.before.replace(/[\-\(]/,""),I.after=I.after.replace(/[\-\)]/,"")):h<0&&!e._.includes(I.before,"-")&&!e._.includes(I.before,"(")&&(I.before="-"+I.before),b=0;b<I.before.length;b++)switch(R=I.before[b],R){case"$":T=e._.insert(T,_.currency.symbol,b);break;case" ":T=e._.insert(T," ",b+_.currency.symbol.length-1);break}for(b=I.after.length-1;b>=0;b--)switch(R=I.after[b],R){case"$":T=b===I.after.length-1?T+_.currency.symbol:e._.insert(T,_.currency.symbol,-(I.after.length-(1+b)));break;case" ":T=b===I.after.length-1?T+" ":e._.insert(T," ",-(I.after.length-(1+b)+_.currency.symbol.length-1));break}return T}})}(),function(){e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(h,m,g){var _,I=typeof h=="number"&&!e._.isNaN(h)?h.toExponential():"0e+0",T=I.split("e");return m=m.replace(/e[\+|\-]{1}0/,""),_=e._.numberToFormat(Number(T[0]),m,g),_+"e"+T[1]},unformat:function(h){var m=e._.includes(h,"e+")?h.split("e+"):h.split("e-"),g=Number(m[0]),_=Number(m[1]);_=e._.includes(h,"e-")?_*=-1:_;function I(T,R,b,V){var L=e._.correctionFactor(T,R),M=T*L*(R*L)/(L*L);return M}return e._.reduce([g,Math.pow(10,_)],I,1)}})}(),function(){e.register("format","ordinal",{regexps:{format:/(o)/},format:function(h,m,g){var _=e.locales[e.options.currentLocale],I,T=e._.includes(m," o")?" ":"";return m=m.replace(/\s?o/,""),T+=_.ordinal(h),I=e._.numberToFormat(h,m,g),I+T}})}(),function(){e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(h,m,g){var _=e._.includes(m," %")?" ":"",I;return e.options.scalePercentBy100&&(h=h*100),m=m.replace(/\s?\%/,""),I=e._.numberToFormat(h,m,g),e._.includes(I,")")?(I=I.split(""),I.splice(-1,0,_+"%"),I=I.join("")):I=I+_+"%",I},unformat:function(h){var m=e._.stringToNumber(h);return e.options.scalePercentBy100?m*.01:m}})}(),function(){e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(h,m,g){var _=Math.floor(h/60/60),I=Math.floor((h-_*60*60)/60),T=Math.round(h-_*60*60-I*60);return _+":"+(I<10?"0"+I:I)+":"+(T<10?"0"+T:T)},unformat:function(h){var m=h.split(":"),g=0;return m.length===3?(g=g+Number(m[0])*60*60,g=g+Number(m[1])*60,g=g+Number(m[2])):m.length===2&&(g=g+Number(m[0])*60,g=g+Number(m[1])),Number(g)}})}(),e})}(im)),im.exports}var q4=W4();const H4=wP(q4),YC=({amount:n})=>{const e=H4(n).format("$0,0.00");return B.jsx("div",{children:e})},K4="_card__container_1sd4j_1",G4="_button_1sd4j_31",Q4="_rating_1sd4j_91",Y4="_products_container_1sd4j_103",J4="_product_flexed_1sd4j_133",Ld={card__container:K4,button:G4,rating:Q4,products_container:Y4,product_flexed:J4},Eu={ADD_TO_BASKET:"ADD_TO_BASKET",REMOVE_FROM_BASKET:"REMOVE_FROM_BASKET",SET_USER:"SET_USER"},Og=({product:n,flex:e,renderDesc:t,renderAdd:r})=>{const{image:i,title:s,price:l,id:u,rating:d,description:h}=n,[m,g]=K.useContext(Fh),_=()=>{g({type:Eu.ADD_TO_BASKET,item:{image:i,title:s,id:u,rating:d,price:l,description:h}})};return B.jsxs("div",{className:`${Ld.card__container} ${e?Ld.product_flexed:""}`,children:[B.jsx(ii,{to:`/products/${u}`,children:B.jsx("img",{src:i,alt:""})}),B.jsxs("div",{children:[B.jsx("h3",{children:s}),t&&B.jsx("div",{children:h}),B.jsxs("div",{className:Ld.rating,children:[B.jsx(B4,{value:d==null?void 0:d.rate,precision:.1}),B.jsx("small",{children:d==null?void 0:d.count})]}),B.jsx(YC,{amount:l}),r&&B.jsx("button",{className:Ld.button,onClick:_,children:"add to cart"})]})]})},X4=()=>{const[n,e]=K.useState([]),[t,r]=K.useState(!1);return console.log(n),K.useEffect(()=>{xt.get("https://fakestoreapi.com/products").then(i=>{e(i.data),r(!1)}).catch(i=>{console.log(i),r(!1)})},[]),t?B.jsx(Loader,{}):B.jsx("section",{className:Ld.products_container,children:n==null?void 0:n.map((i,s)=>B.jsx(Og,{product:i,renderAdd:!0},s))})},WR=()=>B.jsxs(tc,{children:[B.jsx(MM,{}),B.jsx(jM,{}),B.jsx(X4,{})]}),Z4="_sign_in_page_5tvou_3",ej="_amazon_img_5tvou_21",tj="_sign_in_container_5tvou_53",nj="_input_group_5tvou_85",rj="_sign_in_btn_5tvou_133",ij="_create_account_5tvou_195",sj="_signup_btn_5tvou_233",ao={sign_in_page:Z4,amazon_img:ej,sign_in_container:tj,input_group:nj,sign_in_btn:rj,create_account:ij,signup_btn:sj},oj=()=>{};var qR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},aj=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],l=n[t++],u=n[t++],d=((i&7)<<18|(s&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const s=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},XC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],l=i+1<n.length,u=l?n[i+1]:0,d=i+2<n.length,h=d?n[i+2]:0,m=s>>2,g=(s&3)<<4|u>>4;let _=(u&15)<<2|h>>6,I=h&63;d||(I=64,l||(_=64)),r.push(t[m],t[g],t[_],t[I])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(JC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):aj(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const h=i<n.length?t[n.charAt(i)]:64;++i;const g=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||u==null||h==null||g==null)throw new lj;const _=s<<2|u>>4;if(r.push(_),h!==64){const I=u<<4&240|h>>2;if(r.push(I),g!==64){const T=h<<6&192|g;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class lj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uj=function(n){const e=JC(n);return XC.encodeByteArray(e,!0)},xm=function(n){return uj(n).replace(/\./g,"")},Ng=function(n){try{return XC.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Om(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!cj(t)||(n[t]=Om(n[t],e[t]));return n}function cj(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj=()=>ZC().__FIREBASE_DEFAULTS__,hj=()=>{if(typeof process>"u"||typeof qR>"u")return;const n=qR.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},fj=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Ng(n[1]);return e&&JSON.parse(e)},Dg=()=>{try{return oj()||dj()||hj()||fj()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},pj=n=>{var e,t;return(t=(e=Dg())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},ek=()=>{var n;return(n=Dg())===null||n===void 0?void 0:n.config},S0=n=>{var e;return(e=Dg())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gj(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[xm(JSON.stringify(t)),xm(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function R0(){var n;const e=(n=Dg())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yj(){return typeof window<"u"||nk()}function nk(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function rk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function A0(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Lg(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function b0(){const n=We();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function ik(){return!R0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dh(){try{return typeof indexedDB=="object"}catch{return!1}}function _j(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj="FirebaseError";class hn extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=vj,Object.setPrototypeOf(this,hn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qi.prototype.create)}}class Qi{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?wj(s,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new hn(i,u,r)}}function wj(n,e){return n.replace(Ej,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Ej=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function sk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ai(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],l=e[i];if(KR(s)&&KR(l)){if(!ai(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function KR(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function si(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ni(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function P0(n,e){const t=new Ij(n,e);return t.subscribe.bind(t)}class Ij{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Tj(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=wv),i.error===void 0&&(i.error=wv),i.complete===void 0&&(i.complete=wv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Tj(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function wv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(n){return n&&n._delegate?n._delegate:n}class Mr{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new mj;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Aj(e))try{this.getOrInitializeService({instanceIdentifier:Ta})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ta){return this.instances.has(e)}getOptions(e=Ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const l=this.instances.get(i);return l&&e(l,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Rj(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ta){return this.component?this.component.multipleInstances?e:Ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Rj(n){return n===Ta?void 0:n}function Aj(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Sj(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0=[];var Ue;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ue||(Ue={}));const ak={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},bj=Ue.INFO,Pj={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},Cj=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=Pj[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qh{constructor(e){this.name=e,this._logLevel=bj,this._logHandler=Cj,this._userLogHandler=null,C0.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ak[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}function kj(n){C0.forEach(e=>{e.setLogLevel(n)})}function xj(n,e){for(const t of C0){let r=null;e&&e.level&&(r=ak[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(i,s,...l)=>{const u=l.map(d=>{if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(d=>d).join(" ");s>=(r??i.logLevel)&&n({level:Ue[s].toLowerCase(),message:u,args:l,type:i.name})}}}const Oj=(n,e)=>e.some(t=>n instanceof t);let GR,QR;function Nj(){return GR||(GR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Dj(){return QR||(QR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lk=new WeakMap,sw=new WeakMap,uk=new WeakMap,Ev=new WeakMap,k0=new WeakMap;function Lj(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",l)},s=()=>{t(wo(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&lk.set(t,n)}).catch(()=>{}),k0.set(e,n),e}function Vj(n){if(sw.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",l),n.removeEventListener("abort",l)},s=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",l),n.addEventListener("abort",l)});sw.set(n,e)}let ow={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return sw.get(n);if(e==="objectStoreNames")return n.objectStoreNames||uk.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return wo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Mj(n){ow=n(ow)}function Fj(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Iv(this),e,...t);return uk.set(r,e.sort?e.sort():[e]),wo(r)}:Dj().includes(n)?function(...e){return n.apply(Iv(this),e),wo(lk.get(this))}:function(...e){return wo(n.apply(Iv(this),e))}}function Uj(n){return typeof n=="function"?Fj(n):(n instanceof IDBTransaction&&Vj(n),Oj(n,Nj())?new Proxy(n,ow):n)}function wo(n){if(n instanceof IDBRequest)return Lj(n);if(Ev.has(n))return Ev.get(n);const e=Uj(n);return e!==n&&(Ev.set(n,e),k0.set(e,n)),e}const Iv=n=>k0.get(n);function $j(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(n,e),u=wo(l);return r&&l.addEventListener("upgradeneeded",d=>{r(wo(l.result),d.oldVersion,d.newVersion,wo(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),u.then(d=>{s&&d.addEventListener("close",()=>s()),i&&d.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const jj=["get","getKey","getAll","getAllKeys","count"],Bj=["put","add","delete","clear"],Tv=new Map;function YR(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Tv.get(e))return Tv.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Bj.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||jj.includes(t)))return;const s=async function(l,...u){const d=this.transaction(l,i?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[t](...u),i&&d.done]))[0]};return Tv.set(e,s),s}Mj(n=>({...n,get:(e,t,r)=>YR(e,t)||n.get(e,t,r),has:(e,t)=>!!YR(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Wj(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function Wj(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Nm="@firebase/app",aw="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=new qh("@firebase/app"),qj="@firebase/app-compat",Hj="@firebase/analytics-compat",Kj="@firebase/analytics",Gj="@firebase/app-check-compat",Qj="@firebase/app-check",Yj="@firebase/auth",Jj="@firebase/auth-compat",Xj="@firebase/database",Zj="@firebase/data-connect",eB="@firebase/database-compat",tB="@firebase/functions",nB="@firebase/functions-compat",rB="@firebase/installations",iB="@firebase/installations-compat",sB="@firebase/messaging",oB="@firebase/messaging-compat",aB="@firebase/performance",lB="@firebase/performance-compat",uB="@firebase/remote-config",cB="@firebase/remote-config-compat",dB="@firebase/storage",hB="@firebase/storage-compat",fB="@firebase/firestore",pB="@firebase/vertexai",mB="@firebase/firestore-compat",gB="firebase",yB="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po="[DEFAULT]",_B={[Nm]:"fire-core",[qj]:"fire-core-compat",[Kj]:"fire-analytics",[Hj]:"fire-analytics-compat",[Qj]:"fire-app-check",[Gj]:"fire-app-check-compat",[Yj]:"fire-auth",[Jj]:"fire-auth-compat",[Xj]:"fire-rtdb",[Zj]:"fire-data-connect",[eB]:"fire-rtdb-compat",[tB]:"fire-fn",[nB]:"fire-fn-compat",[rB]:"fire-iid",[iB]:"fire-iid-compat",[sB]:"fire-fcm",[oB]:"fire-fcm-compat",[aB]:"fire-perf",[lB]:"fire-perf-compat",[uB]:"fire-rc",[cB]:"fire-rc-compat",[dB]:"fire-gcs",[hB]:"fire-gcs-compat",[fB]:"fire-fst",[mB]:"fire-fst-compat",[pB]:"fire-vertex","fire-js":"fire-js",[gB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=new Map,xu=new Map,Ou=new Map;function hh(n,e){try{n.container.addComponent(e)}catch(t){Rs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ck(n,e){n.container.addOrOverwriteComponent(e)}function Bi(n){const e=n.name;if(Ou.has(e))return Rs.debug(`There were multiple attempts to register component ${e}.`),!1;Ou.set(e,n);for(const t of Co.values())hh(t,n);for(const t of xu.values())hh(t,n);return!0}function Vg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function vB(n,e,t=Po){Vg(n,e).clearInstance(t)}function dk(n){return n.options!==void 0}function Ke(n){return n==null?!1:n.settings!==void 0}function wB(){Ou.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vr=new Qi("app","Firebase",EB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hk=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(n,e){const t=Ng(n.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(t).exp*1e3,s=new Date().getTime();i-s<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class IB extends hk{constructor(e,t,r,i){const s=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!1,l={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,l,i);else{const u=e;super(u.options,l,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:s},t),this._serverConfig.authIdToken&&JR(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&JR(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,vr(Nm,aw,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){O0(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Vr.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er=yB;function x0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Po,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Vr.create("bad-app-name",{appName:String(i)});if(t||(t=ek()),!t)throw Vr.create("no-options");const s=Co.get(i);if(s){if(ai(t,s.options)&&ai(r,s.config))return s;throw Vr.create("duplicate-app",{appName:i})}const l=new ok(i);for(const d of Ou.values())l.addComponent(d);const u=new hk(t,r,l);return Co.set(i,u),u}function TB(n,e){if(yj()&&!nk())throw Vr.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let t;dk(n)?t=n.options:t=n;const r=Object.assign(Object.assign({},e),t);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=h=>[...h].reduce((m,g)=>Math.imul(31,m)+g.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Vr.create("finalization-registry-not-supported",{});const s=""+i(JSON.stringify(r)),l=xu.get(s);if(l)return l.incRefCount(e.releaseOnDeref),l;const u=new ok(s);for(const h of Ou.values())u.addComponent(h);const d=new IB(t,e,s,u);return xu.set(s,d),d}function fk(n=Po){const e=Co.get(n);if(!e&&n===Po&&ek())return x0();if(!e)throw Vr.create("no-app",{appName:n});return e}function SB(){return Array.from(Co.values())}async function O0(n){let e=!1;const t=n.name;Co.has(t)?(e=!0,Co.delete(t)):xu.has(t)&&n.decRefCount()<=0&&(xu.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)}function vr(n,e,t){var r;let i=(r=_B[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),l=e.match(/\s|\//);if(s||l){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rs.warn(u.join(" "));return}Bi(new Mr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function pk(n,e){if(n!==null&&typeof n!="function")throw Vr.create("invalid-log-argument");xj(n,e)}function mk(n){kj(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RB="firebase-heartbeat-database",AB=1,fh="firebase-heartbeat-store";let Sv=null;function gk(){return Sv||(Sv=$j(RB,AB,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(fh)}catch(t){console.warn(t)}}}}).catch(n=>{throw Vr.create("idb-open",{originalErrorMessage:n.message})})),Sv}async function bB(n){try{const t=(await gk()).transaction(fh),r=await t.objectStore(fh).get(yk(n));return await t.done,r}catch(e){if(e instanceof hn)Rs.warn(e.message);else{const t=Vr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Rs.warn(t.message)}}}async function XR(n,e){try{const r=(await gk()).transaction(fh,"readwrite");await r.objectStore(fh).put(e,yk(n)),await r.done}catch(t){if(t instanceof hn)Rs.warn(t.message);else{const r=Vr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Rs.warn(r.message)}}}function yk(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PB=1024,CB=30;class kB{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new OB(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ZR();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>CB){const l=NB(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Rs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ZR(),{heartbeatsToSend:r,unsentEntries:i}=xB(this._heartbeatsCache.heartbeats),s=xm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Rs.warn(t),""}}}function ZR(){return new Date().toISOString().substring(0,10)}function xB(n,e=PB){const t=[];let r=n.slice();for(const i of n){const s=t.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),eA(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),eA(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class OB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dh()?_j().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await bB(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return XR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return XR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function eA(n){return xm(JSON.stringify({version:2,heartbeats:n})).length}function NB(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DB(n){Bi(new Mr("platform-logger",e=>new zj(e),"PRIVATE")),Bi(new Mr("heartbeat",e=>new kB(e),"PRIVATE")),vr(Nm,aw,n),vr(Nm,aw,"esm2017"),vr("fire-js","")}DB("");const LB=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:hn,SDK_VERSION:Er,_DEFAULT_ENTRY_NAME:Po,_addComponent:hh,_addOrOverwriteComponent:ck,_apps:Co,_clearComponents:wB,_components:Ou,_getProvider:Vg,_isFirebaseApp:dk,_isFirebaseServerApp:Ke,_registerComponent:Bi,_removeServiceInstance:vB,_serverApps:xu,deleteApp:O0,getApp:fk,getApps:SB,initializeApp:x0,initializeServerApp:TB,onLog:pk,registerVersion:vr,setLogLevel:mk},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{constructor(e,t){this._delegate=e,this.firebase=t,hh(e,new Mr("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),O0(this._delegate)))}_getService(e,t=Po){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=Po){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){hh(this._delegate,e)}_addOrOverwriteComponent(e){ck(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MB={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},tA=new Qi("app-compat","Firebase",MB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FB(n){const e={},t={__esModule:!0,initializeApp:s,app:i,registerVersion:vr,setLogLevel:mk,onLog:pk,apps:null,SDK_VERSION:Er,INTERNAL:{registerComponent:u,removeApp:r,useAsService:d,modularAPIs:LB}};t.default=t,Object.defineProperty(t,"apps",{get:l});function r(h){delete e[h]}function i(h){if(h=h||Po,!HR(e,h))throw tA.create("no-app",{appName:h});return e[h]}i.App=n;function s(h,m={}){const g=x0(h,m);if(HR(e,g.name))return e[g.name];const _=new n(g,t);return e[g.name]=_,_}function l(){return Object.keys(e).map(h=>e[h])}function u(h){const m=h.name,g=m.replace("-compat","");if(Bi(h)&&h.type==="PUBLIC"){const _=(I=i())=>{if(typeof I[g]!="function")throw tA.create("invalid-app-argument",{appName:m});return I[g]()};h.serviceProps!==void 0&&Om(_,h.serviceProps),t[g]=_,n.prototype[g]=function(...I){return this._getService.bind(this,m).apply(this,h.multipleInstances?I:[])}}return h.type==="PUBLIC"?t[g]:null}function d(h,m){return m==="serverAuth"?null:m}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(){const n=FB(VB);n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:_k,extendNamespace:e,createSubscribe:P0,ErrorFactory:Qi,deepExtend:Om});function e(t){Om(n,t)}return n}const UB=_k();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA=new qh("@firebase/app-compat"),$B="@firebase/app-compat",jB="0.2.51";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BB(n){vr($B,jB,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=ZC();if(n.firebase!==void 0){nA.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&nA.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const sc=UB;BB();var zB="firebase",WB="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sc.registerVersion(zB,WB,"app-compat");function oc(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function vk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qB=vk,wk=new Qi("auth","Firebase",vk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm=new qh("@firebase/auth");function HB(n,...e){Dm.logLevel<=Ue.WARN&&Dm.warn(`Auth (${Er}): ${n}`,...e)}function sm(n,...e){Dm.logLevel<=Ue.ERROR&&Dm.error(`Auth (${Er}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(n,...e){throw N0(n,...e)}function Fi(n,...e){return N0(n,...e)}function Ek(n,e,t){const r=Object.assign(Object.assign({},qB()),{[e]:t});return new Qi("auth","Firebase",r).create(e,{appName:n.name})}function Is(n){return Ek(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function N0(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return wk.create(n,...e)}function Ne(n,e,...t){if(!n)throw N0(e,...t)}function ms(n){const e="INTERNAL ASSERTION FAILED: "+n;throw sm(e),new Error(e)}function As(n,e){n||ms(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function KB(){return rA()==="http:"||rA()==="https:"}function rA(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KB()||A0()||"connection"in navigator)?navigator.onLine:!0}function QB(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hh=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,As(t>e,"Short delay should be less than long delay!"),this.isMobile=tk()||Lg()}get(){return GB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(n,e){As(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ik=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JB=new Hh(3e4,6e4);function $o(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function jo(n,e,t,r,i={}){return Tk(n,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const u=di(Object.assign({key:n.config.apiKey},l)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const h=Object.assign({method:e,headers:d},s);return rk()||(h.referrerPolicy="no-referrer"),Ik.fetch()(Sk(n,n.config.apiHost,t,u),h)})}async function Tk(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},YB),e);try{const i=new ZB(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw $p(n,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const u=s.ok?l.errorMessage:l.error.message,[d,h]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw $p(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw $p(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw $p(n,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Ek(n,m,h);li(n,m)}}catch(i){if(i instanceof hn)throw i;li(n,"network-request-failed",{message:String(i)})}}async function Kh(n,e,t,r,i={}){const s=await jo(n,e,t,r,i);return"mfaPendingCredential"in s&&li(n,"multi-factor-auth-required",{_serverResponse:s}),s}function Sk(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?D0(n.config,i):`${n.config.apiScheme}://${i}`}function XB(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}let ZB=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Fi(this.auth,"network-request-failed")),JB.get())})}};function $p(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Fi(n,e,r);return i.customData._tokenResponse=t,i}function iA(n){return n!==void 0&&n.enterprise!==void 0}let e5=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return XB(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};async function t5(n,e){return jo(n,"GET","/v2/recaptchaConfig",$o(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n5(n,e){return jo(n,"POST","/v1/accounts:delete",e)}async function Rk(n,e){return jo(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function r5(n,e=!1){const t=Ce(n),r=await t.getIdToken(e),i=L0(r);Ne(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Hd(Rv(i.auth_time)),issuedAtTime:Hd(Rv(i.iat)),expirationTime:Hd(Rv(i.exp)),signInProvider:l||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Rv(n){return Number(n)*1e3}function L0(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return sm("JWT malformed, contained fewer than 3 sections"),null;try{const i=Ng(t);return i?JSON.parse(i):(sm("Failed to decode base64 JWT payload"),null)}catch(i){return sm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function sA(n){const e=L0(n);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ph(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof hn&&i5(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function i5({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let s5=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uw=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hd(this.lastLoginAt),this.creationTime=Hd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lm(n){var e;const t=n.auth,r=await n.getIdToken(),i=await ph(n,Rk(t,{idToken:r}));Ne(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const l=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Ak(s.providerUserInfo):[],u=a5(n.providerData,l),d=n.isAnonymous,h=!(n.email&&s.passwordHash)&&!(u!=null&&u.length),m=d?h:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new uw(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(n,g)}async function o5(n){const e=Ce(n);await Lm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function a5(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Ak(n){return n.map(e=>{var{providerId:t}=e,r=oc(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l5(n,e){const t=await Tk(n,{},async()=>{const r=di({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,l=Sk(n,i,"/v1/token",`key=${s}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",Ik.fetch()(l,{method:"POST",headers:u,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function u5(n,e){return jo(n,"POST","/v2/accounts:revokeToken",$o(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Av=class cw{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const t=sA(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await l5(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,l=new cw;return r&&(Ne(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ne(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(Ne(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cw,this.toJSON())}_performRefresh(){return ms("not implemented")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lo(n,e){Ne(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}let Vm=class Vd{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=oc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new s5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new uw(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await ph(this,this.stsTokenManager.getToken(this.auth,e));return Ne(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return r5(this,e)}reload(){return o5(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Vd(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Lm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ke(this.auth.app))return Promise.reject(Is(this.auth));const e=await this.getIdToken();return await ph(this,n5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,l,u,d,h,m;const g=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(i=t.email)!==null&&i!==void 0?i:void 0,I=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,T=(l=t.photoURL)!==null&&l!==void 0?l:void 0,R=(u=t.tenantId)!==null&&u!==void 0?u:void 0,b=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,V=(h=t.createdAt)!==null&&h!==void 0?h:void 0,L=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:M,emailVerified:z,isAnonymous:$,providerData:W,stsTokenManager:D}=t;Ne(M&&D,e,"internal-error");const A=Av.fromJSON(this.name,D);Ne(typeof M=="string",e,"internal-error"),lo(g,e.name),lo(_,e.name),Ne(typeof z=="boolean",e,"internal-error"),Ne(typeof $=="boolean",e,"internal-error"),lo(I,e.name),lo(T,e.name),lo(R,e.name),lo(b,e.name),lo(V,e.name),lo(L,e.name);const C=new Vd({uid:M,auth:e,email:_,emailVerified:z,displayName:g,isAnonymous:$,photoURL:T,phoneNumber:I,tenantId:R,stsTokenManager:A,createdAt:V,lastLoginAt:L});return W&&Array.isArray(W)&&(C.providerData=W.map(E=>Object.assign({},E))),b&&(C._redirectEventId=b),C}static async _fromIdTokenResponse(e,t,r=!1){const i=new Av;i.updateFromServerResponse(t);const s=new Vd({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Lm(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Ne(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Ak(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),u=new Av;u.updateFromIdToken(r);const d=new Vd({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new uw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(d,h),d}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA=new Map;function gs(n){As(n instanceof Function,"Expected a class definition");let e=oA.get(n);return e?(As(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,oA.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bk=class{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}};bk.type="NONE";const aA=bk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(n,e,t){return`firebase:${n}:${e}:${t}`}let lA=class am{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=om(this.userKey,i.apiKey,s),this.fullPersistenceKey=om("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Vm._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new am(gs(aA),e,r);const i=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||gs(aA);const l=om(r,e.config.apiKey,e.name);let u=null;for(const h of t)try{const m=await h._get(l);if(m){const g=Vm._fromJSON(e,m);h!==s&&(u=g),s=h;break}}catch{}const d=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new am(s,e,r):(s=d[0],u&&await s._set(l,u.toJSON()),await Promise.all(t.map(async h=>{if(h!==s)try{await h._remove(l)}catch{}})),new am(s,e,r))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Pk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Nk(e))return"Blackberry";if(Dk(e))return"Webos";if(Ck(e))return"Safari";if((e.includes("chrome/")||kk(e))&&!e.includes("edge/"))return"Chrome";if(Ok(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Pk(n=We()){return/firefox\//i.test(n)}function Ck(n=We()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kk(n=We()){return/crios\//i.test(n)}function xk(n=We()){return/iemobile/i.test(n)}function Ok(n=We()){return/android/i.test(n)}function Nk(n=We()){return/blackberry/i.test(n)}function Dk(n=We()){return/webos/i.test(n)}function V0(n=We()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function c5(n=We()){var e;return V0(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function d5(){return b0()&&document.documentMode===10}function Lk(n=We()){return V0(n)||Ok(n)||Dk(n)||Nk(n)||/windows phone/i.test(n)||xk(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(n,e=[]){let t;switch(n){case"Browser":t=uA(We());break;case"Worker":t=`${uA(We())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Er}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let h5=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((l,u)=>{try{const d=e(s);l(d)}catch(d){u(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f5(n,e={}){return jo(n,"GET","/v2/passwordPolicy",$o(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5=6;let m5=class{constructor(e){var t,r,i,s;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:p5,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,l,u;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(s=d.containsUppercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let g5=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cA(this),this.idTokenSubscription=new cA(this),this.beforeStateQueue=new h5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=gs(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await lA.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Rk(this,{idToken:e}),r=await Vm._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ke(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&(d!=null&&d.user)&&(i=d.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Lm(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=QB()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ke(this.app))return Promise.reject(Is(this));const t=e?Ce(e):null;return t&&Ne(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ke(this.app)?Promise.reject(Is(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ke(this.app)?Promise.reject(Is(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await f5(this),t=new m5(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Qi("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await u5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&gs(e)||this._popupRedirectResolver;Ne(t,this,"argument-error"),this.redirectPersistenceManager=await lA.create(this,[gs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(u,this,"internal-error"),u.then(()=>{l||s(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Vk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Ke(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&HB(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}};function rl(n){return Ce(n)}let cA=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=P0(t=>this.observer=t)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function y5(n){Mg=n}function Mk(n){return Mg.loadJS(n)}function _5(){return Mg.recaptchaEnterpriseScript}function v5(){return Mg.gapiScript}function w5(n){return`__${n}${Math.floor(Math.random()*1e6)}`}let E5=class{constructor(){this.enterprise=new I5}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},I5=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};const T5="recaptcha-enterprise",Fk="NO_RECAPTCHA";let S5=class{constructor(e){this.type=T5,this.auth=rl(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(l,u)=>{t5(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new e5(d);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,l(h.siteKey)}}).catch(d=>{u(d)})})}function i(s,l,u){const d=window.grecaptcha;iA(d)?d.enterprise.ready(()=>{d.enterprise.execute(s,{action:e}).then(h=>{l(h)}).catch(()=>{l(Fk)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new E5().execute("siteKey",{action:"verify"}):new Promise((s,l)=>{r(this.auth).then(u=>{if(!t&&iA(window.grecaptcha))i(u,s,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=_5();d.length!==0&&(d+=u),Mk(d).then(()=>{i(u,s,l)}).catch(h=>{l(h)})}}).catch(u=>{l(u)})})}};async function dA(n,e,t,r=!1,i=!1){const s=new S5(n);let l;if(i)l=Fk;else try{l=await s.verify(t)}catch{l=await s.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function dw(n,e,t,r,i){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await dA(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await dA(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R5(n,e){const t=Vg(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(ai(s,e??{}))return i;li(i,"already-initialized")}return t.initialize({options:e})}function A5(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(gs);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function b5(n,e,t){const r=rl(n);Ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Uk(e),{host:l,port:u}=P5(e),d=u===null?"":`:${u}`,h={url:`${s}//${l}${d}/`},m=Object.freeze({host:l,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ne(ai(h,r.config.emulator)&&ai(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,C5()}function Uk(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function P5(n){const e=Uk(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:hA(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:hA(l)}}}function hA(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function C5(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let M0=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ms("not implemented")}_getIdTokenResponse(e){return ms("not implemented")}_linkToIdToken(e,t){return ms("not implemented")}_getReauthenticationResolver(e){return ms("not implemented")}};async function k5(n,e){return jo(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x5(n,e){return Kh(n,"POST","/v1/accounts:signInWithPassword",$o(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O5(n,e){return Kh(n,"POST","/v1/accounts:signInWithEmailLink",$o(n,e))}async function N5(n,e){return Kh(n,"POST","/v1/accounts:signInWithEmailLink",$o(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fA=class hw extends M0{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new hw(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new hw(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dw(e,t,"signInWithPassword",x5);case"emailLink":return O5(e,{email:this._email,oobCode:this._password});default:li(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dw(e,r,"signUpPassword",k5);case"emailLink":return N5(e,{idToken:t,email:this._email,oobCode:this._password});default:li(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iu(n,e){return Kh(n,"POST","/v1/accounts:signInWithIdp",$o(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5="http://localhost";let Fg=class fw extends M0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new fw(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):li("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=oc(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new fw(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Iu(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Iu(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Iu(e,t)}buildRequest(){const e={requestUri:D5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=di(t)}return e}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L5(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function V5(n){const e=si(Ni(n)).link,t=e?si(Ni(e)).deep_link_id:null,r=si(Ni(n)).deep_link_id;return(r?si(Ni(r)).link:null)||r||t||e||n}let M5=class $k{constructor(e){var t,r,i,s,l,u;const d=si(Ni(e)),h=(t=d.apiKey)!==null&&t!==void 0?t:null,m=(r=d.oobCode)!==null&&r!==void 0?r:null,g=L5((i=d.mode)!==null&&i!==void 0?i:null);Ne(h&&m&&g,"argument-error"),this.apiKey=h,this.operation=g,this.code=m,this.continueUrl=(s=d.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(u=d.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=V5(e);try{return new $k(t)}catch{return null}}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ug=class jk{constructor(){this.providerId=jk.PROVIDER_ID}static credential(e,t){return fA._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=M5.parseLink(t);return Ne(r,"argument-error"),fA._fromEmailAndCode(e,r.code,r.tenantId)}};Ug.PROVIDER_ID="password";Ug.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ug.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bk=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gh=class extends Bk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zk=class cu extends Gh{constructor(){super("facebook.com")}static credential(e){return Fg._fromParams({providerId:cu.PROVIDER_ID,signInMethod:cu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cu.credentialFromTaggedObject(e)}static credentialFromError(e){return cu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cu.credential(e.oauthAccessToken)}catch{return null}}};zk.FACEBOOK_SIGN_IN_METHOD="facebook.com";zk.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wk=class du extends Gh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Fg._fromParams({providerId:du.PROVIDER_ID,signInMethod:du.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return du.credentialFromTaggedObject(e)}static credentialFromError(e){return du.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return du.credential(t,r)}catch{return null}}};Wk.GOOGLE_SIGN_IN_METHOD="google.com";Wk.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qk=class hu extends Gh{constructor(){super("github.com")}static credential(e){return Fg._fromParams({providerId:hu.PROVIDER_ID,signInMethod:hu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hu.credentialFromTaggedObject(e)}static credentialFromError(e){return hu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hu.credential(e.oauthAccessToken)}catch{return null}}};qk.GITHUB_SIGN_IN_METHOD="github.com";qk.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hk=class fu extends Gh{constructor(){super("twitter.com")}static credential(e,t){return Fg._fromParams({providerId:fu.PROVIDER_ID,signInMethod:fu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return fu.credentialFromTaggedObject(e)}static credentialFromError(e){return fu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return fu.credential(t,r)}catch{return null}}};Hk.TWITTER_SIGN_IN_METHOD="twitter.com";Hk.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F5(n,e){return Kh(n,"POST","/v1/accounts:signUp",$o(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $g=class pw{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await Vm._fromIdTokenResponse(e,r,i),l=pA(r);return new pw({user:s,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=pA(r);return new pw({user:e,providerId:i,_tokenResponse:r,operationType:t})}};function pA(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let U5=class mw extends hn{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,mw.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new mw(e,t,r,i)}};function Kk(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?U5._fromErrorAndOperation(n,s,e,r):s})}async function $5(n,e,t=!1){const r=await ph(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return $g._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j5(n,e,t=!1){const{auth:r}=n;if(Ke(r.app))return Promise.reject(Is(r));const i="reauthenticate";try{const s=await ph(n,Kk(r,i,e,n),t);Ne(s.idToken,r,"internal-error");const l=L0(s.idToken);Ne(l,r,"internal-error");const{sub:u}=l;return Ne(n.uid===u,r,"user-mismatch"),$g._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&li(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gk(n,e,t=!1){if(Ke(n.app))return Promise.reject(Is(n));const r="signIn",i=await Kk(n,r,e),s=await $g._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function B5(n,e){return Gk(rl(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qk(n){const e=rl(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function z5(n,e,t){if(Ke(n.app))return Promise.reject(Is(n));const r=rl(n),l=await dw(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",F5).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&Qk(n),d}),u=await $g._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function W5(n,e,t){return Ke(n.app)?Promise.reject(Is(n)):B5(Ce(n),Ug.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Qk(n),r})}function q5(n,e,t,r){return Ce(n).onIdTokenChanged(e,t,r)}function H5(n,e,t){return Ce(n).beforeAuthStateChanged(e,t)}const Mm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yk=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Mm,"1"),this.storage.removeItem(Mm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5=1e3,G5=10;let Jk=class extends Yk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Lk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);d5()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,G5):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},K5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}};Jk.type="LOCAL";const Q5=Jk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xk=class extends Yk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}};Xk.type="SESSION";const Zk=Xk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y5(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e1=class t1{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new t1(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async h=>h(t.origin,s)),d=await Y5(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}};e1.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let J5=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((u,d)=>{const h=F0("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const _=g;if(_.data.eventId===h)switch(_.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(_.data.response);break;default:clearTimeout(m),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(){return window}function X5(n){Ui().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function Z5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function e3(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function t3(){return n1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="firebaseLocalStorageDb",n3=1,Fm="firebaseLocalStorage",i1="fbase_key";let Qh=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function jg(n,e){return n.transaction([Fm],e?"readwrite":"readonly").objectStore(Fm)}function r3(){const n=indexedDB.deleteDatabase(r1);return new Qh(n).toPromise()}function gw(){const n=indexedDB.open(r1,n3);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Fm,{keyPath:i1})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Fm)?e(r):(r.close(),await r3(),e(await gw()))})})}async function mA(n,e,t){const r=jg(n,!0).put({[i1]:e,value:t});return new Qh(r).toPromise()}async function i3(n,e){const t=jg(n,!1).get(e),r=await new Qh(t).toPromise();return r===void 0?null:r.value}function gA(n,e){const t=jg(n,!0).delete(e);return new Qh(t).toPromise()}const s3=800,o3=3;let s1=class{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gw(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>o3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return n1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=e1._getInstance(t3()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Z5(),!this.activeServiceWorker)return;this.sender=new J5(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||e3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gw();return await mA(e,Mm,"1"),await gA(e,Mm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>mA(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>i3(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>gA(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=jg(i,!1).getAll();return new Qh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),s3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}};s1.type="LOCAL";const a3=s1;new Hh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3(n,e){return e?gs(e):(Ne(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let U0=class extends M0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Iu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Iu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Iu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function u3(n){return Gk(n.auth,new U0(n),n.bypassAuthState)}function c3(n){const{auth:e,user:t}=n;return Ne(t,e,"internal-error"),j5(t,new U0(n),n.bypassAuthState)}async function d3(n){const{auth:e,user:t}=n;return Ne(t,e,"internal-error"),$5(t,new U0(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let o1=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return u3;case"linkViaPopup":case"linkViaRedirect":return d3;case"reauthViaPopup":case"reauthViaRedirect":return c3;default:li(this.auth,"internal-error")}}resolve(e){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=new Hh(2e3,1e4);let f3=class Md extends o1{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Md.currentPopupAction&&Md.currentPopupAction.cancel(),Md.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){As(this.filter.length===1,"Popup operations only handle one event");const e=F0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Fi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Md.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,h3.get())};e()}};f3.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3="pendingRedirect",lm=new Map;let m3=class extends o1{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=lm.get(this.auth._key());if(!e){try{const r=await g3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}lm.set(this.auth._key(),e)}return this.bypassAuthState||lm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function g3(n,e){const t=v3(e),r=_3(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function y3(n,e){lm.set(n._key(),e)}function _3(n){return gs(n._redirectPersistence)}function v3(n){return om(p3,n.config.apiKey,n.name)}async function w3(n,e,t=!1){if(Ke(n.app))return Promise.reject(Is(n));const r=rl(n),i=l3(r,e),l=await new m3(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3=10*60*1e3;let I3=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!T3(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!a1(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Fi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=E3&&this.cachedEventUids.clear(),this.cachedEventUids.has(yA(e))}saveEventToCache(e){this.cachedEventUids.add(yA(e)),this.lastProcessedEventTime=Date.now()}};function yA(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function a1({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function T3(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return a1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S3(n,e={}){return jo(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,A3=/^https?/;async function b3(n){if(n.config.emulator)return;const{authorizedDomains:e}=await S3(n);for(const t of e)try{if(P3(t))return}catch{}li(n,"unauthorized-domain")}function P3(n){const e=lw(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!A3.test(t))return!1;if(R3.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3=new Hh(3e4,6e4);function _A(){const n=Ui().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function k3(n){return new Promise((e,t)=>{var r,i,s;function l(){_A(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_A(),t(Fi(n,"network-request-failed"))},timeout:C3.get()})}if(!((i=(r=Ui().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ui().gapi)===null||s===void 0)&&s.load)l();else{const u=w5("iframefcb");return Ui()[u]=()=>{gapi.load?l():t(Fi(n,"network-request-failed"))},Mk(`${v5()}?onload=${u}`).catch(d=>t(d))}}).catch(e=>{throw um=null,e})}let um=null;function x3(n){return um=um||k3(n),um}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3=new Hh(5e3,15e3),N3="__/auth/iframe",D3="emulator/auth/iframe",L3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},V3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function M3(n){const e=n.config;Ne(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?D0(e,D3):`https://${n.config.authDomain}/${N3}`,r={apiKey:e.apiKey,appName:n.name,v:Er},i=V3.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${di(r).slice(1)}`}async function F3(n){const e=await x3(n),t=Ui().gapi;return Ne(t,n,"internal-error"),e.open({where:document.body,url:M3(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:L3,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=Fi(n,"network-request-failed"),u=Ui().setTimeout(()=>{s(l)},O3.get());function d(){Ui().clearTimeout(u),i(r)}r.ping(d).then(d,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$3=500,j3=600,B3="_blank",z3="http://localhost";let vA=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function W3(n,e,t,r=$3,i=j3){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d=Object.assign(Object.assign({},U3),{width:r.toString(),height:i.toString(),top:s,left:l}),h=We().toLowerCase();t&&(u=kk(h)?B3:t),Pk(h)&&(e=e||z3,d.scrollbars="yes");const m=Object.entries(d).reduce((_,[I,T])=>`${_}${I}=${T},`,"");if(c5(h)&&u!=="_self")return q3(e||"",u),new vA(null);const g=window.open(e||"",u,m);Ne(g,n,"popup-blocked");try{g.focus()}catch{}return new vA(g)}function q3(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3="__/auth/handler",K3="emulator/auth/handler",G3=encodeURIComponent("fac");async function wA(n,e,t,r,i,s){Ne(n.config.authDomain,n,"auth-domain-config-required"),Ne(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Er,eventId:i};if(e instanceof Bk){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",sk(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries({}))l[m]=g}if(e instanceof Gh){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const d=await n._getAppCheckToken(),h=d?`#${G3}=${encodeURIComponent(d)}`:"";return`${Q3(n)}?${di(u).slice(1)}${h}`}function Q3({config:n}){return n.emulator?D0(n,K3):`https://${n.authDomain}/${H3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="webStorageSupport";let Y3=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zk,this._completeRedirectFn=w3,this._overrideRedirectResult=y3}async _openPopup(e,t,r,i){var s;As((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const l=await wA(e,t,r,lw(),i);return W3(e,l,F0())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await wA(e,t,r,lw(),i);return X5(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(As(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await F3(e),r=new I3(e);return t.register("authEvent",i=>(Ne(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(bv,{type:bv},i=>{var s;const l=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[bv];l!==void 0&&t(!!l),li(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=b3(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Lk()||Ck()||V0()}};const J3=Y3;var EA="@firebase/auth",IA="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let X3=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z3(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ez(n){Bi(new Mr("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Ne(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vk(n)},h=new g5(r,i,s,d);return A5(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Bi(new Mr("auth-internal",e=>{const t=rl(e.getProvider("auth").getImmediate());return(r=>new X3(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),vr(EA,IA,Z3(n)),vr(EA,IA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tz=5*60,nz=S0("authIdTokenMaxAge")||tz;let TA=null;const rz=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>nz)return;const i=t==null?void 0:t.token;TA!==i&&(TA=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function iz(n=fk()){const e=Vg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=R5(n,{popupRedirectResolver:J3,persistence:[a3,Q5,Zk]}),r=S0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=rz(s.toString());H5(t,l,()=>l(t.currentUser)),q5(t,u=>l(u))}}const i=pj("auth");return i&&b5(t,`http://${i}`),t}function sz(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}y5({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Fi("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",sz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ez("Browser");var SA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Eo,l1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,A){function C(){}C.prototype=A.prototype,D.D=A.prototype,D.prototype=new C,D.prototype.constructor=D,D.C=function(E,x,k){for(var O=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)O[ee-2]=arguments[ee];return A.prototype[x].apply(E,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,A,C){C||(C=0);var E=Array(16);if(typeof A=="string")for(var x=0;16>x;++x)E[x]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(x=0;16>x;++x)E[x]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=D.g[0],C=D.g[1],x=D.g[2];var k=D.g[3],O=A+(k^C&(x^k))+E[0]+3614090360&4294967295;A=C+(O<<7&4294967295|O>>>25),O=k+(x^A&(C^x))+E[1]+3905402710&4294967295,k=A+(O<<12&4294967295|O>>>20),O=x+(C^k&(A^C))+E[2]+606105819&4294967295,x=k+(O<<17&4294967295|O>>>15),O=C+(A^x&(k^A))+E[3]+3250441966&4294967295,C=x+(O<<22&4294967295|O>>>10),O=A+(k^C&(x^k))+E[4]+4118548399&4294967295,A=C+(O<<7&4294967295|O>>>25),O=k+(x^A&(C^x))+E[5]+1200080426&4294967295,k=A+(O<<12&4294967295|O>>>20),O=x+(C^k&(A^C))+E[6]+2821735955&4294967295,x=k+(O<<17&4294967295|O>>>15),O=C+(A^x&(k^A))+E[7]+4249261313&4294967295,C=x+(O<<22&4294967295|O>>>10),O=A+(k^C&(x^k))+E[8]+1770035416&4294967295,A=C+(O<<7&4294967295|O>>>25),O=k+(x^A&(C^x))+E[9]+2336552879&4294967295,k=A+(O<<12&4294967295|O>>>20),O=x+(C^k&(A^C))+E[10]+4294925233&4294967295,x=k+(O<<17&4294967295|O>>>15),O=C+(A^x&(k^A))+E[11]+2304563134&4294967295,C=x+(O<<22&4294967295|O>>>10),O=A+(k^C&(x^k))+E[12]+1804603682&4294967295,A=C+(O<<7&4294967295|O>>>25),O=k+(x^A&(C^x))+E[13]+4254626195&4294967295,k=A+(O<<12&4294967295|O>>>20),O=x+(C^k&(A^C))+E[14]+2792965006&4294967295,x=k+(O<<17&4294967295|O>>>15),O=C+(A^x&(k^A))+E[15]+1236535329&4294967295,C=x+(O<<22&4294967295|O>>>10),O=A+(x^k&(C^x))+E[1]+4129170786&4294967295,A=C+(O<<5&4294967295|O>>>27),O=k+(C^x&(A^C))+E[6]+3225465664&4294967295,k=A+(O<<9&4294967295|O>>>23),O=x+(A^C&(k^A))+E[11]+643717713&4294967295,x=k+(O<<14&4294967295|O>>>18),O=C+(k^A&(x^k))+E[0]+3921069994&4294967295,C=x+(O<<20&4294967295|O>>>12),O=A+(x^k&(C^x))+E[5]+3593408605&4294967295,A=C+(O<<5&4294967295|O>>>27),O=k+(C^x&(A^C))+E[10]+38016083&4294967295,k=A+(O<<9&4294967295|O>>>23),O=x+(A^C&(k^A))+E[15]+3634488961&4294967295,x=k+(O<<14&4294967295|O>>>18),O=C+(k^A&(x^k))+E[4]+3889429448&4294967295,C=x+(O<<20&4294967295|O>>>12),O=A+(x^k&(C^x))+E[9]+568446438&4294967295,A=C+(O<<5&4294967295|O>>>27),O=k+(C^x&(A^C))+E[14]+3275163606&4294967295,k=A+(O<<9&4294967295|O>>>23),O=x+(A^C&(k^A))+E[3]+4107603335&4294967295,x=k+(O<<14&4294967295|O>>>18),O=C+(k^A&(x^k))+E[8]+1163531501&4294967295,C=x+(O<<20&4294967295|O>>>12),O=A+(x^k&(C^x))+E[13]+2850285829&4294967295,A=C+(O<<5&4294967295|O>>>27),O=k+(C^x&(A^C))+E[2]+4243563512&4294967295,k=A+(O<<9&4294967295|O>>>23),O=x+(A^C&(k^A))+E[7]+1735328473&4294967295,x=k+(O<<14&4294967295|O>>>18),O=C+(k^A&(x^k))+E[12]+2368359562&4294967295,C=x+(O<<20&4294967295|O>>>12),O=A+(C^x^k)+E[5]+4294588738&4294967295,A=C+(O<<4&4294967295|O>>>28),O=k+(A^C^x)+E[8]+2272392833&4294967295,k=A+(O<<11&4294967295|O>>>21),O=x+(k^A^C)+E[11]+1839030562&4294967295,x=k+(O<<16&4294967295|O>>>16),O=C+(x^k^A)+E[14]+4259657740&4294967295,C=x+(O<<23&4294967295|O>>>9),O=A+(C^x^k)+E[1]+2763975236&4294967295,A=C+(O<<4&4294967295|O>>>28),O=k+(A^C^x)+E[4]+1272893353&4294967295,k=A+(O<<11&4294967295|O>>>21),O=x+(k^A^C)+E[7]+4139469664&4294967295,x=k+(O<<16&4294967295|O>>>16),O=C+(x^k^A)+E[10]+3200236656&4294967295,C=x+(O<<23&4294967295|O>>>9),O=A+(C^x^k)+E[13]+681279174&4294967295,A=C+(O<<4&4294967295|O>>>28),O=k+(A^C^x)+E[0]+3936430074&4294967295,k=A+(O<<11&4294967295|O>>>21),O=x+(k^A^C)+E[3]+3572445317&4294967295,x=k+(O<<16&4294967295|O>>>16),O=C+(x^k^A)+E[6]+76029189&4294967295,C=x+(O<<23&4294967295|O>>>9),O=A+(C^x^k)+E[9]+3654602809&4294967295,A=C+(O<<4&4294967295|O>>>28),O=k+(A^C^x)+E[12]+3873151461&4294967295,k=A+(O<<11&4294967295|O>>>21),O=x+(k^A^C)+E[15]+530742520&4294967295,x=k+(O<<16&4294967295|O>>>16),O=C+(x^k^A)+E[2]+3299628645&4294967295,C=x+(O<<23&4294967295|O>>>9),O=A+(x^(C|~k))+E[0]+4096336452&4294967295,A=C+(O<<6&4294967295|O>>>26),O=k+(C^(A|~x))+E[7]+1126891415&4294967295,k=A+(O<<10&4294967295|O>>>22),O=x+(A^(k|~C))+E[14]+2878612391&4294967295,x=k+(O<<15&4294967295|O>>>17),O=C+(k^(x|~A))+E[5]+4237533241&4294967295,C=x+(O<<21&4294967295|O>>>11),O=A+(x^(C|~k))+E[12]+1700485571&4294967295,A=C+(O<<6&4294967295|O>>>26),O=k+(C^(A|~x))+E[3]+2399980690&4294967295,k=A+(O<<10&4294967295|O>>>22),O=x+(A^(k|~C))+E[10]+4293915773&4294967295,x=k+(O<<15&4294967295|O>>>17),O=C+(k^(x|~A))+E[1]+2240044497&4294967295,C=x+(O<<21&4294967295|O>>>11),O=A+(x^(C|~k))+E[8]+1873313359&4294967295,A=C+(O<<6&4294967295|O>>>26),O=k+(C^(A|~x))+E[15]+4264355552&4294967295,k=A+(O<<10&4294967295|O>>>22),O=x+(A^(k|~C))+E[6]+2734768916&4294967295,x=k+(O<<15&4294967295|O>>>17),O=C+(k^(x|~A))+E[13]+1309151649&4294967295,C=x+(O<<21&4294967295|O>>>11),O=A+(x^(C|~k))+E[4]+4149444226&4294967295,A=C+(O<<6&4294967295|O>>>26),O=k+(C^(A|~x))+E[11]+3174756917&4294967295,k=A+(O<<10&4294967295|O>>>22),O=x+(A^(k|~C))+E[2]+718787259&4294967295,x=k+(O<<15&4294967295|O>>>17),O=C+(k^(x|~A))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(x+(O<<21&4294967295|O>>>11))&4294967295,D.g[2]=D.g[2]+x&4294967295,D.g[3]=D.g[3]+k&4294967295}r.prototype.u=function(D,A){A===void 0&&(A=D.length);for(var C=A-this.blockSize,E=this.B,x=this.h,k=0;k<A;){if(x==0)for(;k<=C;)i(this,D,k),k+=this.blockSize;if(typeof D=="string"){for(;k<A;)if(E[x++]=D.charCodeAt(k++),x==this.blockSize){i(this,E),x=0;break}}else for(;k<A;)if(E[x++]=D[k++],x==this.blockSize){i(this,E),x=0;break}}this.h=x,this.o+=A},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;var C=8*this.o;for(A=D.length-8;A<D.length;++A)D[A]=C&255,C/=256;for(this.u(D),D=Array(16),A=C=0;4>A;++A)for(var E=0;32>E;E+=8)D[C++]=this.g[A]>>>E&255;return D};function s(D,A){var C=u;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=A(D)}function l(D,A){this.h=A;for(var C=[],E=!0,x=D.length-1;0<=x;x--){var k=D[x]|0;E&&k==A||(C[x]=k,E=!1)}this.g=C}var u={};function d(D){return-128<=D&&128>D?s(D,function(A){return new l([A|0],0>A?-1:0)}):new l([D|0],0>D?-1:0)}function h(D){if(isNaN(D)||!isFinite(D))return g;if(0>D)return b(h(-D));for(var A=[],C=1,E=0;D>=C;E++)A[E]=D/C|0,C*=4294967296;return new l(A,0)}function m(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return b(m(D.substring(1),A));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=h(Math.pow(A,8)),E=g,x=0;x<D.length;x+=8){var k=Math.min(8,D.length-x),O=parseInt(D.substring(x,x+k),A);8>k?(k=h(Math.pow(A,k)),E=E.j(k).add(h(O))):(E=E.j(C),E=E.add(h(O)))}return E}var g=d(0),_=d(1),I=d(16777216);n=l.prototype,n.m=function(){if(R(this))return-b(this).m();for(var D=0,A=1,C=0;C<this.g.length;C++){var E=this.i(C);D+=(0<=E?E:4294967296+E)*A,A*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(T(this))return"0";if(R(this))return"-"+b(this).toString(D);for(var A=h(Math.pow(D,6)),C=this,E="";;){var x=z(C,A).g;C=V(C,x.j(A));var k=((0<C.g.length?C.g[0]:C.h)>>>0).toString(D);if(C=x,T(C))return k+E;for(;6>k.length;)k="0"+k;E=k+E}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function T(D){if(D.h!=0)return!1;for(var A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function R(D){return D.h==-1}n.l=function(D){return D=V(this,D),R(D)?-1:T(D)?0:1};function b(D){for(var A=D.g.length,C=[],E=0;E<A;E++)C[E]=~D.g[E];return new l(C,~D.h).add(_)}n.abs=function(){return R(this)?b(this):this},n.add=function(D){for(var A=Math.max(this.g.length,D.g.length),C=[],E=0,x=0;x<=A;x++){var k=E+(this.i(x)&65535)+(D.i(x)&65535),O=(k>>>16)+(this.i(x)>>>16)+(D.i(x)>>>16);E=O>>>16,k&=65535,O&=65535,C[x]=O<<16|k}return new l(C,C[C.length-1]&-2147483648?-1:0)};function V(D,A){return D.add(b(A))}n.j=function(D){if(T(this)||T(D))return g;if(R(this))return R(D)?b(this).j(b(D)):b(b(this).j(D));if(R(D))return b(this.j(b(D)));if(0>this.l(I)&&0>D.l(I))return h(this.m()*D.m());for(var A=this.g.length+D.g.length,C=[],E=0;E<2*A;E++)C[E]=0;for(E=0;E<this.g.length;E++)for(var x=0;x<D.g.length;x++){var k=this.i(E)>>>16,O=this.i(E)&65535,ee=D.i(x)>>>16,U=D.i(x)&65535;C[2*E+2*x]+=O*U,L(C,2*E+2*x),C[2*E+2*x+1]+=k*U,L(C,2*E+2*x+1),C[2*E+2*x+1]+=O*ee,L(C,2*E+2*x+1),C[2*E+2*x+2]+=k*ee,L(C,2*E+2*x+2)}for(E=0;E<A;E++)C[E]=C[2*E+1]<<16|C[2*E];for(E=A;E<2*A;E++)C[E]=0;return new l(C,0)};function L(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function M(D,A){this.g=D,this.h=A}function z(D,A){if(T(A))throw Error("division by zero");if(T(D))return new M(g,g);if(R(D))return A=z(b(D),A),new M(b(A.g),b(A.h));if(R(A))return A=z(D,b(A)),new M(b(A.g),A.h);if(30<D.g.length){if(R(D)||R(A))throw Error("slowDivide_ only works with positive integers.");for(var C=_,E=A;0>=E.l(D);)C=$(C),E=$(E);var x=W(C,1),k=W(E,1);for(E=W(E,2),C=W(C,2);!T(E);){var O=k.add(E);0>=O.l(D)&&(x=x.add(C),k=O),E=W(E,1),C=W(C,1)}return A=V(D,x.j(A)),new M(x,A)}for(x=g;0<=D.l(A);){for(C=Math.max(1,Math.floor(D.m()/A.m())),E=Math.ceil(Math.log(C)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),k=h(C),O=k.j(A);R(O)||0<O.l(D);)C-=E,k=h(C),O=k.j(A);T(k)&&(k=_),x=x.add(k),D=V(D,O)}return new M(x,D)}n.A=function(D){return z(this,D).h},n.and=function(D){for(var A=Math.max(this.g.length,D.g.length),C=[],E=0;E<A;E++)C[E]=this.i(E)&D.i(E);return new l(C,this.h&D.h)},n.or=function(D){for(var A=Math.max(this.g.length,D.g.length),C=[],E=0;E<A;E++)C[E]=this.i(E)|D.i(E);return new l(C,this.h|D.h)},n.xor=function(D){for(var A=Math.max(this.g.length,D.g.length),C=[],E=0;E<A;E++)C[E]=this.i(E)^D.i(E);return new l(C,this.h^D.h)};function $(D){for(var A=D.g.length+1,C=[],E=0;E<A;E++)C[E]=D.i(E)<<1|D.i(E-1)>>>31;return new l(C,D.h)}function W(D,A){var C=A>>5;A%=32;for(var E=D.g.length-C,x=[],k=0;k<E;k++)x[k]=0<A?D.i(k+C)>>>A|D.i(k+C+1)<<32-A:D.i(k+C);return new l(x,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,l1=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=m,Eo=l}).apply(typeof SA<"u"?SA:typeof self<"u"?self:typeof window<"u"?window:{});var jp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var u1,Fd,c1,cm,yw,d1,h1,f1;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,v,S){return f==Array.prototype||f==Object.prototype||(f[v]=S.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof jp=="object"&&jp];for(var v=0;v<f.length;++v){var S=f[v];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function i(f,v){if(v)e:{var S=r;f=f.split(".");for(var N=0;N<f.length-1;N++){var Q=f[N];if(!(Q in S))break e;S=S[Q]}f=f[f.length-1],N=S[f],v=v(N),v!=N&&v!=null&&e(S,f,{configurable:!0,writable:!0,value:v})}}function s(f,v){f instanceof String&&(f+="");var S=0,N=!1,Q={next:function(){if(!N&&S<f.length){var ne=S++;return{value:v(ne,f[ne]),done:!1}}return N=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}i("Array.prototype.values",function(f){return f||function(){return s(this,function(v,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function d(f){var v=typeof f;return v=v!="object"?v:f?Array.isArray(f)?"array":v:"null",v=="array"||v=="object"&&typeof f.length=="number"}function h(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function m(f,v,S){return f.call.apply(f.bind,arguments)}function g(f,v,S){if(!f)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,N),f.apply(v,Q)}}return function(){return f.apply(v,arguments)}}function _(f,v,S){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:g,_.apply(null,arguments)}function I(f,v){var S=Array.prototype.slice.call(arguments,1);return function(){var N=S.slice();return N.push.apply(N,arguments),f.apply(this,N)}}function T(f,v){function S(){}S.prototype=v.prototype,f.aa=v.prototype,f.prototype=new S,f.prototype.constructor=f,f.Qb=function(N,Q,ne){for(var ye=Array(arguments.length-2),it=2;it<arguments.length;it++)ye[it-2]=arguments[it];return v.prototype[Q].apply(N,ye)}}function R(f){const v=f.length;if(0<v){const S=Array(v);for(let N=0;N<v;N++)S[N]=f[N];return S}return[]}function b(f,v){for(let S=1;S<arguments.length;S++){const N=arguments[S];if(d(N)){const Q=f.length||0,ne=N.length||0;f.length=Q+ne;for(let ye=0;ye<ne;ye++)f[Q+ye]=N[ye]}else f.push(N)}}class V{constructor(v,S){this.i=v,this.j=S,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function L(f){return/^[\s\xa0]*$/.test(f)}function M(){var f=u.navigator;return f&&(f=f.userAgent)?f:""}function z(f){return z[" "](f),f}z[" "]=function(){};var $=M().indexOf("Gecko")!=-1&&!(M().toLowerCase().indexOf("webkit")!=-1&&M().indexOf("Edge")==-1)&&!(M().indexOf("Trident")!=-1||M().indexOf("MSIE")!=-1)&&M().indexOf("Edge")==-1;function W(f,v,S){for(const N in f)v.call(S,f[N],N,f)}function D(f,v){for(const S in f)v.call(void 0,f[S],S,f)}function A(f){const v={};for(const S in f)v[S]=f[S];return v}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(f,v){let S,N;for(let Q=1;Q<arguments.length;Q++){N=arguments[Q];for(S in N)f[S]=N[S];for(let ne=0;ne<C.length;ne++)S=C[ne],Object.prototype.hasOwnProperty.call(N,S)&&(f[S]=N[S])}}function x(f){var v=1;f=f.split(":");const S=[];for(;0<v&&f.length;)S.push(f.shift()),v--;return f.length&&S.push(f.join(":")),S}function k(f){u.setTimeout(()=>{throw f},0)}function O(){var f=me;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class ee{constructor(){this.h=this.g=null}add(v,S){const N=U.get();N.set(v,S),this.h?this.h.next=N:this.g=N,this.h=N}}var U=new V(()=>new ge,f=>f.reset());class ge{constructor(){this.next=this.g=this.h=null}set(v,S){this.h=v,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,Z=!1,me=new ee,fe=()=>{const f=u.Promise.resolve(void 0);oe=()=>{f.then(H)}};var H=()=>{for(var f;f=O();){try{f.h.call(f.g)}catch(S){k(S)}var v=U;v.j(f),100>v.h&&(v.h++,f.next=v.g,v.g=f)}Z=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Te(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}Te.prototype.h=function(){this.defaultPrevented=!0};var ke=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const S=()=>{};u.addEventListener("test",S,v),u.removeEventListener("test",S,v)}catch{}return f}();function Ve(f,v){if(Te.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var S=this.type=f.type,N=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget){if($){e:{try{z(v.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(v=null)}}else S=="mouseover"?v=f.fromElement:S=="mouseout"&&(v=f.toElement);this.relatedTarget=v,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:$e[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Ve.aa.h.call(this)}}T(Ve,Te);var $e={2:"touch",3:"pen",4:"mouse"};Ve.prototype.h=function(){Ve.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ge="closure_listenable_"+(1e6*Math.random()|0),qe=0;function nt(f,v,S,N,Q){this.listener=f,this.proxy=null,this.src=v,this.type=S,this.capture=!!N,this.ha=Q,this.key=++qe,this.da=this.fa=!1}function vt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function sn(f){this.src=f,this.g={},this.h=0}sn.prototype.add=function(f,v,S,N,Q){var ne=f.toString();f=this.g[ne],f||(f=this.g[ne]=[],this.h++);var ye=mt(f,v,N,Q);return-1<ye?(v=f[ye],S||(v.fa=!1)):(v=new nt(v,this.src,ne,!!N,Q),v.fa=S,f.push(v)),v};function rt(f,v){var S=v.type;if(S in f.g){var N=f.g[S],Q=Array.prototype.indexOf.call(N,v,void 0),ne;(ne=0<=Q)&&Array.prototype.splice.call(N,Q,1),ne&&(vt(v),f.g[S].length==0&&(delete f.g[S],f.h--))}}function mt(f,v,S,N){for(var Q=0;Q<f.length;++Q){var ne=f[Q];if(!ne.da&&ne.listener==v&&ne.capture==!!S&&ne.ha==N)return Q}return-1}var Yt="closure_lm_"+(1e6*Math.random()|0),$r={};function Ir(f,v,S,N,Q){if(Array.isArray(v)){for(var ne=0;ne<v.length;ne++)Ir(f,v[ne],S,N,Q);return null}return S=vc(S),f&&f[Ge]?f.K(v,S,h(N)?!!N.capture:!1,Q):Tr(f,v,S,!1,N,Q)}function Tr(f,v,S,N,Q,ne){if(!v)throw Error("Invalid event type");var ye=h(Q)?!!Q.capture:!!Q,it=ul(f);if(it||(f[Yt]=it=new sn(f)),S=it.add(v,S,N,ye,ne),S.proxy)return S;if(N=jn(),S.proxy=N,N.src=f,N.listener=S,f.addEventListener)ke||(Q=ye),Q===void 0&&(Q=!1),f.addEventListener(v.toString(),N,Q);else if(f.attachEvent)f.attachEvent(Yi(v.toString()),N);else if(f.addListener&&f.removeListener)f.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return S}function jn(){function f(S){return v.call(f.src,f.listener,S)}const v=_c;return f}function Bn(f,v,S,N,Q){if(Array.isArray(v))for(var ne=0;ne<v.length;ne++)Bn(f,v[ne],S,N,Q);else N=h(N)?!!N.capture:!!N,S=vc(S),f&&f[Ge]?(f=f.i,v=String(v).toString(),v in f.g&&(ne=f.g[v],S=mt(ne,S,N,Q),-1<S&&(vt(ne[S]),Array.prototype.splice.call(ne,S,1),ne.length==0&&(delete f.g[v],f.h--)))):f&&(f=ul(f))&&(v=f.g[v.toString()],f=-1,v&&(f=mt(v,S,N,Q)),(S=-1<f?v[f]:null)&&rr(S))}function rr(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[Ge])rt(v.i,f);else{var S=f.type,N=f.proxy;v.removeEventListener?v.removeEventListener(S,N,f.capture):v.detachEvent?v.detachEvent(Yi(S),N):v.addListener&&v.removeListener&&v.removeListener(N),(S=ul(v))?(rt(S,f),S.h==0&&(S.src=null,v[Yt]=null)):vt(f)}}}function Yi(f){return f in $r?$r[f]:$r[f]="on"+f}function _c(f,v){if(f.da)f=!0;else{v=new Ve(v,this);var S=f.listener,N=f.ha||f.src;f.fa&&rr(f),f=S.call(N,v)}return f}function ul(f){return f=f[Yt],f instanceof sn?f:null}var cl="__closure_events_fn_"+(1e9*Math.random()>>>0);function vc(f){return typeof f=="function"?f:(f[cl]||(f[cl]=function(v){return f.handleEvent(v)}),f[cl])}function Jt(){ie.call(this),this.i=new sn(this),this.M=this,this.F=null}T(Jt,ie),Jt.prototype[Ge]=!0,Jt.prototype.removeEventListener=function(f,v,S,N){Bn(this,f,v,S,N)};function Xt(f,v){var S,N=f.F;if(N)for(S=[];N;N=N.F)S.push(N);if(f=f.M,N=v.type||v,typeof v=="string")v=new Te(v,f);else if(v instanceof Te)v.target=v.target||f;else{var Q=v;v=new Te(N,f),E(v,Q)}if(Q=!0,S)for(var ne=S.length-1;0<=ne;ne--){var ye=v.g=S[ne];Q=Ji(ye,N,!0,v)&&Q}if(ye=v.g=f,Q=Ji(ye,N,!0,v)&&Q,Q=Ji(ye,N,!1,v)&&Q,S)for(ne=0;ne<S.length;ne++)ye=v.g=S[ne],Q=Ji(ye,N,!1,v)&&Q}Jt.prototype.N=function(){if(Jt.aa.N.call(this),this.i){var f=this.i,v;for(v in f.g){for(var S=f.g[v],N=0;N<S.length;N++)vt(S[N]);delete f.g[v],f.h--}}this.F=null},Jt.prototype.K=function(f,v,S,N){return this.i.add(String(f),v,!1,S,N)},Jt.prototype.L=function(f,v,S,N){return this.i.add(String(f),v,!0,S,N)};function Ji(f,v,S,N){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();for(var Q=!0,ne=0;ne<v.length;++ne){var ye=v[ne];if(ye&&!ye.da&&ye.capture==S){var it=ye.listener,Zt=ye.ha||ye.src;ye.fa&&rt(f.i,ye),Q=it.call(Zt,N)!==!1&&Q}}return Q&&!N.defaultPrevented}function wc(f,v,S){if(typeof f=="function")S&&(f=_(f,S));else if(f&&typeof f.handleEvent=="function")f=_(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:u.setTimeout(f,v||0)}function Ms(f){f.g=wc(()=>{f.g=null,f.i&&(f.i=!1,Ms(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class Go extends ie{constructor(v,S){super(),this.m=v,this.l=S,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Ms(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qo(f){ie.call(this),this.h=f,this.g={}}T(Qo,ie);var Ec=[];function Ic(f){W(f.g,function(v,S){this.g.hasOwnProperty(S)&&rr(v)},f),f.g={}}Qo.prototype.N=function(){Qo.aa.N.call(this),Ic(this)},Qo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tc=u.JSON.stringify,Sc=u.JSON.parse,Rc=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function Yo(){}Yo.prototype.h=null;function dl(f){return f.h||(f.h=f.i())}function hl(){}var Sr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hi(){Te.call(this,"d")}T(hi,Te);function fl(){Te.call(this,"c")}T(fl,Te);var fi={},Ac=null;function Jo(){return Ac=Ac||new Jt}fi.La="serverreachability";function bc(f){Te.call(this,fi.La,f)}T(bc,Te);function Xi(f){const v=Jo();Xt(v,new bc(v))}fi.STAT_EVENT="statevent";function Pc(f,v){Te.call(this,fi.STAT_EVENT,f),this.stat=v}T(Pc,Te);function Ut(f){const v=Jo();Xt(v,new Pc(v,f))}fi.Ma="timingevent";function pl(f,v){Te.call(this,fi.Ma,f),this.size=v}T(pl,Te);function jr(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},v)}function Xo(){this.g=!0}Xo.prototype.xa=function(){this.g=!1};function Zo(f,v,S,N,Q,ne){f.info(function(){if(f.g)if(ne)for(var ye="",it=ne.split("&"),Zt=0;Zt<it.length;Zt++){var Qe=it[Zt].split("=");if(1<Qe.length){var on=Qe[0];Qe=Qe[1];var qt=on.split("_");ye=2<=qt.length&&qt[1]=="type"?ye+(on+"="+Qe+"&"):ye+(on+"=redacted&")}}else ye=null;else ye=ne;return"XMLHTTP REQ ("+N+") [attempt "+Q+"]: "+v+`
`+S+`
`+ye})}function ml(f,v,S,N,Q,ne,ye){f.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+Q+"]: "+v+`
`+S+`
`+ne+" "+ye})}function Br(f,v,S,N){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ry(f,S)+(N?" "+N:"")})}function Cc(f,v){f.info(function(){return"TIMEOUT: "+v})}Xo.prototype.info=function(){};function Ry(f,v){if(!f.g)return v;if(!v)return null;try{var S=JSON.parse(v);if(S){for(f=0;f<S.length;f++)if(Array.isArray(S[f])){var N=S[f];if(!(2>N.length)){var Q=N[1];if(Array.isArray(Q)&&!(1>Q.length)){var ne=Q[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var ye=1;ye<Q.length;ye++)Q[ye]=""}}}}return Tc(S)}catch{return v}}var gl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_f={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zr;function ea(){}T(ea,Yo),ea.prototype.g=function(){return new XMLHttpRequest},ea.prototype.i=function(){return{}},zr=new ea;function Wr(f,v,S,N){this.j=f,this.i=v,this.l=S,this.R=N||1,this.U=new Qo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vf}function vf(){this.i=null,this.g="",this.h=!1}var kc={},yl={};function _l(f,v,S){f.L=1,f.v=Bs(sr(v)),f.m=S,f.P=!0,xc(f,null)}function xc(f,v){f.F=Date.now(),ht(f),f.A=sr(f.v);var S=f.A,N=f.R;Array.isArray(N)||(N=[String(N)]),Ws(S.i,"t",N),f.C=0,S=f.j.J,f.h=new vf,f.g=Mf(f.j,S?v:null,!f.m),0<f.O&&(f.M=new Go(_(f.Y,f,f.g),f.O)),v=f.U,S=f.g,N=f.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(Ec[0]=Q.toString()),Q=Ec);for(var ne=0;ne<Q.length;ne++){var ye=Ir(S,Q[ne],N||v.handleEvent,!1,v.h||v);if(!ye)break;v.g[ye.key]=ye}v=f.H?A(f.H):{},f.m?(f.u||(f.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,v)):(f.u="GET",f.g.ea(f.A,f.u,null,v)),Xi(),Zo(f.i,f.u,f.A,f.l,f.R,f.m)}Wr.prototype.ca=function(f){f=f.target;const v=this.M;v&&Wn(f)==3?v.j():this.Y(f)},Wr.prototype.Y=function(f){try{if(f==this.g)e:{const qt=Wn(this.g);var v=this.g.Ba();const br=this.g.Z();if(!(3>qt)&&(qt!=3||this.g&&(this.h.h||this.g.oa()||Mc(this.g)))){this.J||qt!=4||v==7||(v==8||0>=br?Xi(3):Xi(2)),ta(this);var S=this.g.Z();this.X=S;t:if(wf(this)){var N=Mc(this.g);f="";var Q=N.length,ne=Wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rr(this),Fs(this);var ye="";break t}this.h.i=new u.TextDecoder}for(v=0;v<Q;v++)this.h.h=!0,f+=this.h.i.decode(N[v],{stream:!(ne&&v==Q-1)});N.length=0,this.h.g+=f,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=S==200,ml(this.i,this.u,this.A,this.l,this.R,qt,S),this.o){if(this.T&&!this.K){t:{if(this.g){var it,Zt=this.g;if((it=Zt.g?Zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(it)){var Qe=it;break t}}Qe=null}if(S=Qe)Br(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Oc(this,S);else{this.o=!1,this.s=3,Ut(12),Rr(this),Fs(this);break e}}if(this.P){S=!0;let ar;for(;!this.J&&this.C<ye.length;)if(ar=Ay(this,ye),ar==yl){qt==4&&(this.s=4,Ut(14),S=!1),Br(this.i,this.l,null,"[Incomplete Response]");break}else if(ar==kc){this.s=4,Ut(15),Br(this.i,this.l,ye,"[Invalid Chunk]"),S=!1;break}else Br(this.i,this.l,ar,null),Oc(this,ar);if(wf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qt!=4||ye.length!=0||this.h.h||(this.s=1,Ut(16),S=!1),this.o=this.o&&S,!S)Br(this.i,this.l,ye,"[Invalid Chunked Response]"),Rr(this),Fs(this);else if(0<ye.length&&!this.W){this.W=!0;var on=this.j;on.g==this&&on.ba&&!on.M&&(on.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),Uc(on),on.M=!0,Ut(11))}}else Br(this.i,this.l,ye,null),Oc(this,ye);qt==4&&Rr(this),this.o&&!this.J&&(qt==4?Cl(this.j,this):(this.o=!1,ht(this)))}else Sl(this.g),S==400&&0<ye.indexOf("Unknown SID")?(this.s=3,Ut(12)):(this.s=0,Ut(13)),Rr(this),Fs(this)}}}catch{}finally{}};function wf(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Ay(f,v){var S=f.C,N=v.indexOf(`
`,S);return N==-1?yl:(S=Number(v.substring(S,N)),isNaN(S)?kc:(N+=1,N+S>v.length?yl:(v=v.slice(N,N+S),f.C=N+S,v)))}Wr.prototype.cancel=function(){this.J=!0,Rr(this)};function ht(f){f.S=Date.now()+f.I,Ef(f,f.I)}function Ef(f,v){if(f.B!=null)throw Error("WatchDog timer not null");f.B=jr(_(f.ba,f),v)}function ta(f){f.B&&(u.clearTimeout(f.B),f.B=null)}Wr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Cc(this.i,this.A),this.L!=2&&(Xi(),Ut(17)),Rr(this),this.s=2,Fs(this)):Ef(this,this.S-f)};function Fs(f){f.j.G==0||f.J||Cl(f.j,f)}function Rr(f){ta(f);var v=f.M;v&&typeof v.ma=="function"&&v.ma(),f.M=null,Ic(f.U),f.g&&(v=f.g,f.g=null,v.abort(),v.ma())}function Oc(f,v){try{var S=f.j;if(S.G!=0&&(S.g==f||Nn(S.h,f))){if(!f.K&&Nn(S.h,f)&&S.G==3){try{var N=S.Da.g.parse(v)}catch{N=null}if(Array.isArray(N)&&N.length==3){var Q=N;if(Q[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<f.F)Pl(S),Qr(S);else break e;bl(S),Ut(18)}}else S.za=Q[1],0<S.za-S.T&&37500>Q[2]&&S.F&&S.v==0&&!S.C&&(S.C=jr(_(S.Za,S),6e3));if(1>=Tf(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else rs(S,11)}else if((f.K||S.g==f)&&Pl(S),!L(v))for(Q=S.Da.g.parse(v),v=0;v<Q.length;v++){let Qe=Q[v];if(S.T=Qe[0],Qe=Qe[1],S.G==2)if(Qe[0]=="c"){S.K=Qe[1],S.ia=Qe[2];const on=Qe[3];on!=null&&(S.la=on,S.j.info("VER="+S.la));const qt=Qe[4];qt!=null&&(S.Aa=qt,S.j.info("SVER="+S.Aa));const br=Qe[5];br!=null&&typeof br=="number"&&0<br&&(N=1.5*br,S.L=N,S.j.info("backChannelRequestTimeoutMs_="+N)),N=S;const ar=f.g;if(ar){const la=ar.g?ar.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(la){var ne=N.h;ne.g||la.indexOf("spdy")==-1&&la.indexOf("quic")==-1&&la.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Nc(ne,ne.h),ne.h=null))}if(N.D){const xl=ar.g?ar.g.getResponseHeader("X-HTTP-Session-Id"):null;xl&&(N.ya=xl,lt(N.I,N.D,xl))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-f.F,S.j.info("Handshake RTT: "+S.R+"ms")),N=S;var ye=f;if(N.qa=Vf(N,N.J?N.ia:null,N.W),ye.K){Sf(N.h,ye);var it=ye,Zt=N.L;Zt&&(it.I=Zt),it.B&&(ta(it),ht(it)),N.g=ye}else aa(N);0<S.i.length&&yi(S)}else Qe[0]!="stop"&&Qe[0]!="close"||rs(S,7);else S.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?rs(S,7):mn(S):Qe[0]!="noop"&&S.l&&S.l.ta(Qe),S.v=0)}}Xi(4)}catch{}}var If=class{constructor(f,v){this.g=f,this.map=v}};function na(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ir(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Tf(f){return f.h?1:f.g?f.g.size:0}function Nn(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function Nc(f,v){f.g?f.g.add(v):f.h=v}function Sf(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}na.prototype.cancel=function(){if(this.i=Rf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Rf(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const S of f.g.values())v=v.concat(S.D);return v}return R(f.i)}function vl(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var v=[],S=f.length,N=0;N<S;N++)v.push(f[N]);return v}v=[],S=0;for(N in f)v[S++]=f[N];return v}function wl(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var v=[];f=f.length;for(var S=0;S<f;S++)v.push(S);return v}v=[],S=0;for(const N in f)v[S++]=N;return v}}}function Us(f,v){if(f.forEach&&typeof f.forEach=="function")f.forEach(v,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,v,void 0);else for(var S=wl(f),N=vl(f),Q=N.length,ne=0;ne<Q;ne++)v.call(void 0,N[ne],S&&S[ne],f)}var ra=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function by(f,v){if(f){f=f.split("&");for(var S=0;S<f.length;S++){var N=f[S].indexOf("="),Q=null;if(0<=N){var ne=f[S].substring(0,N);Q=f[S].substring(N+1)}else ne=f[S];v(ne,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Zi(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Zi){this.h=f.h,ia(this,f.j),this.o=f.o,this.g=f.g,$s(this,f.s),this.l=f.l;var v=f.i,S=new pi;S.i=v.i,v.g&&(S.g=new Map(v.g),S.h=v.h),js(this,S),this.m=f.m}else f&&(v=String(f).match(ra))?(this.h=!1,ia(this,v[1]||"",!0),this.o=He(v[2]||""),this.g=He(v[3]||"",!0),$s(this,v[4]),this.l=He(v[5]||"",!0),js(this,v[6]||"",!0),this.m=He(v[7]||"")):(this.h=!1,this.i=new pi(null,this.h))}Zi.prototype.toString=function(){var f=[],v=this.j;v&&f.push(zs(v,El,!0),":");var S=this.g;return(S||v=="file")&&(f.push("//"),(v=this.o)&&f.push(zs(v,El,!0),"@"),f.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&f.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&f.push("/"),f.push(zs(S,S.charAt(0)=="/"?Pf:bf,!0))),(S=this.i.toString())&&f.push("?",S),(S=this.m)&&f.push("#",zs(S,Dc)),f.join("")};function sr(f){return new Zi(f)}function ia(f,v,S){f.j=S?He(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function $s(f,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);f.s=v}else f.s=null}function js(f,v,S){v instanceof pi?(f.i=v,mi(f.i,f.h)):(S||(v=zs(v,Cf)),f.i=new pi(v,f.h))}function lt(f,v,S){f.i.set(v,S)}function Bs(f){return lt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function He(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function zs(f,v,S){return typeof f=="string"?(f=encodeURI(f).replace(v,Af),S&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Af(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var El=/[#\/\?@]/g,bf=/[#\?:]/g,Pf=/[#\?]/g,Cf=/[#\?@]/g,Dc=/#/g;function pi(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function pn(f){f.g||(f.g=new Map,f.h=0,f.i&&by(f.i,function(v,S){f.add(decodeURIComponent(v.replace(/\+/g," ")),S)}))}n=pi.prototype,n.add=function(f,v){pn(this),this.i=null,f=Ar(this,f);var S=this.g.get(f);return S||this.g.set(f,S=[]),S.push(v),this.h+=1,this};function qr(f,v){pn(f),v=Ar(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function Hr(f,v){return pn(f),v=Ar(f,v),f.g.has(v)}n.forEach=function(f,v){pn(this),this.g.forEach(function(S,N){S.forEach(function(Q){f.call(v,Q,N,this)},this)},this)},n.na=function(){pn(this);const f=Array.from(this.g.values()),v=Array.from(this.g.keys()),S=[];for(let N=0;N<v.length;N++){const Q=f[N];for(let ne=0;ne<Q.length;ne++)S.push(v[N])}return S},n.V=function(f){pn(this);let v=[];if(typeof f=="string")Hr(this,f)&&(v=v.concat(this.g.get(Ar(this,f))));else{f=Array.from(this.g.values());for(let S=0;S<f.length;S++)v=v.concat(f[S])}return v},n.set=function(f,v){return pn(this),this.i=null,f=Ar(this,f),Hr(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},n.get=function(f,v){return f?(f=this.V(f),0<f.length?String(f[0]):v):v};function Ws(f,v,S){qr(f,v),0<S.length&&(f.i=null,f.g.set(Ar(f,v),R(S)),f.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(var S=0;S<v.length;S++){var N=v[S];const ne=encodeURIComponent(String(N)),ye=this.V(N);for(N=0;N<ye.length;N++){var Q=ne;ye[N]!==""&&(Q+="="+encodeURIComponent(String(ye[N]))),f.push(Q)}}return this.i=f.join("&")};function Ar(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function mi(f,v){v&&!f.j&&(pn(f),f.i=null,f.g.forEach(function(S,N){var Q=N.toLowerCase();N!=Q&&(qr(this,N),Ws(this,Q,S))},f)),f.j=v}function Py(f,v){const S=new Xo;if(u.Image){const N=new Image;N.onload=I(zn,S,"TestLoadImage: loaded",!0,v,N),N.onerror=I(zn,S,"TestLoadImage: error",!1,v,N),N.onabort=I(zn,S,"TestLoadImage: abort",!1,v,N),N.ontimeout=I(zn,S,"TestLoadImage: timeout",!1,v,N),u.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=f}else v(!1)}function kf(f,v){const S=new Xo,N=new AbortController,Q=setTimeout(()=>{N.abort(),zn(S,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:N.signal}).then(ne=>{clearTimeout(Q),ne.ok?zn(S,"TestPingServer: ok",!0,v):zn(S,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Q),zn(S,"TestPingServer: error",!1,v)})}function zn(f,v,S,N,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),N(S)}catch{}}function Cy(){this.g=new Rc}function xf(f,v,S){const N=S||"";try{Us(f,function(Q,ne){let ye=Q;h(Q)&&(ye=Tc(Q)),v.push(N+ne+"="+encodeURIComponent(ye))})}catch(Q){throw v.push(N+"type="+encodeURIComponent("_badmap")),Q}}function es(f){this.l=f.Ub||null,this.j=f.eb||!1}T(es,Yo),es.prototype.g=function(){return new sa(this.l,this.j)},es.prototype.i=function(f){return function(){return f}}({});function sa(f,v){Jt.call(this),this.D=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(sa,Jt),n=sa.prototype,n.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=v,this.readyState=1,Gr(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(v.body=f),(this.D||u).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Kr(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Gr(this)),this.g&&(this.readyState=3,Gr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Of(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Of(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?Kr(this):Gr(this),this.readyState==3&&Of(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,Kr(this))},n.Qa=function(f){this.g&&(this.response=f,Kr(this))},n.ga=function(){this.g&&Kr(this)};function Kr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Gr(f)}n.setRequestHeader=function(f,v){this.u.append(f,v)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var S=v.next();!S.done;)S=S.value,f.push(S[0]+": "+S[1]),S=v.next();return f.join(`\r
`)};function Gr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(sa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ts(f){let v="";return W(f,function(S,N){v+=N,v+=":",v+=S,v+=`\r
`}),v}function qs(f,v,S){e:{for(N in S){var N=!1;break e}N=!0}N||(S=ts(S),typeof f=="string"?S!=null&&encodeURIComponent(String(S)):lt(f,v,S))}function wt(f){Jt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(wt,Jt);var ky=/^https?$/i,Lc=["POST","PUT"];n=wt.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,v,S,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zr.g(),this.v=this.o?dl(this.o):dl(zr),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(ne){oa(this,ne);return}if(f=S||"",S=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var Q in N)S.set(Q,N[Q]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const ne of N.keys())S.set(ne,N.get(ne));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(S.keys()).find(ne=>ne.toLowerCase()=="content-type"),Q=u.FormData&&f instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Lc,v,void 0))||N||Q||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ye]of S)this.g.setRequestHeader(ne,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Tl(this),this.u=!0,this.g.send(f),this.u=!1}catch(ne){oa(this,ne)}};function oa(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.m=5,Il(f),or(f)}function Il(f){f.A||(f.A=!0,Xt(f,"complete"),Xt(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Xt(this,"complete"),Xt(this,"abort"),or(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),or(this,!0)),wt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Vc(this):this.bb())},n.bb=function(){Vc(this)};function Vc(f){if(f.h&&typeof l<"u"&&(!f.v[1]||Wn(f)!=4||f.Z()!=2)){if(f.u&&Wn(f)==4)wc(f.Ea,0,f);else if(Xt(f,"readystatechange"),Wn(f)==4){f.h=!1;try{const ye=f.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var S;if(!(S=v)){var N;if(N=ye===0){var Q=String(f.D).match(ra)[1]||null;!Q&&u.self&&u.self.location&&(Q=u.self.location.protocol.slice(0,-1)),N=!ky.test(Q?Q.toLowerCase():"")}S=N}if(S)Xt(f,"complete"),Xt(f,"success");else{f.m=6;try{var ne=2<Wn(f)?f.g.statusText:""}catch{ne=""}f.l=ne+" ["+f.Z()+"]",Il(f)}}finally{or(f)}}}}function or(f,v){if(f.g){Tl(f);const S=f.g,N=f.v[0]?()=>{}:null;f.g=null,f.v=null,v||Xt(f,"ready");try{S.onreadystatechange=N}catch{}}}function Tl(f){f.I&&(u.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function Wn(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<Wn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),Sc(v)}};function Mc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Sl(f){const v={};f=(f.g&&2<=Wn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<f.length;N++){if(L(f[N]))continue;var S=x(f[N]);const Q=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const ne=v[Q]||[];v[Q]=ne,ne.push(S)}D(v,function(N){return N.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gi(f,v,S){return S&&S.internalChannelParams&&S.internalChannelParams[f]||v}function Fc(f){this.Aa=0,this.i=[],this.j=new Xo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gi("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gi("baseRetryDelayMs",5e3,f),this.cb=gi("retryDelaySeedMs",1e4,f),this.Wa=gi("forwardChannelMaxRetries",2,f),this.wa=gi("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new na(f&&f.concurrentRequestLimit),this.Da=new Cy,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Fc.prototype,n.la=8,n.G=1,n.connect=function(f,v,S,N){Ut(0),this.W=f,this.H=v||{},S&&N!==void 0&&(this.H.OSID=S,this.H.OAID=N),this.F=this.X,this.I=Vf(this,null,this.W),yi(this)};function mn(f){if(Rl(f),f.G==3){var v=f.U++,S=sr(f.I);if(lt(S,"SID",f.K),lt(S,"RID",v),lt(S,"TYPE","terminate"),ns(f,S),v=new Wr(f,f.j,v),v.L=2,v.v=Bs(sr(S)),S=!1,u.navigator&&u.navigator.sendBeacon)try{S=u.navigator.sendBeacon(v.v.toString(),"")}catch{}!S&&u.Image&&(new Image().src=v.v,S=!0),S||(v.g=Mf(v.j,null),v.g.ea(v.v)),v.F=Date.now(),ht(v)}Lf(f)}function Qr(f){f.g&&(Uc(f),f.g.cancel(),f.g=null)}function Rl(f){Qr(f),f.u&&(u.clearTimeout(f.u),f.u=null),Pl(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&u.clearTimeout(f.s),f.s=null)}function yi(f){if(!ir(f.h)&&!f.s){f.s=!0;var v=f.Ga;oe||fe(),Z||(oe(),Z=!0),me.add(v,f),f.B=0}}function xy(f,v){return Tf(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=v.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=jr(_(f.Ga,f,v),Df(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Q=new Wr(this,this.j,f);let ne=this.o;if(this.S&&(ne?(ne=A(ne),E(ne,this.S)):ne=this.S),this.m!==null||this.O||(Q.H=ne,ne=null),this.P)e:{for(var v=0,S=0;S<this.i.length;S++){t:{var N=this.i[S];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(v+=N,4096<v){v=S;break e}if(v===4096||S===this.i.length-1){v=S+1;break e}}v=1e3}else v=1e3;v=Hs(this,Q,v),S=sr(this.I),lt(S,"RID",f),lt(S,"CVER",22),this.D&&lt(S,"X-HTTP-Session-Id",this.D),ns(this,S),ne&&(this.O?v="headers="+encodeURIComponent(String(ts(ne)))+"&"+v:this.m&&qs(S,this.m,ne)),Nc(this.h,Q),this.Ua&&lt(S,"TYPE","init"),this.P?(lt(S,"$req",v),lt(S,"SID","null"),Q.T=!0,_l(Q,S,null)):_l(Q,S,v),this.G=2}}else this.G==3&&(f?Al(this,f):this.i.length==0||ir(this.h)||Al(this))};function Al(f,v){var S;v?S=v.l:S=f.U++;const N=sr(f.I);lt(N,"SID",f.K),lt(N,"RID",S),lt(N,"AID",f.T),ns(f,N),f.m&&f.o&&qs(N,f.m,f.o),S=new Wr(f,f.j,S,f.B+1),f.m===null&&(S.H=f.o),v&&(f.i=v.D.concat(f.i)),v=Hs(f,S,1e3),S.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Nc(f.h,S),_l(S,N,v)}function ns(f,v){f.H&&W(f.H,function(S,N){lt(v,N,S)}),f.l&&Us({},function(S,N){lt(v,N,S)})}function Hs(f,v,S){S=Math.min(f.i.length,S);var N=f.l?_(f.l.Na,f.l,f):null;e:{var Q=f.i;let ne=-1;for(;;){const ye=["count="+S];ne==-1?0<S?(ne=Q[0].g,ye.push("ofs="+ne)):ne=0:ye.push("ofs="+ne);let it=!0;for(let Zt=0;Zt<S;Zt++){let Qe=Q[Zt].g;const on=Q[Zt].map;if(Qe-=ne,0>Qe)ne=Math.max(0,Q[Zt].g-100),it=!1;else try{xf(on,ye,"req"+Qe+"_")}catch{N&&N(on)}}if(it){N=ye.join("&");break e}}}return f=f.i.splice(0,S),v.D=f,N}function aa(f){if(!f.g&&!f.u){f.Y=1;var v=f.Fa;oe||fe(),Z||(oe(),Z=!0),me.add(v,f),f.v=0}}function bl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=jr(_(f.Fa,f),Df(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,Nf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=jr(_(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ut(10),Qr(this),Nf(this))};function Uc(f){f.A!=null&&(u.clearTimeout(f.A),f.A=null)}function Nf(f){f.g=new Wr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var v=sr(f.qa);lt(v,"RID","rpc"),lt(v,"SID",f.K),lt(v,"AID",f.T),lt(v,"CI",f.F?"0":"1"),!f.F&&f.ja&&lt(v,"TO",f.ja),lt(v,"TYPE","xmlhttp"),ns(f,v),f.m&&f.o&&qs(v,f.m,f.o),f.L&&(f.g.I=f.L);var S=f.g;f=f.ia,S.L=1,S.v=Bs(sr(v)),S.m=null,S.P=!0,xc(S,f)}n.Za=function(){this.C!=null&&(this.C=null,Qr(this),bl(this),Ut(19))};function Pl(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function Cl(f,v){var S=null;if(f.g==v){Pl(f),Uc(f),f.g=null;var N=2}else if(Nn(f.h,v))S=v.D,Sf(f.h,v),N=1;else return;if(f.G!=0){if(v.o)if(N==1){S=v.m?v.m.length:0,v=Date.now()-v.F;var Q=f.B;N=Jo(),Xt(N,new pl(N,S)),yi(f)}else aa(f);else if(Q=v.s,Q==3||Q==0&&0<v.X||!(N==1&&xy(f,v)||N==2&&bl(f)))switch(S&&0<S.length&&(v=f.h,v.i=v.i.concat(S)),Q){case 1:rs(f,5);break;case 4:rs(f,10);break;case 3:rs(f,6);break;default:rs(f,2)}}}function Df(f,v){let S=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(S*=2),S*v}function rs(f,v){if(f.j.info("Error code "+v),v==2){var S=_(f.fb,f),N=f.Xa;const Q=!N;N=new Zi(N||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ia(N,"https"),Bs(N),Q?Py(N.toString(),S):kf(N.toString(),S)}else Ut(2);f.G=0,f.l&&f.l.sa(v),Lf(f),Rl(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function Lf(f){if(f.G=0,f.ka=[],f.l){const v=Rf(f.h);(v.length!=0||f.i.length!=0)&&(b(f.ka,v),b(f.ka,f.i),f.h.i.length=0,R(f.i),f.i.length=0),f.l.ra()}}function Vf(f,v,S){var N=S instanceof Zi?sr(S):new Zi(S);if(N.g!="")v&&(N.g=v+"."+N.g),$s(N,N.s);else{var Q=u.location;N=Q.protocol,v=v?v+"."+Q.hostname:Q.hostname,Q=+Q.port;var ne=new Zi(null);N&&ia(ne,N),v&&(ne.g=v),Q&&$s(ne,Q),S&&(ne.l=S),N=ne}return S=f.D,v=f.ya,S&&v&&lt(N,S,v),lt(N,"VER",f.la),ns(f,N),N}function Mf(f,v,S){if(v&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Ca&&!f.pa?new wt(new es({eb:S})):new wt(f.pa),v.Ha(f.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function $c(){}n=$c.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function kl(){}kl.prototype.g=function(f,v){return new Dn(f,v)};function Dn(f,v){Jt.call(this),this.g=new Fc(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(f?f["X-WebChannel-Client-Profile"]=v.va:f={"X-WebChannel-Client-Profile":v.va}),this.g.S=f,(f=v&&v.Sb)&&!L(f)&&(this.g.m=f),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!L(v)&&(this.g.D=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new _i(this)}T(Dn,Jt),Dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Dn.prototype.close=function(){mn(this.g)},Dn.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var S={};S.__data__=f,f=S}else this.u&&(S={},S.__data__=Tc(f),f=S);v.i.push(new If(v.Ya++,f)),v.G==3&&yi(v)},Dn.prototype.N=function(){this.g.l=null,delete this.j,mn(this.g),delete this.g,Dn.aa.N.call(this)};function Ff(f){hi.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const S in v){f=S;break e}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}T(Ff,hi);function Uf(){fl.call(this),this.status=1}T(Uf,fl);function _i(f){this.g=f}T(_i,$c),_i.prototype.ua=function(){Xt(this.g,"a")},_i.prototype.ta=function(f){Xt(this.g,new Ff(f))},_i.prototype.sa=function(f){Xt(this.g,new Uf)},_i.prototype.ra=function(){Xt(this.g,"b")},kl.prototype.createWebChannel=kl.prototype.g,Dn.prototype.send=Dn.prototype.o,Dn.prototype.open=Dn.prototype.m,Dn.prototype.close=Dn.prototype.close,f1=function(){return new kl},h1=function(){return Jo()},d1=fi,yw={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},gl.NO_ERROR=0,gl.TIMEOUT=8,gl.HTTP_ERROR=6,cm=gl,_f.COMPLETE="complete",c1=_f,hl.EventType=Sr,Sr.OPEN="a",Sr.CLOSE="b",Sr.ERROR="c",Sr.MESSAGE="d",Jt.prototype.listen=Jt.prototype.K,Fd=hl,wt.prototype.listenOnce=wt.prototype.L,wt.prototype.getLastError=wt.prototype.Ka,wt.prototype.getLastErrorCode=wt.prototype.Ba,wt.prototype.getStatus=wt.prototype.Z,wt.prototype.getResponseJson=wt.prototype.Oa,wt.prototype.getResponseText=wt.prototype.oa,wt.prototype.send=wt.prototype.ea,wt.prototype.setWithCredentials=wt.prototype.Ha,u1=wt}).apply(typeof jp<"u"?jp:typeof self<"u"?self:typeof window<"u"?window:{});const RA="@firebase/firestore",AA="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ac="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=new qh("@firebase/firestore");function pu(){return ko.logLevel}function oz(n){ko.setLogLevel(n)}function ue(n,...e){if(ko.logLevel<=Ue.DEBUG){const t=e.map($0);ko.debug(`Firestore (${ac}): ${n}`,...t)}}function jt(n,...e){if(ko.logLevel<=Ue.ERROR){const t=e.map($0);ko.error(`Firestore (${ac}): ${n}`,...t)}}function zi(n,...e){if(ko.logLevel<=Ue.WARN){const t=e.map($0);ko.warn(`Firestore (${ac}): ${n}`,...t)}}function $0(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(n="Unexpected state"){const e=`FIRESTORE (${ac}) INTERNAL ASSERTION FAILED: `+n;throw jt(e),new Error(e)}function Re(n,e){n||Ee()}function az(n,e){n||Ee()}function ve(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends hn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(dn.UNAUTHENTICATED))}shutdown(){}}class uz{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class cz{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Re(this.o===void 0);let r=this.i;const i=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let s=new En;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new En,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const d=s;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},u=d=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>u(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new En)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string"),new p1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string"),new dn(e)}}class dz{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class hz{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new dz(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fz{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Ke(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Re(this.o===void 0);const r=s=>{s.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.R;return this.R=s.token,ue("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new bA(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Re(typeof t.token=="string"),this.R=t.token,new bA(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pz(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=pz(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}}function Le(n,e){return n<e?-1:n>e?1:0}function Nu(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function g1(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=-62135596800,CA=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*CA);return new At(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ae(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ae(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<PA)throw new ae(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/CA}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-PA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new At(0,0))}static max(){return new Pe(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA="__name__";class Ri{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ee(),r===void 0?r=e.length-t:r>e.length-t&&Ee(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ri.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ri?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=Ri.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=Ri.isNumericId(e),i=Ri.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Ri.extractNumericId(e).compare(Ri.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Eo.fromString(e.substring(4,e.length-2))}}class Be extends Ri{construct(e,t,r){return new Be(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Be(t)}static emptyPath(){return new Be([])}}const mz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class St extends Ri{construct(e,t,r){return new St(e,t,r)}static isValidIdentifier(e){return mz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),St.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===kA}static keyField(){return new St([kA])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ae(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new ae(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ae(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(s(),i++)}if(s(),l)throw new ae(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new St(t)}static emptyPath(){return new St([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(Be.fromString(e))}static fromName(e){return new _e(Be.fromString(e).popFirst(5))}static empty(){return new _e(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Be.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new Be(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=-1;class Um{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function _w(n){return n.fields.find(e=>e.kind===2)}function Sa(n){return n.fields.filter(e=>e.kind!==2)}Um.UNKNOWN_ID=-1;class dm{constructor(e,t){this.fieldPath=e,this.kind=t}}class mh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new mh(0,wr.min())}}function y1(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Pe.fromTimestamp(r===1e9?new At(t+1,0):new At(t,r));return new wr(i,_e.empty(),e)}function _1(n){return new wr(n.readTime,n.key,Du)}class wr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new wr(Pe.min(),_e.empty(),Du)}static max(){return new wr(Pe.max(),_e.empty(),Du)}}function j0(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:Le(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class w1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==v1)throw n;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new G((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof G?t:G.resolve(t)}catch(t){return G.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):G.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):G.reject(t)}static resolve(e){return new G((t,r)=>{t(e)})}static reject(e){return new G((t,r)=>{r(e)})}static waitFor(e){return new G((t,r)=>{let i=0,s=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++s,l&&s===i&&t()},d=>r(d))}),l=!0,s===i&&t()})}static or(e){let t=G.resolve(!1);for(const r of e)t=t.next(i=>i?G.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new G((r,i)=>{const s=e.length,l=new Array(s);let u=0;for(let d=0;d<s;d++){const h=d;t(e[h]).next(m=>{l[h]=m,++u,u===s&&r(l)},m=>i(m))}})}static doWhile(e,t){return new G((r,i)=>{const s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr="SimpleDb";class Bg{static open(e,t,r,i){try{return new Bg(t,e.transaction(i,r))}catch(s){throw new Kd(t,s)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.m=new En,this.transaction.oncomplete=()=>{this.m.resolve()},this.transaction.onabort=()=>{t.error?this.m.reject(new Kd(e,t.error)):this.m.resolve()},this.transaction.onerror=r=>{const i=B0(r.target.error);this.m.reject(new Kd(e,i))}}get p(){return this.m.promise}abort(e){e&&this.m.reject(e),this.aborted||(ue(hr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}S(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new yz(t)}}class $i{static delete(e){return ue(hr,"Removing database:",e),Aa(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!dh())return!1;if($i.v())return!0;const e=We(),t=$i.C(e),r=0<t&&t<10,i=E1(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,t){return e.store(t)}static C(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.O=r,$i.C(We())===12.2&&jt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async N(e){return this.db||(ue(hr,"Opening database:",this.name),this.db=await new Promise((t,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const l=s.target.result;t(l)},i.onblocked=()=>{r(new Kd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const l=s.target.error;l.name==="VersionError"?r(new ae(te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?r(new ae(te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):r(new Kd(e,l))},i.onupgradeneeded=s=>{ue(hr,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const l=s.target.result;this.O.B(l,i.transaction,s.oldVersion,this.version).next(()=>{ue(hr,"Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=t=>this.L(t)),this.db}k(e){this.L=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){const s=t==="readonly";let l=0;for(;;){++l;try{this.db=await this.N(e);const u=Bg.open(this.db,e,s?"readonly":"readwrite",r),d=i(u).next(h=>(u.S(),h)).catch(h=>(u.abort(h),G.reject(h))).toPromise();return d.catch(()=>{}),await u.p,d}catch(u){const d=u,h=d.name!=="FirebaseError"&&l<3;if(ue(hr,"Transaction failed with error:",d.message,"Retrying:",h),this.close(),!h)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function E1(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class gz{constructor(e){this.q=e,this.$=!1,this.K=null}get isDone(){return this.$}get U(){return this.K}set cursor(e){this.q=e}done(){this.$=!0}W(e){this.K=e}delete(){return Aa(this.q.delete())}}class Kd extends ae{constructor(e,t){super(te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function zo(n){return n.name==="IndexedDbTransactionError"}class yz{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(ue(hr,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(ue(hr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Aa(r)}add(e){return ue(hr,"ADD",this.store.name,e,e),Aa(this.store.add(e))}get(e){return Aa(this.store.get(e)).next(t=>(t===void 0&&(t=null),ue(hr,"GET",this.store.name,e,t),t))}delete(e){return ue(hr,"DELETE",this.store.name,e),Aa(this.store.delete(e))}count(){return ue(hr,"COUNT",this.store.name),Aa(this.store.count())}G(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new G((l,u)=>{s.onerror=d=>{u(d.target.error)},s.onsuccess=d=>{l(d.target.result)}})}{const s=this.cursor(r),l=[];return this.j(s,(u,d)=>{l.push(d)}).next(()=>l)}}H(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new G((i,s)=>{r.onerror=l=>{s(l.target.error)},r.onsuccess=l=>{i(l.target.result)}})}J(e,t){ue(hr,"DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.j(i,(s,l,u)=>u.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.j(i,t)}X(e){const t=this.cursor({});return new G((r,i)=>{t.onerror=s=>{const l=B0(s.target.error);i(l)},t.onsuccess=s=>{const l=s.target.result;l?e(l.primaryKey,l.value).next(u=>{u?l.continue():r()}):r()}})}j(e,t){const r=[];return new G((i,s)=>{e.onerror=l=>{s(l.target.error)},e.onsuccess=l=>{const u=l.target.result;if(!u)return void i();const d=new gz(u),h=t(u.primaryKey,u.value,d);if(h instanceof G){const m=h.catch(g=>(d.done(),G.reject(g)));r.push(m)}d.isDone?i():d.U===null?u.continue():u.continue(d.U)}}).next(()=>G.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Aa(n){return new G((e,t)=>{n.onsuccess=r=>{const i=r.target.result;e(i)},n.onerror=r=>{const i=B0(r.target.error);t(i)}})}let xA=!1;function B0(n){const e=$i.C(We());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new ae("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return xA||(xA=!0,setTimeout(()=>{throw r},0)),r}}return n}const Gd="IndexBackfiller";class _z{constructor(e,t){this.asyncQueue=e,this.ee=t,this.task=null}start(){this.te(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}te(e){ue(Gd,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const t=await this.ee.ne();ue(Gd,`Documents written: ${t}`)}catch(t){zo(t)?ue(Gd,"Ignoring IndexedDB error during index backfill: ",t):await Bo(t)}await this.te(6e4)})}}class vz{constructor(e,t){this.localStore=e,this.persistence=t}async ne(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.re(t,e))}re(e,t){const r=new Set;let i=t,s=!0;return G.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(l!==null&&!r.has(l))return ue(Gd,`Processing collection: ${l}`),this.ie(e,l,i).next(u=>{i-=u,r.add(l)});s=!1})).next(()=>t-i)}ie(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(s=>{const l=s.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.se(i,s)).next(u=>(ue(Gd,`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,t,u))).next(()=>l.size)}))}se(e,t){let r=e;return t.changes.forEach((i,s)=>{const l=_1(s);j0(l,r)>0&&(r=l)}),new wr(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Xn.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=-1;function Yh(n){return n==null}function gh(n){return n===0&&1/n==-1/0}function I1(n){return typeof n=="number"&&Number.isInteger(n)&&!gh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="";function xn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=OA(e)),e=wz(n.get(t),e);return OA(e)}function wz(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="";break;case $m:t+="";break;default:t+=s}}return t}function OA(n){return n+$m+""}function Di(n){const e=n.length;if(Re(e>=2),e===2)return Re(n.charAt(0)===$m&&n.charAt(1)===""),Be.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const l=n.indexOf($m,s);switch((l<0||l>t)&&Ee(),n.charAt(l+1)){case"":const u=n.substring(s,l);let d;i.length===0?d=u:(i+=u,d=i,i=""),r.push(d);break;case"":i+=n.substring(s,l),i+="\0";break;case"":i+=n.substring(s,l+1);break;default:Ee()}s=l+2}return new Be(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra="remoteDocuments",Jh="owner",ru="owner",yh="mutationQueues",Ez="userId",ri="mutations",NA="batchId",Oa="userMutationsIndex",DA=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(n,e){return[n,xn(e)]}function T1(n,e,t){return[n,xn(e),t]}const Iz={},Lu="documentMutations",jm="remoteDocumentsV14",Tz=["prefixPath","collectionGroup","readTime","documentId"],fm="documentKeyIndex",Sz=["prefixPath","collectionGroup","documentId"],S1="collectionGroupIndex",Rz=["collectionGroup","readTime","prefixPath","documentId"],_h="remoteDocumentGlobal",vw="remoteDocumentGlobalKey",Vu="targets",R1="queryTargetsIndex",Az=["canonicalId","targetId"],Mu="targetDocuments",bz=["targetId","path"],z0="documentTargetsIndex",Pz=["path","targetId"],Bm="targetGlobalKey",Ma="targetGlobal",vh="collectionParents",Cz=["collectionId","parent"],Fu="clientMetadata",kz="clientId",zg="bundles",xz="bundleId",Wg="namedQueries",Oz="name",W0="indexConfiguration",Nz="indexId",ww="collectionGroupIndex",Dz="collectionGroup",zm="indexState",Lz=["indexId","uid"],A1="sequenceNumberIndex",Vz=["uid","sequenceNumber"],Wm="indexEntries",Mz=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],b1="documentKeyIndex",Fz=["indexId","uid","orderedDocumentKey"],qg="documentOverlays",Uz=["userId","collectionPath","documentId"],Ew="collectionPathOverlayIndex",$z=["userId","collectionPath","largestBatchId"],P1="collectionGroupOverlayIndex",jz=["userId","collectionGroup","largestBatchId"],q0="globals",Bz="name",C1=[yh,ri,Lu,Ra,Vu,Jh,Ma,Mu,Fu,_h,vh,zg,Wg],zz=[...C1,qg],k1=[yh,ri,Lu,jm,Vu,Jh,Ma,Mu,Fu,_h,vh,zg,Wg,qg],x1=k1,H0=[...x1,W0,zm,Wm],Wz=H0,qz=[...H0,q0];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw extends w1{constructor(e,t){super(),this.ue=e,this.currentSequenceNumber=t}}function rn(n,e){const t=ve(n);return $i.M(t.ue,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Wo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function O1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,t){this.comparator=e,this.root=t||_n.EMPTY}insert(e,t){return new pt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bp(this.root,e,this.comparator,!0)}}class Bp{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??_n.RED,this.left=i??_n.EMPTY,this.right=s??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new _n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return _n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,t,r,i,s){return this}insert(e,t,r){return new _n(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new VA(this.data.getIterator())}getIteratorFrom(e){return new VA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof ot)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ot(this.comparator);return t.data=e,t}}class VA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function iu(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new Zn([])}unionWith(e){let t=new ot(St.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Zn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Nu(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hz(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new N1("Invalid base64 string: "+s):s}}(e);return new Vt(t)}static fromUint8Array(e){const t=function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s}(e);return new Vt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const Kz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bs(n){if(Re(!!n),typeof n=="string"){let e=0;const t=Kz.exec(n);if(Re(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Tt(n.seconds),nanos:Tt(n.nanos)}}function Tt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ps(n){return typeof n=="string"?Vt.fromBase64String(n):Vt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="server_timestamp",L1="__type__",V1="__previous_value__",M1="__local_write_time__";function Hg(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[L1])===null||t===void 0?void 0:t.stringValue)===D1}function Kg(n){const e=n.mapValue.fields[V1];return Hg(e)?Kg(e):e}function wh(n){const e=bs(n.mapValue.fields[M1].timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{constructor(e,t,r,i,s,l,u,d,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=h}}const Tw="(default)";class xo{constructor(e,t){this.projectId=e,this.database=t||Tw}static empty(){return new xo("","")}get isDefaultDatabase(){return this.database===Tw}isEqual(e){return e instanceof xo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0="__type__",F1="__max__",go={mapValue:{fields:{__type__:{stringValue:F1}}}},G0="__vector__",Uu="value",pm={nullValue:"NULL_VALUE"};function Oo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Hg(n)?4:U1(n)?9007199254740991:Gg(n)?10:11:Ee()}function Wi(n,e){if(n===e)return!0;const t=Oo(n);if(t!==Oo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return wh(n).isEqual(wh(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=bs(i.timestampValue),u=bs(s.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return Ps(i.bytesValue).isEqual(Ps(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return Tt(i.geoPointValue.latitude)===Tt(s.geoPointValue.latitude)&&Tt(i.geoPointValue.longitude)===Tt(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Tt(i.integerValue)===Tt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=Tt(i.doubleValue),u=Tt(s.doubleValue);return l===u?gh(l)===gh(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return Nu(n.arrayValue.values||[],e.arrayValue.values||[],Wi);case 10:case 11:return function(i,s){const l=i.mapValue.fields||{},u=s.mapValue.fields||{};if(LA(l)!==LA(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!Wi(l[d],u[d])))return!1;return!0}(n,e);default:return Ee()}}function Eh(n,e){return(n.values||[]).find(t=>Wi(t,e))!==void 0}function No(n,e){if(n===e)return 0;const t=Oo(n),r=Oo(e);if(t!==r)return Le(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Le(n.booleanValue,e.booleanValue);case 2:return function(s,l){const u=Tt(s.integerValue||s.doubleValue),d=Tt(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1}(n,e);case 3:return MA(n.timestampValue,e.timestampValue);case 4:return MA(wh(n),wh(e));case 5:return Le(n.stringValue,e.stringValue);case 6:return function(s,l){const u=Ps(s),d=Ps(l);return u.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(s,l){const u=s.split("/"),d=l.split("/");for(let h=0;h<u.length&&h<d.length;h++){const m=Le(u[h],d[h]);if(m!==0)return m}return Le(u.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,l){const u=Le(Tt(s.latitude),Tt(l.latitude));return u!==0?u:Le(Tt(s.longitude),Tt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return FA(n.arrayValue,e.arrayValue);case 10:return function(s,l){var u,d,h,m;const g=s.fields||{},_=l.fields||{},I=(u=g[Uu])===null||u===void 0?void 0:u.arrayValue,T=(d=_[Uu])===null||d===void 0?void 0:d.arrayValue,R=Le(((h=I==null?void 0:I.values)===null||h===void 0?void 0:h.length)||0,((m=T==null?void 0:T.values)===null||m===void 0?void 0:m.length)||0);return R!==0?R:FA(I,T)}(n.mapValue,e.mapValue);case 11:return function(s,l){if(s===go.mapValue&&l===go.mapValue)return 0;if(s===go.mapValue)return 1;if(l===go.mapValue)return-1;const u=s.fields||{},d=Object.keys(u),h=l.fields||{},m=Object.keys(h);d.sort(),m.sort();for(let g=0;g<d.length&&g<m.length;++g){const _=Le(d[g],m[g]);if(_!==0)return _;const I=No(u[d[g]],h[m[g]]);if(I!==0)return I}return Le(d.length,m.length)}(n.mapValue,e.mapValue);default:throw Ee()}}function MA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Le(n,e);const t=bs(n),r=bs(e),i=Le(t.seconds,r.seconds);return i!==0?i:Le(t.nanos,r.nanos)}function FA(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=No(t[i],r[i]);if(s)return s}return Le(t.length,r.length)}function $u(n){return Sw(n)}function Sw(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=bs(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ps(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return _e.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=Sw(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${Sw(t.fields[l])}`;return i+"}"}(n.mapValue):Ee()}function mm(n){switch(Oo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kg(n);return e?16+mm(e):16;case 5:return 2*n.stringValue.length;case 6:return Ps(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+mm(s),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Wo(r.fields,(s,l)=>{i+=s.length+mm(l)}),i}(n.mapValue);default:throw Ee()}}function Ba(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Rw(n){return!!n&&"integerValue"in n}function Ih(n){return!!n&&"arrayValue"in n}function UA(n){return!!n&&"nullValue"in n}function $A(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function gm(n){return!!n&&"mapValue"in n}function Gg(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[K0])===null||t===void 0?void 0:t.stringValue)===G0}function Qd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Wo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Qd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Qd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function U1(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===F1}const $1={mapValue:{fields:{[K0]:{stringValue:G0},[Uu]:{arrayValue:{}}}}};function Qz(n){return"nullValue"in n?pm:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ba(xo.empty(),_e.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?Gg(n)?$1:{mapValue:{}}:Ee()}function Yz(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ba(xo.empty(),_e.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?$1:"mapValue"in n?Gg(n)?{mapValue:{}}:go:Ee()}function jA(n,e){const t=No(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function BA(n,e){const t=No(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!gm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qd(t)}setAll(e){let t=St.emptyPath(),r={},i=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const d=this.getFieldsMap(t);this.applyChanges(d,r,i),r={},i=[],t=u.popLast()}l?r[u.lastSegment()]=Qd(l):i.push(u.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());gm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Wi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];gm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Wo(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new wn(Qd(this.value))}}function j1(n){const e=[];return Wo(n.fields,(t,r)=>{const i=new St([t]);if(gm(r)){const s=j1(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)}),new Zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,t,r,i,s,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=u}static newInvalidDocument(e){return new _t(e,0,Pe.min(),Pe.min(),Pe.min(),wn.empty(),0)}static newFoundDocument(e,t,r,i){return new _t(e,1,t,Pe.min(),r,i,0)}static newNoDocument(e,t){return new _t(e,2,t,Pe.min(),Pe.min(),wn.empty(),0)}static newUnknownDocument(e,t){return new _t(e,3,t,Pe.min(),Pe.min(),wn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,t){this.position=e,this.inclusive=t}}function zA(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],l=n.position[i];if(s.field.isKeyField()?r=_e.comparator(_e.fromName(l.referenceValue),t.key):r=No(l,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function WA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Wi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,t="asc"){this.field=e,this.dir=t}}function Jz(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{}class ze extends B1{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Xz(e,t,r):t==="array-contains"?new t9(e,r):t==="in"?new G1(e,r):t==="not-in"?new n9(e,r):t==="array-contains-any"?new r9(e,r):new ze(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Zz(e,r):new e9(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(No(t,this.value)):t!==null&&Oo(this.value)===Oo(t)&&this.matchesComparison(No(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class st extends B1{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new st(e,t)}matches(e){return ju(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function ju(n){return n.op==="and"}function Aw(n){return n.op==="or"}function Q0(n){return z1(n)&&ju(n)}function z1(n){for(const e of n.filters)if(e instanceof st)return!1;return!0}function bw(n){if(n instanceof ze)return n.field.canonicalString()+n.op.toString()+$u(n.value);if(Q0(n))return n.filters.map(e=>bw(e)).join(",");{const e=n.filters.map(t=>bw(t)).join(",");return`${n.op}(${e})`}}function W1(n,e){return n instanceof ze?function(r,i){return i instanceof ze&&r.op===i.op&&r.field.isEqual(i.field)&&Wi(r.value,i.value)}(n,e):n instanceof st?function(r,i){return i instanceof st&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,l,u)=>s&&W1(l,i.filters[u]),!0):!1}(n,e):void Ee()}function q1(n,e){const t=n.filters.concat(e);return st.create(t,n.op)}function H1(n){return n instanceof ze?function(t){return`${t.field.canonicalString()} ${t.op} ${$u(t.value)}`}(n):n instanceof st?function(t){return t.op.toString()+" {"+t.getFilters().map(H1).join(" ,")+"}"}(n):"Filter"}class Xz extends ze{constructor(e,t,r){super(e,t,r),this.key=_e.fromName(r.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class Zz extends ze{constructor(e,t){super(e,"in",t),this.keys=K1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class e9 extends ze{constructor(e,t){super(e,"not-in",t),this.keys=K1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function K1(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>_e.fromName(r.referenceValue))}class t9 extends ze{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ih(t)&&Eh(t.arrayValue,this.value)}}class G1 extends ze{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Eh(this.value.arrayValue,t)}}class n9 extends ze{constructor(e,t){super(e,"not-in",t)}matches(e){if(Eh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Eh(this.value.arrayValue,t)}}class r9 extends ze{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ih(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Eh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e,t=null,r=[],i=[],s=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=u,this.le=null}}function Pw(n,e=null,t=[],r=[],i=null,s=null,l=null){return new i9(n,e,t,r,i,s,l)}function za(n){const e=ve(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>bw(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Yh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>$u(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>$u(r)).join(",")),e.le=t}return e.le}function Xh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Jz(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!W1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!WA(n.startAt,e.startAt)&&WA(n.endAt,e.endAt)}function qm(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Hm(n,e){return n.filters.filter(t=>t instanceof ze&&t.field.isEqual(e))}function qA(n,e,t){let r=pm,i=!0;for(const s of Hm(n,e)){let l=pm,u=!0;switch(s.op){case"<":case"<=":l=Qz(s.value);break;case"==":case"in":case">=":l=s.value;break;case">":l=s.value,u=!1;break;case"!=":case"not-in":l=pm}jA({value:r,inclusive:i},{value:l,inclusive:u})<0&&(r=l,i=u)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const l=t.position[s];jA({value:r,inclusive:i},{value:l,inclusive:t.inclusive})<0&&(r=l,i=t.inclusive);break}}return{value:r,inclusive:i}}function HA(n,e,t){let r=go,i=!0;for(const s of Hm(n,e)){let l=go,u=!0;switch(s.op){case">=":case">":l=Yz(s.value),u=!1;break;case"==":case"in":case"<=":l=s.value;break;case"<":l=s.value,u=!1;break;case"!=":case"not-in":l=go}BA({value:r,inclusive:i},{value:l,inclusive:u})>0&&(r=l,i=u)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const l=t.position[s];BA({value:r,inclusive:i},{value:l,inclusive:t.inclusive})>0&&(r=l,i=t.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,t=null,r=[],i=[],s=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=u,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Q1(n,e,t,r,i,s,l,u){return new xs(n,e,t,r,i,s,l,u)}function lc(n){return new xs(n)}function KA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Y0(n){return n.collectionGroup!==null}function Tu(n){const e=ve(n);if(e.he===null){e.he=[];const t=new Set;for(const s of e.explicitOrderBy)e.he.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new ot(St.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(h=>{h.isInequality()&&(u=u.add(h.field))})}),u})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.he.push(new Th(s,r))}),t.has(St.keyField().canonicalString())||e.he.push(new Th(St.keyField(),r))}return e.he}function Un(n){const e=ve(n);return e.Pe||(e.Pe=s9(e,Tu(n))),e.Pe}function s9(n,e){if(n.limitType==="F")return Pw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Th(i.field,s)});const t=n.endAt?new Do(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Do(n.startAt.position,n.startAt.inclusive):null;return Pw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Cw(n,e){const t=n.filters.concat([e]);return new xs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Km(n,e,t){return new xs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Zh(n,e){return Xh(Un(n),Un(e))&&n.limitType===e.limitType}function Y1(n){return`${za(Un(n))}|lt:${n.limitType}`}function mu(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>H1(i)).join(", ")}]`),Yh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>$u(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>$u(i)).join(",")),`Target(${r})`}(Un(n))}; limitType=${n.limitType})`}function ef(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):_e.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of Tu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,u,d){const h=zA(l,u,d);return l.inclusive?h<=0:h<0}(r.startAt,Tu(r),i)||r.endAt&&!function(l,u,d){const h=zA(l,u,d);return l.inclusive?h>=0:h>0}(r.endAt,Tu(r),i))}(n,e)}function J1(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function X1(n){return(e,t)=>{let r=!1;for(const i of Tu(n)){const s=o9(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function o9(n,e,t){const r=n.field.isKeyField()?_e.comparator(e.key,t.key):function(s,l,u){const d=l.data.field(s),h=u.data.field(s);return d!==null&&h!==null?No(d,h):Ee()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Wo(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return O1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9=new pt(_e.comparator);function er(){return a9}const Z1=new pt(_e.comparator);function Ud(...n){let e=Z1;for(const t of n)e=e.insert(t.key,t);return e}function ex(n){let e=Z1;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Li(){return Yd()}function tx(){return Yd()}function Yd(){return new Os(n=>n.toString(),(n,e)=>n.isEqual(e))}const l9=new pt(_e.comparator),u9=new ot(_e.comparator);function Fe(...n){let e=u9;for(const t of n)e=e.add(t);return e}const c9=new ot(Le);function J0(){return c9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gh(e)?"-0":e}}function nx(n){return{integerValue:""+n}}function rx(n,e){return I1(e)?nx(e):X0(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(){this._=void 0}}function d9(n,e,t){return n instanceof Bu?function(i,s){const l={fields:{[L1]:{stringValue:D1},[M1]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Hg(s)&&(s=Kg(s)),s&&(l.fields[V1]=s),{mapValue:l}}(t,e):n instanceof Wa?sx(n,e):n instanceof qa?ox(n,e):function(i,s){const l=ix(i,s),u=GA(l)+GA(i.Ie);return Rw(l)&&Rw(i.Ie)?nx(u):X0(i.serializer,u)}(n,e)}function h9(n,e,t){return n instanceof Wa?sx(n,e):n instanceof qa?ox(n,e):t}function ix(n,e){return n instanceof zu?function(r){return Rw(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Bu extends Qg{}class Wa extends Qg{constructor(e){super(),this.elements=e}}function sx(n,e){const t=ax(e);for(const r of n.elements)t.some(i=>Wi(i,r))||t.push(r);return{arrayValue:{values:t}}}class qa extends Qg{constructor(e){super(),this.elements=e}}function ox(n,e){let t=ax(e);for(const r of n.elements)t=t.filter(i=>!Wi(i,r));return{arrayValue:{values:t}}}class zu extends Qg{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function GA(n){return Tt(n.integerValue||n.doubleValue)}function ax(n){return Ih(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,t){this.field=e,this.transform=t}}function f9(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Wa&&i instanceof Wa||r instanceof qa&&i instanceof qa?Nu(r.elements,i.elements,Wi):r instanceof zu&&i instanceof zu?Wi(r.Ie,i.Ie):r instanceof Bu&&i instanceof Bu}(n.transform,e.transform)}class p9{constructor(e,t){this.version=e,this.transformResults=t}}class Rt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Rt}static exists(e){return new Rt(void 0,e)}static updateTime(e){return new Rt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ym(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Yg{}function lx(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new cc(n.key,Rt.none()):new uc(n.key,n.data,Rt.none());{const t=n.data,r=wn.empty();let i=new ot(St.comparator);for(let s of e.fields)if(!i.has(s)){let l=t.field(s);l===null&&s.length>1&&(s=s.popLast(),l=t.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new Ns(n.key,r,new Zn(i.toArray()),Rt.none())}}function m9(n,e,t){n instanceof uc?function(i,s,l){const u=i.value.clone(),d=YA(i.fieldTransforms,s,l.transformResults);u.setAll(d),s.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Ns?function(i,s,l){if(!ym(i.precondition,s))return void s.convertToUnknownDocument(l.version);const u=YA(i.fieldTransforms,s,l.transformResults),d=s.data;d.setAll(ux(i)),d.setAll(u),s.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Jd(n,e,t,r){return n instanceof uc?function(s,l,u,d){if(!ym(s.precondition,l))return u;const h=s.value.clone(),m=JA(s.fieldTransforms,d,l);return h.setAll(m),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ns?function(s,l,u,d){if(!ym(s.precondition,l))return u;const h=JA(s.fieldTransforms,d,l),m=l.data;return m.setAll(ux(s)),m.setAll(h),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(n,e,t,r):function(s,l,u){return ym(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,e,t)}function g9(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=ix(r.transform,i||null);s!=null&&(t===null&&(t=wn.empty()),t.set(r.field,s))}return t||null}function QA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Nu(r,i,(s,l)=>f9(s,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class uc extends Yg{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ns extends Yg{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function ux(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function YA(n,e,t){const r=new Map;Re(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],l=s.transform,u=e.data.field(s.field);r.set(s.field,h9(l,u,t[i]))}return r}function JA(n,e,t){const r=new Map;for(const i of n){const s=i.transform,l=t.data.field(i.field);r.set(i.field,d9(s,l,e))}return r}class cc extends Yg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Z0 extends Yg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&m9(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Jd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Jd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=tx();return this.mutations.forEach(i=>{const s=e.get(i.key),l=s.overlayedDocument;let u=this.applyToLocalView(l,s.mutatedFields);u=t.has(i.key)?null:u;const d=lx(l,u);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(Pe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Fe())}isEqual(e){return this.batchId===e.batchId&&Nu(this.mutations,e.mutations,(t,r)=>QA(t,r))&&Nu(this.baseMutations,e.baseMutations,(t,r)=>QA(t,r))}}class tE{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Re(e.mutations.length===r.length);let i=function(){return l9}();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new tE(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kt,Ye;function cx(n){switch(n){case te.OK:return Ee();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Ee()}}function dx(n){if(n===void 0)return jt("GRPC error has no .code"),te.UNKNOWN;switch(n){case Kt.OK:return te.OK;case Kt.CANCELLED:return te.CANCELLED;case Kt.UNKNOWN:return te.UNKNOWN;case Kt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Kt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Kt.INTERNAL:return te.INTERNAL;case Kt.UNAVAILABLE:return te.UNAVAILABLE;case Kt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Kt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Kt.NOT_FOUND:return te.NOT_FOUND;case Kt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Kt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Kt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Kt.ABORTED:return te.ABORTED;case Kt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Kt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Kt.DATA_LOSS:return te.DATA_LOSS;default:return Ee()}}(Ye=Kt||(Kt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _9=new Eo([4294967295,4294967295],0);function XA(n){const e=hx().encode(n),t=new l1;return t.update(e),new Uint8Array(t.digest())}function ZA(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Eo([t,r],0),new Eo([i,s],0)]}class rE{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new $d(`Invalid padding: ${t}`);if(r<0)throw new $d(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $d(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new $d(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Eo.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(Eo.fromNumber(r)));return i.compare(_9)===1&&(i=new Eo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=XA(e),[r,i]=ZA(t);for(let s=0;s<this.hashCount;s++){const l=this.Ae(r,i,s);if(!this.Re(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new rE(s,i,t);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.Ee===0)return;const t=XA(e),[r,i]=ZA(t);for(let s=0;s<this.hashCount;s++){const l=this.Ae(r,i,s);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class $d extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,rf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new nf(Pe.min(),i,new pt(Le),er(),Fe())}}class rf{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new rf(r,t,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}}class fx{constructor(e,t){this.targetId=e,this.ge=t}}class px{constructor(e,t,r=Vt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class eb{constructor(){this.pe=0,this.ye=tb(),this.we=Vt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Fe(),t=Fe(),r=Fe();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ee()}}),new rf(this.we,this.be,e,t,r)}Me(){this.Se=!1,this.ye=tb()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Re(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class v9{constructor(e){this.ke=e,this.qe=new Map,this.Qe=er(),this.$e=zp(),this.Ke=zp(),this.Ue=new pt(Le)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Ee()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){const t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){const s=i.target;if(qm(s))if(r===0){const l=new _e(s.path);this.ze(t,l,_t.newNoDocument(l,Pe.min()))}else Re(r===1);else{const l=this.et(t);if(l!==r){const u=this.tt(e),d=u?this.nt(u,e,l):1;if(d!==0){this.Ye(t);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,h)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let l,u;try{l=Ps(r).toUint8Array()}catch(d){if(d instanceof N1)return zi("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new rE(l,i,s)}catch(d){return zi(d instanceof $d?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.Ee===0?null:u}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const l=this.ke.it(),u=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.ze(t,s,null),i++)}),i}ot(e){const t=new Map;this.qe.forEach((s,l)=>{const u=this.Xe(l);if(u){if(s.current&&qm(u.target)){const d=new _e(u.target.path);this._t(d).has(l)||this.ut(l,d)||this.ze(l,d,_t.newNoDocument(d,e))}s.ve&&(t.set(l,s.Fe()),s.Me())}});let r=Fe();this.Ke.forEach((s,l)=>{let u=!0;l.forEachWhile(d=>{const h=this.Xe(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(s))}),this.Qe.forEach((s,l)=>l.setReadTime(e));const i=new nf(e,t,this.Ue,this.Qe,r);return this.Qe=er(),this.$e=zp(),this.Ke=zp(),this.Ue=new pt(Le),i}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new eb,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new ot(Le),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new ot(Le),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new eb),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function zp(){return new pt(_e.comparator)}function tb(){return new pt(_e.comparator)}const w9={asc:"ASCENDING",desc:"DESCENDING"},E9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},I9={and:"AND",or:"OR"};class T9{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function kw(n,e){return n.useProto3Json||Yh(e)?e:{value:e}}function Wu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mx(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function S9(n,e){return Wu(n,e.toTimestamp())}function Bt(n){return Re(!!n),Pe.fromTimestamp(function(t){const r=bs(t);return new At(r.seconds,r.nanos)}(n))}function iE(n,e){return xw(n,e).canonicalString()}function xw(n,e){const t=function(i){return new Be(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function gx(n){const e=Be.fromString(n);return Re(Ax(e)),e}function Sh(n,e){return iE(n.databaseId,e.path)}function ji(n,e){const t=gx(e);if(t.get(1)!==n.databaseId.projectId)throw new ae(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ae(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(vx(t))}function yx(n,e){return iE(n.databaseId,e)}function _x(n){const e=gx(n);return e.length===4?Be.emptyPath():vx(e)}function Ow(n){return new Be(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function vx(n){return Re(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function nb(n,e,t){return{name:Sh(n,e),fields:t.value.mapValue.fields}}function wx(n,e,t){const r=ji(n,e.name),i=Bt(e.updateTime),s=e.createTime?Bt(e.createTime):Pe.min(),l=new wn({mapValue:{fields:e.fields}}),u=_t.newFoundDocument(r,i,s,l);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function R9(n,e){return"found"in e?function(r,i){Re(!!i.found),i.found.name,i.found.updateTime;const s=ji(r,i.found.name),l=Bt(i.found.updateTime),u=i.found.createTime?Bt(i.found.createTime):Pe.min(),d=new wn({mapValue:{fields:i.found.fields}});return _t.newFoundDocument(s,l,u,d)}(n,e):"missing"in e?function(r,i){Re(!!i.missing),Re(!!i.readTime);const s=ji(r,i.missing),l=Bt(i.readTime);return _t.newNoDocument(s,l)}(n,e):Ee()}function A9(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,m){return h.useProto3Json?(Re(m===void 0||typeof m=="string"),Vt.fromBase64String(m||"")):(Re(m===void 0||m instanceof Buffer||m instanceof Uint8Array),Vt.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(h){const m=h.code===void 0?te.UNKNOWN:dx(h.code);return new ae(m,h.message||"")}(l);t=new px(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ji(n,r.document.name),s=Bt(r.document.updateTime),l=r.document.createTime?Bt(r.document.createTime):Pe.min(),u=new wn({mapValue:{fields:r.document.fields}}),d=_t.newFoundDocument(i,s,l,u),h=r.targetIds||[],m=r.removedTargetIds||[];t=new _m(h,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ji(n,r.document),s=r.readTime?Bt(r.readTime):Pe.min(),l=_t.newNoDocument(i,s),u=r.removedTargetIds||[];t=new _m([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ji(n,r.document),s=r.removedTargetIds||[];t=new _m([],s,i,null)}else{if(!("filter"in e))return Ee();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new y9(i,s),u=r.targetId;t=new fx(u,l)}}return t}function Rh(n,e){let t;if(e instanceof uc)t={update:nb(n,e.key,e.value)};else if(e instanceof cc)t={delete:Sh(n,e.key)};else if(e instanceof Ns)t={update:nb(n,e.key,e.data),updateMask:O9(e.fieldMask)};else{if(!(e instanceof Z0))return Ee();t={verify:Sh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,l){const u=l.transform;if(u instanceof Bu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Wa)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof qa)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof zu)return{fieldPath:l.field.canonicalString(),increment:u.Ie};throw Ee()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:S9(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ee()}(n,e.precondition)),t}function Nw(n,e){const t=e.currentDocument?function(s){return s.updateTime!==void 0?Rt.updateTime(Bt(s.updateTime)):s.exists!==void 0?Rt.exists(s.exists):Rt.none()}(e.currentDocument):Rt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,u){let d=null;if("setToServerValue"in u)Re(u.setToServerValue==="REQUEST_TIME"),d=new Bu;else if("appendMissingElements"in u){const m=u.appendMissingElements.values||[];d=new Wa(m)}else if("removeAllFromArray"in u){const m=u.removeAllFromArray.values||[];d=new qa(m)}else"increment"in u?d=new zu(l,u.increment):Ee();const h=St.fromServerFormat(u.fieldPath);return new tf(h,d)}(n,i)):[];if(e.update){e.update.name;const i=ji(n,e.update.name),s=new wn({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=function(d){const h=d.fieldPaths||[];return new Zn(h.map(m=>St.fromServerFormat(m)))}(e.updateMask);return new Ns(i,s,l,t,r)}return new uc(i,s,t,r)}if(e.delete){const i=ji(n,e.delete);return new cc(i,t)}if(e.verify){const i=ji(n,e.verify);return new Z0(i,t)}return Ee()}function b9(n,e){return n&&n.length>0?(Re(e!==void 0),n.map(t=>function(i,s){let l=i.updateTime?Bt(i.updateTime):Bt(s);return l.isEqual(Pe.min())&&(l=Bt(s)),new p9(l,i.transformResults||[])}(t,e))):[]}function Ex(n,e){return{documents:[yx(n,e.path)]}}function Ix(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=yx(n,i);const s=function(h){if(h.length!==0)return Rx(st.create(h,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const l=function(h){if(h.length!==0)return h.map(m=>function(_){return{field:gu(_.field),direction:C9(_.dir)}}(m))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=kw(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ht:t,parent:i}}function Tx(n){let e=_x(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Re(r===1);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let s=[];t.where&&(s=function(g){const _=Sx(g);return _ instanceof st&&Q0(_)?_.getFilters():[_]}(t.where));let l=[];t.orderBy&&(l=function(g){return g.map(_=>function(T){return new Th(yu(T.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(_))}(t.orderBy));let u=null;t.limit&&(u=function(g){let _;return _=typeof g=="object"?g.value:g,Yh(_)?null:_}(t.limit));let d=null;t.startAt&&(d=function(g){const _=!!g.before,I=g.values||[];return new Do(I,_)}(t.startAt));let h=null;return t.endAt&&(h=function(g){const _=!g.before,I=g.values||[];return new Do(I,_)}(t.endAt)),Q1(e,i,l,s,u,"F",d,h)}function P9(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Sx(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=yu(t.unaryFilter.field);return ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=yu(t.unaryFilter.field);return ze.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=yu(t.unaryFilter.field);return ze.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=yu(t.unaryFilter.field);return ze.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(n):n.fieldFilter!==void 0?function(t){return ze.create(yu(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return st.create(t.compositeFilter.filters.map(r=>Sx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ee()}}(t.compositeFilter.op))}(n):Ee()}function C9(n){return w9[n]}function k9(n){return E9[n]}function x9(n){return I9[n]}function gu(n){return{fieldPath:n.canonicalString()}}function yu(n){return St.fromServerFormat(n.fieldPath)}function Rx(n){return n instanceof ze?function(t){if(t.op==="=="){if($A(t.value))return{unaryFilter:{field:gu(t.field),op:"IS_NAN"}};if(UA(t.value))return{unaryFilter:{field:gu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if($A(t.value))return{unaryFilter:{field:gu(t.field),op:"IS_NOT_NAN"}};if(UA(t.value))return{unaryFilter:{field:gu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gu(t.field),op:k9(t.op),value:t.value}}}(n):n instanceof st?function(t){const r=t.getFilters().map(i=>Rx(i));return r.length===1?r[0]:{compositeFilter:{op:x9(t.op),filters:r}}}(n):Ee()}function O9(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Ax(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,t,r,i,s=Pe.min(),l=Pe.min(),u=Vt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new ys(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e){this.Tt=e}}function N9(n,e){let t;if(e.document)t=wx(n.Tt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=_e.fromSegments(e.noDocument.path),i=Ka(e.noDocument.readTime);t=_t.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ee();{const r=_e.fromSegments(e.unknownDocument.path),i=Ka(e.unknownDocument.version);t=_t.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const s=new At(i[0],i[1]);return Pe.fromTimestamp(s)}(e.readTime)),t}function rb(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Gm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,l){return{name:Sh(s,l.key),fields:l.data.value.mapValue.fields,updateTime:Wu(s,l.version.toTimestamp()),createTime:Wu(s,l.createTime.toTimestamp())}}(n.Tt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Ha(e.version)};else{if(!e.isUnknownDocument())return Ee();r.unknownDocument={path:t.path.toArray(),version:Ha(e.version)}}return r}function Gm(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Ha(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ka(n){const e=new At(n.seconds,n.nanoseconds);return Pe.fromTimestamp(e)}function ba(n,e){const t=(e.baseMutations||[]).map(s=>Nw(n.Tt,s));for(let s=0;s<e.mutations.length-1;++s){const l=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const u=e.mutations[s+1];l.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>Nw(n.Tt,s)),i=At.fromMillis(e.localWriteTimeMs);return new eE(e.batchId,i,t,r)}function jd(n){const e=Ka(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?Ka(n.lastLimboFreeSnapshotVersion):Pe.min();let r;return r=function(s){return s.documents!==void 0}(n.query)?function(s){return Re(s.documents.length===1),Un(lc(_x(s.documents[0])))}(n.query):function(s){return Un(Tx(s))}(n.query),new ys(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Vt.fromBase64String(n.resumeToken))}function Px(n,e){const t=Ha(e.snapshotVersion),r=Ha(e.lastLimboFreeSnapshotVersion);let i;i=qm(e.target)?Ex(n.Tt,e.target):Ix(n.Tt,e.target).ht;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:za(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function sE(n){const e=Tx({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Km(e,e.limit,"L"):e}function Pv(n,e){return new nE(e.largestBatchId,Nw(n.Tt,e.overlayMutation))}function ib(n,e){const t=e.path.lastSegment();return[n,xn(e.path.popLast()),t]}function sb(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:Ha(r.readTime),documentKey:xn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{getBundleMetadata(e,t){return ob(e).get(t).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:Ka(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,t){return ob(e).put(function(i){return{bundleId:i.id,createTime:Ha(Bt(i.createTime)),version:i.version}}(t))}getNamedQuery(e,t){return ab(e).get(t).next(r=>{if(r)return function(s){return{name:s.name,query:sE(s.bundledQuery),readTime:Ka(s.readTime)}}(r)})}saveNamedQuery(e,t){return ab(e).put(function(i){return{name:i.name,readTime:Ha(Bt(i.readTime)),bundledQuery:i.bundledQuery}}(t))}}function ob(n){return rn(n,zg)}function ab(n){return rn(n,Wg)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,t){this.serializer=e,this.userId=t}static It(e,t){const r=t.uid||"";return new Jg(e,r)}getOverlay(e,t){return Sd(e).get(ib(this.userId,t)).next(r=>r?Pv(this.serializer,r):null)}getOverlays(e,t){const r=Li();return G.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((s,l)=>{const u=new nE(t,l);i.push(this.Et(e,u))}),G.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(l=>i.add(xn(l.getCollectionPath())));const s=[];return i.forEach(l=>{const u=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);s.push(Sd(e).J(Ew,u))}),G.waitFor(s)}getOverlaysForCollection(e,t,r){const i=Li(),s=xn(t),l=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Sd(e).G(Ew,l).next(u=>{for(const d of u){const h=Pv(this.serializer,d);i.set(h.getKey(),h)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const s=Li();let l;const u=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Sd(e).Z({index:P1,range:u},(d,h,m)=>{const g=Pv(this.serializer,h);s.size()<i||g.largestBatchId===l?(s.set(g.getKey(),g),l=g.largestBatchId):m.done()}).next(()=>s)}Et(e,t){return Sd(e).put(function(i,s,l){const[u,d,h]=ib(s,l.mutation.key);return{userId:s,collectionPath:d,documentId:h,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:Rh(i.Tt,l.mutation)}}(this.serializer,this.userId,t))}}function Sd(n){return rn(n,qg)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{dt(e){return rn(e,q0)}getSessionToken(e){return this.dt(e).get("sessionToken").next(t=>{const r=t==null?void 0:t.value;return r?Vt.fromUint8Array(r):Vt.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.dt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(Tt(e.integerValue));else if("doubleValue"in e){const r=Tt(e.doubleValue);isNaN(r)?this.ft(t,13):(this.ft(t,15),gh(r)?t.gt(0):t.gt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.ft(t,20),typeof r=="string"&&(r=bs(r)),t.yt(`${r.seconds||""}`),t.gt(r.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.bt(t);else if("bytesValue"in e)this.ft(t,30),t.St(Ps(e.bytesValue)),this.bt(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ft(t,45),t.gt(r.latitude||0),t.gt(r.longitude||0)}else"mapValue"in e?U1(e)?this.ft(t,Number.MAX_SAFE_INTEGER):Gg(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.bt(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.bt(t)):Ee()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){const r=e.fields||{};this.ft(t,55);for(const i of Object.keys(r))this.wt(i,t),this.Rt(r[i],t)}vt(e,t){var r,i;const s=e.fields||{};this.ft(t,53);const l=Uu,u=((i=(r=s[l].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.ft(t,15),t.gt(Tt(u)),this.wt(l,t),this.Rt(s[l],t)}Ft(e,t){const r=e.values||[];this.ft(t,50);for(const i of r)this.Rt(i,t)}Dt(e,t){this.ft(t,37),_e.fromName(e).path.forEach(r=>{this.ft(t,60),this.Mt(r,t)})}ft(e,t){e.gt(t)}bt(e){e.gt(2)}}Pa.xt=new Pa;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=255;function V9(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function lb(n){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const l=V9(255&r[s]);if(i+=l,l!==8)break}return i}(n);return Math.ceil(e/8)}class M9{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ot(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Nt(r.value),r=t.next();this.Bt()}Lt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.kt(r.value),r=t.next();this.qt()}Qt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Nt(r);else if(r<2048)this.Nt(960|r>>>6),this.Nt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Nt(480|r>>>12),this.Nt(128|63&r>>>6),this.Nt(128|63&r);else{const i=t.codePointAt(0);this.Nt(240|i>>>18),this.Nt(128|63&i>>>12),this.Nt(128|63&i>>>6),this.Nt(128|63&i)}}this.Bt()}$t(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.kt(r);else if(r<2048)this.kt(960|r>>>6),this.kt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.kt(480|r>>>12),this.kt(128|63&r>>>6),this.kt(128|63&r);else{const i=t.codePointAt(0);this.kt(240|i>>>18),this.kt(128|63&i>>>12),this.kt(128|63&i>>>6),this.kt(128|63&i)}}this.qt()}Kt(e){const t=this.Ut(e),r=lb(t);this.Wt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Gt(e){const t=this.Ut(e),r=lb(t);this.Wt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}zt(){this.jt(su),this.jt(255)}Ht(){this.Jt(su),this.Jt(255)}reset(){this.position=0}seed(e){this.Wt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Yt(){return this.buffer.slice(0,this.position)}Ut(e){const t=function(s){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,s,!1),new Uint8Array(l.buffer)}(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Nt(e){const t=255&e;t===0?(this.jt(0),this.jt(255)):t===su?(this.jt(su),this.jt(0)):this.jt(t)}kt(e){const t=255&e;t===0?(this.Jt(0),this.Jt(255)):t===su?(this.Jt(su),this.Jt(0)):this.Jt(e)}Bt(){this.jt(0),this.jt(1)}qt(){this.Jt(0),this.Jt(1)}jt(e){this.Wt(1),this.buffer[this.position++]=e}Jt(e){this.Wt(1),this.buffer[this.position++]=~e}Wt(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class F9{constructor(e){this.Zt=e}St(e){this.Zt.Ot(e)}yt(e){this.Zt.Qt(e)}gt(e){this.Zt.Kt(e)}Vt(){this.Zt.zt()}}class U9{constructor(e){this.Zt=e}St(e){this.Zt.Lt(e)}yt(e){this.Zt.$t(e)}gt(e){this.Zt.Gt(e)}Vt(){this.Zt.Ht()}}class Rd{constructor(){this.Zt=new M9,this.Xt=new F9(this.Zt),this.en=new U9(this.Zt)}seed(e){this.Zt.seed(e)}tn(e){return e===0?this.Xt:this.en}Yt(){return this.Zt.Yt()}reset(){this.Zt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}nn(){const e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ca(this.indexId,this.documentKey,this.arrayValue,r)}}function uo(n,e){let t=n.indexId-e.indexId;return t!==0?t:(t=ub(n.arrayValue,e.arrayValue),t!==0?t:(t=ub(n.directionalValue,e.directionalValue),t!==0?t:_e.comparator(n.documentKey,e.documentKey)))}function ub(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e){this.rn=new ot((t,r)=>St.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.sn=e.orderBy,this._n=[];for(const t of e.filters){const r=t;r.isInequality()?this.rn=this.rn.add(r):this._n.push(r)}}get an(){return this.rn.size>1}un(e){if(Re(e.collectionGroup===this.collectionId),this.an)return!1;const t=_w(e);if(t!==void 0&&!this.cn(t))return!1;const r=Sa(e);let i=new Set,s=0,l=0;for(;s<r.length&&this.cn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.rn.size>0){const u=this.rn.getIterator().getNext();if(!i.has(u.field.canonicalString())){const d=r[s];if(!this.ln(u,d)||!this.hn(this.sn[l++],d))return!1}++s}for(;s<r.length;++s){const u=r[s];if(l>=this.sn.length||!this.hn(this.sn[l++],u))return!1}return!0}Pn(){if(this.an)return null;let e=new ot(St.comparator);const t=[];for(const r of this._n)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new dm(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new dm(r.field,0))}for(const r of this.sn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new dm(r.field,r.dir==="asc"?0:1)));return new Um(Um.UNKNOWN_ID,this.collectionId,t,mh.empty())}cn(e){for(const t of this._n)if(this.ln(t,e))return!0;return!1}ln(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}hn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(n){var e,t;if(Re(n instanceof ze||n instanceof st),n instanceof ze){if(n instanceof G1){const i=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(s=>ze.create(n.field,"==",s)))||[];return st.create(i,"or")}return n}const r=n.filters.map(i=>Cx(i));return st.create(r,n.op)}function $9(n){if(n.getFilters().length===0)return[];const e=Vw(Cx(n));return Re(kx(e)),Dw(e)||Lw(e)?[e]:e.getFilters()}function Dw(n){return n instanceof ze}function Lw(n){return n instanceof st&&Q0(n)}function kx(n){return Dw(n)||Lw(n)||function(t){if(t instanceof st&&Aw(t)){for(const r of t.getFilters())if(!Dw(r)&&!Lw(r))return!1;return!0}return!1}(n)}function Vw(n){if(Re(n instanceof ze||n instanceof st),n instanceof ze)return n;if(n.filters.length===1)return Vw(n.filters[0]);const e=n.filters.map(r=>Vw(r));let t=st.create(e,n.op);return t=Qm(t),kx(t)?t:(Re(t instanceof st),Re(ju(t)),Re(t.filters.length>1),t.filters.reduce((r,i)=>oE(r,i)))}function oE(n,e){let t;return Re(n instanceof ze||n instanceof st),Re(e instanceof ze||e instanceof st),t=n instanceof ze?e instanceof ze?function(i,s){return st.create([i,s],"and")}(n,e):db(n,e):e instanceof ze?db(e,n):function(i,s){if(Re(i.filters.length>0&&s.filters.length>0),ju(i)&&ju(s))return q1(i,s.getFilters());const l=Aw(i)?i:s,u=Aw(i)?s:i,d=l.filters.map(h=>oE(h,u));return st.create(d,"or")}(n,e),Qm(t)}function db(n,e){if(ju(e))return q1(e,n.getFilters());{const t=e.filters.map(r=>oE(n,r));return st.create(t,"or")}}function Qm(n){if(Re(n instanceof ze||n instanceof st),n instanceof ze)return n;const e=n.getFilters();if(e.length===1)return Qm(e[0]);if(z1(n))return n;const t=e.map(i=>Qm(i)),r=[];return t.forEach(i=>{i instanceof ze?r.push(i):i instanceof st&&(i.op===n.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:st.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(){this.Tn=new aE}addToCollectionParentIndex(e,t){return this.Tn.add(t),G.resolve()}getCollectionParents(e,t){return G.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return G.resolve()}deleteFieldIndex(e,t){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,t){return G.resolve()}getDocumentsMatchingTarget(e,t){return G.resolve(null)}getIndexType(e,t){return G.resolve(0)}getFieldIndexes(e,t){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,t){return G.resolve(wr.min())}getMinOffsetFromCollectionGroup(e,t){return G.resolve(wr.min())}updateCollectionGroup(e,t,r){return G.resolve()}updateIndexEntries(e,t){return G.resolve()}}class aE{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ot(Be.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ot(Be.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="IndexedDbIndexManager",Wp=new Uint8Array(0);class B9{constructor(e,t){this.databaseId=t,this.In=new aE,this.En=new Os(r=>za(r),(r,i)=>Xh(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.In.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.In.add(t)});const s={collectionId:r,parent:xn(i)};return fb(e).put(s)}return G.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[g1(t),""],!1,!0);return fb(e).G(i).next(s=>{for(const l of s){if(l.collectionId!==t)break;r.push(Di(l.parent))}return r})}addFieldIndex(e,t){const r=Ad(e),i=function(u){return{indexId:u.indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])}}(t);delete i.indexId;const s=r.add(i);if(t.indexState){const l=au(e);return s.next(u=>{l.put(sb(u,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const r=Ad(e),i=au(e),s=ou(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=Ad(e),r=ou(e),i=au(e);return t.J().next(()=>r.J()).next(()=>i.J())}createTargetIndexes(e,t){return G.forEach(this.dn(t),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new cb(r).Pn();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,t){const r=ou(e);let i=!0;const s=new Map;return G.forEach(this.dn(t),l=>this.An(e,l).next(u=>{i&&(i=!!u),s.set(l,u)})).next(()=>{if(i){let l=Fe();const u=[];return G.forEach(s,(d,h)=>{ue(hb,`Using index ${function(M){return`id=${M.indexId}|cg=${M.collectionGroup}|f=${M.fields.map(z=>`${z.fieldPath}:${z.kind}`).join(",")}`}(d)} to execute ${za(t)}`);const m=function(M,z){const $=_w(z);if($===void 0)return null;for(const W of Hm(M,$.fieldPath))switch(W.op){case"array-contains-any":return W.value.arrayValue.values||[];case"array-contains":return[W.value]}return null}(h,d),g=function(M,z){const $=new Map;for(const W of Sa(z))for(const D of Hm(M,W.fieldPath))switch(D.op){case"==":case"in":$.set(W.fieldPath.canonicalString(),D.value);break;case"not-in":case"!=":return $.set(W.fieldPath.canonicalString(),D.value),Array.from($.values())}return null}(h,d),_=function(M,z){const $=[];let W=!0;for(const D of Sa(z)){const A=D.kind===0?qA(M,D.fieldPath,M.startAt):HA(M,D.fieldPath,M.startAt);$.push(A.value),W&&(W=A.inclusive)}return new Do($,W)}(h,d),I=function(M,z){const $=[];let W=!0;for(const D of Sa(z)){const A=D.kind===0?HA(M,D.fieldPath,M.endAt):qA(M,D.fieldPath,M.endAt);$.push(A.value),W&&(W=A.inclusive)}return new Do($,W)}(h,d),T=this.Rn(d,h,_),R=this.Rn(d,h,I),b=this.Vn(d,h,g),V=this.mn(d.indexId,m,T,_.inclusive,R,I.inclusive,b);return G.forEach(V,L=>r.H(L,t.limit).next(M=>{M.forEach(z=>{const $=_e.fromSegments(z.documentKey);l.has($)||(l=l.add($),u.push($))})}))}).next(()=>u)}return G.resolve(null)})}dn(e){let t=this.En.get(e);return t||(e.filters.length===0?t=[e]:t=$9(st.create(e.filters,"and")).map(r=>Pw(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.En.set(e,t),t)}mn(e,t,r,i,s,l,u){const d=(t!=null?t.length:1)*Math.max(r.length,s.length),h=d/(t!=null?t.length:1),m=[];for(let g=0;g<d;++g){const _=t?this.fn(t[g/h]):Wp,I=this.gn(e,_,r[g%h],i),T=this.pn(e,_,s[g%h],l),R=u.map(b=>this.gn(e,_,b,!0));m.push(...this.createRange(I,T,R))}return m}gn(e,t,r,i){const s=new Ca(e,_e.empty(),t,r);return i?s:s.nn()}pn(e,t,r,i){const s=new Ca(e,_e.empty(),t,r);return i?s.nn():s}An(e,t){const r=new cb(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let l=null;for(const u of s)r.un(u)&&(!l||u.fields.length>l.fields.length)&&(l=u);return l})}getIndexType(e,t){let r=2;const i=this.dn(t);return G.forEach(i,s=>this.An(e,s).next(l=>{l?r!==0&&l.fields.length<function(d){let h=new ot(St.comparator),m=!1;for(const g of d.filters)for(const _ of g.getFlattenedFilters())_.field.isKeyField()||(_.op==="array-contains"||_.op==="array-contains-any"?m=!0:h=h.add(_.field));for(const g of d.orderBy)g.field.isKeyField()||(h=h.add(g.field));return h.size+(m?1:0)}(s)&&(r=1):r=0})).next(()=>function(l){return l.limit!==null}(t)&&i.length>1&&r===2?1:r)}yn(e,t){const r=new Rd;for(const i of Sa(e)){const s=t.data.field(i.fieldPath);if(s==null)return null;const l=r.tn(i.kind);Pa.xt.At(s,l)}return r.Yt()}fn(e){const t=new Rd;return Pa.xt.At(e,t.tn(0)),t.Yt()}wn(e,t){const r=new Rd;return Pa.xt.At(Ba(this.databaseId,t),r.tn(function(s){const l=Sa(s);return l.length===0?0:l[l.length-1].kind}(e))),r.Yt()}Vn(e,t,r){if(r===null)return[];let i=[];i.push(new Rd);let s=0;for(const l of Sa(e)){const u=r[s++];for(const d of i)if(this.bn(t,l.fieldPath)&&Ih(u))i=this.Sn(i,l,u);else{const h=d.tn(l.kind);Pa.xt.At(u,h)}}return this.Dn(i)}Rn(e,t,r){return this.Vn(e,t,r.position)}Dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Yt();return t}Sn(e,t,r){const i=[...e],s=[];for(const l of r.arrayValue.values||[])for(const u of i){const d=new Rd;d.seed(u.Yt()),Pa.xt.At(l,d.tn(t.kind)),s.push(d)}return s}bn(e,t){return!!e.filters.find(r=>r instanceof ze&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){const r=Ad(e),i=au(e);return(t?r.G(ww,IDBKeyRange.bound(t,t)):r.G()).next(s=>{const l=[];return G.forEach(s,u=>i.get([u.indexId,this.uid]).next(d=>{l.push(function(m,g){const _=g?new mh(g.sequenceNumber,new wr(Ka(g.readTime),new _e(Di(g.documentKey)),g.largestBatchId)):mh.empty(),I=m.fields.map(([T,R])=>new dm(St.fromServerFormat(T),R));return new Um(m.indexId,m.collectionGroup,I,_)}(u,d))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Le(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Ad(e),s=au(e);return this.vn(e).next(l=>i.G(ww,IDBKeyRange.bound(t,t)).next(u=>G.forEach(u,d=>s.put(sb(d.indexId,this.uid,l,r)))))}updateIndexEntries(e,t){const r=new Map;return G.forEach(t,(i,s)=>{const l=r.get(i.collectionGroup);return(l?G.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next(u=>(r.set(i.collectionGroup,u),G.forEach(u,d=>this.Cn(e,i,d).next(h=>{const m=this.Fn(s,d);return h.isEqual(m)?G.resolve():this.Mn(e,s,d,h,m)}))))})}xn(e,t,r,i){return ou(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.wn(r,t.key),documentKey:t.key.path.toArray()})}On(e,t,r,i){return ou(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.wn(r,t.key),t.key.path.toArray()])}Cn(e,t,r){const i=ou(e);let s=new ot(uo);return i.Z({index:b1,range:IDBKeyRange.only([r.indexId,this.uid,this.wn(r,t)])},(l,u)=>{s=s.add(new Ca(r.indexId,t,u.arrayValue,u.directionalValue))}).next(()=>s)}Fn(e,t){let r=new ot(uo);const i=this.yn(t,e);if(i==null)return r;const s=_w(t);if(s!=null){const l=e.data.field(s.fieldPath);if(Ih(l))for(const u of l.arrayValue.values||[])r=r.add(new Ca(t.indexId,e.key,this.fn(u),i))}else r=r.add(new Ca(t.indexId,e.key,Wp,i));return r}Mn(e,t,r,i,s){ue(hb,"Updating index entries for document '%s'",t.key);const l=[];return function(d,h,m,g,_){const I=d.getIterator(),T=h.getIterator();let R=iu(I),b=iu(T);for(;R||b;){let V=!1,L=!1;if(R&&b){const M=m(R,b);M<0?L=!0:M>0&&(V=!0)}else R!=null?L=!0:V=!0;V?(g(b),b=iu(T)):L?(_(R),R=iu(I)):(R=iu(I),b=iu(T))}}(i,s,uo,u=>{l.push(this.xn(e,t,r,u))},u=>{l.push(this.On(e,t,r,u))}),G.waitFor(l)}vn(e){let t=1;return au(e).Z({index:A1,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,u)=>uo(l,u)).filter((l,u,d)=>!u||uo(l,d[u-1])!==0);const i=[];i.push(e);for(const l of r){const u=uo(l,e),d=uo(l,t);if(u===0)i[0]=e.nn();else if(u>0&&d<0)i.push(l),i.push(l.nn());else if(d>0)break}i.push(t);const s=[];for(let l=0;l<i.length;l+=2){if(this.Nn(i[l],i[l+1]))return[];const u=[i[l].indexId,this.uid,i[l].arrayValue,i[l].directionalValue,Wp,[]],d=[i[l+1].indexId,this.uid,i[l+1].arrayValue,i[l+1].directionalValue,Wp,[]];s.push(IDBKeyRange.bound(u,d))}return s}Nn(e,t){return uo(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(pb)}getMinOffset(e,t){return G.mapArray(this.dn(t),r=>this.An(e,r).next(i=>i||Ee())).next(pb)}}function fb(n){return rn(n,vh)}function ou(n){return rn(n,Wm)}function Ad(n){return rn(n,W0)}function au(n){return rn(n,zm)}function pb(n){Re(n.length!==0);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;j0(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new wr(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xx=41943040;class Cn{static withCacheSize(e){return new Cn(e,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(n,e,t){const r=n.store(ri),i=n.store(Lu),s=[],l=IDBKeyRange.only(t.batchId);let u=0;const d=r.Z({range:l},(m,g,_)=>(u++,_.delete()));s.push(d.next(()=>{Re(u===1)}));const h=[];for(const m of t.mutations){const g=T1(e,m.key.path,t.batchId);s.push(i.delete(g)),h.push(m.key)}return G.waitFor(s).next(()=>h)}function Ym(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ee();e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(xx,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);class Xg{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Bn={}}static It(e,t,r,i){Re(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new Xg(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return co(e).Z({index:Oa,range:r},(i,s,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const s=_u(e),l=co(e);return l.add({}).next(u=>{Re(typeof u=="number");const d=new eE(u,t,r,i),h=function(I,T,R){const b=R.baseMutations.map(L=>Rh(I.Tt,L)),V=R.mutations.map(L=>Rh(I.Tt,L));return{userId:T,batchId:R.batchId,localWriteTimeMs:R.localWriteTime.toMillis(),baseMutations:b,mutations:V}}(this.serializer,this.userId,d),m=[];let g=new ot((_,I)=>Le(_.canonicalString(),I.canonicalString()));for(const _ of i){const I=T1(this.userId,_.key.path,u);g=g.add(_.key.path.popLast()),m.push(l.put(h)),m.push(s.put(I,Iz))}return g.forEach(_=>{m.push(this.indexManager.addToCollectionParentIndex(e,_))}),e.addOnCommittedListener(()=>{this.Bn[u]=d.keys()}),G.waitFor(m).next(()=>d)})}lookupMutationBatch(e,t){return co(e).get(t).next(r=>r?(Re(r.userId===this.userId),ba(this.serializer,r)):null)}Ln(e,t){return this.Bn[t]?G.resolve(this.Bn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Bn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return co(e).Z({index:Oa,range:i},(l,u,d)=>{u.userId===this.userId&&(Re(u.batchId>=r),s=ba(this.serializer,u)),d.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Io;return co(e).Z({index:Oa,range:t,reverse:!0},(i,s,l)=>{r=s.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,Io],[this.userId,Number.POSITIVE_INFINITY]);return co(e).G(Oa,t).next(r=>r.map(i=>ba(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=hm(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return _u(e).Z({range:i},(l,u,d)=>{const[h,m,g]=l,_=Di(m);if(h===this.userId&&t.path.isEqual(_))return co(e).get(g).next(I=>{if(!I)throw Ee();Re(I.userId===this.userId),s.push(ba(this.serializer,I))});d.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ot(Le);const i=[];return t.forEach(s=>{const l=hm(this.userId,s.path),u=IDBKeyRange.lowerBound(l),d=_u(e).Z({range:u},(h,m,g)=>{const[_,I,T]=h,R=Di(I);_===this.userId&&s.path.isEqual(R)?r=r.add(T):g.done()});i.push(d)}),G.waitFor(i).next(()=>this.kn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=hm(this.userId,r),l=IDBKeyRange.lowerBound(s);let u=new ot(Le);return _u(e).Z({range:l},(d,h,m)=>{const[g,_,I]=d,T=Di(_);g===this.userId&&r.isPrefixOf(T)?T.length===i&&(u=u.add(I)):m.done()}).next(()=>this.kn(e,u))}kn(e,t){const r=[],i=[];return t.forEach(s=>{i.push(co(e).get(s).next(l=>{if(l===null)throw Ee();Re(l.userId===this.userId),r.push(ba(this.serializer,l))}))}),G.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return Ox(e.ue,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.qn(t.batchId)}),G.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}qn(e){delete this.Bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return G.resolve();const r=IDBKeyRange.lowerBound(function(l){return[l]}(this.userId)),i=[];return _u(e).Z({range:r},(s,l,u)=>{if(s[0]===this.userId){const d=Di(s[1]);i.push(d)}else u.done()}).next(()=>{Re(i.length===0)})})}containsKey(e,t){return Nx(e,this.userId,t)}Qn(e){return Dx(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:Io,lastStreamToken:""})}}function Nx(n,e,t){const r=hm(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let l=!1;return _u(n).Z({range:s,Y:!0},(u,d,h)=>{const[m,g,_]=u;m===e&&g===i&&(l=!0),h.done()}).next(()=>l)}function co(n){return rn(n,ri)}function _u(n){return rn(n,Lu)}function Dx(n){return rn(n,yh)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Ga(0)}static Un(){return new Ga(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Wn(e).next(t=>{const r=new Ga(t.highestTargetId);return t.highestTargetId=r.next(),this.Gn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Wn(e).next(t=>Pe.fromTimestamp(new At(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Wn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Wn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Gn(e,i)))}addTargetData(e,t){return this.zn(e,t).next(()=>this.Wn(e).next(r=>(r.targetCount+=1,this.jn(t,r),this.Gn(e,r))))}updateTargetData(e,t){return this.zn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>lu(e).delete(t.targetId)).next(()=>this.Wn(e)).next(r=>(Re(r.targetCount>0),r.targetCount-=1,this.Gn(e,r)))}removeTargets(e,t,r){let i=0;const s=[];return lu(e).Z((l,u)=>{const d=jd(u);d.sequenceNumber<=t&&r.get(d.targetId)===null&&(i++,s.push(this.removeTargetData(e,d)))}).next(()=>G.waitFor(s)).next(()=>i)}forEachTarget(e,t){return lu(e).Z((r,i)=>{const s=jd(i);t(s)})}Wn(e){return gb(e).get(Bm).next(t=>(Re(t!==null),t))}Gn(e,t){return gb(e).put(Bm,t)}zn(e,t){return lu(e).put(Px(this.serializer,t))}jn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Wn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=za(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return lu(e).Z({range:i,index:R1},(l,u,d)=>{const h=jd(u);Xh(t,h.target)&&(s=h,d.done())}).next(()=>s)}addMatchingKeys(e,t,r){const i=[],s=mo(e);return t.forEach(l=>{const u=xn(l.path);i.push(s.put({targetId:r,path:u})),i.push(this.referenceDelegate.addReference(e,r,l))}),G.waitFor(i)}removeMatchingKeys(e,t,r){const i=mo(e);return G.forEach(t,s=>{const l=xn(s.path);return G.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){const r=mo(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=mo(e);let s=Fe();return i.Z({range:r,Y:!0},(l,u,d)=>{const h=Di(l[1]),m=new _e(h);s=s.add(m)}).next(()=>s)}containsKey(e,t){const r=xn(t.path),i=IDBKeyRange.bound([r],[g1(r)],!1,!0);let s=0;return mo(e).Z({index:z0,Y:!0,range:i},([l,u],d,h)=>{l!==0&&(s++,h.done())}).next(()=>s>0)}lt(e,t){return lu(e).get(t).next(r=>r?jd(r):null)}}function lu(n){return rn(n,Vu)}function gb(n){return rn(n,Ma)}function mo(n){return rn(n,Mu)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb="LruGarbageCollector",W9=1048576;function _b([n,e],[t,r]){const i=Le(n,t);return i===0?Le(e,r):i}class q9{constructor(e){this.Hn=e,this.buffer=new ot(_b),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();_b(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Lx{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ue(yb,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){zo(t)?ue(yb,"Ignoring IndexedDB error during garbage collection: ",t):await Bo(t)}await this.er(3e5)})}}class H9{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return G.resolve(Xn.ae);const r=new q9(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(mb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mb):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,s,l,u,d,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,l=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,u=Date.now(),this.removeTargets(e,r,t))).next(g=>(s=g,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(h=Date.now(),pu()<=Ue.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${s} targets in `+(d-u)+`ms
	Removed ${g} documents in `+(h-d)+`ms
Total Duration: ${h-m}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g})))}}function Vx(n,e){return new H9(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(e,t){this.db=e,this.garbageCollector=Vx(this,t)}nr(e){const t=this.sr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}rr(e,t){return this._r(e,(r,i)=>t(i))}addReference(e,t,r){return qp(e,r)}removeReference(e,t,r){return qp(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return qp(e,t)}ar(e,t){return function(i,s){let l=!1;return Dx(i).X(u=>Nx(i,u,s).next(d=>(d&&(l=!0),G.resolve(!d)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this._r(e,(l,u)=>{if(u<=t){const d=this.ar(e,l).next(h=>{if(!h)return s++,r.getEntry(e,l).next(()=>(r.removeEntry(l,Pe.min()),mo(e).delete(function(g){return[0,xn(g.path)]}(l))))});i.push(d)}}).next(()=>G.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return qp(e,t)}_r(e,t){const r=mo(e);let i,s=Xn.ae;return r.Z({index:z0},([l,u],{path:d,sequenceNumber:h})=>{l===0?(s!==Xn.ae&&t(new _e(Di(i)),s),s=h,i=d):s=Xn.ae}).next(()=>{s!==Xn.ae&&t(new _e(Di(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function qp(n,e){return mo(n).put(function(r,i){return{targetId:0,path:xn(r.path),sequenceNumber:i}}(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(){this.changes=new Os(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_t.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?G.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Ea(e).put(r)}removeEntry(e,t,r){return Ea(e).delete(function(s,l){const u=s.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],Gm(l),u[u.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.ur(e,r)))}getEntry(e,t){let r=_t.newInvalidDocument(t);return Ea(e).Z({index:fm,range:IDBKeyRange.only(bd(t))},(i,s)=>{r=this.cr(t,s)}).next(()=>r)}lr(e,t){let r={size:0,document:_t.newInvalidDocument(t)};return Ea(e).Z({index:fm,range:IDBKeyRange.only(bd(t))},(i,s)=>{r={document:this.cr(t,s),size:Ym(s)}}).next(()=>r)}getEntries(e,t){let r=er();return this.hr(e,t,(i,s)=>{const l=this.cr(i,s);r=r.insert(i,l)}).next(()=>r)}Pr(e,t){let r=er(),i=new pt(_e.comparator);return this.hr(e,t,(s,l)=>{const u=this.cr(s,l);r=r.insert(s,u),i=i.insert(s,Ym(l))}).next(()=>({documents:r,Tr:i}))}hr(e,t,r){if(t.isEmpty())return G.resolve();let i=new ot(Eb);t.forEach(d=>i=i.add(d));const s=IDBKeyRange.bound(bd(i.first()),bd(i.last())),l=i.getIterator();let u=l.getNext();return Ea(e).Z({index:fm,range:s},(d,h,m)=>{const g=_e.fromSegments([...h.prefixPath,h.collectionGroup,h.documentId]);for(;u&&Eb(u,g)<0;)r(u,null),u=l.getNext();u&&u.isEqual(g)&&(r(u,h),u=l.hasNext()?l.getNext():null),u?m.W(bd(u)):m.done()}).next(()=>{for(;u;)r(u,null),u=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,s){const l=t.path,u=[l.popLast().toArray(),l.lastSegment(),Gm(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ea(e).G(IDBKeyRange.bound(u,d,!0)).next(h=>{s==null||s.incrementDocumentReadCount(h.length);let m=er();for(const g of h){const _=this.cr(_e.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);_.isFoundDocument()&&(ef(t,_)||i.has(_.key))&&(m=m.insert(_.key,_))}return m})}getAllFromCollectionGroup(e,t,r,i){let s=er();const l=wb(t,r),u=wb(t,wr.max());return Ea(e).Z({index:S1,range:IDBKeyRange.bound(l,u,!0)},(d,h,m)=>{const g=this.cr(_e.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);s=s.insert(g.key,g),s.size===i&&m.done()}).next(()=>s)}newChangeBuffer(e){return new Q9(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return vb(e).get(vw).next(t=>(Re(!!t),t))}ur(e,t){return vb(e).put(vw,t)}cr(e,t){if(t){const r=N9(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Pe.min())))return r}return _t.newInvalidDocument(e)}}function Fx(n){return new G9(n)}class Q9 extends Mx{constructor(e,t){super(),this.Ir=e,this.trackRemovals=t,this.Er=new Os(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new ot((s,l)=>Le(s.canonicalString(),l.canonicalString()));return this.changes.forEach((s,l)=>{const u=this.Er.get(s);if(t.push(this.Ir.removeEntry(e,s,u.readTime)),l.isValidDocument()){const d=rb(this.Ir.serializer,l);i=i.add(s.path.popLast());const h=Ym(d);r+=h-u.size,t.push(this.Ir.addEntry(e,s,d))}else if(r-=u.size,this.trackRemovals){const d=rb(this.Ir.serializer,l.convertToNoDocument(Pe.min()));t.push(this.Ir.addEntry(e,s,d))}}),i.forEach(s=>{t.push(this.Ir.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.Ir.updateMetadata(e,r)),G.waitFor(t)}getFromCache(e,t){return this.Ir.lr(e,t).next(r=>(this.Er.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Ir.Pr(e,t).next(({documents:r,Tr:i})=>(i.forEach((s,l)=>{this.Er.set(s,{size:l,readTime:r.get(s).readTime})}),r))}}function vb(n){return rn(n,_h)}function Ea(n){return rn(n,jm)}function bd(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function wb(n,e){const t=e.documentKey.path.toArray();return[n,Gm(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Eb(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=Le(t[s],r[s]),i)return i;return i=Le(t.length,r.length),i||(i=Le(t[t.length-2],r[r.length-2]),i||Le(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Jd(r.mutation,i,Zn.empty(),At.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Fe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Fe()){const i=Li();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let l=Ud();return s.forEach((u,d)=>{l=l.insert(u,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Li();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Fe()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,r,i){let s=er();const l=Yd(),u=function(){return Yd()}();return t.forEach((d,h)=>{const m=r.get(h.key);i.has(h.key)&&(m===void 0||m.mutation instanceof Ns)?s=s.insert(h.key,h):m!==void 0?(l.set(h.key,m.mutation.getFieldMask()),Jd(m.mutation,h,m.mutation.getFieldMask(),At.now())):l.set(h.key,Zn.empty())}),this.recalculateAndSaveOverlays(e,s).next(d=>(d.forEach((h,m)=>l.set(h,m)),t.forEach((h,m)=>{var g;return u.set(h,new Y9(m,(g=l.get(h))!==null&&g!==void 0?g:null))}),u))}recalculateAndSaveOverlays(e,t){const r=Yd();let i=new pt((l,u)=>l-u),s=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(d=>{const h=t.get(d);if(h===null)return;let m=r.get(d)||Zn.empty();m=u.applyToLocalView(h,m),r.set(d,m);const g=(i.get(u.batchId)||Fe()).add(d);i=i.insert(u.batchId,g)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),h=d.key,m=d.value,g=tx();m.forEach(_=>{if(!s.has(_)){const I=lx(t.get(_),r.get(_));I!==null&&g.set(_,I),s=s.add(_)}}),l.push(this.documentOverlayCache.saveOverlays(e,h,g))}return G.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return _e.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Y0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):G.resolve(Li());let u=Du,d=s;return l.next(h=>G.forEach(h,(m,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),s.get(m)?G.resolve():this.remoteDocumentCache.getEntry(e,m).next(_=>{d=d.insert(m,_)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,d,h,Fe())).next(m=>({batchId:u,changes:ex(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(r=>{let i=Ud();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let l=Ud();return this.indexManager.getCollectionParents(e,s).next(u=>G.forEach(u,d=>{const h=function(g,_){return new xs(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,d.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(m=>{m.forEach((g,_)=>{l=l.insert(g,_)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(l=>{s.forEach((d,h)=>{const m=h.getKey();l.get(m)===null&&(l=l.insert(m,_t.newInvalidDocument(m)))});let u=Ud();return l.forEach((d,h)=>{const m=s.get(d);m!==void 0&&Jd(m.mutation,h,Zn.empty(),At.now()),ef(t,h)&&(u=u.insert(d,h))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return G.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Bt(i.createTime)}}(t)),G.resolve()}getNamedQuery(e,t){return G.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:sE(i.bundledQuery),readTime:Bt(i.readTime)}}(t)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{constructor(){this.overlays=new pt(_e.comparator),this.Rr=new Map}getOverlay(e,t){return G.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Li();return G.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.Et(e,t,s)}),G.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(r)),G.resolve()}getOverlaysForCollection(e,t,r){const i=Li(),s=t.length+1,l=new _e(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,h=d.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===s&&d.largestBatchId>r&&i.set(d.getKey(),d)}return G.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new pt((h,m)=>h-m);const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let m=s.get(h.largestBatchId);m===null&&(m=Li(),s=s.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const u=Li(),d=s.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((h,m)=>u.set(h,m)),!(u.size()>=i)););return G.resolve(u)}Et(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new nE(t,r));let s=this.Rr.get(t);s===void 0&&(s=Fe(),this.Rr.set(t,s)),this.Rr.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(){this.sessionToken=Vt.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(){this.Vr=new ot(cn.mr),this.gr=new ot(cn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new cn(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new cn(e,t))}br(e,t){e.forEach(r=>this.removeReference(r,t))}Sr(e){const t=new _e(new Be([])),r=new cn(t,e),i=new cn(t,e+1),s=[];return this.gr.forEachInRange([r,i],l=>{this.wr(l),s.push(l.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new _e(new Be([])),r=new cn(t,e),i=new cn(t,e+1);let s=Fe();return this.gr.forEachInRange([r,i],l=>{s=s.add(l.key)}),s}containsKey(e){const t=new cn(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class cn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return _e.comparator(e.key,t.key)||Le(e.Cr,t.Cr)}static pr(e,t){return Le(e.Cr,t.Cr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new ot(cn.mr)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new eE(s,t,r,i);this.mutationQueue.push(l);for(const u of i)this.Mr=this.Mr.add(new cn(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return G.resolve(l)}lookupMutationBatch(e,t){return G.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Nr(r),s=i<0?0:i;return G.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?Io:this.Fr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new cn(t,0),i=new cn(t,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([r,i],l=>{const u=this.Or(l.Cr);s.push(u)}),G.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ot(Le);return t.forEach(i=>{const s=new cn(i,0),l=new cn(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,l],u=>{r=r.add(u.Cr)})}),G.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;_e.isDocumentKey(s)||(s=s.child(""));const l=new cn(new _e(s),0);let u=new ot(Le);return this.Mr.forEachWhile(d=>{const h=d.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(d.Cr)),!0)},l),G.resolve(this.Br(u))}Br(e){const t=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Re(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return G.forEach(t.mutations,i=>{const s=new cn(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new cn(t,0),i=this.Mr.firstAfterOrEqual(r);return G.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e){this.kr=e,this.docs=function(){return new pt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,l=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return G.resolve(r?r.document.mutableCopy():_t.newInvalidDocument(t))}getEntries(e,t){let r=er();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():_t.newInvalidDocument(i))}),G.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=er();const l=t.path,u=new _e(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:h,value:{document:m}}=d.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||j0(_1(m),r)<=0||(i.has(m.key)||ef(t,m))&&(s=s.insert(m.key,m.mutableCopy()))}return G.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Ee()}qr(e,t){return G.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new n6(this)}getSize(e){return G.resolve(this.size)}}class n6 extends Mx{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),G.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e){this.persistence=e,this.Qr=new Os(t=>za(t),Xh),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.$r=0,this.Kr=new lE,this.targetCount=0,this.Ur=Ga.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),G.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Ga(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,G.resolve()}updateTargetData(e,t){return this.zn(t),G.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Qr.forEach((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.Qr.delete(l),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),G.waitFor(s).next(()=>i)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return G.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),G.resolve()}removeMatchingKeys(e,t,r){this.Kr.br(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(l=>{s.push(i.markPotentiallyOrphaned(e,l))}),G.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),G.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return G.resolve(r)}containsKey(e,t){return G.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Xn(0),this.zr=!1,this.zr=!0,this.jr=new Z9,this.referenceDelegate=e(this),this.Hr=new r6(this),this.indexManager=new j9,this.remoteDocumentCache=function(i){return new t6(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new bx(t),this.Yr=new J9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new X9,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new e6(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){ue("MemoryPersistence","Starting transaction:",e);const i=new i6(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(s=>this.referenceDelegate.Xr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}ei(e,t){return G.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class i6 extends w1{constructor(e){super(),this.currentSequenceNumber=e}}class Zg{constructor(e){this.persistence=e,this.ti=new lE,this.ni=null}static ri(e){return new Zg(e)}get ii(){if(this.ni)return this.ni;throw Ee()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),G.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),G.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),G.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.ii.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.ii,r=>{const i=_e.fromPath(r);return this.si(e,i).next(s=>{s||t.removeEntry(i,Pe.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return G.or([()=>G.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Jm{constructor(e,t){this.persistence=e,this.oi=new Os(r=>xn(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Vx(this,t)}static ri(e,t){return new Jm(e,t)}Zr(){}Xr(e){return G.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return G.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(s=>s?G.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.qr(e,l=>this.ar(e,l,t).next(u=>{u||(r++,s.removeEntry(l,Pe.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),G.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),G.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),G.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=mm(e.data.value)),t}ar(e,t,r){return G.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return G.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(e){this.serializer=e}B(e,t,r,i){const s=new Bg("createOrUpgrade",t);r<1&&i>=1&&(function(d){d.createObjectStore(Jh)}(e),function(d){d.createObjectStore(yh,{keyPath:Ez}),d.createObjectStore(ri,{keyPath:NA,autoIncrement:!0}).createIndex(Oa,DA,{unique:!0}),d.createObjectStore(Lu)}(e),Ib(e),function(d){d.createObjectStore(Ra)}(e));let l=G.resolve();return r<3&&i>=3&&(r!==0&&(function(d){d.deleteObjectStore(Mu),d.deleteObjectStore(Vu),d.deleteObjectStore(Ma)}(e),Ib(e)),l=l.next(()=>function(d){const h=d.store(Ma),m={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Pe.min().toTimestamp(),targetCount:0};return h.put(Bm,m)}(s))),r<4&&i>=4&&(r!==0&&(l=l.next(()=>function(d,h){return h.store(ri).G().next(g=>{d.deleteObjectStore(ri),d.createObjectStore(ri,{keyPath:NA,autoIncrement:!0}).createIndex(Oa,DA,{unique:!0});const _=h.store(ri),I=g.map(T=>_.put(T));return G.waitFor(I)})}(e,s))),l=l.next(()=>{(function(d){d.createObjectStore(Fu,{keyPath:kz})})(e)})),r<5&&i>=5&&(l=l.next(()=>this._i(s))),r<6&&i>=6&&(l=l.next(()=>(function(d){d.createObjectStore(_h)}(e),this.ai(s)))),r<7&&i>=7&&(l=l.next(()=>this.ui(s))),r<8&&i>=8&&(l=l.next(()=>this.ci(e,s))),r<9&&i>=9&&(l=l.next(()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(l=l.next(()=>this.li(s))),r<11&&i>=11&&(l=l.next(()=>{(function(d){d.createObjectStore(zg,{keyPath:xz})})(e),function(d){d.createObjectStore(Wg,{keyPath:Oz})}(e)})),r<12&&i>=12&&(l=l.next(()=>{(function(d){const h=d.createObjectStore(qg,{keyPath:Uz});h.createIndex(Ew,$z,{unique:!1}),h.createIndex(P1,jz,{unique:!1})})(e)})),r<13&&i>=13&&(l=l.next(()=>function(d){const h=d.createObjectStore(jm,{keyPath:Tz});h.createIndex(fm,Sz),h.createIndex(S1,Rz)}(e)).next(()=>this.hi(e,s)).next(()=>e.deleteObjectStore(Ra))),r<14&&i>=14&&(l=l.next(()=>this.Pi(e,s))),r<15&&i>=15&&(l=l.next(()=>function(d){d.createObjectStore(W0,{keyPath:Nz,autoIncrement:!0}).createIndex(ww,Dz,{unique:!1}),d.createObjectStore(zm,{keyPath:Lz}).createIndex(A1,Vz,{unique:!1}),d.createObjectStore(Wm,{keyPath:Mz}).createIndex(b1,Fz,{unique:!1})}(e))),r<16&&i>=16&&(l=l.next(()=>{t.objectStore(zm).clear()}).next(()=>{t.objectStore(Wm).clear()})),r<17&&i>=17&&(l=l.next(()=>{(function(d){d.createObjectStore(q0,{keyPath:Bz})})(e)})),l}ai(e){let t=0;return e.store(Ra).Z((r,i)=>{t+=Ym(i)}).next(()=>{const r={byteSize:t};return e.store(_h).put(vw,r)})}_i(e){const t=e.store(yh),r=e.store(ri);return t.G().next(i=>G.forEach(i,s=>{const l=IDBKeyRange.bound([s.userId,Io],[s.userId,s.lastAcknowledgedBatchId]);return r.G(Oa,l).next(u=>G.forEach(u,d=>{Re(d.userId===s.userId);const h=ba(this.serializer,d);return Ox(e,s.userId,h).next(()=>{})}))}))}ui(e){const t=e.store(Mu),r=e.store(Ra);return e.store(Ma).get(Bm).next(i=>{const s=[];return r.Z((l,u)=>{const d=new Be(l),h=function(g){return[0,xn(g)]}(d);s.push(t.get(h).next(m=>m?G.resolve():(g=>t.put({targetId:0,path:xn(g),sequenceNumber:i.highestListenSequenceNumber}))(d)))}).next(()=>G.waitFor(s))})}ci(e,t){e.createObjectStore(vh,{keyPath:Cz});const r=t.store(vh),i=new aE,s=l=>{if(i.add(l)){const u=l.lastSegment(),d=l.popLast();return r.put({collectionId:u,parent:xn(d)})}};return t.store(Ra).Z({Y:!0},(l,u)=>{const d=new Be(l);return s(d.popLast())}).next(()=>t.store(Lu).Z({Y:!0},([l,u,d],h)=>{const m=Di(u);return s(m.popLast())}))}li(e){const t=e.store(Vu);return t.Z((r,i)=>{const s=jd(i),l=Px(this.serializer,s);return t.put(l)})}hi(e,t){const r=t.store(Ra),i=[];return r.Z((s,l)=>{const u=t.store(jm),d=function(g){return g.document?new _e(Be.fromString(g.document.name).popFirst(5)):g.noDocument?_e.fromSegments(g.noDocument.path):g.unknownDocument?_e.fromSegments(g.unknownDocument.path):Ee()}(l).path.toArray(),h={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(u.put(h))}).next(()=>G.waitFor(i))}Pi(e,t){const r=t.store(ri),i=Fx(this.serializer),s=new uE(Zg.ri,this.serializer.Tt);return r.G().next(l=>{const u=new Map;return l.forEach(d=>{var h;let m=(h=u.get(d.userId))!==null&&h!==void 0?h:Fe();ba(this.serializer,d).keys().forEach(g=>m=m.add(g)),u.set(d.userId,m)}),G.forEach(u,(d,h)=>{const m=new dn(h),g=Jg.It(this.serializer,m),_=s.getIndexManager(m),I=Xg.It(m,this.serializer,_,s.referenceDelegate);return new Ux(i,I,g,_).recalculateAndSaveOverlaysForDocumentKeys(new Iw(t,Xn.ae),d).next()})})}}function Ib(n){n.createObjectStore(Mu,{keyPath:bz}).createIndex(z0,Pz,{unique:!0}),n.createObjectStore(Vu,{keyPath:"targetId"}).createIndex(R1,Az,{unique:!0}),n.createObjectStore(Ma)}const ho="IndexedDbPersistence",Cv=18e5,kv=5e3,xv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",$x="main";class cE{constructor(e,t,r,i,s,l,u,d,h,m,g=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Ti=s,this.window=l,this.document=u,this.Ii=h,this.Ei=m,this.di=g,this.Gr=null,this.zr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ai=null,this.inForeground=!1,this.Ri=null,this.Vi=null,this.mi=Number.NEGATIVE_INFINITY,this.fi=_=>Promise.resolve(),!cE.D())throw new ae(te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new K9(this,i),this.gi=t+$x,this.serializer=new bx(d),this.pi=new $i(this.gi,this.di,new s6(this.serializer)),this.jr=new L9,this.Hr=new z9(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Fx(this.serializer),this.Yr=new D9,this.window&&this.window.localStorage?this.yi=this.window.localStorage:(this.yi=null,m===!1&&jt(ho,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ae(te.FAILED_PRECONDITION,xv);return this.bi(),this.Si(),this.Di(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Hr.getHighestSequenceNumber(e))}).then(e=>{this.Gr=new Xn(e,this.Ii)}).then(()=>{this.zr=!0}).catch(e=>(this.pi&&this.pi.close(),Promise.reject(e)))}Ci(e){return this.fi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.pi.k(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ti.enqueueAndForget(async()=>{this.started&&await this.wi()}))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Hp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Fi(e).next(t=>{t||(this.isPrimary=!1,this.Ti.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Mi(e)).next(t=>this.isPrimary&&!t?this.xi(e).next(()=>!1):!!t&&this.Oi(e).next(()=>!0))).catch(e=>{if(zo(e))return ue(ho,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ue(ho,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ti.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Fi(e){return Pd(e).get(ru).next(t=>G.resolve(this.Ni(t)))}Bi(e){return Hp(e).delete(this.clientId)}async Li(){if(this.isPrimary&&!this.ki(this.mi,Cv)){this.mi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const r=rn(t,Fu);return r.G().next(i=>{const s=this.qi(i,Cv),l=i.filter(u=>s.indexOf(u)===-1);return G.forEach(l,u=>r.delete(u.clientId)).next(()=>l)})}).catch(()=>[]);if(this.yi)for(const t of e)this.yi.removeItem(this.Qi(t.clientId))}}Di(){this.Vi=this.Ti.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Li()).then(()=>this.Di()))}Ni(e){return!!e&&e.ownerId===this.clientId}Mi(e){return this.Ei?G.resolve(!0):Pd(e).get(ru).next(t=>{if(t!==null&&this.ki(t.leaseTimestampMs,kv)&&!this.$i(t.ownerId)){if(this.Ni(t)&&this.networkEnabled)return!0;if(!this.Ni(t)){if(!t.allowTabSynchronization)throw new ae(te.FAILED_PRECONDITION,xv);return!1}}return!(!this.networkEnabled||!this.inForeground)||Hp(e).G().next(r=>this.qi(r,kv).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,l=!this.inForeground&&i.inForeground,u=this.networkEnabled===i.networkEnabled;if(s||l&&u)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&ue(ho,`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.zr=!1,this.Ki(),this.Vi&&(this.Vi.cancel(),this.Vi=null),this.Ui(),this.Wi(),await this.pi.runTransaction("shutdown","readwrite",[Jh,Fu],e=>{const t=new Iw(e,Xn.ae);return this.xi(t).next(()=>this.Bi(t))}),this.pi.close(),this.Gi()}qi(e,t){return e.filter(r=>this.ki(r.updateTimeMs,t)&&!this.$i(r.clientId))}zi(){return this.runTransaction("getActiveClients","readonly",e=>Hp(e).G().next(t=>this.qi(t,Cv).map(r=>r.clientId)))}get started(){return this.zr}getGlobalsCache(){return this.jr}getMutationQueue(e,t){return Xg.It(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new B9(e,this.serializer.Tt.databaseId)}getDocumentOverlayCache(e){return Jg.It(this.serializer,e)}getBundleCache(){return this.Yr}runTransaction(e,t,r){ue(ho,"Starting transaction:",e);const i=t==="readonly"?"readonly":"readwrite",s=function(d){return d===17?qz:d===16?Wz:d===15?H0:d===14?x1:d===13?k1:d===12?zz:d===11?C1:void Ee()}(this.di);let l;return this.pi.runTransaction(e,i,s,u=>(l=new Iw(u,this.Gr?this.Gr.next():Xn.ae),t==="readwrite-primary"?this.Fi(l).next(d=>!!d||this.Mi(l)).next(d=>{if(!d)throw jt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ti.enqueueRetryable(()=>this.fi(!1)),new ae(te.FAILED_PRECONDITION,v1);return r(l)}).next(d=>this.Oi(l).next(()=>d)):this.ji(l).next(()=>r(l)))).then(u=>(l.raiseOnCommittedEvent(),u))}ji(e){return Pd(e).get(ru).next(t=>{if(t!==null&&this.ki(t.leaseTimestampMs,kv)&&!this.$i(t.ownerId)&&!this.Ni(t)&&!(this.Ei||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ae(te.FAILED_PRECONDITION,xv)})}Oi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Pd(e).put(ru,t)}static D(){return $i.D()}xi(e){const t=Pd(e);return t.get(ru).next(r=>this.Ni(r)?(ue(ho,"Releasing primary lease."),t.delete(ru)):G.resolve())}ki(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(jt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}bi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ri=()=>{this.Ti.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.wi()))},this.document.addEventListener("visibilitychange",this.Ri),this.inForeground=this.document.visibilityState==="visible")}Ui(){this.Ri&&(this.document.removeEventListener("visibilitychange",this.Ri),this.Ri=null)}Si(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Ai=()=>{this.Ki();const t=/(?:Version|Mobile)\/1[456]/;ik()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ti.enterRestrictedMode(!0),this.Ti.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ai))}Wi(){this.Ai&&(this.window.removeEventListener("pagehide",this.Ai),this.Ai=null)}$i(e){var t;try{const r=((t=this.yi)===null||t===void 0?void 0:t.getItem(this.Qi(e)))!==null;return ue(ho,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return jt(ho,"Failed to get zombied client id.",r),!1}}Ki(){if(this.yi)try{this.yi.setItem(this.Qi(this.clientId),String(Date.now()))}catch(e){jt("Failed to set zombie client id.",e)}}Gi(){if(this.yi)try{this.yi.removeItem(this.Qi(this.clientId))}catch{}}Qi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Pd(n){return rn(n,Jh)}function Hp(n){return rn(n,Fu)}function dE(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=Fe(),i=Fe();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new hE(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return ik()?8:E1(We())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.rs(e,t).next(l=>{s.result=l}).next(()=>{if(!s.result)return this.ss(e,t,i,r).next(l=>{s.result=l})}).next(()=>{if(s.result)return;const l=new o6;return this._s(e,t,l).next(u=>{if(s.result=u,this.Xi)return this.us(e,t,l,u.size)})}).next(()=>s.result)}us(e,t,r,i){return r.documentReadCount<this.es?(pu()<=Ue.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",mu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),G.resolve()):(pu()<=Ue.DEBUG&&ue("QueryEngine","Query:",mu(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(pu()<=Ue.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",mu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Un(t))):G.resolve())}rs(e,t){if(KA(t))return G.resolve(null);let r=Un(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Km(t,null,"F"),r=Un(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const l=Fe(...s);return this.ns.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(d=>{const h=this.cs(t,u);return this.ls(t,h,l,d.readTime)?this.rs(e,Km(t,null,"F")):this.hs(e,h,t,d)}))})))}ss(e,t,r,i){return KA(t)||i.isEqual(Pe.min())?G.resolve(null):this.ns.getDocuments(e,r).next(s=>{const l=this.cs(t,s);return this.ls(t,l,r,i)?G.resolve(null):(pu()<=Ue.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),mu(t)),this.hs(e,l,t,y1(i,Du)).next(u=>u))})}cs(e,t){let r=new ot(X1(e));return t.forEach((i,s)=>{ef(e,s)&&(r=r.add(s))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}_s(e,t,r){return pu()<=Ue.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",mu(t)),this.ns.getDocumentsMatchingQuery(e,t,wr.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(l=>{s=s.insert(l.key,l)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="LocalStore",a6=3e8;class l6{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new pt(Le),this.Is=new Os(s=>za(s),Xh),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ux(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function Bx(n,e,t,r){return new l6(n,e,t,r)}async function zx(n,e){const t=ve(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const l=[],u=[];let d=Fe();for(const h of i){l.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}for(const h of s){u.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}return t.localDocuments.getDocuments(r,d).next(h=>({Rs:h,removedBatchIds:l,addedBatchIds:u}))})})}function u6(n,e){const t=ve(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.ds.newChangeBuffer({trackRemovals:!0});return function(u,d,h,m){const g=h.batch,_=g.keys();let I=G.resolve();return _.forEach(T=>{I=I.next(()=>m.getEntry(d,T)).next(R=>{const b=h.docVersions.get(T);Re(b!==null),R.version.compareTo(b)<0&&(g.applyToRemoteDocument(R,h),R.isValidDocument()&&(R.setReadTime(h.commitVersion),m.addEntry(R)))})}),I.next(()=>u.mutationQueue.removeMutationBatch(d,g))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let d=Fe();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(d=d.add(u.batch.mutations[h].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function Wx(n){const e=ve(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function c6(n,e){const t=ve(n),r=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const u=[];e.targetChanges.forEach((m,g)=>{const _=i.get(g);if(!_)return;u.push(t.Hr.removeMatchingKeys(s,m.removedDocuments,g).next(()=>t.Hr.addMatchingKeys(s,m.addedDocuments,g)));let I=_.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?I=I.withResumeToken(Vt.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):m.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(m.resumeToken,r)),i=i.insert(g,I),function(R,b,V){return R.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=a6?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(_,I,m)&&u.push(t.Hr.updateTargetData(s,I))});let d=er(),h=Fe();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(s,m))}),u.push(qx(s,l,e.documentUpdates).next(m=>{d=m.Vs,h=m.fs})),!r.isEqual(Pe.min())){const m=t.Hr.getLastRemoteSnapshotVersion(s).next(g=>t.Hr.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(m)}return G.waitFor(u).next(()=>l.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,d,h)).next(()=>d)}).then(s=>(t.Ts=i,s))}function qx(n,e,t){let r=Fe(),i=Fe();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let l=er();return t.forEach((u,d)=>{const h=s.get(u);d.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),d.isNoDocument()&&d.version.isEqual(Pe.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):ue(fE,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",d.version)}),{Vs:l,fs:i}})}function d6(n,e){const t=ve(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Io),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function qu(n,e){const t=ve(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(s=>s?(i=s,G.resolve(i)):t.Hr.allocateTargetId(r).next(l=>(i=new ys(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function Hu(n,e,t){const r=ve(n),i=r.Ts.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!zo(l))throw l;ue(fE,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function Xm(n,e,t){const r=ve(n);let i=Pe.min(),s=Fe();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,h,m){const g=ve(d),_=g.Is.get(m);return _!==void 0?G.resolve(g.Ts.get(_)):g.Hr.getTargetData(h,m)}(r,l,Un(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,u.targetId).next(d=>{s=d})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,t?i:Pe.min(),t?s:Fe())).next(u=>(Gx(r,J1(e),u),{documents:u,gs:s})))}function Hx(n,e){const t=ve(n),r=ve(t.Hr),i=t.Ts.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",s=>r.lt(s,e).next(l=>l?l.target:null))}function Kx(n,e){const t=ve(n),r=t.Es.get(e)||Pe.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.ds.getAllFromCollectionGroup(i,e,y1(r,Du),Number.MAX_SAFE_INTEGER)).then(i=>(Gx(t,e,i),i))}function Gx(n,e,t){let r=n.Es.get(e)||Pe.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Es.set(e,r)}async function h6(n,e,t,r){const i=ve(n);let s=Fe(),l=er();for(const h of t){const m=e.ps(h.metadata.name);h.document&&(s=s.add(m));const g=e.ys(h);g.setReadTime(e.ws(h.metadata.readTime)),l=l.insert(m,g)}const u=i.ds.newChangeBuffer({trackRemovals:!0}),d=await qu(i,function(m){return Un(lc(Be.fromString(`__bundle__/docs/${m}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",h=>qx(h,u,l).next(m=>(u.apply(h),m)).next(m=>i.Hr.removeMatchingKeysForTargetId(h,d.targetId).next(()=>i.Hr.addMatchingKeys(h,s,d.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,m.Vs,m.fs)).next(()=>m.Vs)))}async function f6(n,e,t=Fe()){const r=await qu(n,Un(sE(e.bundledQuery))),i=ve(n);return i.persistence.runTransaction("Save named query","readwrite",s=>{const l=Bt(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.Yr.saveNamedQuery(s,e);const u=r.withResumeToken(Vt.EMPTY_BYTE_STRING,l);return i.Ts=i.Ts.insert(u.targetId,u),i.Hr.updateTargetData(s,u).next(()=>i.Hr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Hr.addMatchingKeys(s,t,r.targetId)).next(()=>i.Yr.saveNamedQuery(s,e))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx="firestore_clients";function Tb(n,e){return`${Qx}_${n}_${e}`}const Yx="firestore_mutations";function Sb(n,e,t){let r=`${Yx}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const Jx="firestore_targets";function Ov(n,e){return`${Jx}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi="SharedClientState";class Zm{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static bs(e,t,r){const i=JSON.parse(r);let s,l=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return l&&i.error&&(l=typeof i.error.message=="string"&&typeof i.error.code=="string",l&&(s=new ae(i.error.code,i.error.message))),l?new Zm(e,t,i.state,s):(jt(Pi,`Failed to parse mutation state for ID '${t}': ${r}`),null)}Ss(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Xd{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static bs(e,t){const r=JSON.parse(t);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new ae(r.error.code,r.error.message))),s?new Xd(e,r.state,i):(jt(Pi,`Failed to parse target state for ID '${e}': ${t}`),null)}Ss(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class eg{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static bs(e,t){const r=JSON.parse(t);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=J0();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=I1(r.activeTargetIds[l]),s=s.add(r.activeTargetIds[l]);return i?new eg(e,s):(jt(Pi,`Failed to parse client data for instance '${e}': ${t}`),null)}}class pE{constructor(e,t){this.clientId=e,this.onlineState=t}static bs(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new pE(t.clientId,t.onlineState):(jt(Pi,`Failed to parse online state: ${e}`),null)}}class Mw{constructor(){this.activeTargetIds=J0()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Nv{constructor(e,t,r,i,s){this.window=e,this.Ti=t,this.persistenceKey=r,this.Cs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Fs=this.Ms.bind(this),this.xs=new pt(Le),this.started=!1,this.Os=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ns=Tb(this.persistenceKey,this.Cs),this.Bs=function(d){return`firestore_sequence_number_${d}`}(this.persistenceKey),this.xs=this.xs.insert(this.Cs,new Mw),this.Ls=new RegExp(`^${Qx}_${l}_([^_]*)$`),this.ks=new RegExp(`^${Yx}_${l}_(\\d+)(?:_(.*))?$`),this.qs=new RegExp(`^${Jx}_${l}_(\\d+)$`),this.Qs=function(d){return`firestore_online_state_${d}`}(this.persistenceKey),this.$s=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.Fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.zi();for(const r of e){if(r===this.Cs)continue;const i=this.getItem(Tb(this.persistenceKey,r));if(i){const s=eg.bs(r,i);s&&(this.xs=this.xs.insert(s.clientId,s))}}this.Ks();const t=this.storage.getItem(this.Qs);if(t){const r=this.Us(t);r&&this.Ws(r)}for(const r of this.Os)this.Ms(r);this.Os=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Bs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Gs(this.xs)}isActiveQueryTarget(e){let t=!1;return this.xs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.zs(e,"pending")}updateMutationState(e,t,r){this.zs(e,t,r),this.js(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(Ov(this.persistenceKey,e));if(i){const s=Xd.bs(e,i);s&&(r=s.state)}}return t&&this.Hs.Ds(e),this.Ks(),r}removeLocalQueryTarget(e){this.Hs.vs(e),this.Ks()}isLocalQueryTarget(e){return this.Hs.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ov(this.persistenceKey,e))}updateQueryState(e,t,r){this.Js(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.js(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Ys(e)}notifyBundleLoaded(e){this.Zs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Fs),this.removeItem(this.Ns),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ue(Pi,"READ",e,t),t}setItem(e,t){ue(Pi,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){ue(Pi,"REMOVE",e),this.storage.removeItem(e)}Ms(e){const t=e;if(t.storageArea===this.storage){if(ue(Pi,"EVENT",t.key,t.newValue),t.key===this.Ns)return void jt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ti.enqueueRetryable(async()=>{if(this.started){if(t.key!==null){if(this.Ls.test(t.key)){if(t.newValue==null){const r=this.Xs(t.key);return this.eo(r,null)}{const r=this.no(t.key,t.newValue);if(r)return this.eo(r.clientId,r)}}else if(this.ks.test(t.key)){if(t.newValue!==null){const r=this.ro(t.key,t.newValue);if(r)return this.io(r)}}else if(this.qs.test(t.key)){if(t.newValue!==null){const r=this.so(t.key,t.newValue);if(r)return this.oo(r)}}else if(t.key===this.Qs){if(t.newValue!==null){const r=this.Us(t.newValue);if(r)return this.Ws(r)}}else if(t.key===this.Bs){const r=function(s){let l=Xn.ae;if(s!=null)try{const u=JSON.parse(s);Re(typeof u=="number"),l=u}catch(u){jt(Pi,"Failed to read sequence number from WebStorage",u)}return l}(t.newValue);r!==Xn.ae&&this.sequenceNumberHandler(r)}else if(t.key===this.$s){const r=this._o(t.newValue);await Promise.all(r.map(i=>this.syncEngine.ao(i)))}}}else this.Os.push(t)})}}get Hs(){return this.xs.get(this.Cs)}Ks(){this.setItem(this.Ns,this.Hs.Ss())}zs(e,t,r){const i=new Zm(this.currentUser,e,t,r),s=Sb(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Ss())}js(e){const t=Sb(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ys(e){const t={clientId:this.Cs,onlineState:e};this.storage.setItem(this.Qs,JSON.stringify(t))}Js(e,t,r){const i=Ov(this.persistenceKey,e),s=new Xd(e,t,r);this.setItem(i,s.Ss())}Zs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.$s,t)}Xs(e){const t=this.Ls.exec(e);return t?t[1]:null}no(e,t){const r=this.Xs(e);return eg.bs(r,t)}ro(e,t){const r=this.ks.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return Zm.bs(new dn(s),i,t)}so(e,t){const r=this.qs.exec(e),i=Number(r[1]);return Xd.bs(i,t)}Us(e){return pE.bs(e)}_o(e){return JSON.parse(e)}async io(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.uo(e.batchId,e.state,e.error);ue(Pi,`Ignoring mutation for non-active user ${e.user.uid}`)}oo(e){return this.syncEngine.co(e.targetId,e.state,e.error)}eo(e,t){const r=t?this.xs.insert(e,t):this.xs.remove(e),i=this.Gs(this.xs),s=this.Gs(r),l=[],u=[];return s.forEach(d=>{i.has(d)||l.push(d)}),i.forEach(d=>{s.has(d)||u.push(d)}),this.syncEngine.lo(l,u).then(()=>{this.xs=r})}Ws(e){this.xs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Gs(e){let t=J0();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class Xx{constructor(){this.ho=new Mw,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Mw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="ConnectivityMonitor";class Ab{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ue(Rb,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ue(Rb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kp=null;function Fw(){return Kp===null?Kp=function(){return 268435456+Math.round(2147483648*Math.random())}():Kp++,"0x"+Kp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="RestConnection",m6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class g6{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===Tw?`project_id=${r}`:`project_id=${r}&database_id=${i}`}bo(e,t,r,i,s){const l=Fw(),u=this.So(e,t.toUriEncodedString());ue(Dv,`Sending RPC '${e}' ${l}:`,u,r);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,i,s),this.vo(e,u,d,r).then(h=>(ue(Dv,`Received RPC '${e}' ${l}: `,h),h),h=>{throw zi(Dv,`RPC '${e}' ${l} failed with error: `,h,"url: ",u,"request:",r),h})}Co(e,t,r,i,s,l){return this.bo(e,t,r,i,s)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ac}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}So(e,t){const r=m6[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bn="WebChannelConnection";class _6 extends g6{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){const s=Fw();return new Promise((l,u)=>{const d=new u1;d.setWithCredentials(!0),d.listenOnce(c1.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case cm.NO_ERROR:const m=d.getResponseJson();ue(bn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(m)),l(m);break;case cm.TIMEOUT:ue(bn,`RPC '${e}' ${s} timed out`),u(new ae(te.DEADLINE_EXCEEDED,"Request time out"));break;case cm.HTTP_ERROR:const g=d.getStatus();if(ue(bn,`RPC '${e}' ${s} failed with status:`,g,"response text:",d.getResponseText()),g>0){let _=d.getResponseJson();Array.isArray(_)&&(_=_[0]);const I=_==null?void 0:_.error;if(I&&I.status&&I.message){const T=function(b){const V=b.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(V)>=0?V:te.UNKNOWN}(I.status);u(new ae(T,I.message))}else u(new ae(te.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new ae(te.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{ue(bn,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);ue(bn,`RPC '${e}' ${s} sending request:`,i),d.send(t,"POST",h,r,15)})}Wo(e,t,r){const i=Fw(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=f1(),u=h1(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const m=s.join("");ue(bn,`Creating RPC '${e}' stream ${i}: ${m}`,d);const g=l.createWebChannel(m,d);let _=!1,I=!1;const T=new y6({Fo:b=>{I?ue(bn,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(_||(ue(bn,`Opening RPC '${e}' stream ${i} transport.`),g.open(),_=!0),ue(bn,`RPC '${e}' stream ${i} sending:`,b),g.send(b))},Mo:()=>g.close()}),R=(b,V,L)=>{b.listen(V,M=>{try{L(M)}catch(z){setTimeout(()=>{throw z},0)}})};return R(g,Fd.EventType.OPEN,()=>{I||(ue(bn,`RPC '${e}' stream ${i} transport opened.`),T.Qo())}),R(g,Fd.EventType.CLOSE,()=>{I||(I=!0,ue(bn,`RPC '${e}' stream ${i} transport closed`),T.Ko())}),R(g,Fd.EventType.ERROR,b=>{I||(I=!0,zi(bn,`RPC '${e}' stream ${i} transport errored:`,b),T.Ko(new ae(te.UNAVAILABLE,"The operation could not be completed")))}),R(g,Fd.EventType.MESSAGE,b=>{var V;if(!I){const L=b.data[0];Re(!!L);const M=L,z=(M==null?void 0:M.error)||((V=M[0])===null||V===void 0?void 0:V.error);if(z){ue(bn,`RPC '${e}' stream ${i} received error:`,z);const $=z.status;let W=function(C){const E=Kt[C];if(E!==void 0)return dx(E)}($),D=z.message;W===void 0&&(W=te.INTERNAL,D="Unknown error status: "+$+" with message "+z.message),I=!0,T.Ko(new ae(W,D)),g.close()}else ue(bn,`RPC '${e}' stream ${i} received:`,L),T.Uo(L)}}),R(u,d1.STAT_EVENT,b=>{b.stat===yw.PROXY?ue(bn,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===yw.NOPROXY&&ue(bn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.$o()},0),T}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(){return typeof window<"u"?window:null}function vm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(n){return new T9(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="PersistentStream";class eO{constructor(e,t,r,i,s,l,u,d){this.Ti=e,this.n_=r,this.r_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new mE(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(jt(t.toString()),jt("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{const i=new ae(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ue(bb,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ue(bb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class v6 extends eO{constructor(e,t,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=s}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=A9(this.serializer,e),r=function(s){if(!("targetChange"in s))return Pe.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?Pe.min():l.readTime?Bt(l.readTime):Pe.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=Ow(this.serializer),t.addTarget=function(s,l){let u;const d=l.target;if(u=qm(d)?{documents:Ex(s,d)}:{query:Ix(s,d).ht},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=mx(s,l.resumeToken);const h=kw(s,l.expectedCount);h!==null&&(u.expectedCount=h)}else if(l.snapshotVersion.compareTo(Pe.min())>0){u.readTime=Wu(s,l.snapshotVersion.toTimestamp());const h=kw(s,l.expectedCount);h!==null&&(u.expectedCount=h)}return u}(this.serializer,e);const r=P9(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=Ow(this.serializer),t.removeTarget=e,this.I_(t)}}class w6 extends eO{constructor(e,t,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=s}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Re(!!e.streamToken),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=b9(e.writeResults,e.commitTime),r=Bt(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=Ow(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Rh(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{}class I6 extends E6{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new ae(te.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.bo(e,xw(t,r),i,s,l)).catch(s=>{throw s.name==="FirebaseError"?(s.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ae(te.UNKNOWN,s.toString())})}Co(e,t,r,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Co(e,xw(t,r),i,l,u,s)).catch(l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ae(te.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class T6{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(jt(t),this.N_=!1):ue("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa="RemoteStore";class S6{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(l=>{r.enqueueAndForget(async()=>{qo(this)&&(ue(Qa,"Restarting streams for network reachability change."),await async function(d){const h=ve(d);h.W_.add(4),await dc(h),h.j_.set("Unknown"),h.W_.delete(4),await of(h)}(this))})}),this.j_=new T6(r,i)}}async function of(n){if(qo(n))for(const e of n.G_)await e(!0)}async function dc(n){for(const e of n.G_)await e(!1)}function ey(n,e){const t=ve(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),_E(t)?yE(t):fc(t).c_()&&gE(t,e))}function Ku(n,e){const t=ve(n),r=fc(t);t.U_.delete(e),r.c_()&&tO(t,e),t.U_.size===0&&(r.c_()?r.P_():qo(t)&&t.j_.set("Unknown"))}function gE(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}fc(n).y_(e)}function tO(n,e){n.H_.Ne(e),fc(n).w_(e)}function yE(n){n.H_=new v9({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),fc(n).start(),n.j_.B_()}function _E(n){return qo(n)&&!fc(n).u_()&&n.U_.size>0}function qo(n){return ve(n).W_.size===0}function nO(n){n.H_=void 0}async function R6(n){n.j_.set("Online")}async function A6(n){n.U_.forEach((e,t)=>{gE(n,e)})}async function b6(n,e){nO(n),_E(n)?(n.j_.q_(e),yE(n)):n.j_.set("Unknown")}async function P6(n,e,t){if(n.j_.set("Online"),e instanceof px&&e.state===2&&e.cause)try{await async function(i,s){const l=s.cause;for(const u of s.targetIds)i.U_.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.U_.delete(u),i.H_.removeTarget(u))}(n,e)}catch(r){ue(Qa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await tg(n,r)}else if(e instanceof _m?n.H_.We(e):e instanceof fx?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Pe.min()))try{const r=await Wx(n.localStore);t.compareTo(r)>=0&&await function(s,l){const u=s.H_.ot(l);return u.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const m=s.U_.get(h);m&&s.U_.set(h,m.withResumeToken(d.resumeToken,l))}}),u.targetMismatches.forEach((d,h)=>{const m=s.U_.get(d);if(!m)return;s.U_.set(d,m.withResumeToken(Vt.EMPTY_BYTE_STRING,m.snapshotVersion)),tO(s,d);const g=new ys(m.target,d,h,m.sequenceNumber);gE(s,g)}),s.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){ue(Qa,"Failed to raise snapshot:",r),await tg(n,r)}}async function tg(n,e,t){if(!zo(e))throw e;n.W_.add(1),await dc(n),n.j_.set("Offline"),t||(t=()=>Wx(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ue(Qa,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await of(n)})}function rO(n,e){return e().catch(t=>tg(n,t,e))}async function hc(n){const e=ve(n),t=Lo(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:Io;for(;C6(e);)try{const i=await d6(e.localStore,r);if(i===null){e.K_.length===0&&t.P_();break}r=i.batchId,k6(e,i)}catch(i){await tg(e,i)}iO(e)&&sO(e)}function C6(n){return qo(n)&&n.K_.length<10}function k6(n,e){n.K_.push(e);const t=Lo(n);t.c_()&&t.b_&&t.S_(e.mutations)}function iO(n){return qo(n)&&!Lo(n).u_()&&n.K_.length>0}function sO(n){Lo(n).start()}async function x6(n){Lo(n).C_()}async function O6(n){const e=Lo(n);for(const t of n.K_)e.S_(t.mutations)}async function N6(n,e,t){const r=n.K_.shift(),i=tE.from(r,e,t);await rO(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await hc(n)}async function D6(n,e){e&&Lo(n).b_&&await async function(r,i){if(function(l){return cx(l)&&l!==te.ABORTED}(i.code)){const s=r.K_.shift();Lo(r).h_(),await rO(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await hc(r)}}(n,e),iO(n)&&sO(n)}async function Pb(n,e){const t=ve(n);t.asyncQueue.verifyOperationInProgress(),ue(Qa,"RemoteStore received new credentials");const r=qo(t);t.W_.add(3),await dc(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await of(t)}async function Uw(n,e){const t=ve(n);e?(t.W_.delete(2),await of(t)):e||(t.W_.add(2),await dc(t),t.j_.set("Unknown"))}function fc(n){return n.J_||(n.J_=function(t,r,i){const s=ve(t);return s.M_(),new v6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{xo:R6.bind(null,n),No:A6.bind(null,n),Lo:b6.bind(null,n),p_:P6.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),_E(n)?yE(n):n.j_.set("Unknown")):(await n.J_.stop(),nO(n))})),n.J_}function Lo(n){return n.Y_||(n.Y_=function(t,r,i){const s=ve(t);return s.M_(),new w6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:x6.bind(null,n),Lo:D6.bind(null,n),D_:O6.bind(null,n),v_:N6.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await hc(n)):(await n.Y_.stop(),n.K_.length>0&&(ue(Qa,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new En,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const l=Date.now()+r,u=new vE(e,t,l,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pc(n,e){if(jt("AsyncQueue",`${e}: ${n}`),zo(n))return new ae(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{static emptySet(e){return new Su(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||_e.comparator(t.key,r.key):(t,r)=>_e.comparator(t.key,r.key),this.keyedMap=Ud(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Su)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Su;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(){this.Z_=new pt(_e.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ee():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Gu{constructor(e,t,r,i,s,l,u,d,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,i,s){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new Gu(e,t,Su.emptySet(t),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class V6{constructor(){this.queries=kb(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const i=ve(t),s=i.queries;i.queries=kb(),s.forEach((l,u)=>{for(const d of u.ta)d.onError(r)})})(this,new ae(te.ABORTED,"Firestore shutting down"))}}function kb(){return new Os(n=>Y1(n),Zh)}async function wE(n,e){const t=ve(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.na()&&e.ra()&&(r=2):(s=new L6,r=e.ra()?0:1);try{switch(r){case 0:s.ea=await t.onListen(i,!0);break;case 1:s.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const u=pc(l,`Initialization of query '${mu(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,s),s.ta.push(e),e.sa(t.onlineState),s.ea&&e.oa(s.ea)&&IE(t)}async function EE(n,e){const t=ve(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const l=s.ta.indexOf(e);l>=0&&(s.ta.splice(l,1),s.ta.length===0?i=e.ra()?0:1:!s.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function M6(n,e){const t=ve(n);let r=!1;for(const i of e){const s=i.query,l=t.queries.get(s);if(l){for(const u of l.ta)u.oa(i)&&(r=!0);l.ea=i}}r&&IE(t)}function F6(n,e,t){const r=ve(n),i=r.queries.get(e);if(i)for(const s of i.ta)s.onError(t);r.queries.delete(e)}function IE(n){n.ia.forEach(e=>{e.next()})}var $w,xb;(xb=$w||($w={}))._a="default",xb.Cache="cache";class TE{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Gu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Gu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==$w.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(e,t){this.Ia=e,this.byteLength=t}Ea(){return"metadata"in this.Ia}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e){this.serializer=e}ps(e){return ji(this.serializer,e)}ys(e){return e.metadata.exists?wx(this.serializer,e.document,!1):_t.newNoDocument(this.ps(e.metadata.name),this.ws(e.metadata.readTime))}ws(e){return Bt(e)}}class $6{constructor(e,t,r){this.da=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=oO(e)}Aa(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ia.namedQuery)this.queries.push(e.Ia.namedQuery);else if(e.Ia.documentMetadata){this.documents.push({metadata:e.Ia.documentMetadata}),e.Ia.documentMetadata.exists||++t;const r=Be.fromString(e.Ia.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Ia.document&&(this.documents[this.documents.length-1].document=e.Ia.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Ra(e){const t=new Map,r=new Ob(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.ps(i.metadata.name);for(const l of i.metadata.queries){const u=(t.get(l)||Fe()).add(s);t.set(l,u)}}return t}async complete(){const e=await h6(this.localStore,new Ob(this.serializer),this.documents,this.da.id),t=this.Ra(this.documents);for(const r of this.queries)await f6(this.localStore,r,t.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Va:this.collectionGroups,ma:e}}}function oO(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e){this.key=e}}class lO{constructor(e){this.key=e}}class uO{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Fe(),this.mutatedKeys=Fe(),this.ya=X1(e),this.wa=new Su(this.ya)}get ba(){return this.fa}Sa(e,t){const r=t?t.Da:new Cb,i=t?t.wa:this.wa;let s=t?t.mutatedKeys:this.mutatedKeys,l=i,u=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,g)=>{const _=i.get(m),I=ef(this.query,g)?g:null,T=!!_&&this.mutatedKeys.has(_.key),R=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let b=!1;_&&I?_.data.isEqual(I.data)?T!==R&&(r.track({type:3,doc:I}),b=!0):this.va(_,I)||(r.track({type:2,doc:I}),b=!0,(d&&this.ya(I,d)>0||h&&this.ya(I,h)<0)&&(u=!0)):!_&&I?(r.track({type:0,doc:I}),b=!0):_&&!I&&(r.track({type:1,doc:_}),b=!0,(d||h)&&(u=!0)),b&&(I?(l=l.add(I),s=R?s.add(m):s.delete(m)):(l=l.delete(m),s=s.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),s=s.delete(m.key),r.track({type:1,doc:m})}return{wa:l,Da:r,ls:u,mutatedKeys:s}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((m,g)=>function(I,T){const R=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return R(I)-R(T)}(m.type,g.type)||this.ya(m.doc,g.doc)),this.Ca(r),i=i!=null&&i;const u=t&&!i?this.Fa():[],d=this.pa.size===0&&this.current&&!i?1:0,h=d!==this.ga;return this.ga=d,l.length!==0||h?{snapshot:new Gu(this.query,e.wa,s,l,e.mutatedKeys,d===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:u}:{Ma:u}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Cb,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Fe(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new lO(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new aO(r))}),t}Oa(e){this.fa=e.gs,this.pa=Fe();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return Gu.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Ho="SyncEngine";class j6{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class B6{constructor(e){this.key=e,this.Ba=!1}}class z6{constructor(e,t,r,i,s,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new Os(u=>Y1(u),Zh),this.qa=new Map,this.Qa=new Set,this.$a=new pt(_e.comparator),this.Ka=new Map,this.Ua=new lE,this.Wa={},this.Ga=new Map,this.za=Ga.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function W6(n,e,t=!0){const r=ty(n);let i;const s=r.ka.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await cO(r,e,t,!0),i}async function q6(n,e){const t=ty(n);await cO(t,e,!0,!1)}async function cO(n,e,t,r){const i=await qu(n.localStore,Un(e)),s=i.targetId,l=n.sharedClientState.addLocalQueryTarget(s,t);let u;return r&&(u=await SE(n,e,s,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&ey(n.remoteStore,i),u}async function SE(n,e,t,r,i){n.Ha=(g,_,I)=>async function(R,b,V,L){let M=b.view.Sa(V);M.ls&&(M=await Xm(R.localStore,b.query,!1).then(({documents:D})=>b.view.Sa(D,M)));const z=L&&L.targetChanges.get(b.targetId),$=L&&L.targetMismatches.get(b.targetId)!=null,W=b.view.applyChanges(M,R.isPrimaryClient,z,$);return jw(R,b.targetId,W.Ma),W.snapshot}(n,g,_,I);const s=await Xm(n.localStore,e,!0),l=new uO(e,s.gs),u=l.Sa(s.documents),d=rf.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),h=l.applyChanges(u,n.isPrimaryClient,d);jw(n,t,h.Ma);const m=new j6(e,t,l);return n.ka.set(e,m),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),h.snapshot}async function H6(n,e,t){const r=ve(n),i=r.ka.get(e),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter(l=>!Zh(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Hu(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Ku(r.remoteStore,i.targetId),Qu(r,i.targetId)}).catch(Bo)):(Qu(r,i.targetId),await Hu(r.localStore,i.targetId,!0))}async function K6(n,e){const t=ve(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Ku(t.remoteStore,r.targetId))}async function G6(n,e,t){const r=PE(n);try{const i=await function(l,u){const d=ve(l),h=At.now(),m=u.reduce((I,T)=>I.add(T.key),Fe());let g,_;return d.persistence.runTransaction("Locally write mutations","readwrite",I=>{let T=er(),R=Fe();return d.ds.getEntries(I,m).next(b=>{T=b,T.forEach((V,L)=>{L.isValidDocument()||(R=R.add(V))})}).next(()=>d.localDocuments.getOverlayedDocuments(I,T)).next(b=>{g=b;const V=[];for(const L of u){const M=g9(L,g.get(L.key).overlayedDocument);M!=null&&V.push(new Ns(L.key,M,j1(M.value.mapValue),Rt.exists(!0)))}return d.mutationQueue.addMutationBatch(I,h,V,u)}).next(b=>{_=b;const V=b.applyToLocalDocumentSet(g,R);return d.documentOverlayCache.saveOverlays(I,b.batchId,V)})}).then(()=>({batchId:_.batchId,changes:ex(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,u,d){let h=l.Wa[l.currentUser.toKey()];h||(h=new pt(Le)),h=h.insert(u,d),l.Wa[l.currentUser.toKey()]=h}(r,i.batchId,t),await Ds(r,i.changes),await hc(r.remoteStore)}catch(i){const s=pc(i,"Failed to persist write");t.reject(s)}}async function dO(n,e){const t=ve(n);try{const r=await c6(t.localStore,e);e.targetChanges.forEach((i,s)=>{const l=t.Ka.get(s);l&&(Re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Ba=!0:i.modifiedDocuments.size>0?Re(l.Ba):i.removedDocuments.size>0&&(Re(l.Ba),l.Ba=!1))}),await Ds(t,r,e)}catch(r){await Bo(r)}}function Nb(n,e,t){const r=ve(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ka.forEach((s,l)=>{const u=l.view.sa(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const d=ve(l);d.onlineState=u;let h=!1;d.queries.forEach((m,g)=>{for(const _ of g.ta)_.sa(u)&&(h=!0)}),h&&IE(d)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Q6(n,e,t){const r=ve(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ka.get(e),s=i&&i.key;if(s){let l=new pt(_e.comparator);l=l.insert(s,_t.newNoDocument(s,Pe.min()));const u=Fe().add(s),d=new nf(Pe.min(),new Map,new pt(Le),l,u);await dO(r,d),r.$a=r.$a.remove(s),r.Ka.delete(e),bE(r)}else await Hu(r.localStore,e,!1).then(()=>Qu(r,e,t)).catch(Bo)}async function Y6(n,e){const t=ve(n),r=e.batch.batchId;try{const i=await u6(t.localStore,e);AE(t,r,null),RE(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Ds(t,i)}catch(i){await Bo(i)}}async function J6(n,e,t){const r=ve(n);try{const i=await function(l,u){const d=ve(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let m;return d.mutationQueue.lookupMutationBatch(h,u).next(g=>(Re(g!==null),m=g.keys(),d.mutationQueue.removeMutationBatch(h,g))).next(()=>d.mutationQueue.performConsistencyCheck(h)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(h,m,u)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m)).next(()=>d.localDocuments.getDocuments(h,m))})}(r.localStore,e);AE(r,e,t),RE(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Ds(r,i)}catch(i){await Bo(i)}}async function X6(n,e){const t=ve(n);qo(t.remoteStore)||ue(Ho,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(l){const u=ve(l);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>u.mutationQueue.getHighestUnacknowledgedBatchId(d))}(t.localStore);if(r===Io)return void e.resolve();const i=t.Ga.get(r)||[];i.push(e),t.Ga.set(r,i)}catch(r){const i=pc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function RE(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function AE(n,e,t){const r=ve(n);let i=r.Wa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function Qu(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.Sr(e).forEach(r=>{n.Ua.containsKey(r)||hO(n,r)})}function hO(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Ku(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),bE(n))}function jw(n,e,t){for(const r of t)r instanceof aO?(n.Ua.addReference(r.key,e),Z6(n,r)):r instanceof lO?(ue(Ho,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||hO(n,r.key)):Ee()}function Z6(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(ue(Ho,"New document in limbo: "+t),n.Qa.add(r),bE(n))}function bE(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new _e(Be.fromString(e)),r=n.za.next();n.Ka.set(r,new B6(t)),n.$a=n.$a.insert(t,r),ey(n.remoteStore,new ys(Un(lc(t.path)),r,"TargetPurposeLimboResolution",Xn.ae))}}async function Ds(n,e,t){const r=ve(n),i=[],s=[],l=[];r.ka.isEmpty()||(r.ka.forEach((u,d)=>{l.push(r.Ha(d,e,t).then(h=>{var m;if((h||t)&&r.isPrimaryClient){const g=h?!h.fromCache:(m=t==null?void 0:t.targetChanges.get(d.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(h){i.push(h);const g=hE.Yi(d.targetId,h);s.push(g)}}))}),await Promise.all(l),r.La.p_(i),await async function(d,h){const m=ve(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>G.forEach(h,_=>G.forEach(_.Hi,I=>m.persistence.referenceDelegate.addReference(g,_.targetId,I)).next(()=>G.forEach(_.Ji,I=>m.persistence.referenceDelegate.removeReference(g,_.targetId,I)))))}catch(g){if(!zo(g))throw g;ue(fE,"Failed to update sequence numbers: "+g)}for(const g of h){const _=g.targetId;if(!g.fromCache){const I=m.Ts.get(_),T=I.snapshotVersion,R=I.withLastLimboFreeSnapshotVersion(T);m.Ts=m.Ts.insert(_,R)}}}(r.localStore,s))}async function eW(n,e){const t=ve(n);if(!t.currentUser.isEqual(e)){ue(Ho,"User change. New user:",e.toKey());const r=await zx(t.localStore,e);t.currentUser=e,function(s,l){s.Ga.forEach(u=>{u.forEach(d=>{d.reject(new ae(te.CANCELLED,l))})}),s.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ds(t,r.Rs)}}function tW(n,e){const t=ve(n),r=t.Ka.get(e);if(r&&r.Ba)return Fe().add(r.key);{let i=Fe();const s=t.qa.get(e);if(!s)return i;for(const l of s){const u=t.ka.get(l);i=i.unionWith(u.view.ba)}return i}}async function nW(n,e){const t=ve(n),r=await Xm(t.localStore,e.query,!0),i=e.view.Oa(r);return t.isPrimaryClient&&jw(t,e.targetId,i.Ma),i}async function rW(n,e){const t=ve(n);return Kx(t.localStore,e).then(r=>Ds(t,r))}async function iW(n,e,t,r){const i=ve(n),s=await function(u,d){const h=ve(u),m=ve(h.mutationQueue);return h.persistence.runTransaction("Lookup mutation documents","readonly",g=>m.Ln(g,d).next(_=>_?h.localDocuments.getDocuments(g,_):G.resolve(null)))}(i.localStore,e);s!==null?(t==="pending"?await hc(i.remoteStore):t==="acknowledged"||t==="rejected"?(AE(i,e,r||null),RE(i,e),function(u,d){ve(ve(u).mutationQueue).qn(d)}(i.localStore,e)):Ee(),await Ds(i,s)):ue(Ho,"Cannot apply mutation batch with id: "+e)}async function sW(n,e){const t=ve(n);if(ty(t),PE(t),e===!0&&t.ja!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),i=await Db(t,r.toArray());t.ja=!0,await Uw(t.remoteStore,!0);for(const s of i)ey(t.remoteStore,s)}else if(e===!1&&t.ja!==!1){const r=[];let i=Promise.resolve();t.qa.forEach((s,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then(()=>(Qu(t,l),Hu(t.localStore,l,!0))),Ku(t.remoteStore,l)}),await i,await Db(t,r),function(l){const u=ve(l);u.Ka.forEach((d,h)=>{Ku(u.remoteStore,h)}),u.Ua.Dr(),u.Ka=new Map,u.$a=new pt(_e.comparator)}(t),t.ja=!1,await Uw(t.remoteStore,!1)}}async function Db(n,e,t){const r=ve(n),i=[],s=[];for(const l of e){let u;const d=r.qa.get(l);if(d&&d.length!==0){u=await qu(r.localStore,Un(d[0]));for(const h of d){const m=r.ka.get(h),g=await nW(r,m);g.snapshot&&s.push(g.snapshot)}}else{const h=await Hx(r.localStore,l);u=await qu(r.localStore,h),await SE(r,fO(h),l,!1,u.resumeToken)}i.push(u)}return r.La.p_(s),i}function fO(n){return Q1(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function oW(n){return function(t){return ve(ve(t).persistence).zi()}(ve(n).localStore)}async function aW(n,e,t,r){const i=ve(n);if(i.ja)return void ue(Ho,"Ignoring unexpected query state notification.");const s=i.qa.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const l=await Kx(i.localStore,J1(s[0])),u=nf.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Vt.EMPTY_BYTE_STRING);await Ds(i,l,u);break}case"rejected":await Hu(i.localStore,e,!0),Qu(i,e,r);break;default:Ee()}}async function lW(n,e,t){const r=ty(n);if(r.ja){for(const i of e){if(r.qa.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){ue(Ho,"Adding an already active target "+i);continue}const s=await Hx(r.localStore,i),l=await qu(r.localStore,s);await SE(r,fO(s),l.targetId,!1,l.resumeToken),ey(r.remoteStore,l)}for(const i of t)r.qa.has(i)&&await Hu(r.localStore,i,!1).then(()=>{Ku(r.remoteStore,i),Qu(r,i)}).catch(Bo)}}function ty(n){const e=ve(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=dO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Q6.bind(null,e),e.La.p_=M6.bind(null,e.eventManager),e.La.Ja=F6.bind(null,e.eventManager),e}function PE(n){const e=ve(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Y6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=J6.bind(null,e),e}function uW(n,e,t){const r=ve(n);(async function(s,l,u){try{const d=await l.getMetadata();if(await function(I,T){const R=ve(I),b=Bt(T.createTime);return R.persistence.runTransaction("hasNewerBundle","readonly",V=>R.Yr.getBundleMetadata(V,T.id)).then(V=>!!V&&V.createTime.compareTo(b)>=0)}(s.localStore,d))return await l.close(),u._completeWith(function(I){return{taskState:"Success",documentsLoaded:I.totalDocuments,bytesLoaded:I.totalBytes,totalDocuments:I.totalDocuments,totalBytes:I.totalBytes}}(d)),Promise.resolve(new Set);u._updateProgress(oO(d));const h=new $6(d,s.localStore,l.serializer);let m=await l.Ya();for(;m;){const _=await h.Aa(m);_&&u._updateProgress(_),m=await l.Ya()}const g=await h.complete();return await Ds(s,g.ma,void 0),await function(I,T){const R=ve(I);return R.persistence.runTransaction("Save bundle","readwrite",b=>R.Yr.saveBundleMetadata(b,T))}(s.localStore,d),u._completeWith(g.progress),Promise.resolve(g.Va)}catch(d){return zi(Ho,`Loading bundle failed with ${d}`),u._failWith(d),Promise.resolve(new Set)}})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class Ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return Bx(this.persistence,new jx,e.initialUser,this.serializer)}Xa(e){return new uE(Zg.ri,this.serializer)}Za(e){return new Xx}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ah.provider={build:()=>new Ah};class cW extends Ah{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Re(this.persistence.referenceDelegate instanceof Jm);const r=this.persistence.referenceDelegate.garbageCollector;return new Lx(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new uE(r=>Jm.ri(r,t),this.serializer)}}class pO extends Ah{constructor(e,t,r){super(),this.ru=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ru.initialize(this,e),await PE(this.ru.syncEngine),await hc(this.ru.remoteStore),await this.persistence.Ci(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}eu(e){return Bx(this.persistence,new jx,e.initialUser,this.serializer)}tu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new Lx(r,e.asyncQueue,t)}nu(e,t){const r=new vz(t,this.persistence);return new _z(e.asyncQueue,r)}Xa(e){const t=dE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new cE(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Zx(),vm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Za(e){return new Xx}}class dW extends pO{constructor(e,t){super(e,t,!1),this.ru=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.ru.syncEngine;this.sharedClientState instanceof Nv&&(this.sharedClientState.syncEngine={uo:iW.bind(null,t),co:aW.bind(null,t),lo:lW.bind(null,t),zi:oW.bind(null,t),ao:rW.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ci(async r=>{await sW(this.ru.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}Za(e){const t=Zx();if(!Nv.D(t))throw new ae(te.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=dE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Nv(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class bh{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Nb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=eW.bind(null,this.syncEngine),await Uw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new V6}()}createDatastore(e){const t=sf(e.databaseInfo.databaseId),r=function(s){return new _6(s)}(e.databaseInfo);return function(s,l,u,d){return new I6(s,l,u,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,s,l,u){return new S6(r,i,s,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>Nb(this.syncEngine,t,0),function(){return Ab.D()?new Ab:new p6}())}createSyncEngine(e,t){return function(i,s,l,u,d,h,m){const g=new z6(i,s,l,u,d,h);return m&&(g.ja=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const s=ve(i);ue(Qa,"RemoteStore shutting down."),s.W_.add(5),await dc(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}bh.provider={build:()=>new bh};function Lb(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):jt("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hW{constructor(e,t){this.ou=e,this.serializer=t,this.metadata=new En,this.buffer=new Uint8Array,this._u=function(){return new TextDecoder("utf-8")}(),this.au().then(r=>{r&&r.Ea()?this.metadata.resolve(r.Ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Ia)}`))},r=>this.metadata.reject(r))}close(){return this.ou.cancel()}async getMetadata(){return this.metadata.promise}async Ya(){return await this.getMetadata(),this.au()}async au(){const e=await this.uu();if(e===null)return null;const t=this._u.decode(e),r=Number(t);isNaN(r)&&this.cu(`length string (${t}) is not valid number`);const i=await this.lu(r);return new U6(JSON.parse(i),e.length+r)}hu(){return this.buffer.findIndex(e=>e===123)}async uu(){for(;this.hu()<0&&!await this.Pu(););if(this.buffer.length===0)return null;const e=this.hu();e<0&&this.cu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async lu(e){for(;this.buffer.length<e;)await this.Pu()&&this.cu("Reached the end of bundle when more is expected.");const t=this._u.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}cu(e){throw this.ou.cancel(),new Error(`Invalid bundle format: ${e}`)}async Pu(){const e=await this.ou.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fW{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ae(te.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(i,s){const l=ve(i),u={documents:s.map(g=>Sh(l.serializer,g))},d=await l.Co("BatchGetDocuments",l.serializer.databaseId,Be.emptyPath(),u,s.length),h=new Map;d.forEach(g=>{const _=R9(l.serializer,g);h.set(_.key.toString(),_)});const m=[];return s.forEach(g=>{const _=h.get(g.toString());Re(!!_),m.push(_)}),m}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new cc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{const i=_e.fromPath(r);this.mutations.push(new Z0(i,this.precondition(i)))}),await async function(r,i){const s=ve(r),l={writes:i.map(u=>Rh(s.serializer,u))};await s.bo("Commit",s.serializer.databaseId,Be.emptyPath(),l)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ee();t=Pe.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new ae(te.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Pe.min())?Rt.exists(!1):Rt.updateTime(t):Rt.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Pe.min()))throw new ae(te.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Rt.updateTime(t)}return Rt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pW{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.Tu=r.maxAttempts,this.a_=new mE(this.asyncQueue,"transaction_retry")}Iu(){this.Tu-=1,this.Eu()}Eu(){this.a_.Xo(async()=>{const e=new fW(this.datastore),t=this.du(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Au(i)}))}).catch(r=>{this.Au(r)})})}du(e){try{const t=this.updateFunction(e);return!Yh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Au(e){this.Tu>0&&this.Ru(e)?(this.Tu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Eu(),Promise.resolve()))):this.deferred.reject(e)}Ru(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!cx(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo="FirestoreClient";class mW{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=dn.UNAUTHENTICATED,this.clientId=m1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async l=>{ue(Vo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(ue(Vo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new En;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=pc(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Lv(n,e){n.asyncQueue.verifyOperationInProgress(),ue(Vo,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await zx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Vb(n,e){n.asyncQueue.verifyOperationInProgress();const t=await CE(n);ue(Vo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Pb(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>Pb(e.remoteStore,i)),n._onlineComponents=e}async function CE(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ue(Vo,"Using user provided OfflineComponentProvider");try{await Lv(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===te.FAILED_PRECONDITION||i.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;zi("Error using user provided cache. Falling back to memory cache: "+t),await Lv(n,new Ah)}}else ue(Vo,"Using default OfflineComponentProvider"),await Lv(n,new cW(void 0));return n._offlineComponents}async function ry(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ue(Vo,"Using user provided OnlineComponentProvider"),await Vb(n,n._uninitializedComponentsProvider._online)):(ue(Vo,"Using default OnlineComponentProvider"),await Vb(n,new bh))),n._onlineComponents}function mO(n){return CE(n).then(e=>e.persistence)}function kE(n){return CE(n).then(e=>e.localStore)}function gO(n){return ry(n).then(e=>e.remoteStore)}function xE(n){return ry(n).then(e=>e.syncEngine)}function gW(n){return ry(n).then(e=>e.datastore)}async function Yu(n){const e=await ry(n),t=e.eventManager;return t.onListen=W6.bind(null,e.syncEngine),t.onUnlisten=H6.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=q6.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=K6.bind(null,e.syncEngine),t}function yW(n){return n.asyncQueue.enqueue(async()=>{const e=await mO(n),t=await gO(n);return e.setNetworkEnabled(!0),function(i){const s=ve(i);return s.W_.delete(0),of(s)}(t)})}function _W(n){return n.asyncQueue.enqueue(async()=>{const e=await mO(n),t=await gO(n);return e.setNetworkEnabled(!1),async function(i){const s=ve(i);s.W_.add(0),await dc(s),s.j_.set("Offline")}(t)})}function vW(n,e){const t=new En;return n.asyncQueue.enqueueAndForget(async()=>async function(i,s,l){try{const u=await function(h,m){const g=ve(h);return g.persistence.runTransaction("read document","readonly",_=>g.localDocuments.getDocument(_,m))}(i,s);u.isFoundDocument()?l.resolve(u):u.isNoDocument()?l.resolve(null):l.reject(new ae(te.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const d=pc(u,`Failed to get document '${s} from cache`);l.reject(d)}}(await kE(n),e,t)),t.promise}function yO(n,e,t={}){const r=new En;return n.asyncQueue.enqueueAndForget(async()=>function(s,l,u,d,h){const m=new ny({next:_=>{m.su(),l.enqueueAndForget(()=>EE(s,g));const I=_.docs.has(u);!I&&_.fromCache?h.reject(new ae(te.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&_.fromCache&&d&&d.source==="server"?h.reject(new ae(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(_)},error:_=>h.reject(_)}),g=new TE(lc(u.path),m,{includeMetadataChanges:!0,Ta:!0});return wE(s,g)}(await Yu(n),n.asyncQueue,e,t,r)),r.promise}function wW(n,e){const t=new En;return n.asyncQueue.enqueueAndForget(async()=>async function(i,s,l){try{const u=await Xm(i,s,!0),d=new uO(s,u.gs),h=d.Sa(u.documents),m=d.applyChanges(h,!1);l.resolve(m.snapshot)}catch(u){const d=pc(u,`Failed to execute query '${s} against cache`);l.reject(d)}}(await kE(n),e,t)),t.promise}function _O(n,e,t={}){const r=new En;return n.asyncQueue.enqueueAndForget(async()=>function(s,l,u,d,h){const m=new ny({next:_=>{m.su(),l.enqueueAndForget(()=>EE(s,g)),_.fromCache&&d.source==="server"?h.reject(new ae(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(_)},error:_=>h.reject(_)}),g=new TE(u,m,{includeMetadataChanges:!0,Ta:!0});return wE(s,g)}(await Yu(n),n.asyncQueue,e,t,r)),r.promise}function EW(n,e){const t=new ny(e);return n.asyncQueue.enqueueAndForget(async()=>function(i,s){ve(i).ia.add(s),s.next()}(await Yu(n),t)),()=>{t.su(),n.asyncQueue.enqueueAndForget(async()=>function(i,s){ve(i).ia.delete(s)}(await Yu(n),t))}}function IW(n,e,t,r){const i=function(l,u){let d;return d=typeof l=="string"?hx().encode(l):l,function(m,g){return new hW(m,g)}(function(m,g){if(m instanceof Uint8Array)return Lb(m,g);if(m instanceof ArrayBuffer)return Lb(new Uint8Array(m),g);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),u)}(t,sf(e));n.asyncQueue.enqueueAndForget(async()=>{uW(await xE(n),i,r)})}function TW(n,e){return n.asyncQueue.enqueue(async()=>function(r,i){const s=ve(r);return s.persistence.runTransaction("Get named query","readonly",l=>s.Yr.getNamedQuery(l,i))}(await kE(n),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(n,e,t){if(!t)throw new ae(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function wO(n,e,t,r){if(e===!0&&r===!0)throw new ae(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Fb(n){if(!_e.isDocumentKey(n))throw new ae(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Ub(n){if(_e.isDocumentKey(n))throw new ae(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function iy(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ee()}function Ze(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ae(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=iy(n);throw new ae(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function EO(n,e){if(e<=0)throw new ae(te.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO="firestore.googleapis.com",$b=!0;class jb{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=IO,this.ssl=$b}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:$b;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<W9)throw new ae(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ae(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ae(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ae(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class af{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new lz;switch(r.type){case"firstParty":return new hz(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Mb.get(t);r&&(ue("ComponentProvider","Removing Datastore"),Mb.delete(t),r.terminate())}(this),Promise.resolve()}}function SW(n,e,t,r={}){var i;const s=(n=Ze(n,af))._getSettings(),l=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;s.host!==IO&&s.host!==u&&zi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},s),{host:u,ssl:!1,emulatorOptions:r});if(!ai(d,l)&&(n._setSettings(d),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=dn.MOCK_USER;else{h=gj(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new ae(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new dn(g)}n._authCredentials=new uz(new p1(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $n=class TO{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new TO(this.firestore,e,this._query)}},kt=class SO{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new To(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new SO(this.firestore,e,this._key)}},To=class RO extends $n{constructor(e,t,r){super(e,t,lc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kt(this.firestore,null,new _e(e))}withConverter(e){return new RO(this.firestore,e,this._path)}};function AO(n,e,...t){if(n=Ce(n),OE("collection","path",e),n instanceof af){const r=Be.fromString(e,...t);return Ub(r),new To(n,null,r)}{if(!(n instanceof kt||n instanceof To))throw new ae(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Be.fromString(e,...t));return Ub(r),new To(n.firestore,null,r)}}function RW(n,e){if(n=Ze(n,af),OE("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ae(te.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new $n(n,null,function(r){return new xs(Be.emptyPath(),r)}(e))}function ng(n,e,...t){if(n=Ce(n),arguments.length===1&&(e=m1.newId()),OE("doc","path",e),n instanceof af){const r=Be.fromString(e,...t);return Fb(r),new kt(n,null,new _e(r))}{if(!(n instanceof kt||n instanceof To))throw new ae(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Be.fromString(e,...t));return Fb(r),new kt(n.firestore,n instanceof To?n.converter:null,new _e(r))}}function bO(n,e){return n=Ce(n),e=Ce(e),(n instanceof kt||n instanceof To)&&(e instanceof kt||e instanceof To)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function PO(n,e){return n=Ce(n),e=Ce(e),n instanceof $n&&e instanceof $n&&n.firestore===e.firestore&&Zh(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="AsyncQueue";class zb{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new mE(this,"async_queue_retry"),this.bu=()=>{const r=vm();r&&ue(Bb,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const t=vm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=vm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new En;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!zo(e))throw e;ue(Bb,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),u}(r);throw jt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.Su=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=vE.createAndSchedule(this,e,t,r,s=>this.Fu(s));return this.fu.push(i),i}Du(){this.gu&&Ee()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function Bw(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(n,["next","error","complete"])}class AW{constructor(){this._progressObserver={},this._taskCompletionResolver=new En,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bW=-1;let zt=class extends af{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new zb,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zb(e),this._firestoreClient=void 0,await e}}};function On(n){if(n._terminated)throw new ae(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||CO(n),n._firestoreClient}function CO(n){var e,t,r;const i=n._freezeSettings(),s=function(u,d,h,m){return new Gz(u,d,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,vO(m.experimentalLongPollingOptions),m.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new mW(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(u){const d=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(d),_online:d}}(n._componentsProvider))}function PW(n,e){zi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return kO(n,bh.provider,{build:r=>new pO(r,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function CW(n){zi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();kO(n,bh.provider,{build:t=>new dW(t,e.cacheSizeBytes)})}function kO(n,e,t){if((n=Ze(n,zt))._firestoreClient||n._terminated)throw new ae(te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new ae(te.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},CO(n)}function kW(n){if(n._initialized&&!n._terminated)throw new ae(te.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new En;return n._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!$i.D())return Promise.resolve();const i=r+$x;await $i.delete(i)}(dE(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}}),e.promise}function xW(n){return function(t){const r=new En;return t.asyncQueue.enqueueAndForget(async()=>X6(await xE(t),r)),r.promise}(On(n=Ze(n,zt)))}function OW(n){return yW(On(n=Ze(n,zt)))}function NW(n){return _W(On(n=Ze(n,zt)))}function DW(n,e){const t=On(n=Ze(n,zt)),r=new AW;return IW(t,n._databaseId,e,r),r}function LW(n,e){return TW(On(n=Ze(n,zt)),e).then(t=>t?new $n(n,null,t.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qi(Vt.fromBase64String(e))}catch(t){throw new ae(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new qi(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mo=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ae(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let il=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ae(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ae(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VW=/^__.*__$/;class MW{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ns(e,this.data,this.fieldMask,t,this.fieldTransforms):new uc(e,this.data,t,this.fieldTransforms)}}class xO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ns(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function OO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class oy{constructor(e,t,r,i,s,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new oy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return rg(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(OO(this.Lu)&&VW.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class FW{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||sf(e)}ju(e,t,r,i=!1){return new oy({Lu:e,methodName:t,zu:r,path:St.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sl(n){const e=n._freezeSettings(),t=sf(n._databaseId);return new FW(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ay(n,e,t,r,i,s={}){const l=n.ju(s.merge||s.mergeFields?2:0,e,t,i);$E("Data must be an object, but it was:",l,r);const u=LO(r,l);let d,h;if(s.merge)d=new Zn(l.fieldMask),h=l.fieldTransforms;else if(s.mergeFields){const m=[];for(const g of s.mergeFields){const _=zw(e,g,t);if(!l.contains(_))throw new ae(te.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);MO(m,_)||m.push(_)}d=new Zn(m),h=l.fieldTransforms.filter(g=>d.covers(g.field))}else d=null,h=l.fieldTransforms;return new MW(new wn(u),d,h)}class lf extends il{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lf}}function NO(n,e,t){return new oy({Lu:3,zu:e.settings.zu,methodName:n._methodName,Qu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class DE extends il{_toFieldTransform(e){return new tf(e.path,new Bu)}isEqual(e){return e instanceof DE}}class LE extends il{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=NO(this,e,!0),r=this.Hu.map(s=>ol(s,t)),i=new Wa(r);return new tf(e.path,i)}isEqual(e){return e instanceof LE&&ai(this.Hu,e.Hu)}}class VE extends il{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=NO(this,e,!0),r=this.Hu.map(s=>ol(s,t)),i=new qa(r);return new tf(e.path,i)}isEqual(e){return e instanceof VE&&ai(this.Hu,e.Hu)}}class ME extends il{constructor(e,t){super(e),this.Ju=t}_toFieldTransform(e){const t=new zu(e.serializer,rx(e.serializer,this.Ju));return new tf(e.path,t)}isEqual(e){return e instanceof ME&&this.Ju===e.Ju}}function FE(n,e,t,r){const i=n.ju(1,e,t);$E("Data must be an object, but it was:",i,r);const s=[],l=wn.empty();Wo(r,(d,h)=>{const m=jE(e,d,t);h=Ce(h);const g=i.Ku(m);if(h instanceof lf)s.push(m);else{const _=ol(h,g);_!=null&&(s.push(m),l.set(m,_))}});const u=new Zn(s);return new xO(l,u,i.fieldTransforms)}function UE(n,e,t,r,i,s){const l=n.ju(1,e,t),u=[zw(e,r,t)],d=[i];if(s.length%2!=0)throw new ae(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<s.length;_+=2)u.push(zw(e,s[_])),d.push(s[_+1]);const h=[],m=wn.empty();for(let _=u.length-1;_>=0;--_)if(!MO(h,u[_])){const I=u[_];let T=d[_];T=Ce(T);const R=l.Ku(I);if(T instanceof lf)h.push(I);else{const b=ol(T,R);b!=null&&(h.push(I),m.set(I,b))}}const g=new Zn(h);return new xO(m,g,l.fieldTransforms)}function DO(n,e,t,r=!1){return ol(t,n.ju(r?4:3,e))}function ol(n,e){if(VO(n=Ce(n)))return $E("Unsupported field value:",e,n),LO(n,e);if(n instanceof il)return function(r,i){if(!OO(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const s=[];let l=0;for(const u of r){let d=ol(u,i.Uu(l));d==null&&(d={nullValue:"NULL_VALUE"}),s.push(d),l++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=Ce(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return rx(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=At.fromDate(r);return{timestampValue:Wu(i.serializer,s)}}if(r instanceof At){const s=new At(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wu(i.serializer,s)}}if(r instanceof sy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qi)return{bytesValue:mx(i.serializer,r._byteString)};if(r instanceof kt){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:iE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof NE)return function(l,u){return{mapValue:{fields:{[K0]:{stringValue:G0},[Uu]:{arrayValue:{values:l.toArray().map(h=>{if(typeof h!="number")throw u.Wu("VectorValues must only contain numeric values.");return X0(u.serializer,h)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${iy(r)}`)}(n,e)}function LO(n,e){const t={};return O1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wo(n,(r,i)=>{const s=ol(i,e.qu(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function VO(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof At||n instanceof sy||n instanceof qi||n instanceof kt||n instanceof il||n instanceof NE)}function $E(n,e,t){if(!VO(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=iy(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function zw(n,e,t){if((e=Ce(e))instanceof Mo)return e._internalPath;if(typeof e=="string")return jE(n,e);throw rg("Field path arguments must be of type string or ",n,!1,void 0,t)}const UW=new RegExp("[~\\*/\\[\\]]");function jE(n,e,t){if(e.search(UW)>=0)throw rg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Mo(...e.split("."))._internalPath}catch{throw rg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function rg(n,e,t,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(s||l)&&(d+=" (found",s&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new ae(te.INVALID_ARGUMENT,u+n+d)}function MO(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $W(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ly("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class $W extends Ph{data(){return super.data()}}function ly(n,e){return typeof e=="string"?jE(n,e):e instanceof Mo?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ae(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class BE{}class uf extends BE{}function fo(n,e,...t){let r=[];e instanceof BE&&r.push(e),r=r.concat(t),function(s){const l=s.filter(d=>d instanceof zE).length,u=s.filter(d=>d instanceof uy).length;if(l>1||l>0&&u>0)throw new ae(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class uy extends uf{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new uy(e,t,r)}_apply(e){const t=this._parse(e);return $O(e._query,t),new $n(e.firestore,e.converter,Cw(e._query,t))}_parse(e){const t=sl(e.firestore);return function(s,l,u,d,h,m,g){let _;if(h.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new ae(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){qb(g,m);const T=[];for(const R of g)T.push(Wb(d,s,R));_={arrayValue:{values:T}}}else _=Wb(d,s,g)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||qb(g,m),_=DO(u,l,g,m==="in"||m==="not-in");return ze.create(h,m,_)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function jW(n,e,t){const r=e,i=ly("where",n);return uy._create(i,r,t)}class zE extends BE{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new zE(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:st.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let l=i;const u=s.getFlattenedFilters();for(const d of u)$O(l,d),l=Cw(l,d)}(e._query,t),new $n(e.firestore,e.converter,Cw(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class WE extends uf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new WE(e,t)}_apply(e){const t=function(i,s,l){if(i.startAt!==null)throw new ae(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ae(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Th(s,l)}(e._query,this._field,this._direction);return new $n(e.firestore,e.converter,function(i,s){const l=i.explicitOrderBy.concat([s]);return new xs(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function BW(n,e="asc"){const t=e,r=ly("orderBy",n);return WE._create(r,t)}class cy extends uf{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new cy(e,t,r)}_apply(e){return new $n(e.firestore,e.converter,Km(e._query,this._limit,this._limitType))}}function zW(n){return EO("limit",n),cy._create("limit",n,"F")}function WW(n){return EO("limitToLast",n),cy._create("limitToLast",n,"L")}class dy extends uf{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new dy(e,t,r)}_apply(e){const t=UO(e,this.type,this._docOrFields,this._inclusive);return new $n(e.firestore,e.converter,function(i,s){return new xs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,t))}}function qW(...n){return dy._create("startAt",n,!0)}function HW(...n){return dy._create("startAfter",n,!1)}class hy extends uf{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new hy(e,t,r)}_apply(e){const t=UO(e,this.type,this._docOrFields,this._inclusive);return new $n(e.firestore,e.converter,function(i,s){return new xs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,t))}}function KW(...n){return hy._create("endBefore",n,!1)}function GW(...n){return hy._create("endAt",n,!0)}function UO(n,e,t,r){if(t[0]=Ce(t[0]),t[0]instanceof Ph)return function(s,l,u,d,h){if(!d)throw new ae(te.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const m=[];for(const g of Tu(s))if(g.field.isKeyField())m.push(Ba(l,d.key));else{const _=d.data.field(g.field);if(Hg(_))throw new ae(te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){const I=g.field.canonicalString();throw new ae(te.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${I}' (used as the orderBy) does not exist.`)}m.push(_)}return new Do(m,h)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=sl(n.firestore);return function(l,u,d,h,m,g){const _=l.explicitOrderBy;if(m.length>_.length)throw new ae(te.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const I=[];for(let T=0;T<m.length;T++){const R=m[T];if(_[T].field.isKeyField()){if(typeof R!="string")throw new ae(te.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof R}`);if(!Y0(l)&&R.indexOf("/")!==-1)throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${R}' contains a slash.`);const b=l.path.child(Be.fromString(R));if(!_e.isDocumentKey(b))throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${b}' is not because it contains an odd number of segments.`);const V=new _e(b);I.push(Ba(u,V))}else{const b=DO(d,h,R);I.push(b)}}return new Do(I,g)}(n._query,n.firestore._databaseId,i,e,t,r)}}function Wb(n,e,t){if(typeof(t=Ce(t))=="string"){if(t==="")throw new ae(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Y0(e)&&t.indexOf("/")!==-1)throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Be.fromString(t));if(!_e.isDocumentKey(r))throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ba(n,new _e(r))}if(t instanceof kt)return Ba(n,t._key);throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${iy(t)}.`)}function qb(n,e){if(!Array.isArray(n)||n.length===0)throw new ae(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $O(n,e){const t=function(i,s){for(const l of i)for(const u of l.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ae(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class qE{convertValue(e,t="none"){switch(Oo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Wo(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;const s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Uu].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>Tt(l.doubleValue));return new NE(s)}convertGeoPoint(e){return new sy(Tt(e.latitude),Tt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Kg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(wh(e));default:return null}}convertTimestamp(e){const t=bs(e);return new At(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Be.fromString(e);Re(Ax(r));const i=new xo(r.get(1),r.get(3)),s=new _e(r.popFirst(5));return i.isEqual(t)||jt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class QW extends qE{constructor(e){super(),this.firestore=e}convertBytes(e){return new qi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Cs=class extends Ph{constructor(e,t,r,i,s,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Zd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(ly("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Zd=class extends Cs{data(e={}){return super.data(e)}},Fo=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Na(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Zd(this._firestore,this._userDataWriter,r.key,r,new Na(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ae(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>{const d=new Zd(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Na(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>s||u.type!==3).map(u=>{const d=new Zd(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Na(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,m=-1;return u.type!==0&&(h=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:YW(u.type),doc:d,oldIndex:h,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function YW(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}function jO(n,e){return n instanceof Cs&&e instanceof Cs?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Fo&&e instanceof Fo&&n._firestore===e._firestore&&PO(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JW(n){n=Ze(n,kt);const e=Ze(n.firestore,zt);return yO(On(e),n._key).then(t=>HE(e,n,t))}class al extends qE{constructor(e){super(),this.firestore=e}convertBytes(e){return new qi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,t)}}function XW(n){n=Ze(n,kt);const e=Ze(n.firestore,zt),t=On(e),r=new al(e);return vW(t,n._key).then(i=>new Cs(e,r,n._key,i,new Na(i!==null&&i.hasLocalMutations,!0),n.converter))}function ZW(n){n=Ze(n,kt);const e=Ze(n.firestore,zt);return yO(On(e),n._key,{source:"server"}).then(t=>HE(e,n,t))}function eq(n){n=Ze(n,$n);const e=Ze(n.firestore,zt),t=On(e),r=new al(e);return FO(n._query),_O(t,n._query).then(i=>new Fo(e,r,n,i))}function tq(n){n=Ze(n,$n);const e=Ze(n.firestore,zt),t=On(e),r=new al(e);return wW(t,n._query).then(i=>new Fo(e,r,n,i))}function nq(n){n=Ze(n,$n);const e=Ze(n.firestore,zt),t=On(e),r=new al(e);return _O(t,n._query,{source:"server"}).then(i=>new Fo(e,r,n,i))}function Hb(n,e,t){n=Ze(n,kt);const r=Ze(n.firestore,zt),i=fy(n.converter,e,t);return cf(r,[ay(sl(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Rt.none())])}function Kb(n,e,t,...r){n=Ze(n,kt);const i=Ze(n.firestore,zt),s=sl(i);let l;return l=typeof(e=Ce(e))=="string"||e instanceof Mo?UE(s,"updateDoc",n._key,e,t,r):FE(s,"updateDoc",n._key,e),cf(i,[l.toMutation(n._key,Rt.exists(!0))])}function rq(n){return cf(Ze(n.firestore,zt),[new cc(n._key,Rt.none())])}function iq(n,e){const t=Ze(n.firestore,zt),r=ng(n),i=fy(n.converter,e);return cf(t,[ay(sl(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Rt.exists(!1))]).then(()=>r)}function BO(n,...e){var t,r,i;n=Ce(n);let s={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||Bw(e[l])||(s=e[l],l++);const u={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Bw(e[l])){const g=e[l];e[l]=(t=g.next)===null||t===void 0?void 0:t.bind(g),e[l+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[l+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let d,h,m;if(n instanceof kt)h=Ze(n.firestore,zt),m=lc(n._key.path),d={next:g=>{e[l]&&e[l](HE(h,n,g))},error:e[l+1],complete:e[l+2]};else{const g=Ze(n,$n);h=Ze(g.firestore,zt),m=g._query;const _=new al(h);d={next:I=>{e[l]&&e[l](new Fo(h,_,g,I))},error:e[l+1],complete:e[l+2]},FO(n._query)}return function(_,I,T,R){const b=new ny(R),V=new TE(I,b,T);return _.asyncQueue.enqueueAndForget(async()=>wE(await Yu(_),V)),()=>{b.su(),_.asyncQueue.enqueueAndForget(async()=>EE(await Yu(_),V))}}(On(h),m,u,d)}function sq(n,e){return EW(On(n=Ze(n,zt)),Bw(e)?e:{next:e})}function cf(n,e){return function(r,i){const s=new En;return r.asyncQueue.enqueueAndForget(async()=>G6(await xE(r),i,s)),s.promise}(On(n),e)}function HE(n,e,t){const r=t.docs.get(e._key),i=new al(n);return new Cs(n,i,e._key,r,new Na(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oq={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aq=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=sl(e)}set(e,t,r){this._verifyNotCommitted();const i=yo(e,this._firestore),s=fy(i.converter,t,r),l=ay(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,Rt.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=yo(e,this._firestore);let l;return l=typeof(t=Ce(t))=="string"||t instanceof Mo?UE(this._dataReader,"WriteBatch.update",s._key,t,r,i):FE(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(l.toMutation(s._key,Rt.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=yo(e,this._firestore);return this._mutations=this._mutations.concat(new cc(t._key,Rt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ae(te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function yo(n,e){if((n=Ce(n)).firestore!==e)throw new ae(te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lq{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=sl(e)}get(e){const t=yo(e,this._firestore),r=new QW(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||i.length!==1)return Ee();const s=i[0];if(s.isFoundDocument())return new Ph(this._firestore,r,s.key,s,t.converter);if(s.isNoDocument())return new Ph(this._firestore,r,t._key,null,t.converter);throw Ee()})}set(e,t,r){const i=yo(e,this._firestore),s=fy(i.converter,t,r),l=ay(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,l),this}update(e,t,r,...i){const s=yo(e,this._firestore);let l;return l=typeof(t=Ce(t))=="string"||t instanceof Mo?UE(this._dataReader,"Transaction.update",s._key,t,r,i):FE(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,l),this}delete(e){const t=yo(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uq=class extends lq{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=yo(e,this._firestore),r=new al(this._firestore);return super.get(e).then(i=>new Cs(this._firestore,r,t._key,i._document,new Na(!1,!1),t.converter))}};function cq(n,e,t){n=Ze(n,zt);const r=Object.assign(Object.assign({},oq),t);return function(s){if(s.maxAttempts<1)throw new ae(te.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,l,u){const d=new En;return s.asyncQueue.enqueueAndForget(async()=>{const h=await gW(s);new pW(s.asyncQueue,h,u,l,d).Iu()}),d.promise}(On(n),i=>e(new uq(n,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dq(){return new lf("deleteField")}function hq(){return new DE("serverTimestamp")}function fq(...n){return new LE("arrayUnion",n)}function pq(...n){return new VE("arrayRemove",n)}function mq(n){return new ME("increment",n)}(function(e,t=!0){(function(i){ac=i})(Er),Bi(new Mr("firestore",(r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),u=new zt(new cz(r.getProvider("auth-internal")),new fz(l,r.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ae(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xo(h.options.projectId,m)}(l,i),l);return s=Object.assign({useFetchStreams:t},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),vr(RA,AA,e),vr(RA,AA,"esm2017")})();const gq="@firebase/firestore-compat",yq="0.3.44";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new ae("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(){if(typeof Uint8Array>"u")throw new ae("unimplemented","Uint8Arrays are not available in this environment.")}function Qb(){if(!Hz())throw new ae("unimplemented","Blobs are unavailable in Firestore in this environment.")}let zO=class Ww{constructor(e){this._delegate=e}static fromBase64String(e){return Qb(),new Ww(qi.fromBase64String(e))}static fromUint8Array(e){return Gb(),new Ww(qi.fromUint8Array(e))}toBase64(){return Qb(),this._delegate.toBase64()}toUint8Array(){return Gb(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(n){return _q(n,["next","error","complete"])}function _q(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vq{enableIndexedDbPersistence(e,t){return PW(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return CW(e._delegate)}clearIndexedDbPersistence(e){return kW(e._delegate)}}class WO{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof xo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&zi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){SW(this._delegate,e,t,r)}enableNetwork(){return OW(this._delegate)}disableNetwork(){return NW(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,wO("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return xW(this._delegate)}onSnapshotsInSync(e){return sq(this._delegate,e)}get app(){if(!this._appCompat)throw new ae("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ju(this,AO(this._delegate,e))}catch(t){throw Fn(t,"collection()","Firestore.collection()")}}doc(e){try{return new Lr(this,ng(this._delegate,e))}catch(t){throw Fn(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Mn(this,RW(this._delegate,e))}catch(t){throw Fn(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return cq(this._delegate,t=>e(new qO(this,t)))}batch(){return On(this._delegate),new HO(new aq(this._delegate,e=>cf(this._delegate,e)))}loadBundle(e){return DW(this._delegate,e)}namedQuery(e){return LW(this._delegate,e).then(t=>t?new Mn(this,t):null)}}class py extends qE{constructor(e){super(),this.firestore=e}convertBytes(e){return new zO(new qi(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Lr.forKey(t,this.firestore,null)}}function wq(n){oz(n)}class qO{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new py(e)}get(e){const t=Da(e);return this._delegate.get(t).then(r=>new Ch(this._firestore,new Cs(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Da(e);return r?(KE("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=Da(e);return arguments.length===2?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=Da(e);return this._delegate.delete(t),this}}class HO{constructor(e){this._delegate=e}set(e,t,r){const i=Da(e);return r?(KE("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=Da(e);return arguments.length===2?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=Da(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Ya{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Zd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new kh(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Ya.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new Ya(e,new py(e),t),i.set(t,s)),s}}Ya.INSTANCES=new WeakMap;class Lr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new py(e)}static forPath(e,t,r){if(e.length%2!==0)throw new ae("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Lr(t,new kt(t._delegate,r,new _e(e)))}static forKey(e,t,r){return new Lr(t,new kt(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Ju(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ju(this.firestore,AO(this._delegate,e))}catch(t){throw Fn(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Ce(e),e instanceof kt?bO(this._delegate,e):!1}set(e,t){t=KE("DocumentReference.set",t);try{return t?Hb(this._delegate,e,t):Hb(this._delegate,e)}catch(r){throw Fn(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?Kb(this._delegate,e):Kb(this._delegate,e,t,...r)}catch(i){throw Fn(i,"updateDoc()","DocumentReference.update()")}}delete(){return rq(this._delegate)}onSnapshot(...e){const t=KO(e),r=GO(e,i=>new Ch(this.firestore,new Cs(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return BO(this._delegate,t,r)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=XW(this._delegate):(e==null?void 0:e.source)==="server"?t=ZW(this._delegate):t=JW(this._delegate),t.then(r=>new Ch(this.firestore,new Cs(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Lr(this.firestore,e?this._delegate.withConverter(Ya.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Fn(n,e,t){return n.message=n.message.replace(e,t),n}function KO(n){for(const e of n)if(typeof e=="object"&&!qw(e))return e;return{}}function GO(n,e){var t,r;let i;return qw(n[0])?i=n[0]:qw(n[1])?i=n[1]:typeof n[0]=="function"?i={next:n[0],error:n[1],complete:n[2]}:i={next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:(t=i.error)===null||t===void 0?void 0:t.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class Ch{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Lr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return jO(this._delegate,e._delegate)}}class kh extends Ch{data(e){const t=this._delegate.data(e);return this._delegate._converter||az(t!==void 0),t}}class Mn{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new py(e)}where(e,t,r){try{return new Mn(this.firestore,fo(this._delegate,jW(e,t,r)))}catch(i){throw Fn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Mn(this.firestore,fo(this._delegate,BW(e,t)))}catch(r){throw Fn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Mn(this.firestore,fo(this._delegate,zW(e)))}catch(t){throw Fn(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Mn(this.firestore,fo(this._delegate,WW(e)))}catch(t){throw Fn(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Mn(this.firestore,fo(this._delegate,qW(...e)))}catch(t){throw Fn(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Mn(this.firestore,fo(this._delegate,HW(...e)))}catch(t){throw Fn(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Mn(this.firestore,fo(this._delegate,KW(...e)))}catch(t){throw Fn(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Mn(this.firestore,fo(this._delegate,GW(...e)))}catch(t){throw Fn(t,"endAt()","Query.endAt()")}}isEqual(e){return PO(this._delegate,e._delegate)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=tq(this._delegate):(e==null?void 0:e.source)==="server"?t=nq(this._delegate):t=eq(this._delegate),t.then(r=>new Hw(this.firestore,new Fo(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=KO(e),r=GO(e,i=>new Hw(this.firestore,new Fo(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return BO(this._delegate,t,r)}withConverter(e){return new Mn(this.firestore,e?this._delegate.withConverter(Ya.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class Eq{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new kh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Hw{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Mn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new kh(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Eq(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new kh(this._firestore,r))})}isEqual(e){return jO(this._delegate,e._delegate)}}class Ju extends Mn{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Lr(this.firestore,e):null}doc(e){try{return e===void 0?new Lr(this.firestore,ng(this._delegate)):new Lr(this.firestore,ng(this._delegate,e))}catch(t){throw Fn(t,"doc()","CollectionReference.doc()")}}add(e){return iq(this._delegate,e).then(t=>new Lr(this.firestore,t))}isEqual(e){return bO(this._delegate,e._delegate)}withConverter(e){return new Ju(this.firestore,e?this._delegate.withConverter(Ya.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Da(n){return Ze(n,kt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(...e){this._delegate=new Mo(...e)}static documentId(){return new GE(St.keyField().canonicalString())}isEqual(e){return e=Ce(e),e instanceof Mo?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{static serverTimestamp(){const e=hq();return e._methodName="FieldValue.serverTimestamp",new ka(e)}static delete(){const e=dq();return e._methodName="FieldValue.delete",new ka(e)}static arrayUnion(...e){const t=fq(...e);return t._methodName="FieldValue.arrayUnion",new ka(t)}static arrayRemove(...e){const t=pq(...e);return t._methodName="FieldValue.arrayRemove",new ka(t)}static increment(e){const t=mq(e);return t._methodName="FieldValue.increment",new ka(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iq={Firestore:WO,GeoPoint:sy,Timestamp:At,Blob:zO,Transaction:qO,WriteBatch:HO,DocumentReference:Lr,DocumentSnapshot:Ch,Query:Mn,QueryDocumentSnapshot:kh,QuerySnapshot:Hw,CollectionReference:Ju,FieldPath:GE,FieldValue:ka,setLogLevel:wq,CACHE_SIZE_UNLIMITED:bW};function Tq(n,e){n.INTERNAL.registerComponent(new Mr("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},Iq)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sq(n){Tq(n,(e,t)=>new WO(e,t,new vq)),n.registerVersion(gq,yq)}Sq(sc);const Cd={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},uu={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rq(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function QO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Aq=Rq,bq=QO,YO=new Qi("auth","Firebase",QO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig=new qh("@firebase/auth");function Pq(n,...e){ig.logLevel<=Ue.WARN&&ig.warn(`Auth (${Er}): ${n}`,...e)}function wm(n,...e){ig.logLevel<=Ue.ERROR&&ig.error(`Auth (${Er}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(n,...e){throw YE(n,...e)}function nn(n,...e){return YE(n,...e)}function QE(n,e,t){const r=Object.assign(Object.assign({},bq()),{[e]:t});return new Qi("auth","Firebase",r).create(e,{appName:n.name})}function fn(n){return QE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mc(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&In(n,"argument-error"),QE(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function YE(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return YO.create(n,...e)}function de(n,e,...t){if(!n)throw YE(e,...t)}function Vi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw wm(e),new Error(e)}function ui(n,e){n||Vi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function JE(){return Yb()==="http:"||Yb()==="https:"}function Yb(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JE()||A0()||"connection"in navigator)?navigator.onLine:!0}function kq(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,t){this.shortDelay=e,this.longDelay=t,ui(t>e,"Short delay should be less than long delay!"),this.isMobile=tk()||Lg()}get(){return Cq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(n,e){ui(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oq=new df(3e4,6e4);function Mt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ft(n,e,t,r,i={}){return XO(n,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const u=di(Object.assign({key:n.config.apiKey},l)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const h=Object.assign({method:e,headers:d},s);return rk()||(h.referrerPolicy="no-referrer"),JO.fetch()(ZO(n,n.config.apiHost,t,u),h)})}async function XO(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},xq),e);try{const i=new Dq(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw Bd(n,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const u=s.ok?l.errorMessage:l.error.message,[d,h]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bd(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Bd(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw Bd(n,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw QE(n,m,h);In(n,m)}}catch(i){if(i instanceof hn)throw i;In(n,"network-request-failed",{message:String(i)})}}async function Ls(n,e,t,r,i={}){const s=await Ft(n,e,t,r,i);return"mfaPendingCredential"in s&&In(n,"multi-factor-auth-required",{_serverResponse:s}),s}function ZO(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?XE(n.config,i):`${n.config.apiScheme}://${i}`}function Nq(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Dq{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(nn(this.auth,"network-request-failed")),Oq.get())})}}function Bd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=nn(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(n){return n!==void 0&&n.getResponse!==void 0}function Xb(n){return n!==void 0&&n.enterprise!==void 0}class eN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Nq(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lq(n){return(await Ft(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function tN(n,e){return Ft(n,"GET","/v2/recaptchaConfig",Mt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vq(n,e){return Ft(n,"POST","/v1/accounts:delete",e)}async function Mq(n,e){return Ft(n,"POST","/v1/accounts:update",e)}async function nN(n,e){return Ft(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Fq(n,e=!1){const t=Ce(n),r=await t.getIdToken(e),i=my(r);de(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:eh(Vv(i.auth_time)),issuedAtTime:eh(Vv(i.iat)),expirationTime:eh(Vv(i.exp)),signInProvider:l||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Vv(n){return Number(n)*1e3}function my(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return wm("JWT malformed, contained fewer than 3 sections"),null;try{const i=Ng(t);return i?JSON.parse(i):(wm("Failed to decode base64 JWT payload"),null)}catch(i){return wm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Zb(n){const e=my(n);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ks(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof hn&&Uq(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Uq({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $q{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=eh(this.lastLoginAt),this.creationTime=eh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oh(n){var e;const t=n.auth,r=await n.getIdToken(),i=await ks(n,nN(t,{idToken:r}));de(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const l=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?rN(s.providerUserInfo):[],u=Bq(n.providerData,l),d=n.isAnonymous,h=!(n.email&&s.passwordHash)&&!(u!=null&&u.length),m=d?h:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new Kw(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(n,g)}async function jq(n){const e=Ce(n);await Oh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Bq(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function rN(n){return n.map(e=>{var{providerId:t}=e,r=oc(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zq(n,e){const t=await XO(n,{},async()=>{const r=di({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,l=ZO(n,i,"/v1/token",`key=${s}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",JO.fetch()(l,{method:"POST",headers:u,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Wq(n,e){return Ft(n,"POST","/v2/accounts:revokeToken",Mt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Zb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){de(e.length!==0,"internal-error");const t=Zb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await zq(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,l=new Ru;return r&&(de(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(de(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(de(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ru,this.toJSON())}_performRefresh(){return Vi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(n,e){de(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class _s{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=oc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $q(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Kw(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await ks(this,this.stsTokenManager.getToken(this.auth,e));return de(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Fq(this,e)}reload(){return jq(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new _s(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Oh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ke(this.auth.app))return Promise.reject(fn(this.auth));const e=await this.getIdToken();return await ks(this,Vq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,l,u,d,h,m;const g=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(i=t.email)!==null&&i!==void 0?i:void 0,I=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,T=(l=t.photoURL)!==null&&l!==void 0?l:void 0,R=(u=t.tenantId)!==null&&u!==void 0?u:void 0,b=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,V=(h=t.createdAt)!==null&&h!==void 0?h:void 0,L=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:M,emailVerified:z,isAnonymous:$,providerData:W,stsTokenManager:D}=t;de(M&&D,e,"internal-error");const A=Ru.fromJSON(this.name,D);de(typeof M=="string",e,"internal-error"),po(g,e.name),po(_,e.name),de(typeof z=="boolean",e,"internal-error"),de(typeof $=="boolean",e,"internal-error"),po(I,e.name),po(T,e.name),po(R,e.name),po(b,e.name),po(V,e.name),po(L,e.name);const C=new _s({uid:M,auth:e,email:_,emailVerified:z,displayName:g,isAnonymous:$,photoURL:T,phoneNumber:I,tenantId:R,stsTokenManager:A,createdAt:V,lastLoginAt:L});return W&&Array.isArray(W)&&(C.providerData=W.map(E=>Object.assign({},E))),b&&(C._redirectEventId=b),C}static async _fromIdTokenResponse(e,t,r=!1){const i=new Ru;i.updateFromServerResponse(t);const s=new _s({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Oh(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];de(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?rN(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),u=new Ru;u.updateFromIdToken(r);const d=new _s({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Kw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP=new Map;function mr(n){ui(n instanceof Function,"Expected a class definition");let e=eP.get(n);return e?(ui(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,eP.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}iN.type="NONE";const Xu=iN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(n,e,t){return`firebase:${n}:${e}:${t}`}class Au{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Fa(this.userKey,i.apiKey,s),this.fullPersistenceKey=Fa("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?_s._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Au(mr(Xu),e,r);const i=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||mr(Xu);const l=Fa(r,e.config.apiKey,e.name);let u=null;for(const h of t)try{const m=await h._get(l);if(m){const g=_s._fromJSON(e,m);h!==s&&(u=g),s=h;break}}catch{}const d=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new Au(s,e,r):(s=d[0],u&&await s._set(l,u.toJSON()),await Promise.all(t.map(async h=>{if(h!==s)try{await h._remove(l)}catch{}})),new Au(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uN(e))return"Blackberry";if(cN(e))return"Webos";if(oN(e))return"Safari";if((e.includes("chrome/")||aN(e))&&!e.includes("edge/"))return"Chrome";if(hf(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function sN(n=We()){return/firefox\//i.test(n)}function oN(n=We()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aN(n=We()){return/crios\//i.test(n)}function lN(n=We()){return/iemobile/i.test(n)}function hf(n=We()){return/android/i.test(n)}function uN(n=We()){return/blackberry/i.test(n)}function cN(n=We()){return/webos/i.test(n)}function ff(n=We()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function qq(n=We()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function Hq(n=We()){var e;return ff(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Kq(){return b0()&&document.documentMode===10}function dN(n=We()){return ff(n)||hf(n)||cN(n)||uN(n)||/windows phone/i.test(n)||lN(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(n,e=[]){let t;switch(n){case"Browser":t=tP(We());break;case"Worker":t=`${tP(We())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Er}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gq{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((l,u)=>{try{const d=e(s);l(d)}catch(d){u(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qq(n,e={}){return Ft(n,"GET","/v2/passwordPolicy",Mt(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yq=6;class Jq{constructor(e){var t,r,i,s;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:Yq,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,l,u;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(s=d.containsUppercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xq{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nP(this),this.idTokenSubscription=new nP(this),this.beforeStateQueue=new Gq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=YO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=mr(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Au.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await nN(this,{idToken:e}),r=await _s._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ke(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&(d!=null&&d.user)&&(i=d.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Oh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ke(this.app))return Promise.reject(fn(this));const t=e?Ce(e):null;return t&&de(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ke(this.app)?Promise.reject(fn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ke(this.app)?Promise.reject(fn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Qq(this),t=new Jq(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Qi("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Wq(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&mr(e)||this._popupRedirectResolver;de(t,this,"argument-error"),this.redirectPersistenceManager=await Au.create(this,[mr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(u,this,"internal-error"),u.then(()=>{l||s(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Ke(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Pq(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ot(n){return Ce(n)}class nP{constructor(e){this.auth=e,this.observer=null,this.addObserver=P0(t=>this.observer=t)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Zq(n){pf=n}function ZE(n){return pf.loadJS(n)}function eH(){return pf.recaptchaV2Script}function tH(){return pf.recaptchaEnterpriseScript}function nH(){return pf.gapiScript}function fN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rH=500,iH=6e4,Gp=1e12;class sH{constructor(e){this.auth=e,this.counter=Gp,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new lH(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;const r=e||Gp;(t=this._widgets.get(r))===null||t===void 0||t.delete(),this._widgets.delete(r)}getResponse(e){var t;const r=e||Gp;return((t=this._widgets.get(r))===null||t===void 0?void 0:t.getResponse())||""}async execute(e){var t;const r=e||Gp;return(t=this._widgets.get(r))===null||t===void 0||t.execute(),""}}class oH{constructor(){this.enterprise=new aH}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class aH{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class lH{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;de(i,"argument-error",{appName:t}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=uH(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},iH)},rH))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function uH(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const cH="recaptcha-enterprise",th="NO_RECAPTCHA";class pN{constructor(e){this.type=cH,this.auth=Ot(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(l,u)=>{tN(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new eN(d);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,l(h.siteKey)}}).catch(d=>{u(d)})})}function i(s,l,u){const d=window.grecaptcha;Xb(d)?d.enterprise.ready(()=>{d.enterprise.execute(s,{action:e}).then(h=>{l(h)}).catch(()=>{l(th)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new oH().execute("siteKey",{action:"verify"}):new Promise((s,l)=>{r(this.auth).then(u=>{if(!t&&Xb(window.grecaptcha))i(u,s,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=tH();d.length!==0&&(d+=u),ZE(d).then(()=>{i(u,s,l)}).catch(h=>{l(h)})}}).catch(u=>{l(u)})})}}async function kd(n,e,t,r=!1,i=!1){const s=new pN(n);let l;if(i)l=th;else try{l=await s.verify(t)}catch{l=await s.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function So(n,e,t,r,i){var s,l;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await kd(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await kd(n,e,t,t==="getOobCode");return r(n,d)}else return Promise.reject(u)});else if(i==="PHONE_PROVIDER")if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("PHONE_PROVIDER")){const u=await kd(n,e,t);return r(n,u).catch(async d=>{var h;if(((h=n._getRecaptchaConfig())===null||h===void 0?void 0:h.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(d.code==="auth/missing-recaptcha-token"||d.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const m=await kd(n,e,t,!1,!0);return r(n,m)}return Promise.reject(d)})}else{const u=await kd(n,e,t,!1,!0);return r(n,u)}else return Promise.reject(i+" provider is not supported.")}async function dH(n){const e=Ot(n),t=await tN(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new eN(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new pN(e).verify()}function hH(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(mr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function fH(n,e,t){const r=Ot(n);de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(t!=null&&t.disableWarnings),s=mN(e),{host:l,port:u}=pH(e),d=u===null?"":`:${u}`,h={url:`${s}//${l}${d}/`},m=Object.freeze({host:l,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){de(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),de(ai(h,r.config.emulator)&&ai(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,i||mH()}function mN(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function pH(n){const e=mN(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:rP(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:rP(l)}}}function rP(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function mH(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Vi("not implemented")}_getIdTokenResponse(e){return Vi("not implemented")}_linkToIdToken(e,t){return Vi("not implemented")}_getReauthenticationResolver(e){return Vi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gN(n,e){return Ft(n,"POST","/v1/accounts:resetPassword",Mt(n,e))}async function gH(n,e){return Ft(n,"POST","/v1/accounts:update",e)}async function yH(n,e){return Ft(n,"POST","/v1/accounts:signUp",e)}async function _H(n,e){return Ft(n,"POST","/v1/accounts:update",Mt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vH(n,e){return Ls(n,"POST","/v1/accounts:signInWithPassword",Mt(n,e))}async function gy(n,e){return Ft(n,"POST","/v1/accounts:sendOobCode",Mt(n,e))}async function wH(n,e){return gy(n,e)}async function EH(n,e){return gy(n,e)}async function IH(n,e){return gy(n,e)}async function TH(n,e){return gy(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SH(n,e){return Ls(n,"POST","/v1/accounts:signInWithEmailLink",Mt(n,e))}async function RH(n,e){return Ls(n,"POST","/v1/accounts:signInWithEmailLink",Mt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh extends gc{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Nh(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Nh(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return So(e,t,"signInWithPassword",vH,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return SH(e,{email:this._email,oobCode:this._password});default:In(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return So(e,r,"signUpPassword",yH,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return RH(e,{idToken:t,email:this._email,oobCode:this._password});default:In(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ts(n,e){return Ls(n,"POST","/v1/accounts:signInWithIdp",Mt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AH="http://localhost";class Hi extends gc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Hi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):In("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=oc(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Hi(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Ts(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ts(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ts(e,t)}buildRequest(){const e={requestUri:AH,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=di(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iP(n,e){return Ft(n,"POST","/v1/accounts:sendVerificationCode",Mt(n,e))}async function bH(n,e){return Ls(n,"POST","/v1/accounts:signInWithPhoneNumber",Mt(n,e))}async function PH(n,e){const t=await Ls(n,"POST","/v1/accounts:signInWithPhoneNumber",Mt(n,e));if(t.temporaryProof)throw Bd(n,"account-exists-with-different-credential",t);return t}const CH={USER_NOT_FOUND:"user-not-found"};async function kH(n,e){const t=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Ls(n,"POST","/v1/accounts:signInWithPhoneNumber",Mt(n,t),CH)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua extends gc{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ua({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ua({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return bH(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return PH(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return kH(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!t&&!i&&!s?null:new Ua({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xH(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function OH(n){const e=si(Ni(n)).link,t=e?si(Ni(e)).deep_link_id:null,r=si(Ni(n)).deep_link_id;return(r?si(Ni(r)).link:null)||r||t||e||n}class yy{constructor(e){var t,r,i,s,l,u;const d=si(Ni(e)),h=(t=d.apiKey)!==null&&t!==void 0?t:null,m=(r=d.oobCode)!==null&&r!==void 0?r:null,g=xH((i=d.mode)!==null&&i!==void 0?i:null);de(h&&m&&g,"argument-error"),this.apiKey=h,this.operation=g,this.code=m,this.continueUrl=(s=d.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(u=d.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=OH(e);try{return new yy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.providerId=Ko.PROVIDER_ID}static credential(e,t){return Nh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=yy.parseLink(t);return de(r,"argument-error"),Nh._fromEmailAndCode(e,r.code,r.tenantId)}}Ko.PROVIDER_ID="password";Ko.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ko.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc extends Vs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class bu extends yc{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return de("providerId"in t&&"signInMethod"in t,"argument-error"),Hi._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return de(e.idToken||e.accessToken,"argument-error"),Hi._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return bu.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return bu.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:l,providerId:u}=e;if(!r&&!i&&!t&&!s||!u)return null;try{return new bu(u)._credential({idToken:t,accessToken:r,nonce:l,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends yc{constructor(){super("facebook.com")}static credential(e){return Hi._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ci.credential(e.oauthAccessToken)}catch{return null}}}Ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ci.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends yc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Hi._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ki.credential(t,r)}catch{return null}}}ki.GOOGLE_SIGN_IN_METHOD="google.com";ki.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends yc{constructor(){super("github.com")}static credential(e){return Hi._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xi.credential(e.oauthAccessToken)}catch{return null}}}xi.GITHUB_SIGN_IN_METHOD="github.com";xi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NH="http://localhost";class Zu extends gc{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return Ts(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ts(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ts(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=t;return!r||!i||!s||r!==i?null:new Zu(r,s)}static _create(e,t){return new Zu(e,t)}buildRequest(){return{requestUri:NH,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DH="saml.";class sg extends Vs{constructor(e){de(e.startsWith(DH),"argument-error"),super(e)}static credentialFromResult(e){return sg.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return sg.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Zu.fromJSON(e);return de(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return Zu._create(r,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends yc{constructor(){super("twitter.com")}static credential(e,t){return Hi._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Oi.credential(t,r)}catch{return null}}}Oi.TWITTER_SIGN_IN_METHOD="twitter.com";Oi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yN(n,e){return Ls(n,"POST","/v1/accounts:signUp",Mt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await _s._fromIdTokenResponse(e,r,i),l=sP(r);return new Fr({user:s,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=sP(r);return new Fr({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function sP(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LH(n){var e;if(Ke(n.app))return Promise.reject(fn(n));const t=Ot(n);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new Fr({user:t.currentUser,providerId:null,operationType:"signIn"});const r=await yN(t,{returnSecureToken:!0}),i=await Fr._fromIdTokenResponse(t,"signIn",r,!0);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og extends hn{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,og.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new og(e,t,r,i)}}function _N(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?og._fromErrorAndOperation(n,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VH(n,e){const t=Ce(n);await _y(!0,t,e);const{providerUserInfo:r}=await Mq(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),i=vN(r||[]);return t.providerData=t.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function eI(n,e,t=!1){const r=await ks(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Fr._forOperation(n,"link",r)}async function _y(n,e,t){await Oh(e);const r=vN(e.providerData),i=n===!1?"provider-already-linked":"no-such-provider";de(r.has(t)===n,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wN(n,e,t=!1){const{auth:r}=n;if(Ke(r.app))return Promise.reject(fn(r));const i="reauthenticate";try{const s=await ks(n,_N(r,i,e,n),t);de(s.idToken,r,"internal-error");const l=my(s.idToken);de(l,r,"internal-error");const{sub:u}=l;return de(n.uid===u,r,"user-mismatch"),Fr._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&In(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EN(n,e,t=!1){if(Ke(n.app))return Promise.reject(fn(n));const r="signIn",i=await _N(n,r,e),s=await Fr._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function vy(n,e){return EN(Ot(n),e)}async function IN(n,e){const t=Ce(n);return await _y(!1,t,e.providerId),eI(t,e)}async function TN(n,e){return wN(Ce(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MH(n,e){return Ls(n,"POST","/v1/accounts:signInWithCustomToken",Mt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FH(n,e){if(Ke(n.app))return Promise.reject(fn(n));const t=Ot(n),r=await MH(t,{token:e,returnSecureToken:!0}),i=await Fr._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?tI._fromServerResponse(e,t):"totpInfo"in t?nI._fromServerResponse(e,t):In(e,"internal-error")}}class tI extends mf{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new tI(t)}}class nI extends mf{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new nI(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(n,e,t){var r;de(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),de(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),de(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(de(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(de(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rI(n){const e=Ot(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function UH(n,e,t){const r=Ot(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&wy(r,i,t),await So(r,i,"getOobCode",EH,"EMAIL_PASSWORD_PROVIDER")}async function $H(n,e,t){await gN(Ce(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&rI(n),r})}async function jH(n,e){await _H(Ce(n),{oobCode:e})}async function SN(n,e){const t=Ce(n),r=await gN(t,{oobCode:e}),i=r.requestType;switch(de(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":de(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":de(r.mfaInfo,t,"internal-error");default:de(r.email,t,"internal-error")}let s=null;return r.mfaInfo&&(s=mf._fromServerResponse(Ot(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function BH(n,e){const{data:t}=await SN(Ce(n),e);return t.email}async function zH(n,e,t){if(Ke(n.app))return Promise.reject(fn(n));const r=Ot(n),l=await So(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yN,"EMAIL_PASSWORD_PROVIDER").catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&rI(n),d}),u=await Fr._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function WH(n,e,t){return Ke(n.app)?Promise.reject(fn(n)):vy(Ce(n),Ko.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&rI(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qH(n,e,t){const r=Ot(n),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(l,u){de(u.handleCodeInApp,r,"argument-error"),u&&wy(r,l,u)}s(i,t),await So(r,i,"getOobCode",IH,"EMAIL_PASSWORD_PROVIDER")}function HH(n,e){const t=yy.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"}async function KH(n,e,t){if(Ke(n.app))return Promise.reject(fn(n));const r=Ce(n),i=Ko.credentialWithLink(e,t||xh());return de(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),vy(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GH(n,e){return Ft(n,"POST","/v1/accounts:createAuthUri",Mt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QH(n,e){const t=JE()?xh():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:i}=await GH(Ce(n),r);return i||[]}async function YH(n,e){const t=Ce(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&wy(t.auth,i,e);const{email:s}=await wH(t.auth,i);s!==n.email&&await n.reload()}async function JH(n,e,t){const r=Ce(n),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&wy(r.auth,s,t);const{email:l}=await TH(r.auth,s);l!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XH(n,e){return Ft(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZH(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Ce(n),s={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await ks(r,XH(r.auth,s));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const u=r.providerData.find(({providerId:d})=>d==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function e8(n,e){const t=Ce(n);return Ke(t.auth.app)?Promise.reject(fn(t.auth)):RN(t,e,null)}function t8(n,e){return RN(Ce(n),null,e)}async function RN(n,e,t){const{auth:r}=n,s={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(s.email=e),t&&(s.password=t);const l=await ks(n,gH(r,s));await n._updateTokensIfNecessary(l,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n8(n){var e,t;if(!n)return null;const{providerId:r}=n,i=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},s=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(n!=null&&n.idToken)){const l=(t=(e=my(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(l){const u=l!=="anonymous"&&l!=="custom"?l:null;return new Pu(s,u)}}if(!r)return null;switch(r){case"facebook.com":return new r8(s,i);case"github.com":return new i8(s,i);case"google.com":return new s8(s,i);case"twitter.com":return new o8(s,i,n.screenName||null);case"custom":case"anonymous":return new Pu(s,null);default:return new Pu(s,r,i)}}class Pu{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class AN extends Pu{constructor(e,t,r,i){super(e,t,r),this.username=i}}class r8 extends Pu{constructor(e,t){super(e,"facebook.com",t)}}class i8 extends AN{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class s8 extends Pu{constructor(e,t){super(e,"google.com",t)}}class o8 extends AN{constructor(e,t,r){super(e,"twitter.com",t,r)}}function a8(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:n8(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new La("enroll",e,t)}static _fromMfaPendingCredential(e){return new La("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e!=null&&e.multiFactorSession){if(!((t=e.multiFactorSession)===null||t===void 0)&&t.pendingCredential)return La._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return La._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=Ot(e),i=t.customData._serverResponse,s=(i.mfaInfo||[]).map(u=>mf._fromServerResponse(r,u));de(i.mfaPendingCredential,r,"internal-error");const l=La._fromMfaPendingCredential(i.mfaPendingCredential);return new iI(l,s,async u=>{const d=await u._process(r,l);delete i.mfaInfo,delete i.mfaPendingCredential;const h=Object.assign(Object.assign({},i),{idToken:d.idToken,refreshToken:d.refreshToken});switch(t.operationType){case"signIn":const m=await Fr._fromIdTokenResponse(r,t.operationType,h);return await r._updateCurrentUser(m.user),m;case"reauthenticate":return de(t.user,r,"internal-error"),Fr._forOperation(t.user,t.operationType,h);default:In(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function l8(n,e){var t;const r=Ce(n),i=e;return de(e.customData.operationType,r,"argument-error"),de((t=i.customData._serverResponse)===null||t===void 0?void 0:t.mfaPendingCredential,r,"argument-error"),iI._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(n,e){return Ft(n,"POST","/v2/accounts/mfaEnrollment:start",Mt(n,e))}function u8(n,e){return Ft(n,"POST","/v2/accounts/mfaEnrollment:finalize",Mt(n,e))}function c8(n,e){return Ft(n,"POST","/v2/accounts/mfaEnrollment:withdraw",Mt(n,e))}class sI{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>mf._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new sI(e)}async getSession(){return La._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,i=await this.getSession(),s=await ks(this.user,r._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await ks(this.user,c8(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==t),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const Mv=new WeakMap;function d8(n){const e=Ce(n);return Mv.has(e)||Mv.set(e,sI._fromUser(e)),Mv.get(e)}const ag="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ag,"1"),this.storage.removeItem(ag),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h8=1e3,f8=10;class PN extends bN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);Kq()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,f8):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},h8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}PN.type="LOCAL";const oI=PN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN extends bN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}CN.type="SESSION";const Ja=CN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p8(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Ey(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async h=>h(t.origin,s)),d=await p8(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ey.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((u,d)=>{const h=gf("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const _=g;if(_.data.eventId===h)switch(_.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(_.data.response);break;default:clearTimeout(m),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(){return window}function g8(n){Gt().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(){return typeof Gt().WorkerGlobalScope<"u"&&typeof Gt().importScripts=="function"}async function y8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _8(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function v8(){return aI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN="firebaseLocalStorageDb",w8=1,lg="firebaseLocalStorage",xN="fbase_key";class yf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Iy(n,e){return n.transaction([lg],e?"readwrite":"readonly").objectStore(lg)}function E8(){const n=indexedDB.deleteDatabase(kN);return new yf(n).toPromise()}function Gw(){const n=indexedDB.open(kN,w8);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(lg,{keyPath:xN})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(lg)?e(r):(r.close(),await E8(),e(await Gw()))})})}async function aP(n,e,t){const r=Iy(n,!0).put({[xN]:e,value:t});return new yf(r).toPromise()}async function I8(n,e){const t=Iy(n,!1).get(e),r=await new yf(t).toPromise();return r===void 0?null:r.value}function lP(n,e){const t=Iy(n,!0).delete(e);return new yf(t).toPromise()}const T8=800,S8=3;class ON{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gw(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>S8)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ey._getInstance(v8()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await y8(),!this.activeServiceWorker)return;this.sender=new m8(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gw();return await aP(e,ag,"1"),await lP(e,ag),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>aP(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>I8(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>lP(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Iy(i,!1).getAll();return new yf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),T8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ON.type="LOCAL";const Dh=ON;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(n,e){return Ft(n,"POST","/v2/accounts/mfaSignIn:start",Mt(n,e))}function R8(n,e){return Ft(n,"POST","/v2/accounts/mfaSignIn:finalize",Mt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv=fN("rcb"),A8=new df(3e4,6e4);class b8{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Gt().grecaptcha)===null||e===void 0)&&e.render)}load(e,t=""){return de(P8(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Jb(Gt().grecaptcha)?Promise.resolve(Gt().grecaptcha):new Promise((r,i)=>{const s=Gt().setTimeout(()=>{i(nn(e,"network-request-failed"))},A8.get());Gt()[Fv]=()=>{Gt().clearTimeout(s),delete Gt()[Fv];const u=Gt().grecaptcha;if(!u||!Jb(u)){i(nn(e,"internal-error"));return}const d=u.render;u.render=(h,m)=>{const g=d(h,m);return this.counter++,g},this.hostLanguage=t,r(u)};const l=`${eH()}?${di({onload:Fv,render:"explicit",hl:t})}`;ZE(l).catch(()=>{clearTimeout(s),i(nn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(!((t=Gt().grecaptcha)===null||t===void 0)&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function P8(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class C8{async load(e){return new sH(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh="recaptcha",k8={theme:"light",type:"image"};let x8=class{constructor(e,t,r=Object.assign({},k8)){this.parameters=r,this.type=nh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ot(e),this.isInvisible=this.parameters.size==="invisible",de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof t=="string"?document.getElementById(t):t;de(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new C8:new b8,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(i=>{const s=l=>{l&&(this.tokenChangeListeners.delete(s),i(l))};this.tokenChangeListeners.add(s),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){de(!this.parameters.sitekey,this.auth,"argument-error"),de(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=Gt()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){de(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){de(JE()&&!aI(),this.auth,"internal-error"),await O8(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await Lq(this.auth);de(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return de(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function O8(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Ua._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function N8(n,e,t){if(Ke(n.app))return Promise.reject(fn(n));const r=Ot(n),i=await Ty(r,e,Ce(t));return new lI(i,s=>vy(r,s))}async function D8(n,e,t){const r=Ce(n);await _y(!1,r,"phone");const i=await Ty(r.auth,e,Ce(t));return new lI(i,s=>IN(r,s))}async function L8(n,e,t){const r=Ce(n);if(Ke(r.auth.app))return Promise.reject(fn(r.auth));const i=await Ty(r.auth,e,Ce(t));return new lI(i,s=>TN(r,s))}async function Ty(n,e,t){var r;if(!n._getRecaptchaConfig())try{await dH(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const s=i.session;if("phoneNumber"in i){de(s.type==="enroll",n,"internal-error");const l={idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await So(n,l,"mfaSmsEnrollment",async(m,g)=>{if(g.phoneEnrollmentInfo.captchaResponse===th){de((t==null?void 0:t.type)===nh,m,"argument-error");const _=await Uv(m,g,t);return oP(m,_)}return oP(m,g)},"PHONE_PROVIDER").catch(m=>Promise.reject(m))).phoneSessionInfo.sessionInfo}else{de(s.type==="signin",n,"internal-error");const l=((r=i.multiFactorHint)===null||r===void 0?void 0:r.uid)||i.multiFactorUid;de(l,n,"missing-multi-factor-info");const u={mfaPendingCredential:s.credential,mfaEnrollmentId:l,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await So(n,u,"mfaSmsSignIn",async(g,_)=>{if(_.phoneSignInInfo.captchaResponse===th){de((t==null?void 0:t.type)===nh,g,"argument-error");const I=await Uv(g,_,t);return uP(g,I)}return uP(g,_)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneResponseInfo.sessionInfo}}else{const s={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await So(n,s,"sendVerificationCode",async(h,m)=>{if(m.captchaResponse===th){de((t==null?void 0:t.type)===nh,h,"argument-error");const g=await Uv(h,m,t);return iP(h,g)}return iP(h,m)},"PHONE_PROVIDER").catch(h=>Promise.reject(h))).sessionInfo}}finally{t==null||t._reset()}}async function V8(n,e){const t=Ce(n);if(Ke(t.auth.app))return Promise.reject(fn(t.auth));await eI(t,e)}async function Uv(n,e,t){de(t.type===nh,n,"argument-error");const r=await t.verify();de(typeof r=="string",n,"argument-error");const i=Object.assign({},e);if("phoneEnrollmentInfo"in i){const s=i.phoneEnrollmentInfo.phoneNumber,l=i.phoneEnrollmentInfo.captchaResponse,u=i.phoneEnrollmentInfo.clientType,d=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:s,recaptchaToken:r,captchaResponse:l,clientType:u,recaptchaVersion:d}}),i}else if("phoneSignInInfo"in i){const s=i.phoneSignInInfo.captchaResponse,l=i.phoneSignInInfo.clientType,u=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:s,clientType:l,recaptchaVersion:u}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xa=class Em{constructor(e){this.providerId=Em.PROVIDER_ID,this.auth=Ot(e)}verifyPhoneNumber(e,t){return Ty(this.auth,e,Ce(t))}static credential(e,t){return Ua._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Em.credentialFromTaggedObject(t)}static credentialFromError(e){return Em.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?Ua._fromTokenResponse(t,r):null}};Xa.PROVIDER_ID="phone";Xa.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ll(n,e){return e?mr(e):(de(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI extends gc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ts(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ts(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ts(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function M8(n){return EN(n.auth,new uI(n),n.bypassAuthState)}function F8(n){const{auth:e,user:t}=n;return de(t,e,"internal-error"),wN(t,new uI(n),n.bypassAuthState)}async function U8(n){const{auth:e,user:t}=n;return de(t,e,"internal-error"),eI(t,new uI(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return M8;case"linkViaPopup":case"linkViaRedirect":return U8;case"reauthViaPopup":case"reauthViaRedirect":return F8;default:In(this.auth,"internal-error")}}resolve(e){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $8=new df(2e3,1e4);async function j8(n,e,t){if(Ke(n.app))return Promise.reject(nn(n,"operation-not-supported-in-this-environment"));const r=Ot(n);mc(n,e,Vs);const i=ll(r,t);return new vs(r,"signInViaPopup",e,i).executeNotNull()}async function B8(n,e,t){const r=Ce(n);if(Ke(r.auth.app))return Promise.reject(nn(r.auth,"operation-not-supported-in-this-environment"));mc(r.auth,e,Vs);const i=ll(r.auth,t);return new vs(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function z8(n,e,t){const r=Ce(n);mc(r.auth,e,Vs);const i=ll(r.auth,t);return new vs(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class vs extends NN{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,vs.currentPopupAction&&vs.currentPopupAction.cancel(),vs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){ui(this.filter.length===1,"Popup operations only handle one event");const e=gf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(nn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(nn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(nn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$8.get())};e()}}vs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W8="pendingRedirect",rh=new Map;class q8 extends NN{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=rh.get(this.auth._key());if(!e){try{const r=await H8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}rh.set(this.auth._key(),e)}return this.bypassAuthState||rh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function H8(n,e){const t=LN(e),r=DN(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}async function cI(n,e){return DN(n)._set(LN(e),"true")}function K8(){rh.clear()}function dI(n,e){rh.set(n._key(),e)}function DN(n){return mr(n._redirectPersistence)}function LN(n){return Fa(W8,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G8(n,e,t){return Q8(n,e,t)}async function Q8(n,e,t){if(Ke(n.app))return Promise.reject(fn(n));const r=Ot(n);mc(n,e,Vs),await r._initializationPromise;const i=ll(r,t);return await cI(i,r),i._openRedirect(r,e,"signInViaRedirect")}function Y8(n,e,t){return J8(n,e,t)}async function J8(n,e,t){const r=Ce(n);if(mc(r.auth,e,Vs),Ke(r.auth.app))return Promise.reject(fn(r.auth));await r.auth._initializationPromise;const i=ll(r.auth,t);await cI(i,r.auth);const s=await VN(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function X8(n,e,t){return Z8(n,e,t)}async function Z8(n,e,t){const r=Ce(n);mc(r.auth,e,Vs),await r.auth._initializationPromise;const i=ll(r.auth,t);await _y(!1,r,e.providerId),await cI(i,r.auth);const s=await VN(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function eK(n,e){return await Ot(n)._initializationPromise,Sy(n,e,!1)}async function Sy(n,e,t=!1){if(Ke(n.app))return Promise.reject(fn(n));const r=Ot(n),i=ll(r,e),l=await new q8(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}async function VN(n){const e=gf(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tK=10*60*1e3;class MN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nK(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!FN(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(nn(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tK&&this.cachedEventUids.clear(),this.cachedEventUids.has(cP(e))}saveEventToCache(e){this.cachedEventUids.add(cP(e)),this.lastProcessedEventTime=Date.now()}}function cP(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function FN({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function nK(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FN(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UN(n,e={}){return Ft(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rK=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iK=/^https?/;async function sK(n){if(n.config.emulator)return;const{authorizedDomains:e}=await UN(n);for(const t of e)try{if(oK(t))return}catch{}In(n,"unauthorized-domain")}function oK(n){const e=xh(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!iK.test(t))return!1;if(rK.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aK=new df(3e4,6e4);function dP(){const n=Gt().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function lK(n){return new Promise((e,t)=>{var r,i,s;function l(){dP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dP(),t(nn(n,"network-request-failed"))},timeout:aK.get()})}if(!((i=(r=Gt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Gt().gapi)===null||s===void 0)&&s.load)l();else{const u=fN("iframefcb");return Gt()[u]=()=>{gapi.load?l():t(nn(n,"network-request-failed"))},ZE(`${nH()}?onload=${u}`).catch(d=>t(d))}}).catch(e=>{throw Im=null,e})}let Im=null;function uK(n){return Im=Im||lK(n),Im}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cK=new df(5e3,15e3),dK="__/auth/iframe",hK="emulator/auth/iframe",fK={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pK=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mK(n){const e=n.config;de(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?XE(e,hK):`https://${n.config.authDomain}/${dK}`,r={apiKey:e.apiKey,appName:n.name,v:Er},i=pK.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${di(r).slice(1)}`}async function gK(n){const e=await uK(n),t=Gt().gapi;return de(t,n,"internal-error"),e.open({where:document.body,url:mK(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fK,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=nn(n,"network-request-failed"),u=Gt().setTimeout(()=>{s(l)},cK.get());function d(){Gt().clearTimeout(u),i(r)}r.ping(d).then(d,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yK={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_K=500,vK=600,wK="_blank",EK="http://localhost";class hP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function IK(n,e,t,r=_K,i=vK){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d=Object.assign(Object.assign({},yK),{width:r.toString(),height:i.toString(),top:s,left:l}),h=We().toLowerCase();t&&(u=aN(h)?wK:t),sN(h)&&(e=e||EK,d.scrollbars="yes");const m=Object.entries(d).reduce((_,[I,T])=>`${_}${I}=${T},`,"");if(Hq(h)&&u!=="_self")return TK(e||"",u),new hP(null);const g=window.open(e||"",u,m);de(g,n,"popup-blocked");try{g.focus()}catch{}return new hP(g)}function TK(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SK="__/auth/handler",RK="emulator/auth/handler",AK=encodeURIComponent("fac");async function Qw(n,e,t,r,i,s){de(n.config.authDomain,n,"auth-domain-config-required"),de(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Er,eventId:i};if(e instanceof Vs){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",sk(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries(s||{}))l[m]=g}if(e instanceof yc){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const d=await n._getAppCheckToken(),h=d?`#${AK}=${encodeURIComponent(d)}`:"";return`${bK(n)}?${di(u).slice(1)}${h}`}function bK({config:n}){return n.emulator?XE(n,RK):`https://${n.authDomain}/${SK}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="webStorageSupport";class PK{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ja,this._completeRedirectFn=Sy,this._overrideRedirectResult=dI}async _openPopup(e,t,r,i){var s;ui((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const l=await Qw(e,t,r,xh(),i);return IK(e,l,gf())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await Qw(e,t,r,xh(),i);return g8(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(ui(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await gK(e),r=new MN(e);return t.register("authEvent",i=>(de(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send($v,{type:$v},i=>{var s;const l=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[$v];l!==void 0&&t(!!l),In(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=sK(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return dN()||oN()||ff()}}const CK=PK;class kK{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return Vi("unexpected MultiFactorSessionType")}}}class hI extends kK{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new hI(e)}_finalizeEnroll(e,t,r){return u8(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return R8(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class $N{constructor(){}static assertion(e){return hI._fromCredential(e)}}$N.FACTOR_ID="phone";var fP="@firebase/auth",pP="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xK{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OK(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function NK(n){Bi(new Mr("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;de(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hN(n)},h=new Xq(r,i,s,d);return hH(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Bi(new Mr("auth-internal",e=>{const t=Ot(e.getProvider("auth").getImmediate());return(r=>new xK(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),vr(fP,pP,OK(n)),vr(fP,pP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DK=5*60;S0("authIdTokenMaxAge");function LK(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Zq({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=nn("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",LK().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});NK("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VK=2e3;async function MK(n,e,t){var r;const{BuildInfo:i}=Za();ui(e.sessionId,"AuthEvent did not contain a session ID");const s=await BK(e.sessionId),l={};return ff()?l.ibi=i.packageName:hf()?l.apn=i.packageName:In(n,"operation-not-supported-in-this-environment"),i.displayName&&(l.appDisplayName=i.displayName),l.sessionId=s,Qw(n,t,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,l)}async function FK(n){const{BuildInfo:e}=Za(),t={};ff()?t.iosBundleId=e.packageName:hf()?t.androidPackageName=e.packageName:In(n,"operation-not-supported-in-this-environment"),await UN(n,t)}function UK(n){const{cordova:e}=Za();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(n):i=e.InAppBrowser.open(n,qq()?"_blank":"_system","location=yes"),t(i)})})}async function $K(n,e,t){const{cordova:r}=Za();let i=()=>{};try{await new Promise((s,l)=>{let u=null;function d(){var g;s();const _=(g=r.plugins.browsertab)===null||g===void 0?void 0:g.close;typeof _=="function"&&_(),typeof(t==null?void 0:t.close)=="function"&&t.close()}function h(){u||(u=window.setTimeout(()=>{l(nn(n,"redirect-cancelled-by-user"))},VK))}function m(){(document==null?void 0:document.visibilityState)==="visible"&&h()}e.addPassiveListener(d),document.addEventListener("resume",h,!1),hf()&&document.addEventListener("visibilitychange",m,!1),i=()=>{e.removePassiveListener(d),document.removeEventListener("resume",h,!1),document.removeEventListener("visibilitychange",m,!1),u&&window.clearTimeout(u)}})}finally{i()}}function jK(n){var e,t,r,i,s,l,u,d,h,m;const g=Za();de(typeof((e=g==null?void 0:g.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),de(typeof((t=g==null?void 0:g.BuildInfo)===null||t===void 0?void 0:t.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),de(typeof((s=(i=(r=g==null?void 0:g.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),de(typeof((d=(u=(l=g==null?void 0:g.cordova)===null||l===void 0?void 0:l.plugins)===null||u===void 0?void 0:u.browsertab)===null||d===void 0?void 0:d.isAvailable)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),de(typeof((m=(h=g==null?void 0:g.cordova)===null||h===void 0?void 0:h.InAppBrowser)===null||m===void 0?void 0:m.open)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function BK(n){const e=zK(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(i=>i.toString(16).padStart(2,"0")).join("")}function zK(n){if(ui(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WK=20;class qK extends MN{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function HK(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:QK(),postBody:null,tenantId:n.tenantId,error:nn(n,"no-auth-event")}}function KK(n,e){return Yw()._set(Jw(n),e)}async function mP(n){const e=await Yw()._get(Jw(n));return e&&await Yw()._remove(Jw(n)),e}function GK(n,e){var t,r;const i=JK(e);if(i.includes("/__/auth/callback")){const s=Tm(i),l=s.firebaseError?YK(decodeURIComponent(s.firebaseError)):null,u=(r=(t=l==null?void 0:l.code)===null||t===void 0?void 0:t.split("auth/"))===null||r===void 0?void 0:r[1],d=u?nn(u):null;return d?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:d,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:i,postBody:null}}return null}function QK(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<WK;t++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function Yw(){return mr(oI)}function Jw(n){return Fa("authEvent",n.config.apiKey,n.name)}function YK(n){try{return JSON.parse(n)}catch{return null}}function JK(n){const e=Tm(n),t=e.link?decodeURIComponent(e.link):void 0,r=Tm(t).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Tm(i).link||i||r||t||n}function Tm(n){if(!(n!=null&&n.includes("?")))return{};const[e,...t]=n.split("?");return si(t.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XK=500;class ZK{constructor(){this._redirectPersistence=Ja,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Sy,this._overrideRedirectResult=dI}async _initialize(e){const t=e._key();let r=this.eventManagers.get(t);return r||(r=new qK(e),this.eventManagers.set(t,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){In(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,r,i){jK(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),K8(),await this._originValidation(e);const l=HK(e,r,i);await KK(e,l);const u=await MK(e,l,t),d=await UK(u);return $K(e,s,d)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=FK(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=Za(),l=setTimeout(async()=>{await mP(e),t.onEvent(gP())},XK),u=async m=>{clearTimeout(l);const g=await mP(e);let _=null;g&&(m!=null&&m.url)&&(_=GK(g,m.url)),t.onEvent(_||gP())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,u);const d=i,h=`${s.packageName.toLowerCase()}://`;Za().handleOpenURL=async m=>{if(m.toLowerCase().startsWith(h)&&u({url:m}),typeof d=="function")try{d(m)}catch(g){console.error(g)}}}}const e7=ZK;function gP(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:nn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t7(n,e){Ot(n)._logFramework(e)}var n7="@firebase/auth-compat",r7="0.5.19";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i7=1e3;function ih(){var n;return((n=self==null?void 0:self.location)===null||n===void 0?void 0:n.protocol)||null}function s7(){return ih()==="http:"||ih()==="https:"}function jN(n=We()){return!!((ih()==="file:"||ih()==="ionic:"||ih()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function o7(){return Lg()||R0()}function a7(){return b0()&&(document==null?void 0:document.documentMode)===11}function l7(n=We()){return/Edge\/\d+/.test(n)}function u7(n=We()){return a7()||l7(n)}function BN(){try{const n=self.localStorage,e=gf();if(n)return n.setItem(e,"1"),n.removeItem(e),u7()?dh():!0}catch{return fI()&&dh()}return!1}function fI(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function jv(){return(s7()||A0()||jN())&&!o7()&&BN()&&!fI()}function zN(){return jN()&&typeof document<"u"}async function c7(){return zN()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},i7);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function d7(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr={LOCAL:"local",NONE:"none",SESSION:"session"},xd=de,WN="persistence";function h7(n,e){if(xd(Object.values(fr).includes(e),n,"invalid-persistence-type"),Lg()){xd(e!==fr.SESSION,n,"unsupported-persistence-type");return}if(R0()){xd(e===fr.NONE,n,"unsupported-persistence-type");return}if(fI()){xd(e===fr.NONE||e===fr.LOCAL&&dh(),n,"unsupported-persistence-type");return}xd(e===fr.NONE||BN(),n,"unsupported-persistence-type")}async function Xw(n){await n._initializationPromise;const e=qN(),t=Fa(WN,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistence())}function f7(n,e){const t=qN();if(!t)return[];const r=Fa(WN,n,e);switch(t.getItem(r)){case fr.NONE:return[Xu];case fr.LOCAL:return[Dh,Ja];case fr.SESSION:return[Ja];default:return[]}}function qN(){var n;try{return((n=d7())===null||n===void 0?void 0:n.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p7=de;class _o{constructor(){this.browserResolver=mr(CK),this.cordovaResolver=mr(e7),this.underlyingResolver=null,this._redirectPersistence=Ja,this._completeRedirectFn=Sy,this._overrideRedirectResult=dI}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,r,i)}async _openRedirect(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,r,i)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return zN()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return p7(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await c7();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(n){return n.unwrap()}function m7(n){return n.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g7(n){return KN(n)}function y7(n,e){var t;const r=(t=e.customData)===null||t===void 0?void 0:t._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new _7(n,l8(n,e))}else if(r){const i=KN(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function KN(n){const{_tokenResponse:e}=n instanceof hn?n.customData:n;if(!e)return null;if(!(n instanceof hn)&&"temporaryProof"in e&&"phoneNumber"in e)return Xa.credentialFromResult(n);const t=e.providerId;if(!t||t===Cd.PASSWORD)return null;let r;switch(t){case Cd.GOOGLE:r=ki;break;case Cd.FACEBOOK:r=Ci;break;case Cd.GITHUB:r=xi;break;case Cd.TWITTER:r=Oi;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:l,pendingToken:u,nonce:d}=e;return!s&&!l&&!i&&!u?null:u?t.startsWith("saml.")?Zu._create(t,u):Hi._fromParams({providerId:t,signInMethod:t,pendingToken:u,idToken:i,accessToken:s}):new bu(t).credential({idToken:i,accessToken:s,rawNonce:d})}return n instanceof hn?r.credentialFromError(n):r.credentialFromResult(n)}function Jn(n,e){return e.catch(t=>{throw t instanceof hn&&y7(n,t),t}).then(t=>{const r=t.operationType,i=t.user;return{operationType:r,credential:g7(t),additionalUserInfo:a8(t),user:ws.getOrCreate(i)}})}async function Zw(n,e){const t=await e;return{verificationId:t.verificationId,confirm:r=>Jn(n,t.confirm(r))}}class _7{constructor(e,t){this.resolver=t,this.auth=m7(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Jn(HN(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e){this._delegate=e,this.multiFactor=d8(e)}static getOrCreate(e){return ws.USER_MAP.has(e)||ws.USER_MAP.set(e,new ws(e)),ws.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Jn(this.auth,IN(this._delegate,e))}async linkWithPhoneNumber(e,t){return Zw(this.auth,D8(this._delegate,e,t))}async linkWithPopup(e){return Jn(this.auth,z8(this._delegate,e,_o))}async linkWithRedirect(e){return await Xw(Ot(this.auth)),X8(this._delegate,e,_o)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Jn(this.auth,TN(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return Zw(this.auth,L8(this._delegate,e,t))}reauthenticateWithPopup(e){return Jn(this.auth,B8(this._delegate,e,_o))}async reauthenticateWithRedirect(e){return await Xw(Ot(this.auth)),Y8(this._delegate,e,_o)}sendEmailVerification(e){return YH(this._delegate,e)}async unlink(e){return await VH(this._delegate,e),this}updateEmail(e){return e8(this._delegate,e)}updatePassword(e){return t8(this._delegate,e)}updatePhoneNumber(e){return V8(this._delegate,e)}updateProfile(e){return ZH(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return JH(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ws.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od=de;class e0{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Od(r,"invalid-api-key",{appName:e.name}),Od(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?_o:void 0;this._delegate=t.initialize({options:{persistence:v7(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Aq),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ws.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){fH(this._delegate,e,t)}applyActionCode(e){return jH(this._delegate,e)}checkActionCode(e){return SN(this._delegate,e)}confirmPasswordReset(e,t){return $H(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return Jn(this._delegate,zH(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return QH(this._delegate,e)}isSignInWithEmailLink(e){return HH(this._delegate,e)}async getRedirectResult(){Od(jv(),this._delegate,"operation-not-supported-in-this-environment");const e=await eK(this._delegate,_o);return e?Jn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){t7(this._delegate,e)}onAuthStateChanged(e,t,r){const{next:i,error:s,complete:l}=yP(e,t,r);return this._delegate.onAuthStateChanged(i,s,l)}onIdTokenChanged(e,t,r){const{next:i,error:s,complete:l}=yP(e,t,r);return this._delegate.onIdTokenChanged(i,s,l)}sendSignInLinkToEmail(e,t){return qH(this._delegate,e,t)}sendPasswordResetEmail(e,t){return UH(this._delegate,e,t||void 0)}async setPersistence(e){h7(this._delegate,e);let t;switch(e){case fr.SESSION:t=Ja;break;case fr.LOCAL:t=await mr(Dh)._isAvailable()?Dh:oI;break;case fr.NONE:t=Xu;break;default:return In("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Jn(this._delegate,LH(this._delegate))}signInWithCredential(e){return Jn(this._delegate,vy(this._delegate,e))}signInWithCustomToken(e){return Jn(this._delegate,FH(this._delegate,e))}signInWithEmailAndPassword(e,t){return Jn(this._delegate,WH(this._delegate,e,t))}signInWithEmailLink(e,t){return Jn(this._delegate,KH(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Zw(this._delegate,N8(this._delegate,e,t))}async signInWithPopup(e){return Od(jv(),this._delegate,"operation-not-supported-in-this-environment"),Jn(this._delegate,j8(this._delegate,e,_o))}async signInWithRedirect(e){return Od(jv(),this._delegate,"operation-not-supported-in-this-environment"),await Xw(this._delegate),G8(this._delegate,e,_o)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return BH(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}e0.Persistence=fr;function yP(n,e,t){let r=n;typeof n!="function"&&({next:r,error:e,complete:t}=n);const i=r;return{next:l=>i(l&&ws.getOrCreate(l)),error:e,complete:t}}function v7(n,e){const t=f7(n,e);if(typeof self<"u"&&!t.includes(Dh)&&t.push(Dh),typeof window<"u")for(const r of[oI,Ja])t.includes(r)||t.push(r);return t.includes(Xu)||t.push(Xu),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{static credential(e,t){return Xa.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new Xa(HN(sc.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}pI.PHONE_SIGN_IN_METHOD=Xa.PHONE_SIGN_IN_METHOD;pI.PROVIDER_ID=Xa.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w7=de;class E7{constructor(e,t,r=sc.app()){var i;w7((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new x8(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I7="auth-compat";function T7(n){n.INTERNAL.registerComponent(new Mr(I7,e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new e0(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:uu.EMAIL_SIGNIN,PASSWORD_RESET:uu.PASSWORD_RESET,RECOVER_EMAIL:uu.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:uu.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:uu.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:uu.VERIFY_EMAIL}},EmailAuthProvider:Ko,FacebookAuthProvider:Ci,GithubAuthProvider:xi,GoogleAuthProvider:ki,OAuthProvider:bu,SAMLAuthProvider:sg,PhoneAuthProvider:pI,PhoneMultiFactorGenerator:$N,RecaptchaVerifier:E7,TwitterAuthProvider:Oi,Auth:e0,AuthCredential:gc,Error:hn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(n7,r7)}T7(sc);const S7={apiKey:"AIzaSyCzNEdFeeT2RdWZWK1F5Q61IZPDB5PHN5s",authDomain:"clone-22796.firebaseapp.com",projectId:"clone-22796",storageBucket:"clone-22796.firebasestorage.app",messagingSenderId:"897790875500",appId:"1:897790875500:web:060e18028c59f1d265c549"},GN=sc.initializeApp(S7),_P=iz(GN);GN.firestore();var R7={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function QN(n){if(typeof n=="number")return{value:n,unit:"px"};var e,t=(n.match(/^[0-9.]*/)||"").toString();t.includes(".")?e=parseFloat(t):e=parseInt(t,10);var r=(n.match(/[^0-9]*$/)||"").toString();return R7[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(n," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function zd(n){var e=QN(n);return"".concat(e.value).concat(e.unit)}var t0=function(n,e,t){var r="react-spinners-".concat(n,"-").concat(t);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var s=i.sheet,l=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return s&&s.insertRule(l,0),r},ug;(function(n){n.maroon="#800000",n.red="#FF0000",n.orange="#FFA500",n.yellow="#FFFF00",n.olive="#808000",n.green="#008000",n.purple="#800080",n.fuchsia="#FF00FF",n.lime="#00FF00",n.teal="#008080",n.aqua="#00FFFF",n.blue="#0000FF",n.navy="#000080",n.black="#000000",n.gray="#808080",n.silver="#C0C0C0",n.white="#FFFFFF"})(ug||(ug={}));var A7=function(n,e){if(n.includes("/"))return n.replace("rgb(","rgba(");var t=n.substring(n.startsWith("rgba(")?5:4,n.length-1).trim(),r=t.split(",");return r.length===4?n.replace("rgb(","rgba("):r.length===3?"rgba(".concat(t,", ").concat(e,")"):"rgba(".concat(t," / ").concat(e,")")},b7=function(n,e){if(n.startsWith("rgb"))return A7(n,e);if(Object.keys(ug).includes(n)&&(n=ug[n]),n[0]==="#"&&(n=n.slice(1)),n.length===3){var t="";n.split("").forEach(function(i){t+=i,t+=i}),n=t}var r=(n.match(/.{2}/g)||[]).map(function(i){return parseInt(i,16)}).join(", ");return"rgba(".concat(r,", ").concat(e,")")},cg=function(){return cg=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},cg.apply(this,arguments)},P7=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},C7=t0("ClimbingBoxLoader",`0% {transform:translate(0, -1em) rotate(-45deg)}
  5% {transform:translate(0, -1em) rotate(-50deg)}
  20% {transform:translate(1em, -2em) rotate(47deg)}
  25% {transform:translate(1em, -2em) rotate(45deg)}
  30% {transform:translate(1em, -2em) rotate(40deg)}
  45% {transform:translate(2em, -3em) rotate(137deg)}
  50% {transform:translate(2em, -3em) rotate(135deg)}
  55% {transform:translate(2em, -3em) rotate(130deg)}
  70% {transform:translate(3em, -4em) rotate(217deg)}
  75% {transform:translate(3em, -4em) rotate(220deg)}
  100% {transform:translate(0, -1em) rotate(-225deg)}`,"climbingBox");function vP(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,s=n.speedMultiplier,l=s===void 0?1:s,u=n.cssOverride,d=u===void 0?{}:u,h=n.size,m=h===void 0?15:h,g=P7(n,["loading","color","speedMultiplier","cssOverride","size"]),_=cg({display:"inherit",position:"relative",width:"7.1em",height:"7.1em"},d),I={position:"absolute",top:"50%",left:"50%",marginTop:"-2.7em",marginLeft:"-2.7em",width:"5.4em",height:"5.4em",fontSize:zd(m)},T={position:"absolute",left:"0",bottom:"-0.1em",height:"1em",width:"1em",backgroundColor:"transparent",borderRadius:"15%",border:"0.25em solid ".concat(i),transform:"translate(0, -1em) rotate(-45deg)",animationFillMode:"both",animation:"".concat(C7," ").concat(2.5/l,"s infinite cubic-bezier(0.79, 0, 0.47, 0.97)")},R={position:"absolute",width:"7.1em",height:"7.1em",top:"1.7em",left:"1.7em",borderLeft:"0.25em solid ".concat(i),transform:"rotate(45deg)"};return t?K.createElement("span",cg({style:_},g),K.createElement("span",{style:I},K.createElement("span",{style:T}),K.createElement("span",{style:R}))):null}var dg=function(){return dg=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},dg.apply(this,arguments)},k7=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function x7(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,s=n.speedMultiplier,l=s===void 0?1:s,u=n.cssOverride,d=u===void 0?{}:u,h=n.size,m=h===void 0?50:h,g=k7(n,["loading","color","speedMultiplier","cssOverride","size"]),_=QN(m),I=_.value,T=_.unit,R=dg({display:"inherit",position:"relative",width:zd(m),height:zd(m),transform:"rotate(165deg)"},d),b=I/5,V=(I-b)/2,L=V-b,M=b7(i,.75),z=t0("HashLoader","0% {width: ".concat(b,"px; box-shadow: ").concat(V,"px ").concat(-L,"px ").concat(M,", ").concat(-V,"px ").concat(L,"px ").concat(M,`}
    35% {width: `).concat(zd(m),"; box-shadow: 0 ").concat(-L,"px ").concat(M,", 0 ").concat(L,"px ").concat(M,`}
    70% {width: `).concat(b,"px; box-shadow: ").concat(-V,"px ").concat(-L,"px ").concat(M,", ").concat(V,"px ").concat(L,"px ").concat(M,`}
    100% {box-shadow: `).concat(V,"px ").concat(-L,"px ").concat(M,", ").concat(-V,"px ").concat(L,"px ").concat(M,"}"),"before"),$=t0("HashLoader","0% {height: ".concat(b,"px; box-shadow: ").concat(L,"px ").concat(V,"px ").concat(i,", ").concat(-L,"px ").concat(-V,"px ").concat(i,`}
    35% {height: `).concat(zd(m),"; box-shadow: ").concat(L,"px 0 ").concat(i,", ").concat(-L,"px 0 ").concat(i,`}
    70% {height: `).concat(b,"px; box-shadow: ").concat(L,"px ").concat(-V,"px ").concat(i,", ").concat(-L,"px ").concat(V,"px ").concat(i,`}
    100% {box-shadow: `).concat(L,"px ").concat(V,"px ").concat(i,", ").concat(-L,"px ").concat(-V,"px ").concat(i,"}"),"after"),W=function(D){return{position:"absolute",top:"50%",left:"50%",display:"block",width:"".concat(I/5).concat(T),height:"".concat(I/5).concat(T),borderRadius:"".concat(I/10).concat(T),transform:"translate(-50%, -50%)",animationFillMode:"none",animation:"".concat(D===1?z:$," ").concat(2/l,"s infinite")}};return t?K.createElement("span",dg({style:R},g),K.createElement("span",{style:W(1)}),K.createElement("span",{style:W(2)})):null}const O7=()=>{const[n,e]=K.useState(""),[t,r]=K.useState(""),[i,s]=K.useState(""),[l,u]=K.useState(!1),d={SET_USER:"SET_USER"},[{user:h},m]=K.useContext(Fh),g=kP(),[_,I]=K.useState({signin:!1,sigup:!1});console.log(h);const T=async R=>{R.preventDefault(),R.target.name==="signin"?(I({signin:!0}),W5(_P,n,t).then(b=>{m({type:d.SET_USER,user:b.user}),I({signin:!1}),g("/amazon-clone")}).catch(b=>s(b.message)),I({signin:!1})):(I({signup:!0}),z5(_P,n,t).then(b=>{m({type:d.SET_USER,user:b.user}),I({signup:!1}),g("/amazon-clone")}).catch(b=>s(b.message)),I({signup:!1}))};return B.jsx(B.Fragment,{children:B.jsxs("div",{className:ao.sign_in_page,children:[B.jsx("div",{className:ao.amazon_img,children:B.jsx(ii,{to:"/",children:B.jsx("img",{src:"./public/Amazon_2024.svg.png",alt:"amazon logo"})})}),B.jsxs("div",{className:ao.sign_in_container,children:[B.jsx("h1",{children:"Sign-In"}),B.jsxs("form",{children:[B.jsxs("div",{className:ao.input_group,children:[B.jsx("label",{htmlFor:"email",children:"Email"}),B.jsx("input",{onChange:R=>e(R.target.value),type:"email",id:"email",placeholder:"enter your email"})]}),B.jsxs("div",{className:ao.input_group,children:[B.jsx("label",{htmlFor:"password",children:"Password"}),B.jsx("input",{onChange:R=>r(R.target.value),type:"password",id:"password",placeholder:"Enter your password here"})]}),B.jsx("button",{type:"submit",name:"signin",onClick:T,className:ao.sign_in_btn,children:"Sign-In"})]}),_.signin?B.jsx(vP,{}):"",B.jsxs("div",{className:"extra-options",children:[B.jsx("a",{href:"#",children:"Forgot your password?"}),B.jsx("p",{children:"By signing-in you agree to AMAZON FAKE CLONE conditions or use & Sale. Please see our privacy notice. Our cookies Notice and our interest-Based Ads Notice"})]}),B.jsxs("div",{className:ao.create_account,children:[B.jsx("p",{children:"New to Amazon?"}),B.jsx("button",{type:"submit",name:"signup",onClick:T,className:ao.signup_btn,children:"Create your Amazon account"}),_.signin?B.jsx(vP,{}):""]}),i&&B.jsx("small",{style:{color:"red",paddingLeft:"80px",paddingTop:"15px"},children:i})]})]})})},N7=()=>B.jsx(tc,{children:B.jsx("div",{children:"Payment"})}),D7=()=>B.jsx(tc,{children:B.jsx("div",{children:"Orders"})}),L7="_container_18umc_1",V7="_subtotal_18umc_13",M7="_btn_18umc_85",F7="_cart_product_18umc_159",U7="_btn_container_18umc_167",Ia={container:L7,subtotal:V7,btn:M7,cart_product:F7,btn_container:U7};function $7(n){return nl({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(n)}function j7(n){return nl({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"},child:[]}]})(n)}const B7=()=>{const[{basket:n,user:e},t]=K.useContext(Fh),r=n==null?void 0:n.reduce((l,u)=>l+u.amount*u.price,0),i=l=>{t({type:Eu.ADD_TO_BASKET,item:l})},s=l=>{t({type:Eu.REMOVE_FROM_BASKET,id:l})};return B.jsx(tc,{children:B.jsxs("section",{className:Ia.container,children:[B.jsxs("div",{className:Ia.cart__container,children:[B.jsx("h2",{children:"Hello"}),B.jsx("h3",{children:"Your shopping basket"}),B.jsx("hr",{}),(n==null?void 0:n.length)===0?B.jsx("p",{children:"Opps! Your Cart is Empty"}):n==null?void 0:n.map((l,u)=>B.jsx(B.Fragment,{children:B.jsxs("section",{className:Ia.cart_product,children:[B.jsx(Og,{product:l,renderDescription:!0,renderAdd:!1,flex:!0},u),B.jsxs("div",{className:Ia.btn_container,children:[B.jsx("button",{className:Ia.btn,onClick:()=>i(l),children:B.jsx(j7,{size:25})}),B.jsx("span",{children:l.amount}),B.jsx("button",{className:Ia.btn,onClick:()=>s(l.id),children:B.jsx($7,{size:25})})]})]})}))]}),(n==null?void 0:n.length)!==0&&B.jsxs("div",{className:`${Ia.subtotal} `,children:[B.jsxs("div",{children:[B.jsxs("p",{children:["Subtotal (",n.length," items)"]}),B.jsx(YC,{amount:r})]}),B.jsxs("span",{children:[B.jsx("input",{type:"checkbox"}),B.jsx("small",{children:"This order contains a gift"})]}),B.jsx(ii,{to:"/payments",children:"Proceed to checkout"})]})]})})},z7="_products_container_1gvjl_1",W7={products_container:z7},YN="https://fakestoreapi.com/products",q7=()=>{const[n,e]=K.useState([]),{name:t}=xP();return console.log(t),K.useEffect(()=>{xt.get(`${YN}/products/category/${t}`).then(r=>{e(r.data)}).catch(r=>{console.log(r)})},[t]),B.jsx(tc,{children:B.jsxs("div",{children:[B.jsx("h1",{style:{padding:"10px"},children:"Results"}),B.jsxs("p",{style:{padding:"10px"},children:["Category/",t]}),B.jsx("hr",{}),B.jsx("div",{className:W7.products_container,children:n==null?void 0:n.map(r=>B.jsx(Og,{data:r,renderAdd:!0},r.id))})]})})},H7=()=>B.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh"},children:B.jsx(x7,{})}),K7=()=>{const{productId:n}=xP(),[e,t]=K.useState({}),[r,i]=K.useState(!1);return K.useEffect(()=>{i(!0),xt.get(`${YN}/${n}`).then(s=>{t(s.data),i(!1)}).catch(s=>{i(!1)})},[n]),B.jsx(tc,{children:r?B.jsx(H7,{}):B.jsx(Og,{product:e,flex:!0,renderDesc:!0,renderAdd:!0})})},G7=()=>B.jsx(TV,{children:B.jsxs(ZL,{children:[B.jsx(fs,{path:"/amazon-clone",element:B.jsx(WR,{})}),B.jsx(fs,{path:"/",element:B.jsx(WR,{})}),B.jsx(fs,{path:"/amazon-clone/auth",element:B.jsx(O7,{})}),B.jsx(fs,{path:"/amazon-clone/payments",element:B.jsx(N7,{})}),B.jsx(fs,{path:"/amazon-clone/orders",element:B.jsx(D7,{})}),B.jsx(fs,{path:"/amazon-clone/cart",element:B.jsx(B7,{})}),B.jsx(fs,{path:"/amazon-clone/category/:name",element:B.jsx(q7,{})}),B.jsx(fs,{path:"/products/:productId",element:B.jsx(K7,{})})]})});function Q7(){return B.jsx(B.Fragment,{children:B.jsx(G7,{})})}const Y7={basket:[]},J7=(n,e)=>{switch(e.type){case Eu.ADD_TO_BASKET:if(n.basket.find(s=>s.id===e.item.id)){const s=n.basket.map(l=>l.id===e.item.id?{...l,amount:l.amount+1}:l);return{...n,basket:s}}else return{...n,basket:[...n.basket,{...e.item,amount:1}]};case Eu.REMOVE_FROM_BASKET:const r=n.basket.findIndex(s=>s.id===e.id);let i=[...n.basket];return r>=0&&(i[r].amount>1?i[r]={...i[r],amount:i[r].amount-1}:i.splice(r,1)),{...n,basket:i};case Eu.SET_USER:return{...n,user:e.user};default:return n}};uL.createRoot(document.getElementById("root")).render(B.jsx(K.StrictMode,{children:B.jsx(hM,{reducer:J7,initialState:Y7,children:B.jsx(Q7,{})})}));
