function LL(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function vE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var fv={exports:{}},_d={},pv={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $S;function VL(){if($S)return je;$S=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function _(W){return W===null||typeof W!="object"?null:(W=g&&W[g]||W["@@iterator"],typeof W=="function"?W:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,R={};function A(W,ie,Te){this.props=W,this.context=ie,this.refs=R,this.updater=Te||T}A.prototype.isReactComponent={},A.prototype.setState=function(W,ie){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,ie,"setState")},A.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function V(){}V.prototype=A.prototype;function L(W,ie,Te){this.props=W,this.context=ie,this.refs=R,this.updater=Te||T}var M=L.prototype=new V;M.constructor=L,I(M,A.prototype),M.isPureReactComponent=!0;var z=Array.isArray,j=Object.prototype.hasOwnProperty,q={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function b(W,ie,Te){var ke,Ve={},$e=null,Qe=null;if(ie!=null)for(ke in ie.ref!==void 0&&(Qe=ie.ref),ie.key!==void 0&&($e=""+ie.key),ie)j.call(ie,ke)&&!D.hasOwnProperty(ke)&&(Ve[ke]=ie[ke]);var qe=arguments.length-2;if(qe===1)Ve.children=Te;else if(1<qe){for(var rt=Array(qe),wt=0;wt<qe;wt++)rt[wt]=arguments[wt+2];Ve.children=rt}if(W&&W.defaultProps)for(ke in qe=W.defaultProps,qe)Ve[ke]===void 0&&(Ve[ke]=qe[ke]);return{$$typeof:n,type:W,key:$e,ref:Qe,props:Ve,_owner:q.current}}function C(W,ie){return{$$typeof:n,type:W.type,key:ie,ref:W.ref,props:W.props,_owner:W._owner}}function E(W){return typeof W=="object"&&W!==null&&W.$$typeof===n}function x(W){var ie={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(Te){return ie[Te]})}var k=/\/+/g;function O(W,ie){return typeof W=="object"&&W!==null&&W.key!=null?x(""+W.key):ie.toString(36)}function ee(W,ie,Te,ke,Ve){var $e=typeof W;($e==="undefined"||$e==="boolean")&&(W=null);var Qe=!1;if(W===null)Qe=!0;else switch($e){case"string":case"number":Qe=!0;break;case"object":switch(W.$$typeof){case n:case e:Qe=!0}}if(Qe)return Qe=W,Ve=Ve(Qe),W=ke===""?"."+O(Qe,0):ke,z(Ve)?(Te="",W!=null&&(Te=W.replace(k,"$&/")+"/"),ee(Ve,ie,Te,"",function(wt){return wt})):Ve!=null&&(E(Ve)&&(Ve=C(Ve,Te+(!Ve.key||Qe&&Qe.key===Ve.key?"":(""+Ve.key).replace(k,"$&/")+"/")+W)),ie.push(Ve)),1;if(Qe=0,ke=ke===""?".":ke+":",z(W))for(var qe=0;qe<W.length;qe++){$e=W[qe];var rt=ke+O($e,qe);Qe+=ee($e,ie,Te,rt,Ve)}else if(rt=_(W),typeof rt=="function")for(W=rt.call(W),qe=0;!($e=W.next()).done;)$e=$e.value,rt=ke+O($e,qe++),Qe+=ee($e,ie,Te,rt,Ve);else if($e==="object")throw ie=String(W),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.");return Qe}function F(W,ie,Te){if(W==null)return W;var ke=[],Ve=0;return ee(W,ke,"","",function($e){return ie.call(Te,$e,Ve++)}),ke}function me(W){if(W._status===-1){var ie=W._result;ie=ie(),ie.then(function(Te){(W._status===0||W._status===-1)&&(W._status=1,W._result=Te)},function(Te){(W._status===0||W._status===-1)&&(W._status=2,W._result=Te)}),W._status===-1&&(W._status=0,W._result=ie)}if(W._status===1)return W._result.default;throw W._result}var oe={current:null},X={transition:null},pe={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:X,ReactCurrentOwner:q};function he(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:F,forEach:function(W,ie,Te){F(W,function(){ie.apply(this,arguments)},Te)},count:function(W){var ie=0;return F(W,function(){ie++}),ie},toArray:function(W){return F(W,function(ie){return ie})||[]},only:function(W){if(!E(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},je.Component=A,je.Fragment=t,je.Profiler=i,je.PureComponent=L,je.StrictMode=r,je.Suspense=d,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,je.act=he,je.cloneElement=function(W,ie,Te){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var ke=I({},W.props),Ve=W.key,$e=W.ref,Qe=W._owner;if(ie!=null){if(ie.ref!==void 0&&($e=ie.ref,Qe=q.current),ie.key!==void 0&&(Ve=""+ie.key),W.type&&W.type.defaultProps)var qe=W.type.defaultProps;for(rt in ie)j.call(ie,rt)&&!D.hasOwnProperty(rt)&&(ke[rt]=ie[rt]===void 0&&qe!==void 0?qe[rt]:ie[rt])}var rt=arguments.length-2;if(rt===1)ke.children=Te;else if(1<rt){qe=Array(rt);for(var wt=0;wt<rt;wt++)qe[wt]=arguments[wt+2];ke.children=qe}return{$$typeof:n,type:W.type,key:Ve,ref:$e,props:ke,_owner:Qe}},je.createContext=function(W){return W={$$typeof:l,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:s,_context:W},W.Consumer=W},je.createElement=b,je.createFactory=function(W){var ie=b.bind(null,W);return ie.type=W,ie},je.createRef=function(){return{current:null}},je.forwardRef=function(W){return{$$typeof:u,render:W}},je.isValidElement=E,je.lazy=function(W){return{$$typeof:m,_payload:{_status:-1,_result:W},_init:me}},je.memo=function(W,ie){return{$$typeof:h,type:W,compare:ie===void 0?null:ie}},je.startTransition=function(W){var ie=X.transition;X.transition={};try{W()}finally{X.transition=ie}},je.unstable_act=he,je.useCallback=function(W,ie){return oe.current.useCallback(W,ie)},je.useContext=function(W){return oe.current.useContext(W)},je.useDebugValue=function(){},je.useDeferredValue=function(W){return oe.current.useDeferredValue(W)},je.useEffect=function(W,ie){return oe.current.useEffect(W,ie)},je.useId=function(){return oe.current.useId()},je.useImperativeHandle=function(W,ie,Te){return oe.current.useImperativeHandle(W,ie,Te)},je.useInsertionEffect=function(W,ie){return oe.current.useInsertionEffect(W,ie)},je.useLayoutEffect=function(W,ie){return oe.current.useLayoutEffect(W,ie)},je.useMemo=function(W,ie){return oe.current.useMemo(W,ie)},je.useReducer=function(W,ie,Te){return oe.current.useReducer(W,ie,Te)},je.useRef=function(W){return oe.current.useRef(W)},je.useState=function(W){return oe.current.useState(W)},je.useSyncExternalStore=function(W,ie,Te){return oe.current.useSyncExternalStore(W,ie,Te)},je.useTransition=function(){return oe.current.useTransition()},je.version="18.3.1",je}var jS;function qo(){return jS||(jS=1,pv.exports=VL()),pv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BS;function ML(){if(BS)return _d;BS=1;var n=qo(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,h){var m,g={},_=null,T=null;h!==void 0&&(_=""+h),d.key!==void 0&&(_=""+d.key),d.ref!==void 0&&(T=d.ref);for(m in d)r.call(d,m)&&!s.hasOwnProperty(m)&&(g[m]=d[m]);if(u&&u.defaultProps)for(m in d=u.defaultProps,d)g[m]===void 0&&(g[m]=d[m]);return{$$typeof:e,type:u,key:_,ref:T,props:g,_owner:i.current}}return _d.Fragment=t,_d.jsx=l,_d.jsxs=l,_d}var zS;function FL(){return zS||(zS=1,fv.exports=ML()),fv.exports}var $=FL(),K=qo();const Ke=vE(K),iw=LL({__proto__:null,default:Ke},[K]);var jp={},mv={exports:{}},er={},gv={exports:{}},yv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WS;function UL(){return WS||(WS=1,function(n){function e(X,pe){var he=X.length;X.push(pe);e:for(;0<he;){var W=he-1>>>1,ie=X[W];if(0<i(ie,pe))X[W]=pe,X[he]=ie,he=W;else break e}}function t(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var pe=X[0],he=X.pop();if(he!==pe){X[0]=he;e:for(var W=0,ie=X.length,Te=ie>>>1;W<Te;){var ke=2*(W+1)-1,Ve=X[ke],$e=ke+1,Qe=X[$e];if(0>i(Ve,he))$e<ie&&0>i(Qe,Ve)?(X[W]=Qe,X[$e]=he,W=$e):(X[W]=Ve,X[ke]=he,W=ke);else if($e<ie&&0>i(Qe,he))X[W]=Qe,X[$e]=he,W=$e;else break e}}return pe}function i(X,pe){var he=X.sortIndex-pe.sortIndex;return he!==0?he:X.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var d=[],h=[],m=1,g=null,_=3,T=!1,I=!1,R=!1,A=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(X){for(var pe=t(h);pe!==null;){if(pe.callback===null)r(h);else if(pe.startTime<=X)r(h),pe.sortIndex=pe.expirationTime,e(d,pe);else break;pe=t(h)}}function z(X){if(R=!1,M(X),!I)if(t(d)!==null)I=!0,me(j);else{var pe=t(h);pe!==null&&oe(z,pe.startTime-X)}}function j(X,pe){I=!1,R&&(R=!1,V(b),b=-1),T=!0;var he=_;try{for(M(pe),g=t(d);g!==null&&(!(g.expirationTime>pe)||X&&!x());){var W=g.callback;if(typeof W=="function"){g.callback=null,_=g.priorityLevel;var ie=W(g.expirationTime<=pe);pe=n.unstable_now(),typeof ie=="function"?g.callback=ie:g===t(d)&&r(d),M(pe)}else r(d);g=t(d)}if(g!==null)var Te=!0;else{var ke=t(h);ke!==null&&oe(z,ke.startTime-pe),Te=!1}return Te}finally{g=null,_=he,T=!1}}var q=!1,D=null,b=-1,C=5,E=-1;function x(){return!(n.unstable_now()-E<C)}function k(){if(D!==null){var X=n.unstable_now();E=X;var pe=!0;try{pe=D(!0,X)}finally{pe?O():(q=!1,D=null)}}else q=!1}var O;if(typeof L=="function")O=function(){L(k)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,F=ee.port2;ee.port1.onmessage=k,O=function(){F.postMessage(null)}}else O=function(){A(k,0)};function me(X){D=X,q||(q=!0,O())}function oe(X,pe){b=A(function(){X(n.unstable_now())},pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_continueExecution=function(){I||T||(I=!0,me(j))},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(X){switch(_){case 1:case 2:case 3:var pe=3;break;default:pe=_}var he=_;_=pe;try{return X()}finally{_=he}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(X,pe){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var he=_;_=X;try{return pe()}finally{_=he}},n.unstable_scheduleCallback=function(X,pe,he){var W=n.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?W+he:W):he=W,X){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=he+ie,X={id:m++,callback:pe,priorityLevel:X,startTime:he,expirationTime:ie,sortIndex:-1},he>W?(X.sortIndex=he,e(h,X),t(d)===null&&X===t(h)&&(R?(V(b),b=-1):R=!0,oe(z,he-W))):(X.sortIndex=ie,e(d,X),I||T||(I=!0,me(j))),X},n.unstable_shouldYield=x,n.unstable_wrapCallback=function(X){var pe=_;return function(){var he=_;_=pe;try{return X.apply(this,arguments)}finally{_=he}}}}(yv)),yv}var qS;function $L(){return qS||(qS=1,gv.exports=UL()),gv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HS;function jL(){if(HS)return er;HS=1;var n=qo(),e=$L();function t(o){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+o,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(o,a){l(o,a),l(o+"Capture",a)}function l(o,a){for(i[o]=a,o=0;o<a.length;o++)r.add(a[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function _(o){return d.call(g,o)?!0:d.call(m,o)?!1:h.test(o)?g[o]=!0:(m[o]=!0,!1)}function T(o,a,c,p){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function I(o,a,c,p){if(a===null||typeof a>"u"||T(o,a,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function R(o,a,c,p,y,w,P){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=y,this.mustUseProperty=c,this.propertyName=o,this.type=a,this.sanitizeURL=w,this.removeEmptyString=P}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){A[o]=new R(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var a=o[0];A[a]=new R(a,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){A[o]=new R(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){A[o]=new R(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){A[o]=new R(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){A[o]=new R(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){A[o]=new R(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){A[o]=new R(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){A[o]=new R(o,5,!1,o.toLowerCase(),null,!1,!1)});var V=/[\-:]([a-z])/g;function L(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var a=o.replace(V,L);A[a]=new R(a,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var a=o.replace(V,L);A[a]=new R(a,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var a=o.replace(V,L);A[a]=new R(a,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){A[o]=new R(o,1,!1,o.toLowerCase(),null,!1,!1)}),A.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){A[o]=new R(o,1,!1,o.toLowerCase(),null,!0,!0)});function M(o,a,c,p){var y=A.hasOwnProperty(a)?A[a]:null;(y!==null?y.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(I(a,c,y,p)&&(c=null),p||y===null?_(a)&&(c===null?o.removeAttribute(a):o.setAttribute(a,""+c)):y.mustUseProperty?o[y.propertyName]=c===null?y.type===3?!1:"":c:(a=y.attributeName,p=y.attributeNamespace,c===null?o.removeAttribute(a):(y=y.type,c=y===3||y===4&&c===!0?"":""+c,p?o.setAttributeNS(p,a,c):o.setAttribute(a,c))))}var z=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),q=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),x=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),X=Symbol.iterator;function pe(o){return o===null||typeof o!="object"?null:(o=X&&o[X]||o["@@iterator"],typeof o=="function"?o:null)}var he=Object.assign,W;function ie(o){if(W===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);W=a&&a[1]||""}return`
`+W+o}var Te=!1;function ke(o,a){if(!o||Te)return"";Te=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Z){var p=Z}Reflect.construct(o,[],a)}else{try{a.call()}catch(Z){p=Z}o.call(a.prototype)}else{try{throw Error()}catch(Z){p=Z}o()}}catch(Z){if(Z&&p&&typeof Z.stack=="string"){for(var y=Z.stack.split(`
`),w=p.stack.split(`
`),P=y.length-1,U=w.length-1;1<=P&&0<=U&&y[P]!==w[U];)U--;for(;1<=P&&0<=U;P--,U--)if(y[P]!==w[U]){if(P!==1||U!==1)do if(P--,U--,0>U||y[P]!==w[U]){var B=`
`+y[P].replace(" at new "," at ");return o.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",o.displayName)),B}while(1<=P&&0<=U);break}}}finally{Te=!1,Error.prepareStackTrace=c}return(o=o?o.displayName||o.name:"")?ie(o):""}function Ve(o){switch(o.tag){case 5:return ie(o.type);case 16:return ie("Lazy");case 13:return ie("Suspense");case 19:return ie("SuspenseList");case 0:case 2:case 15:return o=ke(o.type,!1),o;case 11:return o=ke(o.type.render,!1),o;case 1:return o=ke(o.type,!0),o;default:return""}}function $e(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case D:return"Fragment";case q:return"Portal";case C:return"Profiler";case b:return"StrictMode";case O:return"Suspense";case ee:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case x:return(o.displayName||"Context")+".Consumer";case E:return(o._context.displayName||"Context")+".Provider";case k:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case F:return a=o.displayName||null,a!==null?a:$e(o.type)||"Memo";case me:a=o._payload,o=o._init;try{return $e(o(a))}catch{}}return null}function Qe(o){var a=o.type;switch(o.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=a.render,o=o.displayName||o.name||"",a.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $e(a);case 8:return a===b?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function qe(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function rt(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function wt(o){var a=rt(o)?"checked":"value",c=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),p=""+o[a];if(!o.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,w=c.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return y.call(this)},set:function(P){p=""+P,w.call(this,P)}}),Object.defineProperty(o,a,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(P){p=""+P},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function un(o){o._valueTracker||(o._valueTracker=wt(o))}function it(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var c=a.getValue(),p="";return o&&(p=rt(o)?o.checked?"true":"false":o.value),o=p,o!==c?(a.setValue(o),!0):!1}function gt(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function en(o,a){var c=a.checked;return he({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??o._wrapperState.initialChecked})}function qr(o,a){var c=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;c=qe(a.value!=null?a.value:c),o._wrapperState={initialChecked:p,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Ar(o,a){a=a.checked,a!=null&&M(o,"checked",a,!1)}function Pr(o,a){Ar(o,a);var c=qe(a.value),p=a.type;if(c!=null)p==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+c):o.value!==""+c&&(o.value=""+c);else if(p==="submit"||p==="reset"){o.removeAttribute("value");return}a.hasOwnProperty("value")?Hn(o,a.type,c):a.hasOwnProperty("defaultValue")&&Hn(o,a.type,qe(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(o.defaultChecked=!!a.defaultChecked)}function qn(o,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+o._wrapperState.initialValue,c||a===o.value||(o.value=a),o.defaultValue=a}c=o.name,c!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,c!==""&&(o.name=c)}function Hn(o,a,c){(a!=="number"||gt(o.ownerDocument)!==o)&&(c==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+c&&(o.defaultValue=""+c))}var ar=Array.isArray;function ts(o,a,c,p){if(o=o.options,a){a={};for(var y=0;y<c.length;y++)a["$"+c[y]]=!0;for(c=0;c<o.length;c++)y=a.hasOwnProperty("$"+o[c].value),o[c].selected!==y&&(o[c].selected=y),y&&p&&(o[c].defaultSelected=!0)}else{for(c=""+qe(c),a=null,y=0;y<o.length;y++){if(o[y].value===c){o[y].selected=!0,p&&(o[y].defaultSelected=!0);return}a!==null||o[y].disabled||(a=o[y])}a!==null&&(a.selected=!0)}}function bc(o,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return he({},a,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function gl(o,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(ar(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}o._wrapperState={initialValue:qe(c)}}function yl(o,a){var c=qe(a.value),p=qe(a.defaultValue);c!=null&&(c=""+c,c!==o.value&&(o.value=c),a.defaultValue==null&&o.defaultValue!==c&&(o.defaultValue=c)),p!=null&&(o.defaultValue=""+p)}function Ac(o){var a=o.textContent;a===o._wrapperState.initialValue&&a!==""&&a!==null&&(o.value=a)}function tn(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nn(o,a){return o==null||o==="http://www.w3.org/1999/xhtml"?tn(a):o==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var ns,Pc=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,p,y){MSApp.execUnsafeLocalFunction(function(){return o(a,c,p,y)})}:o}(function(o,a){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=a;else{for(ns=ns||document.createElement("div"),ns.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=ns.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;a.firstChild;)o.appendChild(a.firstChild)}});function Bs(o,a){if(a){var c=o.firstChild;if(c&&c===o.lastChild&&c.nodeType===3){c.nodeValue=a;return}}o.textContent=a}var na={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ra=["Webkit","ms","Moz","O"];Object.keys(na).forEach(function(o){ra.forEach(function(a){a=a+o.charAt(0).toUpperCase()+o.substring(1),na[a]=na[o]})});function Cc(o,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||na.hasOwnProperty(o)&&na[o]?(""+a).trim():a+"px"}function kc(o,a){o=o.style;for(var c in a)if(a.hasOwnProperty(c)){var p=c.indexOf("--")===0,y=Cc(c,a[c],p);c==="float"&&(c="cssFloat"),p?o.setProperty(c,y):o[c]=y}}var xc=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Oc(o,a){if(a){if(xc[o]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Nc(o,a){if(o.indexOf("-")===-1)return typeof a.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ia=null;function _l(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var vl=null,Cr=null,gi=null;function wl(o){if(o=rd(o)){if(typeof vl!="function")throw Error(t(280));var a=o.stateNode;a&&(a=np(a),vl(o.stateNode,o.type,a))}}function yi(o){Cr?gi?gi.push(o):gi=[o]:Cr=o}function Dc(){if(Cr){var o=Cr,a=gi;if(gi=Cr=null,wl(o),a)for(o=0;o<a.length;o++)wl(a[o])}}function sa(o,a){return o(a)}function Lc(){}var rs=!1;function Vc(o,a,c){if(rs)return o(a,c);rs=!0;try{return sa(o,a,c)}finally{rs=!1,(Cr!==null||gi!==null)&&(Lc(),Dc())}}function jt(o,a){var c=o.stateNode;if(c===null)return null;var p=np(c);if(p===null)return null;c=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var El=!1;if(u)try{var Hr={};Object.defineProperty(Hr,"passive",{get:function(){El=!0}}),window.addEventListener("test",Hr,Hr),window.removeEventListener("test",Hr,Hr)}catch{El=!1}function oa(o,a,c,p,y,w,P,U,B){var Z=Array.prototype.slice.call(arguments,3);try{a.apply(c,Z)}catch(ce){this.onError(ce)}}var aa=!1,Il=null,Kr=!1,Mc=null,jy={onError:function(o){aa=!0,Il=o}};function Tl(o,a,c,p,y,w,P,U,B){aa=!1,Il=null,oa.apply(jy,arguments)}function Af(o,a,c,p,y,w,P,U,B){if(Tl.apply(this,arguments),aa){if(aa){var Z=Il;aa=!1,Il=null}else throw Error(t(198));Kr||(Kr=!0,Mc=Z)}}function Gr(o){var a=o,c=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,a.flags&4098&&(c=a.return),o=a.return;while(o)}return a.tag===3?c:null}function la(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function Qr(o){if(Gr(o)!==o)throw Error(t(188))}function Pf(o){var a=o.alternate;if(!a){if(a=Gr(o),a===null)throw Error(t(188));return a!==o?null:o}for(var c=o,p=a;;){var y=c.return;if(y===null)break;var w=y.alternate;if(w===null){if(p=y.return,p!==null){c=p;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===c)return Qr(y),o;if(w===p)return Qr(y),a;w=w.sibling}throw Error(t(188))}if(c.return!==p.return)c=y,p=w;else{for(var P=!1,U=y.child;U;){if(U===c){P=!0,c=y,p=w;break}if(U===p){P=!0,p=y,c=w;break}U=U.sibling}if(!P){for(U=w.child;U;){if(U===c){P=!0,c=w,p=y;break}if(U===p){P=!0,p=w,c=y;break}U=U.sibling}if(!P)throw Error(t(189))}}if(c.alternate!==p)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?o:a}function Fc(o){return o=Pf(o),o!==null?Sl(o):null}function Sl(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var a=Sl(o);if(a!==null)return a;o=o.sibling}return null}var Rl=e.unstable_scheduleCallback,Uc=e.unstable_cancelCallback,Cf=e.unstable_shouldYield,By=e.unstable_requestPaint,ft=e.unstable_now,kf=e.unstable_getCurrentPriorityLevel,ua=e.unstable_ImmediatePriority,zs=e.unstable_UserBlockingPriority,kr=e.unstable_NormalPriority,$c=e.unstable_LowPriority,xf=e.unstable_IdlePriority,ca=null,lr=null;function Of(o){if(lr&&typeof lr.onCommitFiberRoot=="function")try{lr.onCommitFiberRoot(ca,o,void 0,(o.current.flags&128)===128)}catch{}}var Mn=Math.clz32?Math.clz32:Df,jc=Math.log,Nf=Math.LN2;function Df(o){return o>>>=0,o===0?32:31-(jc(o)/Nf|0)|0}var bl=64,Al=4194304;function Ws(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function da(o,a){var c=o.pendingLanes;if(c===0)return 0;var p=0,y=o.suspendedLanes,w=o.pingedLanes,P=c&268435455;if(P!==0){var U=P&~y;U!==0?p=Ws(U):(w&=P,w!==0&&(p=Ws(w)))}else P=c&~y,P!==0?p=Ws(P):w!==0&&(p=Ws(w));if(p===0)return 0;if(a!==0&&a!==p&&!(a&y)&&(y=p&-p,w=a&-a,y>=w||y===16&&(w&4194240)!==0))return a;if(p&4&&(p|=c&16),a=o.entangledLanes,a!==0)for(o=o.entanglements,a&=p;0<a;)c=31-Mn(a),y=1<<c,p|=o[c],a&=~y;return p}function zy(o,a){switch(o){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function is(o,a){for(var c=o.suspendedLanes,p=o.pingedLanes,y=o.expirationTimes,w=o.pendingLanes;0<w;){var P=31-Mn(w),U=1<<P,B=y[P];B===-1?(!(U&c)||U&p)&&(y[P]=zy(U,a)):B<=a&&(o.expiredLanes|=U),w&=~U}}function ur(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function ha(){var o=bl;return bl<<=1,!(bl&4194240)&&(bl=64),o}function qs(o){for(var a=[],c=0;31>c;c++)a.push(o);return a}function Hs(o,a,c){o.pendingLanes|=a,a!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,a=31-Mn(a),o[a]=c}function ut(o,a){var c=o.pendingLanes&~a;o.pendingLanes=a,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=a,o.mutableReadLanes&=a,o.entangledLanes&=a,a=o.entanglements;var p=o.eventTimes;for(o=o.expirationTimes;0<c;){var y=31-Mn(c),w=1<<y;a[y]=0,p[y]=-1,o[y]=-1,c&=~w}}function Ks(o,a){var c=o.entangledLanes|=a;for(o=o.entanglements;c;){var p=31-Mn(c),y=1<<p;y&a|o[p]&a&&(o[p]|=a),c&=~y}}var He=0;function Gs(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var Lf,Pl,Vf,Mf,Ff,Bc=!1,_i=[],_n=null,Yr=null,Jr=null,Qs=new Map,xr=new Map,vi=[],Wy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uf(o,a){switch(o){case"focusin":case"focusout":_n=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":Qs.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":xr.delete(a.pointerId)}}function Kn(o,a,c,p,y,w){return o===null||o.nativeEvent!==w?(o={blockedOn:a,domEventName:c,eventSystemFlags:p,nativeEvent:w,targetContainers:[y]},a!==null&&(a=rd(a),a!==null&&Pl(a)),o):(o.eventSystemFlags|=p,a=o.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),o)}function qy(o,a,c,p,y){switch(a){case"focusin":return _n=Kn(_n,o,a,c,p,y),!0;case"dragenter":return Yr=Kn(Yr,o,a,c,p,y),!0;case"mouseover":return Jr=Kn(Jr,o,a,c,p,y),!0;case"pointerover":var w=y.pointerId;return Qs.set(w,Kn(Qs.get(w)||null,o,a,c,p,y)),!0;case"gotpointercapture":return w=y.pointerId,xr.set(w,Kn(xr.get(w)||null,o,a,c,p,y)),!0}return!1}function $f(o){var a=ya(o.target);if(a!==null){var c=Gr(a);if(c!==null){if(a=c.tag,a===13){if(a=la(c),a!==null){o.blockedOn=a,Ff(o.priority,function(){Vf(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){o.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}o.blockedOn=null}function ss(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var c=Cl(o.domEventName,o.eventSystemFlags,a[0],o.nativeEvent);if(c===null){c=o.nativeEvent;var p=new c.constructor(c.type,c);ia=p,c.target.dispatchEvent(p),ia=null}else return a=rd(c),a!==null&&Pl(a),o.blockedOn=c,!1;a.shift()}return!0}function fa(o,a,c){ss(o)&&c.delete(a)}function jf(){Bc=!1,_n!==null&&ss(_n)&&(_n=null),Yr!==null&&ss(Yr)&&(Yr=null),Jr!==null&&ss(Jr)&&(Jr=null),Qs.forEach(fa),xr.forEach(fa)}function Xr(o,a){o.blockedOn===a&&(o.blockedOn=null,Bc||(Bc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,jf)))}function Zr(o){function a(y){return Xr(y,o)}if(0<_i.length){Xr(_i[0],o);for(var c=1;c<_i.length;c++){var p=_i[c];p.blockedOn===o&&(p.blockedOn=null)}}for(_n!==null&&Xr(_n,o),Yr!==null&&Xr(Yr,o),Jr!==null&&Xr(Jr,o),Qs.forEach(a),xr.forEach(a),c=0;c<vi.length;c++)p=vi[c],p.blockedOn===o&&(p.blockedOn=null);for(;0<vi.length&&(c=vi[0],c.blockedOn===null);)$f(c),c.blockedOn===null&&vi.shift()}var os=z.ReactCurrentBatchConfig,Ys=!0;function Et(o,a,c,p){var y=He,w=os.transition;os.transition=null;try{He=1,zc(o,a,c,p)}finally{He=y,os.transition=w}}function Hy(o,a,c,p){var y=He,w=os.transition;os.transition=null;try{He=4,zc(o,a,c,p)}finally{He=y,os.transition=w}}function zc(o,a,c,p){if(Ys){var y=Cl(o,a,c,p);if(y===null)r_(o,a,p,pa,c),Uf(o,p);else if(qy(y,o,a,c,p))p.stopPropagation();else if(Uf(o,p),a&4&&-1<Wy.indexOf(o)){for(;y!==null;){var w=rd(y);if(w!==null&&Lf(w),w=Cl(o,a,c,p),w===null&&r_(o,a,p,pa,c),w===y)break;y=w}y!==null&&p.stopPropagation()}else r_(o,a,p,null,c)}}var pa=null;function Cl(o,a,c,p){if(pa=null,o=_l(p),o=ya(o),o!==null)if(a=Gr(o),a===null)o=null;else if(c=a.tag,c===13){if(o=la(a),o!==null)return o;o=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null);return pa=o,null}function Wc(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kf()){case ua:return 1;case zs:return 4;case kr:case $c:return 16;case xf:return 536870912;default:return 16}default:return 16}}var cr=null,kl=null,Gn=null;function qc(){if(Gn)return Gn;var o,a=kl,c=a.length,p,y="value"in cr?cr.value:cr.textContent,w=y.length;for(o=0;o<c&&a[o]===y[o];o++);var P=c-o;for(p=1;p<=P&&a[c-p]===y[w-p];p++);return Gn=y.slice(o,1<p?1-p:void 0)}function xl(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function wi(){return!0}function Hc(){return!1}function vn(o){function a(c,p,y,w,P){this._reactName=c,this._targetInst=y,this.type=p,this.nativeEvent=w,this.target=P,this.currentTarget=null;for(var U in o)o.hasOwnProperty(U)&&(c=o[U],this[U]=c?c(w):w[U]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?wi:Hc,this.isPropagationStopped=Hc,this}return he(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi}),a}var ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ol=vn(ei),Ei=he({},ei,{view:0,detail:0}),Ky=vn(Ei),Nl,as,Js,ma=he({},Ei,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ii,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Js&&(Js&&o.type==="mousemove"?(Nl=o.screenX-Js.screenX,as=o.screenY-Js.screenY):as=Nl=0,Js=o),Nl)},movementY:function(o){return"movementY"in o?o.movementY:as}}),Dl=vn(ma),Kc=he({},ma,{dataTransfer:0}),Bf=vn(Kc),Ll=he({},Ei,{relatedTarget:0}),Vl=vn(Ll),zf=he({},ei,{animationName:0,elapsedTime:0,pseudoElement:0}),ls=vn(zf),Wf=he({},ei,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),qf=vn(Wf),Hf=he({},ei,{data:0}),Gc=vn(Hf),Ml={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gf(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=Kf[o])?!!a[o]:!1}function Ii(){return Gf}var f=he({},Ei,{key:function(o){if(o.key){var a=Ml[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=xl(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Fn[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ii,charCode:function(o){return o.type==="keypress"?xl(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?xl(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),v=vn(f),S=he({},ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),N=vn(S),Q=he({},Ei,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ii}),ne=vn(Q),ye=he({},ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),st=vn(ye),rn=he({},ma,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Ye=vn(rn),cn=[9,13,27,32],Kt=u&&"CompositionEvent"in window,Or=null;u&&"documentMode"in document&&(Or=document.documentMode);var dr=u&&"TextEvent"in window&&!Or,ga=u&&(!Kt||Or&&8<Or&&11>=Or),Fl=" ",DI=!1;function LI(o,a){switch(o){case"keyup":return cn.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function VI(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Ul=!1;function OD(o,a){switch(o){case"compositionend":return VI(a);case"keypress":return a.which!==32?null:(DI=!0,Fl);case"textInput":return o=a.data,o===Fl&&DI?null:o;default:return null}}function ND(o,a){if(Ul)return o==="compositionend"||!Kt&&LI(o,a)?(o=qc(),Gn=kl=cr=null,Ul=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return ga&&a.locale!=="ko"?null:a.data;default:return null}}var DD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function MI(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!DD[o.type]:a==="textarea"}function FI(o,a,c,p){yi(p),a=Zf(a,"onChange"),0<a.length&&(c=new Ol("onChange","change",null,c,p),o.push({event:c,listeners:a}))}var Qc=null,Yc=null;function LD(o){nT(o,0)}function Qf(o){var a=Wl(o);if(it(a))return o}function VD(o,a){if(o==="change")return a}var UI=!1;if(u){var Gy;if(u){var Qy="oninput"in document;if(!Qy){var $I=document.createElement("div");$I.setAttribute("oninput","return;"),Qy=typeof $I.oninput=="function"}Gy=Qy}else Gy=!1;UI=Gy&&(!document.documentMode||9<document.documentMode)}function jI(){Qc&&(Qc.detachEvent("onpropertychange",BI),Yc=Qc=null)}function BI(o){if(o.propertyName==="value"&&Qf(Yc)){var a=[];FI(a,Yc,o,_l(o)),Vc(LD,a)}}function MD(o,a,c){o==="focusin"?(jI(),Qc=a,Yc=c,Qc.attachEvent("onpropertychange",BI)):o==="focusout"&&jI()}function FD(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Qf(Yc)}function UD(o,a){if(o==="click")return Qf(a)}function $D(o,a){if(o==="input"||o==="change")return Qf(a)}function jD(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var ti=typeof Object.is=="function"?Object.is:jD;function Jc(o,a){if(ti(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var c=Object.keys(o),p=Object.keys(a);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var y=c[p];if(!d.call(a,y)||!ti(o[y],a[y]))return!1}return!0}function zI(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function WI(o,a){var c=zI(o);o=0;for(var p;c;){if(c.nodeType===3){if(p=o+c.textContent.length,o<=a&&p>=a)return{node:c,offset:a-o};o=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=zI(c)}}function qI(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?qI(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function HI(){for(var o=window,a=gt();a instanceof o.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)o=a.contentWindow;else break;a=gt(o.document)}return a}function Yy(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}function BD(o){var a=HI(),c=o.focusedElem,p=o.selectionRange;if(a!==c&&c&&c.ownerDocument&&qI(c.ownerDocument.documentElement,c)){if(p!==null&&Yy(c)){if(a=p.start,o=p.end,o===void 0&&(o=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(o,c.value.length);else if(o=(a=c.ownerDocument||document)&&a.defaultView||window,o.getSelection){o=o.getSelection();var y=c.textContent.length,w=Math.min(p.start,y);p=p.end===void 0?w:Math.min(p.end,y),!o.extend&&w>p&&(y=p,p=w,w=y),y=WI(c,w);var P=WI(c,p);y&&P&&(o.rangeCount!==1||o.anchorNode!==y.node||o.anchorOffset!==y.offset||o.focusNode!==P.node||o.focusOffset!==P.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),o.removeAllRanges(),w>p?(o.addRange(a),o.extend(P.node,P.offset)):(a.setEnd(P.node,P.offset),o.addRange(a)))}}for(a=[],o=c;o=o.parentNode;)o.nodeType===1&&a.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)o=a[c],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var zD=u&&"documentMode"in document&&11>=document.documentMode,$l=null,Jy=null,Xc=null,Xy=!1;function KI(o,a,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Xy||$l==null||$l!==gt(p)||(p=$l,"selectionStart"in p&&Yy(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Xc&&Jc(Xc,p)||(Xc=p,p=Zf(Jy,"onSelect"),0<p.length&&(a=new Ol("onSelect","select",null,a,c),o.push({event:a,listeners:p}),a.target=$l)))}function Yf(o,a){var c={};return c[o.toLowerCase()]=a.toLowerCase(),c["Webkit"+o]="webkit"+a,c["Moz"+o]="moz"+a,c}var jl={animationend:Yf("Animation","AnimationEnd"),animationiteration:Yf("Animation","AnimationIteration"),animationstart:Yf("Animation","AnimationStart"),transitionend:Yf("Transition","TransitionEnd")},Zy={},GI={};u&&(GI=document.createElement("div").style,"AnimationEvent"in window||(delete jl.animationend.animation,delete jl.animationiteration.animation,delete jl.animationstart.animation),"TransitionEvent"in window||delete jl.transitionend.transition);function Jf(o){if(Zy[o])return Zy[o];if(!jl[o])return o;var a=jl[o],c;for(c in a)if(a.hasOwnProperty(c)&&c in GI)return Zy[o]=a[c];return o}var QI=Jf("animationend"),YI=Jf("animationiteration"),JI=Jf("animationstart"),XI=Jf("transitionend"),ZI=new Map,eT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xs(o,a){ZI.set(o,a),s(a,[o])}for(var e_=0;e_<eT.length;e_++){var t_=eT[e_],WD=t_.toLowerCase(),qD=t_[0].toUpperCase()+t_.slice(1);Xs(WD,"on"+qD)}Xs(QI,"onAnimationEnd"),Xs(YI,"onAnimationIteration"),Xs(JI,"onAnimationStart"),Xs("dblclick","onDoubleClick"),Xs("focusin","onFocus"),Xs("focusout","onBlur"),Xs(XI,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zc));function tT(o,a,c){var p=o.type||"unknown-event";o.currentTarget=c,Af(p,a,void 0,o),o.currentTarget=null}function nT(o,a){a=(a&4)!==0;for(var c=0;c<o.length;c++){var p=o[c],y=p.event;p=p.listeners;e:{var w=void 0;if(a)for(var P=p.length-1;0<=P;P--){var U=p[P],B=U.instance,Z=U.currentTarget;if(U=U.listener,B!==w&&y.isPropagationStopped())break e;tT(y,U,Z),w=B}else for(P=0;P<p.length;P++){if(U=p[P],B=U.instance,Z=U.currentTarget,U=U.listener,B!==w&&y.isPropagationStopped())break e;tT(y,U,Z),w=B}}}if(Kr)throw o=Mc,Kr=!1,Mc=null,o}function yt(o,a){var c=a[u_];c===void 0&&(c=a[u_]=new Set);var p=o+"__bubble";c.has(p)||(rT(a,o,2,!1),c.add(p))}function n_(o,a,c){var p=0;a&&(p|=4),rT(c,o,p,a)}var Xf="_reactListening"+Math.random().toString(36).slice(2);function ed(o){if(!o[Xf]){o[Xf]=!0,r.forEach(function(c){c!=="selectionchange"&&(HD.has(c)||n_(c,!1,o),n_(c,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[Xf]||(a[Xf]=!0,n_("selectionchange",!1,a))}}function rT(o,a,c,p){switch(Wc(a)){case 1:var y=Et;break;case 4:y=Hy;break;default:y=zc}c=y.bind(null,a,c,o),y=void 0,!El||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),p?y!==void 0?o.addEventListener(a,c,{capture:!0,passive:y}):o.addEventListener(a,c,!0):y!==void 0?o.addEventListener(a,c,{passive:y}):o.addEventListener(a,c,!1)}function r_(o,a,c,p,y){var w=p;if(!(a&1)&&!(a&2)&&p!==null)e:for(;;){if(p===null)return;var P=p.tag;if(P===3||P===4){var U=p.stateNode.containerInfo;if(U===y||U.nodeType===8&&U.parentNode===y)break;if(P===4)for(P=p.return;P!==null;){var B=P.tag;if((B===3||B===4)&&(B=P.stateNode.containerInfo,B===y||B.nodeType===8&&B.parentNode===y))return;P=P.return}for(;U!==null;){if(P=ya(U),P===null)return;if(B=P.tag,B===5||B===6){p=w=P;continue e}U=U.parentNode}}p=p.return}Vc(function(){var Z=w,ce=_l(c),fe=[];e:{var le=ZI.get(o);if(le!==void 0){var we=Ol,Se=o;switch(o){case"keypress":if(xl(c)===0)break e;case"keydown":case"keyup":we=v;break;case"focusin":Se="focus",we=Vl;break;case"focusout":Se="blur",we=Vl;break;case"beforeblur":case"afterblur":we=Vl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=Dl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=Bf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=ne;break;case QI:case YI:case JI:we=ls;break;case XI:we=st;break;case"scroll":we=Ky;break;case"wheel":we=Ye;break;case"copy":case"cut":case"paste":we=qf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=N}var be=(a&4)!==0,Bt=!be&&o==="scroll",Y=be?le!==null?le+"Capture":null:le;be=[];for(var H=Z,J;H!==null;){J=H;var ge=J.stateNode;if(J.tag===5&&ge!==null&&(J=ge,Y!==null&&(ge=jt(H,Y),ge!=null&&be.push(td(H,ge,J)))),Bt)break;H=H.return}0<be.length&&(le=new we(le,Se,null,c,ce),fe.push({event:le,listeners:be}))}}if(!(a&7)){e:{if(le=o==="mouseover"||o==="pointerover",we=o==="mouseout"||o==="pointerout",le&&c!==ia&&(Se=c.relatedTarget||c.fromElement)&&(ya(Se)||Se[us]))break e;if((we||le)&&(le=ce.window===ce?ce:(le=ce.ownerDocument)?le.defaultView||le.parentWindow:window,we?(Se=c.relatedTarget||c.toElement,we=Z,Se=Se?ya(Se):null,Se!==null&&(Bt=Gr(Se),Se!==Bt||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(we=null,Se=Z),we!==Se)){if(be=Dl,ge="onMouseLeave",Y="onMouseEnter",H="mouse",(o==="pointerout"||o==="pointerover")&&(be=N,ge="onPointerLeave",Y="onPointerEnter",H="pointer"),Bt=we==null?le:Wl(we),J=Se==null?le:Wl(Se),le=new be(ge,H+"leave",we,c,ce),le.target=Bt,le.relatedTarget=J,ge=null,ya(ce)===Z&&(be=new be(Y,H+"enter",Se,c,ce),be.target=J,be.relatedTarget=Bt,ge=be),Bt=ge,we&&Se)t:{for(be=we,Y=Se,H=0,J=be;J;J=Bl(J))H++;for(J=0,ge=Y;ge;ge=Bl(ge))J++;for(;0<H-J;)be=Bl(be),H--;for(;0<J-H;)Y=Bl(Y),J--;for(;H--;){if(be===Y||Y!==null&&be===Y.alternate)break t;be=Bl(be),Y=Bl(Y)}be=null}else be=null;we!==null&&iT(fe,le,we,be,!1),Se!==null&&Bt!==null&&iT(fe,Bt,Se,be,!0)}}e:{if(le=Z?Wl(Z):window,we=le.nodeName&&le.nodeName.toLowerCase(),we==="select"||we==="input"&&le.type==="file")var Ae=VD;else if(MI(le))if(UI)Ae=$D;else{Ae=FD;var xe=MD}else(we=le.nodeName)&&we.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(Ae=UD);if(Ae&&(Ae=Ae(o,Z))){FI(fe,Ae,c,ce);break e}xe&&xe(o,le,Z),o==="focusout"&&(xe=le._wrapperState)&&xe.controlled&&le.type==="number"&&Hn(le,"number",le.value)}switch(xe=Z?Wl(Z):window,o){case"focusin":(MI(xe)||xe.contentEditable==="true")&&($l=xe,Jy=Z,Xc=null);break;case"focusout":Xc=Jy=$l=null;break;case"mousedown":Xy=!0;break;case"contextmenu":case"mouseup":case"dragend":Xy=!1,KI(fe,c,ce);break;case"selectionchange":if(zD)break;case"keydown":case"keyup":KI(fe,c,ce)}var Oe;if(Kt)e:{switch(o){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else Ul?LI(o,c)&&(De="onCompositionEnd"):o==="keydown"&&c.keyCode===229&&(De="onCompositionStart");De&&(ga&&c.locale!=="ko"&&(Ul||De!=="onCompositionStart"?De==="onCompositionEnd"&&Ul&&(Oe=qc()):(cr=ce,kl="value"in cr?cr.value:cr.textContent,Ul=!0)),xe=Zf(Z,De),0<xe.length&&(De=new Gc(De,o,null,c,ce),fe.push({event:De,listeners:xe}),Oe?De.data=Oe:(Oe=VI(c),Oe!==null&&(De.data=Oe)))),(Oe=dr?OD(o,c):ND(o,c))&&(Z=Zf(Z,"onBeforeInput"),0<Z.length&&(ce=new Gc("onBeforeInput","beforeinput",null,c,ce),fe.push({event:ce,listeners:Z}),ce.data=Oe))}nT(fe,a)})}function td(o,a,c){return{instance:o,listener:a,currentTarget:c}}function Zf(o,a){for(var c=a+"Capture",p=[];o!==null;){var y=o,w=y.stateNode;y.tag===5&&w!==null&&(y=w,w=jt(o,c),w!=null&&p.unshift(td(o,w,y)),w=jt(o,a),w!=null&&p.push(td(o,w,y))),o=o.return}return p}function Bl(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function iT(o,a,c,p,y){for(var w=a._reactName,P=[];c!==null&&c!==p;){var U=c,B=U.alternate,Z=U.stateNode;if(B!==null&&B===p)break;U.tag===5&&Z!==null&&(U=Z,y?(B=jt(c,w),B!=null&&P.unshift(td(c,B,U))):y||(B=jt(c,w),B!=null&&P.push(td(c,B,U)))),c=c.return}P.length!==0&&o.push({event:a,listeners:P})}var KD=/\r\n?/g,GD=/\u0000|\uFFFD/g;function sT(o){return(typeof o=="string"?o:""+o).replace(KD,`
`).replace(GD,"")}function ep(o,a,c){if(a=sT(a),sT(o)!==a&&c)throw Error(t(425))}function tp(){}var i_=null,s_=null;function o_(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var a_=typeof setTimeout=="function"?setTimeout:void 0,QD=typeof clearTimeout=="function"?clearTimeout:void 0,oT=typeof Promise=="function"?Promise:void 0,YD=typeof queueMicrotask=="function"?queueMicrotask:typeof oT<"u"?function(o){return oT.resolve(null).then(o).catch(JD)}:a_;function JD(o){setTimeout(function(){throw o})}function l_(o,a){var c=a,p=0;do{var y=c.nextSibling;if(o.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(p===0){o.removeChild(y),Zr(a);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=y}while(c);Zr(a)}function Zs(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return o}function aT(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var c=o.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return o;a--}else c==="/$"&&a++}o=o.previousSibling}return null}var zl=Math.random().toString(36).slice(2),Ti="__reactFiber$"+zl,nd="__reactProps$"+zl,us="__reactContainer$"+zl,u_="__reactEvents$"+zl,XD="__reactListeners$"+zl,ZD="__reactHandles$"+zl;function ya(o){var a=o[Ti];if(a)return a;for(var c=o.parentNode;c;){if(a=c[us]||c[Ti]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(o=aT(o);o!==null;){if(c=o[Ti])return c;o=aT(o)}return a}o=c,c=o.parentNode}return null}function rd(o){return o=o[Ti]||o[us],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Wl(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function np(o){return o[nd]||null}var c_=[],ql=-1;function eo(o){return{current:o}}function _t(o){0>ql||(o.current=c_[ql],c_[ql]=null,ql--)}function pt(o,a){ql++,c_[ql]=o.current,o.current=a}var to={},An=eo(to),Qn=eo(!1),_a=to;function Hl(o,a){var c=o.type.contextTypes;if(!c)return to;var p=o.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var y={},w;for(w in c)y[w]=a[w];return p&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=a,o.__reactInternalMemoizedMaskedChildContext=y),y}function Yn(o){return o=o.childContextTypes,o!=null}function rp(){_t(Qn),_t(An)}function lT(o,a,c){if(An.current!==to)throw Error(t(168));pt(An,a),pt(Qn,c)}function uT(o,a,c){var p=o.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var y in p)if(!(y in a))throw Error(t(108,Qe(o)||"Unknown",y));return he({},c,p)}function ip(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||to,_a=An.current,pt(An,o),pt(Qn,Qn.current),!0}function cT(o,a,c){var p=o.stateNode;if(!p)throw Error(t(169));c?(o=uT(o,a,_a),p.__reactInternalMemoizedMergedChildContext=o,_t(Qn),_t(An),pt(An,o)):_t(Qn),pt(Qn,c)}var cs=null,sp=!1,d_=!1;function dT(o){cs===null?cs=[o]:cs.push(o)}function eL(o){sp=!0,dT(o)}function no(){if(!d_&&cs!==null){d_=!0;var o=0,a=He;try{var c=cs;for(He=1;o<c.length;o++){var p=c[o];do p=p(!0);while(p!==null)}cs=null,sp=!1}catch(y){throw cs!==null&&(cs=cs.slice(o+1)),Rl(ua,no),y}finally{He=a,d_=!1}}return null}var Kl=[],Gl=0,op=null,ap=0,Nr=[],Dr=0,va=null,ds=1,hs="";function wa(o,a){Kl[Gl++]=ap,Kl[Gl++]=op,op=o,ap=a}function hT(o,a,c){Nr[Dr++]=ds,Nr[Dr++]=hs,Nr[Dr++]=va,va=o;var p=ds;o=hs;var y=32-Mn(p)-1;p&=~(1<<y),c+=1;var w=32-Mn(a)+y;if(30<w){var P=y-y%5;w=(p&(1<<P)-1).toString(32),p>>=P,y-=P,ds=1<<32-Mn(a)+y|c<<y|p,hs=w+o}else ds=1<<w|c<<y|p,hs=o}function h_(o){o.return!==null&&(wa(o,1),hT(o,1,0))}function f_(o){for(;o===op;)op=Kl[--Gl],Kl[Gl]=null,ap=Kl[--Gl],Kl[Gl]=null;for(;o===va;)va=Nr[--Dr],Nr[Dr]=null,hs=Nr[--Dr],Nr[Dr]=null,ds=Nr[--Dr],Nr[Dr]=null}var hr=null,fr=null,It=!1,ni=null;function fT(o,a){var c=Fr(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=o,a=o.deletions,a===null?(o.deletions=[c],o.flags|=16):a.push(c)}function pT(o,a){switch(o.tag){case 5:var c=o.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(o.stateNode=a,hr=o,fr=Zs(a.firstChild),!0):!1;case 6:return a=o.pendingProps===""||a.nodeType!==3?null:a,a!==null?(o.stateNode=a,hr=o,fr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=va!==null?{id:ds,overflow:hs}:null,o.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=Fr(18,null,null,0),c.stateNode=a,c.return=o,o.child=c,hr=o,fr=null,!0):!1;default:return!1}}function p_(o){return(o.mode&1)!==0&&(o.flags&128)===0}function m_(o){if(It){var a=fr;if(a){var c=a;if(!pT(o,a)){if(p_(o))throw Error(t(418));a=Zs(c.nextSibling);var p=hr;a&&pT(o,a)?fT(p,c):(o.flags=o.flags&-4097|2,It=!1,hr=o)}}else{if(p_(o))throw Error(t(418));o.flags=o.flags&-4097|2,It=!1,hr=o}}}function mT(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;hr=o}function lp(o){if(o!==hr)return!1;if(!It)return mT(o),It=!0,!1;var a;if((a=o.tag!==3)&&!(a=o.tag!==5)&&(a=o.type,a=a!=="head"&&a!=="body"&&!o_(o.type,o.memoizedProps)),a&&(a=fr)){if(p_(o))throw gT(),Error(t(418));for(;a;)fT(o,a),a=Zs(a.nextSibling)}if(mT(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8){var c=o.data;if(c==="/$"){if(a===0){fr=Zs(o.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}o=o.nextSibling}fr=null}}else fr=hr?Zs(o.stateNode.nextSibling):null;return!0}function gT(){for(var o=fr;o;)o=Zs(o.nextSibling)}function Ql(){fr=hr=null,It=!1}function g_(o){ni===null?ni=[o]:ni.push(o)}var tL=z.ReactCurrentBatchConfig;function id(o,a,c){if(o=c.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var p=c.stateNode}if(!p)throw Error(t(147,o));var y=p,w=""+o;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===w?a.ref:(a=function(P){var U=y.refs;P===null?delete U[w]:U[w]=P},a._stringRef=w,a)}if(typeof o!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,o))}return o}function up(o,a){throw o=Object.prototype.toString.call(a),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o))}function yT(o){var a=o._init;return a(o._payload)}function _T(o){function a(Y,H){if(o){var J=Y.deletions;J===null?(Y.deletions=[H],Y.flags|=16):J.push(H)}}function c(Y,H){if(!o)return null;for(;H!==null;)a(Y,H),H=H.sibling;return null}function p(Y,H){for(Y=new Map;H!==null;)H.key!==null?Y.set(H.key,H):Y.set(H.index,H),H=H.sibling;return Y}function y(Y,H){return Y=co(Y,H),Y.index=0,Y.sibling=null,Y}function w(Y,H,J){return Y.index=J,o?(J=Y.alternate,J!==null?(J=J.index,J<H?(Y.flags|=2,H):J):(Y.flags|=2,H)):(Y.flags|=1048576,H)}function P(Y){return o&&Y.alternate===null&&(Y.flags|=2),Y}function U(Y,H,J,ge){return H===null||H.tag!==6?(H=av(J,Y.mode,ge),H.return=Y,H):(H=y(H,J),H.return=Y,H)}function B(Y,H,J,ge){var Ae=J.type;return Ae===D?ce(Y,H,J.props.children,ge,J.key):H!==null&&(H.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===me&&yT(Ae)===H.type)?(ge=y(H,J.props),ge.ref=id(Y,H,J),ge.return=Y,ge):(ge=Np(J.type,J.key,J.props,null,Y.mode,ge),ge.ref=id(Y,H,J),ge.return=Y,ge)}function Z(Y,H,J,ge){return H===null||H.tag!==4||H.stateNode.containerInfo!==J.containerInfo||H.stateNode.implementation!==J.implementation?(H=lv(J,Y.mode,ge),H.return=Y,H):(H=y(H,J.children||[]),H.return=Y,H)}function ce(Y,H,J,ge,Ae){return H===null||H.tag!==7?(H=Pa(J,Y.mode,ge,Ae),H.return=Y,H):(H=y(H,J),H.return=Y,H)}function fe(Y,H,J){if(typeof H=="string"&&H!==""||typeof H=="number")return H=av(""+H,Y.mode,J),H.return=Y,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case j:return J=Np(H.type,H.key,H.props,null,Y.mode,J),J.ref=id(Y,null,H),J.return=Y,J;case q:return H=lv(H,Y.mode,J),H.return=Y,H;case me:var ge=H._init;return fe(Y,ge(H._payload),J)}if(ar(H)||pe(H))return H=Pa(H,Y.mode,J,null),H.return=Y,H;up(Y,H)}return null}function le(Y,H,J,ge){var Ae=H!==null?H.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return Ae!==null?null:U(Y,H,""+J,ge);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case j:return J.key===Ae?B(Y,H,J,ge):null;case q:return J.key===Ae?Z(Y,H,J,ge):null;case me:return Ae=J._init,le(Y,H,Ae(J._payload),ge)}if(ar(J)||pe(J))return Ae!==null?null:ce(Y,H,J,ge,null);up(Y,J)}return null}function we(Y,H,J,ge,Ae){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return Y=Y.get(J)||null,U(H,Y,""+ge,Ae);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case j:return Y=Y.get(ge.key===null?J:ge.key)||null,B(H,Y,ge,Ae);case q:return Y=Y.get(ge.key===null?J:ge.key)||null,Z(H,Y,ge,Ae);case me:var xe=ge._init;return we(Y,H,J,xe(ge._payload),Ae)}if(ar(ge)||pe(ge))return Y=Y.get(J)||null,ce(H,Y,ge,Ae,null);up(H,ge)}return null}function Se(Y,H,J,ge){for(var Ae=null,xe=null,Oe=H,De=H=0,fn=null;Oe!==null&&De<J.length;De++){Oe.index>De?(fn=Oe,Oe=null):fn=Oe.sibling;var Ze=le(Y,Oe,J[De],ge);if(Ze===null){Oe===null&&(Oe=fn);break}o&&Oe&&Ze.alternate===null&&a(Y,Oe),H=w(Ze,H,De),xe===null?Ae=Ze:xe.sibling=Ze,xe=Ze,Oe=fn}if(De===J.length)return c(Y,Oe),It&&wa(Y,De),Ae;if(Oe===null){for(;De<J.length;De++)Oe=fe(Y,J[De],ge),Oe!==null&&(H=w(Oe,H,De),xe===null?Ae=Oe:xe.sibling=Oe,xe=Oe);return It&&wa(Y,De),Ae}for(Oe=p(Y,Oe);De<J.length;De++)fn=we(Oe,Y,De,J[De],ge),fn!==null&&(o&&fn.alternate!==null&&Oe.delete(fn.key===null?De:fn.key),H=w(fn,H,De),xe===null?Ae=fn:xe.sibling=fn,xe=fn);return o&&Oe.forEach(function(ho){return a(Y,ho)}),It&&wa(Y,De),Ae}function be(Y,H,J,ge){var Ae=pe(J);if(typeof Ae!="function")throw Error(t(150));if(J=Ae.call(J),J==null)throw Error(t(151));for(var xe=Ae=null,Oe=H,De=H=0,fn=null,Ze=J.next();Oe!==null&&!Ze.done;De++,Ze=J.next()){Oe.index>De?(fn=Oe,Oe=null):fn=Oe.sibling;var ho=le(Y,Oe,Ze.value,ge);if(ho===null){Oe===null&&(Oe=fn);break}o&&Oe&&ho.alternate===null&&a(Y,Oe),H=w(ho,H,De),xe===null?Ae=ho:xe.sibling=ho,xe=ho,Oe=fn}if(Ze.done)return c(Y,Oe),It&&wa(Y,De),Ae;if(Oe===null){for(;!Ze.done;De++,Ze=J.next())Ze=fe(Y,Ze.value,ge),Ze!==null&&(H=w(Ze,H,De),xe===null?Ae=Ze:xe.sibling=Ze,xe=Ze);return It&&wa(Y,De),Ae}for(Oe=p(Y,Oe);!Ze.done;De++,Ze=J.next())Ze=we(Oe,Y,De,Ze.value,ge),Ze!==null&&(o&&Ze.alternate!==null&&Oe.delete(Ze.key===null?De:Ze.key),H=w(Ze,H,De),xe===null?Ae=Ze:xe.sibling=Ze,xe=Ze);return o&&Oe.forEach(function(DL){return a(Y,DL)}),It&&wa(Y,De),Ae}function Bt(Y,H,J,ge){if(typeof J=="object"&&J!==null&&J.type===D&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case j:e:{for(var Ae=J.key,xe=H;xe!==null;){if(xe.key===Ae){if(Ae=J.type,Ae===D){if(xe.tag===7){c(Y,xe.sibling),H=y(xe,J.props.children),H.return=Y,Y=H;break e}}else if(xe.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===me&&yT(Ae)===xe.type){c(Y,xe.sibling),H=y(xe,J.props),H.ref=id(Y,xe,J),H.return=Y,Y=H;break e}c(Y,xe);break}else a(Y,xe);xe=xe.sibling}J.type===D?(H=Pa(J.props.children,Y.mode,ge,J.key),H.return=Y,Y=H):(ge=Np(J.type,J.key,J.props,null,Y.mode,ge),ge.ref=id(Y,H,J),ge.return=Y,Y=ge)}return P(Y);case q:e:{for(xe=J.key;H!==null;){if(H.key===xe)if(H.tag===4&&H.stateNode.containerInfo===J.containerInfo&&H.stateNode.implementation===J.implementation){c(Y,H.sibling),H=y(H,J.children||[]),H.return=Y,Y=H;break e}else{c(Y,H);break}else a(Y,H);H=H.sibling}H=lv(J,Y.mode,ge),H.return=Y,Y=H}return P(Y);case me:return xe=J._init,Bt(Y,H,xe(J._payload),ge)}if(ar(J))return Se(Y,H,J,ge);if(pe(J))return be(Y,H,J,ge);up(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,H!==null&&H.tag===6?(c(Y,H.sibling),H=y(H,J),H.return=Y,Y=H):(c(Y,H),H=av(J,Y.mode,ge),H.return=Y,Y=H),P(Y)):c(Y,H)}return Bt}var Yl=_T(!0),vT=_T(!1),cp=eo(null),dp=null,Jl=null,y_=null;function __(){y_=Jl=dp=null}function v_(o){var a=cp.current;_t(cp),o._currentValue=a}function w_(o,a,c){for(;o!==null;){var p=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),o===c)break;o=o.return}}function Xl(o,a){dp=o,y_=Jl=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&a&&(Jn=!0),o.firstContext=null)}function Lr(o){var a=o._currentValue;if(y_!==o)if(o={context:o,memoizedValue:a,next:null},Jl===null){if(dp===null)throw Error(t(308));Jl=o,dp.dependencies={lanes:0,firstContext:o}}else Jl=Jl.next=o;return a}var Ea=null;function E_(o){Ea===null?Ea=[o]:Ea.push(o)}function wT(o,a,c,p){var y=a.interleaved;return y===null?(c.next=c,E_(a)):(c.next=y.next,y.next=c),a.interleaved=c,fs(o,p)}function fs(o,a){o.lanes|=a;var c=o.alternate;for(c!==null&&(c.lanes|=a),c=o,o=o.return;o!==null;)o.childLanes|=a,c=o.alternate,c!==null&&(c.childLanes|=a),c=o,o=o.return;return c.tag===3?c.stateNode:null}var ro=!1;function I_(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ET(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function ps(o,a){return{eventTime:o,lane:a,tag:0,payload:null,callback:null,next:null}}function io(o,a,c){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,Xe&2){var y=p.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),p.pending=a,fs(o,c)}return y=p.interleaved,y===null?(a.next=a,E_(p)):(a.next=y.next,y.next=a),p.interleaved=a,fs(o,c)}function hp(o,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var p=a.lanes;p&=o.pendingLanes,c|=p,a.lanes=c,Ks(o,c)}}function IT(o,a){var c=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var y=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var P={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};w===null?y=w=P:w=w.next=P,c=c.next}while(c!==null);w===null?y=w=a:w=w.next=a}else y=w=a;c={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:p.shared,effects:p.effects},o.updateQueue=c;return}o=c.lastBaseUpdate,o===null?c.firstBaseUpdate=a:o.next=a,c.lastBaseUpdate=a}function fp(o,a,c,p){var y=o.updateQueue;ro=!1;var w=y.firstBaseUpdate,P=y.lastBaseUpdate,U=y.shared.pending;if(U!==null){y.shared.pending=null;var B=U,Z=B.next;B.next=null,P===null?w=Z:P.next=Z,P=B;var ce=o.alternate;ce!==null&&(ce=ce.updateQueue,U=ce.lastBaseUpdate,U!==P&&(U===null?ce.firstBaseUpdate=Z:U.next=Z,ce.lastBaseUpdate=B))}if(w!==null){var fe=y.baseState;P=0,ce=Z=B=null,U=w;do{var le=U.lane,we=U.eventTime;if((p&le)===le){ce!==null&&(ce=ce.next={eventTime:we,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var Se=o,be=U;switch(le=a,we=c,be.tag){case 1:if(Se=be.payload,typeof Se=="function"){fe=Se.call(we,fe,le);break e}fe=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=be.payload,le=typeof Se=="function"?Se.call(we,fe,le):Se,le==null)break e;fe=he({},fe,le);break e;case 2:ro=!0}}U.callback!==null&&U.lane!==0&&(o.flags|=64,le=y.effects,le===null?y.effects=[U]:le.push(U))}else we={eventTime:we,lane:le,tag:U.tag,payload:U.payload,callback:U.callback,next:null},ce===null?(Z=ce=we,B=fe):ce=ce.next=we,P|=le;if(U=U.next,U===null){if(U=y.shared.pending,U===null)break;le=U,U=le.next,le.next=null,y.lastBaseUpdate=le,y.shared.pending=null}}while(!0);if(ce===null&&(B=fe),y.baseState=B,y.firstBaseUpdate=Z,y.lastBaseUpdate=ce,a=y.shared.interleaved,a!==null){y=a;do P|=y.lane,y=y.next;while(y!==a)}else w===null&&(y.shared.lanes=0);Sa|=P,o.lanes=P,o.memoizedState=fe}}function TT(o,a,c){if(o=a.effects,a.effects=null,o!==null)for(a=0;a<o.length;a++){var p=o[a],y=p.callback;if(y!==null){if(p.callback=null,p=c,typeof y!="function")throw Error(t(191,y));y.call(p)}}}var sd={},Si=eo(sd),od=eo(sd),ad=eo(sd);function Ia(o){if(o===sd)throw Error(t(174));return o}function T_(o,a){switch(pt(ad,a),pt(od,o),pt(Si,sd),o=a.nodeType,o){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:nn(null,"");break;default:o=o===8?a.parentNode:a,a=o.namespaceURI||null,o=o.tagName,a=nn(a,o)}_t(Si),pt(Si,a)}function Zl(){_t(Si),_t(od),_t(ad)}function ST(o){Ia(ad.current);var a=Ia(Si.current),c=nn(a,o.type);a!==c&&(pt(od,o),pt(Si,c))}function S_(o){od.current===o&&(_t(Si),_t(od))}var Ct=eo(0);function pp(o){for(var a=o;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var R_=[];function b_(){for(var o=0;o<R_.length;o++)R_[o]._workInProgressVersionPrimary=null;R_.length=0}var mp=z.ReactCurrentDispatcher,A_=z.ReactCurrentBatchConfig,Ta=0,kt=null,sn=null,dn=null,gp=!1,ld=!1,ud=0,nL=0;function Pn(){throw Error(t(321))}function P_(o,a){if(a===null)return!1;for(var c=0;c<a.length&&c<o.length;c++)if(!ti(o[c],a[c]))return!1;return!0}function C_(o,a,c,p,y,w){if(Ta=w,kt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,mp.current=o===null||o.memoizedState===null?oL:aL,o=c(p,y),ld){w=0;do{if(ld=!1,ud=0,25<=w)throw Error(t(301));w+=1,dn=sn=null,a.updateQueue=null,mp.current=lL,o=c(p,y)}while(ld)}if(mp.current=vp,a=sn!==null&&sn.next!==null,Ta=0,dn=sn=kt=null,gp=!1,a)throw Error(t(300));return o}function k_(){var o=ud!==0;return ud=0,o}function Ri(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?kt.memoizedState=dn=o:dn=dn.next=o,dn}function Vr(){if(sn===null){var o=kt.alternate;o=o!==null?o.memoizedState:null}else o=sn.next;var a=dn===null?kt.memoizedState:dn.next;if(a!==null)dn=a,sn=o;else{if(o===null)throw Error(t(310));sn=o,o={memoizedState:sn.memoizedState,baseState:sn.baseState,baseQueue:sn.baseQueue,queue:sn.queue,next:null},dn===null?kt.memoizedState=dn=o:dn=dn.next=o}return dn}function cd(o,a){return typeof a=="function"?a(o):a}function x_(o){var a=Vr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=o;var p=sn,y=p.baseQueue,w=c.pending;if(w!==null){if(y!==null){var P=y.next;y.next=w.next,w.next=P}p.baseQueue=y=w,c.pending=null}if(y!==null){w=y.next,p=p.baseState;var U=P=null,B=null,Z=w;do{var ce=Z.lane;if((Ta&ce)===ce)B!==null&&(B=B.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),p=Z.hasEagerState?Z.eagerState:o(p,Z.action);else{var fe={lane:ce,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};B===null?(U=B=fe,P=p):B=B.next=fe,kt.lanes|=ce,Sa|=ce}Z=Z.next}while(Z!==null&&Z!==w);B===null?P=p:B.next=U,ti(p,a.memoizedState)||(Jn=!0),a.memoizedState=p,a.baseState=P,a.baseQueue=B,c.lastRenderedState=p}if(o=c.interleaved,o!==null){y=o;do w=y.lane,kt.lanes|=w,Sa|=w,y=y.next;while(y!==o)}else y===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function O_(o){var a=Vr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=o;var p=c.dispatch,y=c.pending,w=a.memoizedState;if(y!==null){c.pending=null;var P=y=y.next;do w=o(w,P.action),P=P.next;while(P!==y);ti(w,a.memoizedState)||(Jn=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),c.lastRenderedState=w}return[w,p]}function RT(){}function bT(o,a){var c=kt,p=Vr(),y=a(),w=!ti(p.memoizedState,y);if(w&&(p.memoizedState=y,Jn=!0),p=p.queue,N_(CT.bind(null,c,p,o),[o]),p.getSnapshot!==a||w||dn!==null&&dn.memoizedState.tag&1){if(c.flags|=2048,dd(9,PT.bind(null,c,p,y,a),void 0,null),hn===null)throw Error(t(349));Ta&30||AT(c,a,y)}return y}function AT(o,a,c){o.flags|=16384,o={getSnapshot:a,value:c},a=kt.updateQueue,a===null?(a={lastEffect:null,stores:null},kt.updateQueue=a,a.stores=[o]):(c=a.stores,c===null?a.stores=[o]:c.push(o))}function PT(o,a,c,p){a.value=c,a.getSnapshot=p,kT(a)&&xT(o)}function CT(o,a,c){return c(function(){kT(a)&&xT(o)})}function kT(o){var a=o.getSnapshot;o=o.value;try{var c=a();return!ti(o,c)}catch{return!0}}function xT(o){var a=fs(o,1);a!==null&&oi(a,o,1,-1)}function OT(o){var a=Ri();return typeof o=="function"&&(o=o()),a.memoizedState=a.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cd,lastRenderedState:o},a.queue=o,o=o.dispatch=sL.bind(null,kt,o),[a.memoizedState,o]}function dd(o,a,c,p){return o={tag:o,create:a,destroy:c,deps:p,next:null},a=kt.updateQueue,a===null?(a={lastEffect:null,stores:null},kt.updateQueue=a,a.lastEffect=o.next=o):(c=a.lastEffect,c===null?a.lastEffect=o.next=o:(p=c.next,c.next=o,o.next=p,a.lastEffect=o)),o}function NT(){return Vr().memoizedState}function yp(o,a,c,p){var y=Ri();kt.flags|=o,y.memoizedState=dd(1|a,c,void 0,p===void 0?null:p)}function _p(o,a,c,p){var y=Vr();p=p===void 0?null:p;var w=void 0;if(sn!==null){var P=sn.memoizedState;if(w=P.destroy,p!==null&&P_(p,P.deps)){y.memoizedState=dd(a,c,w,p);return}}kt.flags|=o,y.memoizedState=dd(1|a,c,w,p)}function DT(o,a){return yp(8390656,8,o,a)}function N_(o,a){return _p(2048,8,o,a)}function LT(o,a){return _p(4,2,o,a)}function VT(o,a){return _p(4,4,o,a)}function MT(o,a){if(typeof a=="function")return o=o(),a(o),function(){a(null)};if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function FT(o,a,c){return c=c!=null?c.concat([o]):null,_p(4,4,MT.bind(null,a,o),c)}function D_(){}function UT(o,a){var c=Vr();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&P_(a,p[1])?p[0]:(c.memoizedState=[o,a],o)}function $T(o,a){var c=Vr();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&P_(a,p[1])?p[0]:(o=o(),c.memoizedState=[o,a],o)}function jT(o,a,c){return Ta&21?(ti(c,a)||(c=ha(),kt.lanes|=c,Sa|=c,o.baseState=!0),a):(o.baseState&&(o.baseState=!1,Jn=!0),o.memoizedState=c)}function rL(o,a){var c=He;He=c!==0&&4>c?c:4,o(!0);var p=A_.transition;A_.transition={};try{o(!1),a()}finally{He=c,A_.transition=p}}function BT(){return Vr().memoizedState}function iL(o,a,c){var p=lo(o);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},zT(o))WT(a,c);else if(c=wT(o,a,c,p),c!==null){var y=$n();oi(c,o,p,y),qT(c,a,p)}}function sL(o,a,c){var p=lo(o),y={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(zT(o))WT(a,y);else{var w=o.alternate;if(o.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var P=a.lastRenderedState,U=w(P,c);if(y.hasEagerState=!0,y.eagerState=U,ti(U,P)){var B=a.interleaved;B===null?(y.next=y,E_(a)):(y.next=B.next,B.next=y),a.interleaved=y;return}}catch{}finally{}c=wT(o,a,y,p),c!==null&&(y=$n(),oi(c,o,p,y),qT(c,a,p))}}function zT(o){var a=o.alternate;return o===kt||a!==null&&a===kt}function WT(o,a){ld=gp=!0;var c=o.pending;c===null?a.next=a:(a.next=c.next,c.next=a),o.pending=a}function qT(o,a,c){if(c&4194240){var p=a.lanes;p&=o.pendingLanes,c|=p,a.lanes=c,Ks(o,c)}}var vp={readContext:Lr,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useInsertionEffect:Pn,useLayoutEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useMutableSource:Pn,useSyncExternalStore:Pn,useId:Pn,unstable_isNewReconciler:!1},oL={readContext:Lr,useCallback:function(o,a){return Ri().memoizedState=[o,a===void 0?null:a],o},useContext:Lr,useEffect:DT,useImperativeHandle:function(o,a,c){return c=c!=null?c.concat([o]):null,yp(4194308,4,MT.bind(null,a,o),c)},useLayoutEffect:function(o,a){return yp(4194308,4,o,a)},useInsertionEffect:function(o,a){return yp(4,2,o,a)},useMemo:function(o,a){var c=Ri();return a=a===void 0?null:a,o=o(),c.memoizedState=[o,a],o},useReducer:function(o,a,c){var p=Ri();return a=c!==void 0?c(a):a,p.memoizedState=p.baseState=a,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:a},p.queue=o,o=o.dispatch=iL.bind(null,kt,o),[p.memoizedState,o]},useRef:function(o){var a=Ri();return o={current:o},a.memoizedState=o},useState:OT,useDebugValue:D_,useDeferredValue:function(o){return Ri().memoizedState=o},useTransition:function(){var o=OT(!1),a=o[0];return o=rL.bind(null,o[1]),Ri().memoizedState=o,[a,o]},useMutableSource:function(){},useSyncExternalStore:function(o,a,c){var p=kt,y=Ri();if(It){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),hn===null)throw Error(t(349));Ta&30||AT(p,a,c)}y.memoizedState=c;var w={value:c,getSnapshot:a};return y.queue=w,DT(CT.bind(null,p,w,o),[o]),p.flags|=2048,dd(9,PT.bind(null,p,w,c,a),void 0,null),c},useId:function(){var o=Ri(),a=hn.identifierPrefix;if(It){var c=hs,p=ds;c=(p&~(1<<32-Mn(p)-1)).toString(32)+c,a=":"+a+"R"+c,c=ud++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=nL++,a=":"+a+"r"+c.toString(32)+":";return o.memoizedState=a},unstable_isNewReconciler:!1},aL={readContext:Lr,useCallback:UT,useContext:Lr,useEffect:N_,useImperativeHandle:FT,useInsertionEffect:LT,useLayoutEffect:VT,useMemo:$T,useReducer:x_,useRef:NT,useState:function(){return x_(cd)},useDebugValue:D_,useDeferredValue:function(o){var a=Vr();return jT(a,sn.memoizedState,o)},useTransition:function(){var o=x_(cd)[0],a=Vr().memoizedState;return[o,a]},useMutableSource:RT,useSyncExternalStore:bT,useId:BT,unstable_isNewReconciler:!1},lL={readContext:Lr,useCallback:UT,useContext:Lr,useEffect:N_,useImperativeHandle:FT,useInsertionEffect:LT,useLayoutEffect:VT,useMemo:$T,useReducer:O_,useRef:NT,useState:function(){return O_(cd)},useDebugValue:D_,useDeferredValue:function(o){var a=Vr();return sn===null?a.memoizedState=o:jT(a,sn.memoizedState,o)},useTransition:function(){var o=O_(cd)[0],a=Vr().memoizedState;return[o,a]},useMutableSource:RT,useSyncExternalStore:bT,useId:BT,unstable_isNewReconciler:!1};function ri(o,a){if(o&&o.defaultProps){a=he({},a),o=o.defaultProps;for(var c in o)a[c]===void 0&&(a[c]=o[c]);return a}return a}function L_(o,a,c,p){a=o.memoizedState,c=c(p,a),c=c==null?a:he({},a,c),o.memoizedState=c,o.lanes===0&&(o.updateQueue.baseState=c)}var wp={isMounted:function(o){return(o=o._reactInternals)?Gr(o)===o:!1},enqueueSetState:function(o,a,c){o=o._reactInternals;var p=$n(),y=lo(o),w=ps(p,y);w.payload=a,c!=null&&(w.callback=c),a=io(o,w,y),a!==null&&(oi(a,o,y,p),hp(a,o,y))},enqueueReplaceState:function(o,a,c){o=o._reactInternals;var p=$n(),y=lo(o),w=ps(p,y);w.tag=1,w.payload=a,c!=null&&(w.callback=c),a=io(o,w,y),a!==null&&(oi(a,o,y,p),hp(a,o,y))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var c=$n(),p=lo(o),y=ps(c,p);y.tag=2,a!=null&&(y.callback=a),a=io(o,y,p),a!==null&&(oi(a,o,p,c),hp(a,o,p))}};function HT(o,a,c,p,y,w,P){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,w,P):a.prototype&&a.prototype.isPureReactComponent?!Jc(c,p)||!Jc(y,w):!0}function KT(o,a,c){var p=!1,y=to,w=a.contextType;return typeof w=="object"&&w!==null?w=Lr(w):(y=Yn(a)?_a:An.current,p=a.contextTypes,w=(p=p!=null)?Hl(o,y):to),a=new a(c,w),o.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=wp,o.stateNode=a,a._reactInternals=o,p&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=y,o.__reactInternalMemoizedMaskedChildContext=w),a}function GT(o,a,c,p){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,p),a.state!==o&&wp.enqueueReplaceState(a,a.state,null)}function V_(o,a,c,p){var y=o.stateNode;y.props=c,y.state=o.memoizedState,y.refs={},I_(o);var w=a.contextType;typeof w=="object"&&w!==null?y.context=Lr(w):(w=Yn(a)?_a:An.current,y.context=Hl(o,w)),y.state=o.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(L_(o,a,w,c),y.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(a=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),a!==y.state&&wp.enqueueReplaceState(y,y.state,null),fp(o,c,y,p),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308)}function eu(o,a){try{var c="",p=a;do c+=Ve(p),p=p.return;while(p);var y=c}catch(w){y=`
Error generating stack: `+w.message+`
`+w.stack}return{value:o,source:a,stack:y,digest:null}}function M_(o,a,c){return{value:o,source:null,stack:c??null,digest:a??null}}function F_(o,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var uL=typeof WeakMap=="function"?WeakMap:Map;function QT(o,a,c){c=ps(-1,c),c.tag=3,c.payload={element:null};var p=a.value;return c.callback=function(){Ap||(Ap=!0,Z_=p),F_(o,a)},c}function YT(o,a,c){c=ps(-1,c),c.tag=3;var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var y=a.value;c.payload=function(){return p(y)},c.callback=function(){F_(o,a)}}var w=o.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(c.callback=function(){F_(o,a),typeof p!="function"&&(oo===null?oo=new Set([this]):oo.add(this));var P=a.stack;this.componentDidCatch(a.value,{componentStack:P!==null?P:""})}),c}function JT(o,a,c){var p=o.pingCache;if(p===null){p=o.pingCache=new uL;var y=new Set;p.set(a,y)}else y=p.get(a),y===void 0&&(y=new Set,p.set(a,y));y.has(c)||(y.add(c),o=TL.bind(null,o,a,c),a.then(o,o))}function XT(o){do{var a;if((a=o.tag===13)&&(a=o.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return o;o=o.return}while(o!==null);return null}function ZT(o,a,c,p,y){return o.mode&1?(o.flags|=65536,o.lanes=y,o):(o===a?o.flags|=65536:(o.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=ps(-1,1),a.tag=2,io(c,a,1))),c.lanes|=1),o)}var cL=z.ReactCurrentOwner,Jn=!1;function Un(o,a,c,p){a.child=o===null?vT(a,null,c,p):Yl(a,o.child,c,p)}function eS(o,a,c,p,y){c=c.render;var w=a.ref;return Xl(a,y),p=C_(o,a,c,p,w,y),c=k_(),o!==null&&!Jn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~y,ms(o,a,y)):(It&&c&&h_(a),a.flags|=1,Un(o,a,p,y),a.child)}function tS(o,a,c,p,y){if(o===null){var w=c.type;return typeof w=="function"&&!ov(w)&&w.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=w,nS(o,a,w,p,y)):(o=Np(c.type,null,p,a,a.mode,y),o.ref=a.ref,o.return=a,a.child=o)}if(w=o.child,!(o.lanes&y)){var P=w.memoizedProps;if(c=c.compare,c=c!==null?c:Jc,c(P,p)&&o.ref===a.ref)return ms(o,a,y)}return a.flags|=1,o=co(w,p),o.ref=a.ref,o.return=a,a.child=o}function nS(o,a,c,p,y){if(o!==null){var w=o.memoizedProps;if(Jc(w,p)&&o.ref===a.ref)if(Jn=!1,a.pendingProps=p=w,(o.lanes&y)!==0)o.flags&131072&&(Jn=!0);else return a.lanes=o.lanes,ms(o,a,y)}return U_(o,a,c,p,y)}function rS(o,a,c){var p=a.pendingProps,y=p.children,w=o!==null?o.memoizedState:null;if(p.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},pt(nu,pr),pr|=c;else{if(!(c&1073741824))return o=w!==null?w.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:o,cachePool:null,transitions:null},a.updateQueue=null,pt(nu,pr),pr|=o,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=w!==null?w.baseLanes:c,pt(nu,pr),pr|=p}else w!==null?(p=w.baseLanes|c,a.memoizedState=null):p=c,pt(nu,pr),pr|=p;return Un(o,a,y,c),a.child}function iS(o,a){var c=a.ref;(o===null&&c!==null||o!==null&&o.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function U_(o,a,c,p,y){var w=Yn(c)?_a:An.current;return w=Hl(a,w),Xl(a,y),c=C_(o,a,c,p,w,y),p=k_(),o!==null&&!Jn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~y,ms(o,a,y)):(It&&p&&h_(a),a.flags|=1,Un(o,a,c,y),a.child)}function sS(o,a,c,p,y){if(Yn(c)){var w=!0;ip(a)}else w=!1;if(Xl(a,y),a.stateNode===null)Ip(o,a),KT(a,c,p),V_(a,c,p,y),p=!0;else if(o===null){var P=a.stateNode,U=a.memoizedProps;P.props=U;var B=P.context,Z=c.contextType;typeof Z=="object"&&Z!==null?Z=Lr(Z):(Z=Yn(c)?_a:An.current,Z=Hl(a,Z));var ce=c.getDerivedStateFromProps,fe=typeof ce=="function"||typeof P.getSnapshotBeforeUpdate=="function";fe||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(U!==p||B!==Z)&&GT(a,P,p,Z),ro=!1;var le=a.memoizedState;P.state=le,fp(a,p,P,y),B=a.memoizedState,U!==p||le!==B||Qn.current||ro?(typeof ce=="function"&&(L_(a,c,ce,p),B=a.memoizedState),(U=ro||HT(a,c,U,p,le,B,Z))?(fe||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(a.flags|=4194308)):(typeof P.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=B),P.props=p,P.state=B,P.context=Z,p=U):(typeof P.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{P=a.stateNode,ET(o,a),U=a.memoizedProps,Z=a.type===a.elementType?U:ri(a.type,U),P.props=Z,fe=a.pendingProps,le=P.context,B=c.contextType,typeof B=="object"&&B!==null?B=Lr(B):(B=Yn(c)?_a:An.current,B=Hl(a,B));var we=c.getDerivedStateFromProps;(ce=typeof we=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(U!==fe||le!==B)&&GT(a,P,p,B),ro=!1,le=a.memoizedState,P.state=le,fp(a,p,P,y);var Se=a.memoizedState;U!==fe||le!==Se||Qn.current||ro?(typeof we=="function"&&(L_(a,c,we,p),Se=a.memoizedState),(Z=ro||HT(a,c,Z,p,le,Se,B)||!1)?(ce||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(p,Se,B),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(p,Se,B)),typeof P.componentDidUpdate=="function"&&(a.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof P.componentDidUpdate!="function"||U===o.memoizedProps&&le===o.memoizedState||(a.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||U===o.memoizedProps&&le===o.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=Se),P.props=p,P.state=Se,P.context=B,p=Z):(typeof P.componentDidUpdate!="function"||U===o.memoizedProps&&le===o.memoizedState||(a.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||U===o.memoizedProps&&le===o.memoizedState||(a.flags|=1024),p=!1)}return $_(o,a,c,p,w,y)}function $_(o,a,c,p,y,w){iS(o,a);var P=(a.flags&128)!==0;if(!p&&!P)return y&&cT(a,c,!1),ms(o,a,w);p=a.stateNode,cL.current=a;var U=P&&typeof c.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,o!==null&&P?(a.child=Yl(a,o.child,null,w),a.child=Yl(a,null,U,w)):Un(o,a,U,w),a.memoizedState=p.state,y&&cT(a,c,!0),a.child}function oS(o){var a=o.stateNode;a.pendingContext?lT(o,a.pendingContext,a.pendingContext!==a.context):a.context&&lT(o,a.context,!1),T_(o,a.containerInfo)}function aS(o,a,c,p,y){return Ql(),g_(y),a.flags|=256,Un(o,a,c,p),a.child}var j_={dehydrated:null,treeContext:null,retryLane:0};function B_(o){return{baseLanes:o,cachePool:null,transitions:null}}function lS(o,a,c){var p=a.pendingProps,y=Ct.current,w=!1,P=(a.flags&128)!==0,U;if((U=P)||(U=o!==null&&o.memoizedState===null?!1:(y&2)!==0),U?(w=!0,a.flags&=-129):(o===null||o.memoizedState!==null)&&(y|=1),pt(Ct,y&1),o===null)return m_(a),o=a.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(a.mode&1?o.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(P=p.children,o=p.fallback,w?(p=a.mode,w=a.child,P={mode:"hidden",children:P},!(p&1)&&w!==null?(w.childLanes=0,w.pendingProps=P):w=Dp(P,p,0,null),o=Pa(o,p,c,null),w.return=a,o.return=a,w.sibling=o,a.child=w,a.child.memoizedState=B_(c),a.memoizedState=j_,o):z_(a,P));if(y=o.memoizedState,y!==null&&(U=y.dehydrated,U!==null))return dL(o,a,P,p,U,y,c);if(w){w=p.fallback,P=a.mode,y=o.child,U=y.sibling;var B={mode:"hidden",children:p.children};return!(P&1)&&a.child!==y?(p=a.child,p.childLanes=0,p.pendingProps=B,a.deletions=null):(p=co(y,B),p.subtreeFlags=y.subtreeFlags&14680064),U!==null?w=co(U,w):(w=Pa(w,P,c,null),w.flags|=2),w.return=a,p.return=a,p.sibling=w,a.child=p,p=w,w=a.child,P=o.child.memoizedState,P=P===null?B_(c):{baseLanes:P.baseLanes|c,cachePool:null,transitions:P.transitions},w.memoizedState=P,w.childLanes=o.childLanes&~c,a.memoizedState=j_,p}return w=o.child,o=w.sibling,p=co(w,{mode:"visible",children:p.children}),!(a.mode&1)&&(p.lanes=c),p.return=a,p.sibling=null,o!==null&&(c=a.deletions,c===null?(a.deletions=[o],a.flags|=16):c.push(o)),a.child=p,a.memoizedState=null,p}function z_(o,a){return a=Dp({mode:"visible",children:a},o.mode,0,null),a.return=o,o.child=a}function Ep(o,a,c,p){return p!==null&&g_(p),Yl(a,o.child,null,c),o=z_(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function dL(o,a,c,p,y,w,P){if(c)return a.flags&256?(a.flags&=-257,p=M_(Error(t(422))),Ep(o,a,P,p)):a.memoizedState!==null?(a.child=o.child,a.flags|=128,null):(w=p.fallback,y=a.mode,p=Dp({mode:"visible",children:p.children},y,0,null),w=Pa(w,y,P,null),w.flags|=2,p.return=a,w.return=a,p.sibling=w,a.child=p,a.mode&1&&Yl(a,o.child,null,P),a.child.memoizedState=B_(P),a.memoizedState=j_,w);if(!(a.mode&1))return Ep(o,a,P,null);if(y.data==="$!"){if(p=y.nextSibling&&y.nextSibling.dataset,p)var U=p.dgst;return p=U,w=Error(t(419)),p=M_(w,p,void 0),Ep(o,a,P,p)}if(U=(P&o.childLanes)!==0,Jn||U){if(p=hn,p!==null){switch(P&-P){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=y&(p.suspendedLanes|P)?0:y,y!==0&&y!==w.retryLane&&(w.retryLane=y,fs(o,y),oi(p,o,y,-1))}return sv(),p=M_(Error(t(421))),Ep(o,a,P,p)}return y.data==="$?"?(a.flags|=128,a.child=o.child,a=SL.bind(null,o),y._reactRetry=a,null):(o=w.treeContext,fr=Zs(y.nextSibling),hr=a,It=!0,ni=null,o!==null&&(Nr[Dr++]=ds,Nr[Dr++]=hs,Nr[Dr++]=va,ds=o.id,hs=o.overflow,va=a),a=z_(a,p.children),a.flags|=4096,a)}function uS(o,a,c){o.lanes|=a;var p=o.alternate;p!==null&&(p.lanes|=a),w_(o.return,a,c)}function W_(o,a,c,p,y){var w=o.memoizedState;w===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:y}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=c,w.tailMode=y)}function cS(o,a,c){var p=a.pendingProps,y=p.revealOrder,w=p.tail;if(Un(o,a,p.children,c),p=Ct.current,p&2)p=p&1|2,a.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&uS(o,c,a);else if(o.tag===19)uS(o,c,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}p&=1}if(pt(Ct,p),!(a.mode&1))a.memoizedState=null;else switch(y){case"forwards":for(c=a.child,y=null;c!==null;)o=c.alternate,o!==null&&pp(o)===null&&(y=c),c=c.sibling;c=y,c===null?(y=a.child,a.child=null):(y=c.sibling,c.sibling=null),W_(a,!1,y,c,w);break;case"backwards":for(c=null,y=a.child,a.child=null;y!==null;){if(o=y.alternate,o!==null&&pp(o)===null){a.child=y;break}o=y.sibling,y.sibling=c,c=y,y=o}W_(a,!0,c,null,w);break;case"together":W_(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ip(o,a){!(a.mode&1)&&o!==null&&(o.alternate=null,a.alternate=null,a.flags|=2)}function ms(o,a,c){if(o!==null&&(a.dependencies=o.dependencies),Sa|=a.lanes,!(c&a.childLanes))return null;if(o!==null&&a.child!==o.child)throw Error(t(153));if(a.child!==null){for(o=a.child,c=co(o,o.pendingProps),a.child=c,c.return=a;o.sibling!==null;)o=o.sibling,c=c.sibling=co(o,o.pendingProps),c.return=a;c.sibling=null}return a.child}function hL(o,a,c){switch(a.tag){case 3:oS(a),Ql();break;case 5:ST(a);break;case 1:Yn(a.type)&&ip(a);break;case 4:T_(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,y=a.memoizedProps.value;pt(cp,p._currentValue),p._currentValue=y;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(pt(Ct,Ct.current&1),a.flags|=128,null):c&a.child.childLanes?lS(o,a,c):(pt(Ct,Ct.current&1),o=ms(o,a,c),o!==null?o.sibling:null);pt(Ct,Ct.current&1);break;case 19:if(p=(c&a.childLanes)!==0,o.flags&128){if(p)return cS(o,a,c);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),pt(Ct,Ct.current),p)break;return null;case 22:case 23:return a.lanes=0,rS(o,a,c)}return ms(o,a,c)}var dS,q_,hS,fS;dS=function(o,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)o.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},q_=function(){},hS=function(o,a,c,p){var y=o.memoizedProps;if(y!==p){o=a.stateNode,Ia(Si.current);var w=null;switch(c){case"input":y=en(o,y),p=en(o,p),w=[];break;case"select":y=he({},y,{value:void 0}),p=he({},p,{value:void 0}),w=[];break;case"textarea":y=bc(o,y),p=bc(o,p),w=[];break;default:typeof y.onClick!="function"&&typeof p.onClick=="function"&&(o.onclick=tp)}Oc(c,p);var P;c=null;for(Z in y)if(!p.hasOwnProperty(Z)&&y.hasOwnProperty(Z)&&y[Z]!=null)if(Z==="style"){var U=y[Z];for(P in U)U.hasOwnProperty(P)&&(c||(c={}),c[P]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(i.hasOwnProperty(Z)?w||(w=[]):(w=w||[]).push(Z,null));for(Z in p){var B=p[Z];if(U=y!=null?y[Z]:void 0,p.hasOwnProperty(Z)&&B!==U&&(B!=null||U!=null))if(Z==="style")if(U){for(P in U)!U.hasOwnProperty(P)||B&&B.hasOwnProperty(P)||(c||(c={}),c[P]="");for(P in B)B.hasOwnProperty(P)&&U[P]!==B[P]&&(c||(c={}),c[P]=B[P])}else c||(w||(w=[]),w.push(Z,c)),c=B;else Z==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,U=U?U.__html:void 0,B!=null&&U!==B&&(w=w||[]).push(Z,B)):Z==="children"?typeof B!="string"&&typeof B!="number"||(w=w||[]).push(Z,""+B):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(i.hasOwnProperty(Z)?(B!=null&&Z==="onScroll"&&yt("scroll",o),w||U===B||(w=[])):(w=w||[]).push(Z,B))}c&&(w=w||[]).push("style",c);var Z=w;(a.updateQueue=Z)&&(a.flags|=4)}},fS=function(o,a,c,p){c!==p&&(a.flags|=4)};function hd(o,a){if(!It)switch(o.tailMode){case"hidden":a=o.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?o.tail=null:c.sibling=null;break;case"collapsed":c=o.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function Cn(o){var a=o.alternate!==null&&o.alternate.child===o.child,c=0,p=0;if(a)for(var y=o.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags&14680064,p|=y.flags&14680064,y.return=o,y=y.sibling;else for(y=o.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=o,y=y.sibling;return o.subtreeFlags|=p,o.childLanes=c,a}function fL(o,a,c){var p=a.pendingProps;switch(f_(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cn(a),null;case 1:return Yn(a.type)&&rp(),Cn(a),null;case 3:return p=a.stateNode,Zl(),_t(Qn),_t(An),b_(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(lp(a)?a.flags|=4:o===null||o.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,ni!==null&&(nv(ni),ni=null))),q_(o,a),Cn(a),null;case 5:S_(a);var y=Ia(ad.current);if(c=a.type,o!==null&&a.stateNode!=null)hS(o,a,c,p,y),o.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(t(166));return Cn(a),null}if(o=Ia(Si.current),lp(a)){p=a.stateNode,c=a.type;var w=a.memoizedProps;switch(p[Ti]=a,p[nd]=w,o=(a.mode&1)!==0,c){case"dialog":yt("cancel",p),yt("close",p);break;case"iframe":case"object":case"embed":yt("load",p);break;case"video":case"audio":for(y=0;y<Zc.length;y++)yt(Zc[y],p);break;case"source":yt("error",p);break;case"img":case"image":case"link":yt("error",p),yt("load",p);break;case"details":yt("toggle",p);break;case"input":qr(p,w),yt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!w.multiple},yt("invalid",p);break;case"textarea":gl(p,w),yt("invalid",p)}Oc(c,w),y=null;for(var P in w)if(w.hasOwnProperty(P)){var U=w[P];P==="children"?typeof U=="string"?p.textContent!==U&&(w.suppressHydrationWarning!==!0&&ep(p.textContent,U,o),y=["children",U]):typeof U=="number"&&p.textContent!==""+U&&(w.suppressHydrationWarning!==!0&&ep(p.textContent,U,o),y=["children",""+U]):i.hasOwnProperty(P)&&U!=null&&P==="onScroll"&&yt("scroll",p)}switch(c){case"input":un(p),qn(p,w,!0);break;case"textarea":un(p),Ac(p);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(p.onclick=tp)}p=y,a.updateQueue=p,p!==null&&(a.flags|=4)}else{P=y.nodeType===9?y:y.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=tn(c)),o==="http://www.w3.org/1999/xhtml"?c==="script"?(o=P.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof p.is=="string"?o=P.createElement(c,{is:p.is}):(o=P.createElement(c),c==="select"&&(P=o,p.multiple?P.multiple=!0:p.size&&(P.size=p.size))):o=P.createElementNS(o,c),o[Ti]=a,o[nd]=p,dS(o,a,!1,!1),a.stateNode=o;e:{switch(P=Nc(c,p),c){case"dialog":yt("cancel",o),yt("close",o),y=p;break;case"iframe":case"object":case"embed":yt("load",o),y=p;break;case"video":case"audio":for(y=0;y<Zc.length;y++)yt(Zc[y],o);y=p;break;case"source":yt("error",o),y=p;break;case"img":case"image":case"link":yt("error",o),yt("load",o),y=p;break;case"details":yt("toggle",o),y=p;break;case"input":qr(o,p),y=en(o,p),yt("invalid",o);break;case"option":y=p;break;case"select":o._wrapperState={wasMultiple:!!p.multiple},y=he({},p,{value:void 0}),yt("invalid",o);break;case"textarea":gl(o,p),y=bc(o,p),yt("invalid",o);break;default:y=p}Oc(c,y),U=y;for(w in U)if(U.hasOwnProperty(w)){var B=U[w];w==="style"?kc(o,B):w==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&Pc(o,B)):w==="children"?typeof B=="string"?(c!=="textarea"||B!=="")&&Bs(o,B):typeof B=="number"&&Bs(o,""+B):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?B!=null&&w==="onScroll"&&yt("scroll",o):B!=null&&M(o,w,B,P))}switch(c){case"input":un(o),qn(o,p,!1);break;case"textarea":un(o),Ac(o);break;case"option":p.value!=null&&o.setAttribute("value",""+qe(p.value));break;case"select":o.multiple=!!p.multiple,w=p.value,w!=null?ts(o,!!p.multiple,w,!1):p.defaultValue!=null&&ts(o,!!p.multiple,p.defaultValue,!0);break;default:typeof y.onClick=="function"&&(o.onclick=tp)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Cn(a),null;case 6:if(o&&a.stateNode!=null)fS(o,a,o.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(t(166));if(c=Ia(ad.current),Ia(Si.current),lp(a)){if(p=a.stateNode,c=a.memoizedProps,p[Ti]=a,(w=p.nodeValue!==c)&&(o=hr,o!==null))switch(o.tag){case 3:ep(p.nodeValue,c,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&ep(p.nodeValue,c,(o.mode&1)!==0)}w&&(a.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[Ti]=a,a.stateNode=p}return Cn(a),null;case 13:if(_t(Ct),p=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(It&&fr!==null&&a.mode&1&&!(a.flags&128))gT(),Ql(),a.flags|=98560,w=!1;else if(w=lp(a),p!==null&&p.dehydrated!==null){if(o===null){if(!w)throw Error(t(318));if(w=a.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(t(317));w[Ti]=a}else Ql(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;Cn(a),w=!1}else ni!==null&&(nv(ni),ni=null),w=!0;if(!w)return a.flags&65536?a:null}return a.flags&128?(a.lanes=c,a):(p=p!==null,p!==(o!==null&&o.memoizedState!==null)&&p&&(a.child.flags|=8192,a.mode&1&&(o===null||Ct.current&1?on===0&&(on=3):sv())),a.updateQueue!==null&&(a.flags|=4),Cn(a),null);case 4:return Zl(),q_(o,a),o===null&&ed(a.stateNode.containerInfo),Cn(a),null;case 10:return v_(a.type._context),Cn(a),null;case 17:return Yn(a.type)&&rp(),Cn(a),null;case 19:if(_t(Ct),w=a.memoizedState,w===null)return Cn(a),null;if(p=(a.flags&128)!==0,P=w.rendering,P===null)if(p)hd(w,!1);else{if(on!==0||o!==null&&o.flags&128)for(o=a.child;o!==null;){if(P=pp(o),P!==null){for(a.flags|=128,hd(w,!1),p=P.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=c,c=a.child;c!==null;)w=c,o=p,w.flags&=14680066,P=w.alternate,P===null?(w.childLanes=0,w.lanes=o,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=P.childLanes,w.lanes=P.lanes,w.child=P.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=P.memoizedProps,w.memoizedState=P.memoizedState,w.updateQueue=P.updateQueue,w.type=P.type,o=P.dependencies,w.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),c=c.sibling;return pt(Ct,Ct.current&1|2),a.child}o=o.sibling}w.tail!==null&&ft()>ru&&(a.flags|=128,p=!0,hd(w,!1),a.lanes=4194304)}else{if(!p)if(o=pp(P),o!==null){if(a.flags|=128,p=!0,c=o.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),hd(w,!0),w.tail===null&&w.tailMode==="hidden"&&!P.alternate&&!It)return Cn(a),null}else 2*ft()-w.renderingStartTime>ru&&c!==1073741824&&(a.flags|=128,p=!0,hd(w,!1),a.lanes=4194304);w.isBackwards?(P.sibling=a.child,a.child=P):(c=w.last,c!==null?c.sibling=P:a.child=P,w.last=P)}return w.tail!==null?(a=w.tail,w.rendering=a,w.tail=a.sibling,w.renderingStartTime=ft(),a.sibling=null,c=Ct.current,pt(Ct,p?c&1|2:c&1),a):(Cn(a),null);case 22:case 23:return iv(),p=a.memoizedState!==null,o!==null&&o.memoizedState!==null!==p&&(a.flags|=8192),p&&a.mode&1?pr&1073741824&&(Cn(a),a.subtreeFlags&6&&(a.flags|=8192)):Cn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function pL(o,a){switch(f_(a),a.tag){case 1:return Yn(a.type)&&rp(),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return Zl(),_t(Qn),_t(An),b_(),o=a.flags,o&65536&&!(o&128)?(a.flags=o&-65537|128,a):null;case 5:return S_(a),null;case 13:if(_t(Ct),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Ql()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return _t(Ct),null;case 4:return Zl(),null;case 10:return v_(a.type._context),null;case 22:case 23:return iv(),null;case 24:return null;default:return null}}var Tp=!1,kn=!1,mL=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function tu(o,a){var c=o.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){Lt(o,a,p)}else c.current=null}function H_(o,a,c){try{c()}catch(p){Lt(o,a,p)}}var pS=!1;function gL(o,a){if(i_=Ys,o=HI(),Yy(o)){if("selectionStart"in o)var c={start:o.selectionStart,end:o.selectionEnd};else e:{c=(c=o.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var y=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var P=0,U=-1,B=-1,Z=0,ce=0,fe=o,le=null;t:for(;;){for(var we;fe!==c||y!==0&&fe.nodeType!==3||(U=P+y),fe!==w||p!==0&&fe.nodeType!==3||(B=P+p),fe.nodeType===3&&(P+=fe.nodeValue.length),(we=fe.firstChild)!==null;)le=fe,fe=we;for(;;){if(fe===o)break t;if(le===c&&++Z===y&&(U=P),le===w&&++ce===p&&(B=P),(we=fe.nextSibling)!==null)break;fe=le,le=fe.parentNode}fe=we}c=U===-1||B===-1?null:{start:U,end:B}}else c=null}c=c||{start:0,end:0}}else c=null;for(s_={focusedElem:o,selectionRange:c},Ys=!1,Ie=a;Ie!==null;)if(a=Ie,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,Ie=o;else for(;Ie!==null;){a=Ie;try{var Se=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var be=Se.memoizedProps,Bt=Se.memoizedState,Y=a.stateNode,H=Y.getSnapshotBeforeUpdate(a.elementType===a.type?be:ri(a.type,be),Bt);Y.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var J=a.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ge){Lt(a,a.return,ge)}if(o=a.sibling,o!==null){o.return=a.return,Ie=o;break}Ie=a.return}return Se=pS,pS=!1,Se}function fd(o,a,c){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&o)===o){var w=y.destroy;y.destroy=void 0,w!==void 0&&H_(a,c,w)}y=y.next}while(y!==p)}}function Sp(o,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&o)===o){var p=c.create;c.destroy=p()}c=c.next}while(c!==a)}}function K_(o){var a=o.ref;if(a!==null){var c=o.stateNode;switch(o.tag){case 5:o=c;break;default:o=c}typeof a=="function"?a(o):a.current=o}}function mS(o){var a=o.alternate;a!==null&&(o.alternate=null,mS(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&(delete a[Ti],delete a[nd],delete a[u_],delete a[XD],delete a[ZD])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function gS(o){return o.tag===5||o.tag===3||o.tag===4}function yS(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||gS(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function G_(o,a,c){var p=o.tag;if(p===5||p===6)o=o.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(o,a):c.insertBefore(o,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(o,c)):(a=c,a.appendChild(o)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=tp));else if(p!==4&&(o=o.child,o!==null))for(G_(o,a,c),o=o.sibling;o!==null;)G_(o,a,c),o=o.sibling}function Q_(o,a,c){var p=o.tag;if(p===5||p===6)o=o.stateNode,a?c.insertBefore(o,a):c.appendChild(o);else if(p!==4&&(o=o.child,o!==null))for(Q_(o,a,c),o=o.sibling;o!==null;)Q_(o,a,c),o=o.sibling}var wn=null,ii=!1;function so(o,a,c){for(c=c.child;c!==null;)_S(o,a,c),c=c.sibling}function _S(o,a,c){if(lr&&typeof lr.onCommitFiberUnmount=="function")try{lr.onCommitFiberUnmount(ca,c)}catch{}switch(c.tag){case 5:kn||tu(c,a);case 6:var p=wn,y=ii;wn=null,so(o,a,c),wn=p,ii=y,wn!==null&&(ii?(o=wn,c=c.stateNode,o.nodeType===8?o.parentNode.removeChild(c):o.removeChild(c)):wn.removeChild(c.stateNode));break;case 18:wn!==null&&(ii?(o=wn,c=c.stateNode,o.nodeType===8?l_(o.parentNode,c):o.nodeType===1&&l_(o,c),Zr(o)):l_(wn,c.stateNode));break;case 4:p=wn,y=ii,wn=c.stateNode.containerInfo,ii=!0,so(o,a,c),wn=p,ii=y;break;case 0:case 11:case 14:case 15:if(!kn&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){y=p=p.next;do{var w=y,P=w.destroy;w=w.tag,P!==void 0&&(w&2||w&4)&&H_(c,a,P),y=y.next}while(y!==p)}so(o,a,c);break;case 1:if(!kn&&(tu(c,a),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(U){Lt(c,a,U)}so(o,a,c);break;case 21:so(o,a,c);break;case 22:c.mode&1?(kn=(p=kn)||c.memoizedState!==null,so(o,a,c),kn=p):so(o,a,c);break;default:so(o,a,c)}}function vS(o){var a=o.updateQueue;if(a!==null){o.updateQueue=null;var c=o.stateNode;c===null&&(c=o.stateNode=new mL),a.forEach(function(p){var y=RL.bind(null,o,p);c.has(p)||(c.add(p),p.then(y,y))})}}function si(o,a){var c=a.deletions;if(c!==null)for(var p=0;p<c.length;p++){var y=c[p];try{var w=o,P=a,U=P;e:for(;U!==null;){switch(U.tag){case 5:wn=U.stateNode,ii=!1;break e;case 3:wn=U.stateNode.containerInfo,ii=!0;break e;case 4:wn=U.stateNode.containerInfo,ii=!0;break e}U=U.return}if(wn===null)throw Error(t(160));_S(w,P,y),wn=null,ii=!1;var B=y.alternate;B!==null&&(B.return=null),y.return=null}catch(Z){Lt(y,a,Z)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)wS(a,o),a=a.sibling}function wS(o,a){var c=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(si(a,o),bi(o),p&4){try{fd(3,o,o.return),Sp(3,o)}catch(be){Lt(o,o.return,be)}try{fd(5,o,o.return)}catch(be){Lt(o,o.return,be)}}break;case 1:si(a,o),bi(o),p&512&&c!==null&&tu(c,c.return);break;case 5:if(si(a,o),bi(o),p&512&&c!==null&&tu(c,c.return),o.flags&32){var y=o.stateNode;try{Bs(y,"")}catch(be){Lt(o,o.return,be)}}if(p&4&&(y=o.stateNode,y!=null)){var w=o.memoizedProps,P=c!==null?c.memoizedProps:w,U=o.type,B=o.updateQueue;if(o.updateQueue=null,B!==null)try{U==="input"&&w.type==="radio"&&w.name!=null&&Ar(y,w),Nc(U,P);var Z=Nc(U,w);for(P=0;P<B.length;P+=2){var ce=B[P],fe=B[P+1];ce==="style"?kc(y,fe):ce==="dangerouslySetInnerHTML"?Pc(y,fe):ce==="children"?Bs(y,fe):M(y,ce,fe,Z)}switch(U){case"input":Pr(y,w);break;case"textarea":yl(y,w);break;case"select":var le=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!w.multiple;var we=w.value;we!=null?ts(y,!!w.multiple,we,!1):le!==!!w.multiple&&(w.defaultValue!=null?ts(y,!!w.multiple,w.defaultValue,!0):ts(y,!!w.multiple,w.multiple?[]:"",!1))}y[nd]=w}catch(be){Lt(o,o.return,be)}}break;case 6:if(si(a,o),bi(o),p&4){if(o.stateNode===null)throw Error(t(162));y=o.stateNode,w=o.memoizedProps;try{y.nodeValue=w}catch(be){Lt(o,o.return,be)}}break;case 3:if(si(a,o),bi(o),p&4&&c!==null&&c.memoizedState.isDehydrated)try{Zr(a.containerInfo)}catch(be){Lt(o,o.return,be)}break;case 4:si(a,o),bi(o);break;case 13:si(a,o),bi(o),y=o.child,y.flags&8192&&(w=y.memoizedState!==null,y.stateNode.isHidden=w,!w||y.alternate!==null&&y.alternate.memoizedState!==null||(X_=ft())),p&4&&vS(o);break;case 22:if(ce=c!==null&&c.memoizedState!==null,o.mode&1?(kn=(Z=kn)||ce,si(a,o),kn=Z):si(a,o),bi(o),p&8192){if(Z=o.memoizedState!==null,(o.stateNode.isHidden=Z)&&!ce&&o.mode&1)for(Ie=o,ce=o.child;ce!==null;){for(fe=Ie=ce;Ie!==null;){switch(le=Ie,we=le.child,le.tag){case 0:case 11:case 14:case 15:fd(4,le,le.return);break;case 1:tu(le,le.return);var Se=le.stateNode;if(typeof Se.componentWillUnmount=="function"){p=le,c=le.return;try{a=p,Se.props=a.memoizedProps,Se.state=a.memoizedState,Se.componentWillUnmount()}catch(be){Lt(p,c,be)}}break;case 5:tu(le,le.return);break;case 22:if(le.memoizedState!==null){TS(fe);continue}}we!==null?(we.return=le,Ie=we):TS(fe)}ce=ce.sibling}e:for(ce=null,fe=o;;){if(fe.tag===5){if(ce===null){ce=fe;try{y=fe.stateNode,Z?(w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(U=fe.stateNode,B=fe.memoizedProps.style,P=B!=null&&B.hasOwnProperty("display")?B.display:null,U.style.display=Cc("display",P))}catch(be){Lt(o,o.return,be)}}}else if(fe.tag===6){if(ce===null)try{fe.stateNode.nodeValue=Z?"":fe.memoizedProps}catch(be){Lt(o,o.return,be)}}else if((fe.tag!==22&&fe.tag!==23||fe.memoizedState===null||fe===o)&&fe.child!==null){fe.child.return=fe,fe=fe.child;continue}if(fe===o)break e;for(;fe.sibling===null;){if(fe.return===null||fe.return===o)break e;ce===fe&&(ce=null),fe=fe.return}ce===fe&&(ce=null),fe.sibling.return=fe.return,fe=fe.sibling}}break;case 19:si(a,o),bi(o),p&4&&vS(o);break;case 21:break;default:si(a,o),bi(o)}}function bi(o){var a=o.flags;if(a&2){try{e:{for(var c=o.return;c!==null;){if(gS(c)){var p=c;break e}c=c.return}throw Error(t(160))}switch(p.tag){case 5:var y=p.stateNode;p.flags&32&&(Bs(y,""),p.flags&=-33);var w=yS(o);Q_(o,w,y);break;case 3:case 4:var P=p.stateNode.containerInfo,U=yS(o);G_(o,U,P);break;default:throw Error(t(161))}}catch(B){Lt(o,o.return,B)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function yL(o,a,c){Ie=o,ES(o)}function ES(o,a,c){for(var p=(o.mode&1)!==0;Ie!==null;){var y=Ie,w=y.child;if(y.tag===22&&p){var P=y.memoizedState!==null||Tp;if(!P){var U=y.alternate,B=U!==null&&U.memoizedState!==null||kn;U=Tp;var Z=kn;if(Tp=P,(kn=B)&&!Z)for(Ie=y;Ie!==null;)P=Ie,B=P.child,P.tag===22&&P.memoizedState!==null?SS(y):B!==null?(B.return=P,Ie=B):SS(y);for(;w!==null;)Ie=w,ES(w),w=w.sibling;Ie=y,Tp=U,kn=Z}IS(o)}else y.subtreeFlags&8772&&w!==null?(w.return=y,Ie=w):IS(o)}}function IS(o){for(;Ie!==null;){var a=Ie;if(a.flags&8772){var c=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:kn||Sp(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!kn)if(c===null)p.componentDidMount();else{var y=a.elementType===a.type?c.memoizedProps:ri(a.type,c.memoizedProps);p.componentDidUpdate(y,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var w=a.updateQueue;w!==null&&TT(a,w,p);break;case 3:var P=a.updateQueue;if(P!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}TT(a,P,c)}break;case 5:var U=a.stateNode;if(c===null&&a.flags&4){c=U;var B=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&c.focus();break;case"img":B.src&&(c.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Z=a.alternate;if(Z!==null){var ce=Z.memoizedState;if(ce!==null){var fe=ce.dehydrated;fe!==null&&Zr(fe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}kn||a.flags&512&&K_(a)}catch(le){Lt(a,a.return,le)}}if(a===o){Ie=null;break}if(c=a.sibling,c!==null){c.return=a.return,Ie=c;break}Ie=a.return}}function TS(o){for(;Ie!==null;){var a=Ie;if(a===o){Ie=null;break}var c=a.sibling;if(c!==null){c.return=a.return,Ie=c;break}Ie=a.return}}function SS(o){for(;Ie!==null;){var a=Ie;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{Sp(4,a)}catch(B){Lt(a,c,B)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var y=a.return;try{p.componentDidMount()}catch(B){Lt(a,y,B)}}var w=a.return;try{K_(a)}catch(B){Lt(a,w,B)}break;case 5:var P=a.return;try{K_(a)}catch(B){Lt(a,P,B)}}}catch(B){Lt(a,a.return,B)}if(a===o){Ie=null;break}var U=a.sibling;if(U!==null){U.return=a.return,Ie=U;break}Ie=a.return}}var _L=Math.ceil,Rp=z.ReactCurrentDispatcher,Y_=z.ReactCurrentOwner,Mr=z.ReactCurrentBatchConfig,Xe=0,hn=null,Gt=null,En=0,pr=0,nu=eo(0),on=0,pd=null,Sa=0,bp=0,J_=0,md=null,Xn=null,X_=0,ru=1/0,gs=null,Ap=!1,Z_=null,oo=null,Pp=!1,ao=null,Cp=0,gd=0,ev=null,kp=-1,xp=0;function $n(){return Xe&6?ft():kp!==-1?kp:kp=ft()}function lo(o){return o.mode&1?Xe&2&&En!==0?En&-En:tL.transition!==null?(xp===0&&(xp=ha()),xp):(o=He,o!==0||(o=window.event,o=o===void 0?16:Wc(o.type)),o):1}function oi(o,a,c,p){if(50<gd)throw gd=0,ev=null,Error(t(185));Hs(o,c,p),(!(Xe&2)||o!==hn)&&(o===hn&&(!(Xe&2)&&(bp|=c),on===4&&uo(o,En)),Zn(o,p),c===1&&Xe===0&&!(a.mode&1)&&(ru=ft()+500,sp&&no()))}function Zn(o,a){var c=o.callbackNode;is(o,a);var p=da(o,o===hn?En:0);if(p===0)c!==null&&Uc(c),o.callbackNode=null,o.callbackPriority=0;else if(a=p&-p,o.callbackPriority!==a){if(c!=null&&Uc(c),a===1)o.tag===0?eL(bS.bind(null,o)):dT(bS.bind(null,o)),YD(function(){!(Xe&6)&&no()}),c=null;else{switch(Gs(p)){case 1:c=ua;break;case 4:c=zs;break;case 16:c=kr;break;case 536870912:c=xf;break;default:c=kr}c=DS(c,RS.bind(null,o))}o.callbackPriority=a,o.callbackNode=c}}function RS(o,a){if(kp=-1,xp=0,Xe&6)throw Error(t(327));var c=o.callbackNode;if(iu()&&o.callbackNode!==c)return null;var p=da(o,o===hn?En:0);if(p===0)return null;if(p&30||p&o.expiredLanes||a)a=Op(o,p);else{a=p;var y=Xe;Xe|=2;var w=PS();(hn!==o||En!==a)&&(gs=null,ru=ft()+500,ba(o,a));do try{EL();break}catch(U){AS(o,U)}while(!0);__(),Rp.current=w,Xe=y,Gt!==null?a=0:(hn=null,En=0,a=on)}if(a!==0){if(a===2&&(y=ur(o),y!==0&&(p=y,a=tv(o,y))),a===1)throw c=pd,ba(o,0),uo(o,p),Zn(o,ft()),c;if(a===6)uo(o,p);else{if(y=o.current.alternate,!(p&30)&&!vL(y)&&(a=Op(o,p),a===2&&(w=ur(o),w!==0&&(p=w,a=tv(o,w))),a===1))throw c=pd,ba(o,0),uo(o,p),Zn(o,ft()),c;switch(o.finishedWork=y,o.finishedLanes=p,a){case 0:case 1:throw Error(t(345));case 2:Aa(o,Xn,gs);break;case 3:if(uo(o,p),(p&130023424)===p&&(a=X_+500-ft(),10<a)){if(da(o,0)!==0)break;if(y=o.suspendedLanes,(y&p)!==p){$n(),o.pingedLanes|=o.suspendedLanes&y;break}o.timeoutHandle=a_(Aa.bind(null,o,Xn,gs),a);break}Aa(o,Xn,gs);break;case 4:if(uo(o,p),(p&4194240)===p)break;for(a=o.eventTimes,y=-1;0<p;){var P=31-Mn(p);w=1<<P,P=a[P],P>y&&(y=P),p&=~w}if(p=y,p=ft()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*_L(p/1960))-p,10<p){o.timeoutHandle=a_(Aa.bind(null,o,Xn,gs),p);break}Aa(o,Xn,gs);break;case 5:Aa(o,Xn,gs);break;default:throw Error(t(329))}}}return Zn(o,ft()),o.callbackNode===c?RS.bind(null,o):null}function tv(o,a){var c=md;return o.current.memoizedState.isDehydrated&&(ba(o,a).flags|=256),o=Op(o,a),o!==2&&(a=Xn,Xn=c,a!==null&&nv(a)),o}function nv(o){Xn===null?Xn=o:Xn.push.apply(Xn,o)}function vL(o){for(var a=o;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var y=c[p],w=y.getSnapshot;y=y.value;try{if(!ti(w(),y))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function uo(o,a){for(a&=~J_,a&=~bp,o.suspendedLanes|=a,o.pingedLanes&=~a,o=o.expirationTimes;0<a;){var c=31-Mn(a),p=1<<c;o[c]=-1,a&=~p}}function bS(o){if(Xe&6)throw Error(t(327));iu();var a=da(o,0);if(!(a&1))return Zn(o,ft()),null;var c=Op(o,a);if(o.tag!==0&&c===2){var p=ur(o);p!==0&&(a=p,c=tv(o,p))}if(c===1)throw c=pd,ba(o,0),uo(o,a),Zn(o,ft()),c;if(c===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=a,Aa(o,Xn,gs),Zn(o,ft()),null}function rv(o,a){var c=Xe;Xe|=1;try{return o(a)}finally{Xe=c,Xe===0&&(ru=ft()+500,sp&&no())}}function Ra(o){ao!==null&&ao.tag===0&&!(Xe&6)&&iu();var a=Xe;Xe|=1;var c=Mr.transition,p=He;try{if(Mr.transition=null,He=1,o)return o()}finally{He=p,Mr.transition=c,Xe=a,!(Xe&6)&&no()}}function iv(){pr=nu.current,_t(nu)}function ba(o,a){o.finishedWork=null,o.finishedLanes=0;var c=o.timeoutHandle;if(c!==-1&&(o.timeoutHandle=-1,QD(c)),Gt!==null)for(c=Gt.return;c!==null;){var p=c;switch(f_(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&rp();break;case 3:Zl(),_t(Qn),_t(An),b_();break;case 5:S_(p);break;case 4:Zl();break;case 13:_t(Ct);break;case 19:_t(Ct);break;case 10:v_(p.type._context);break;case 22:case 23:iv()}c=c.return}if(hn=o,Gt=o=co(o.current,null),En=pr=a,on=0,pd=null,J_=bp=Sa=0,Xn=md=null,Ea!==null){for(a=0;a<Ea.length;a++)if(c=Ea[a],p=c.interleaved,p!==null){c.interleaved=null;var y=p.next,w=c.pending;if(w!==null){var P=w.next;w.next=y,p.next=P}c.pending=p}Ea=null}return o}function AS(o,a){do{var c=Gt;try{if(__(),mp.current=vp,gp){for(var p=kt.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}gp=!1}if(Ta=0,dn=sn=kt=null,ld=!1,ud=0,Y_.current=null,c===null||c.return===null){on=1,pd=a,Gt=null;break}e:{var w=o,P=c.return,U=c,B=a;if(a=En,U.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var Z=B,ce=U,fe=ce.tag;if(!(ce.mode&1)&&(fe===0||fe===11||fe===15)){var le=ce.alternate;le?(ce.updateQueue=le.updateQueue,ce.memoizedState=le.memoizedState,ce.lanes=le.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var we=XT(P);if(we!==null){we.flags&=-257,ZT(we,P,U,w,a),we.mode&1&&JT(w,Z,a),a=we,B=Z;var Se=a.updateQueue;if(Se===null){var be=new Set;be.add(B),a.updateQueue=be}else Se.add(B);break e}else{if(!(a&1)){JT(w,Z,a),sv();break e}B=Error(t(426))}}else if(It&&U.mode&1){var Bt=XT(P);if(Bt!==null){!(Bt.flags&65536)&&(Bt.flags|=256),ZT(Bt,P,U,w,a),g_(eu(B,U));break e}}w=B=eu(B,U),on!==4&&(on=2),md===null?md=[w]:md.push(w),w=P;do{switch(w.tag){case 3:w.flags|=65536,a&=-a,w.lanes|=a;var Y=QT(w,B,a);IT(w,Y);break e;case 1:U=B;var H=w.type,J=w.stateNode;if(!(w.flags&128)&&(typeof H.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(oo===null||!oo.has(J)))){w.flags|=65536,a&=-a,w.lanes|=a;var ge=YT(w,U,a);IT(w,ge);break e}}w=w.return}while(w!==null)}kS(c)}catch(Ae){a=Ae,Gt===c&&c!==null&&(Gt=c=c.return);continue}break}while(!0)}function PS(){var o=Rp.current;return Rp.current=vp,o===null?vp:o}function sv(){(on===0||on===3||on===2)&&(on=4),hn===null||!(Sa&268435455)&&!(bp&268435455)||uo(hn,En)}function Op(o,a){var c=Xe;Xe|=2;var p=PS();(hn!==o||En!==a)&&(gs=null,ba(o,a));do try{wL();break}catch(y){AS(o,y)}while(!0);if(__(),Xe=c,Rp.current=p,Gt!==null)throw Error(t(261));return hn=null,En=0,on}function wL(){for(;Gt!==null;)CS(Gt)}function EL(){for(;Gt!==null&&!Cf();)CS(Gt)}function CS(o){var a=NS(o.alternate,o,pr);o.memoizedProps=o.pendingProps,a===null?kS(o):Gt=a,Y_.current=null}function kS(o){var a=o;do{var c=a.alternate;if(o=a.return,a.flags&32768){if(c=pL(c,a),c!==null){c.flags&=32767,Gt=c;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{on=6,Gt=null;return}}else if(c=fL(c,a,pr),c!==null){Gt=c;return}if(a=a.sibling,a!==null){Gt=a;return}Gt=a=o}while(a!==null);on===0&&(on=5)}function Aa(o,a,c){var p=He,y=Mr.transition;try{Mr.transition=null,He=1,IL(o,a,c,p)}finally{Mr.transition=y,He=p}return null}function IL(o,a,c,p){do iu();while(ao!==null);if(Xe&6)throw Error(t(327));c=o.finishedWork;var y=o.finishedLanes;if(c===null)return null;if(o.finishedWork=null,o.finishedLanes=0,c===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var w=c.lanes|c.childLanes;if(ut(o,w),o===hn&&(Gt=hn=null,En=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||Pp||(Pp=!0,DS(kr,function(){return iu(),null})),w=(c.flags&15990)!==0,c.subtreeFlags&15990||w){w=Mr.transition,Mr.transition=null;var P=He;He=1;var U=Xe;Xe|=4,Y_.current=null,gL(o,c),wS(c,o),BD(s_),Ys=!!i_,s_=i_=null,o.current=c,yL(c),By(),Xe=U,He=P,Mr.transition=w}else o.current=c;if(Pp&&(Pp=!1,ao=o,Cp=y),w=o.pendingLanes,w===0&&(oo=null),Of(c.stateNode),Zn(o,ft()),a!==null)for(p=o.onRecoverableError,c=0;c<a.length;c++)y=a[c],p(y.value,{componentStack:y.stack,digest:y.digest});if(Ap)throw Ap=!1,o=Z_,Z_=null,o;return Cp&1&&o.tag!==0&&iu(),w=o.pendingLanes,w&1?o===ev?gd++:(gd=0,ev=o):gd=0,no(),null}function iu(){if(ao!==null){var o=Gs(Cp),a=Mr.transition,c=He;try{if(Mr.transition=null,He=16>o?16:o,ao===null)var p=!1;else{if(o=ao,ao=null,Cp=0,Xe&6)throw Error(t(331));var y=Xe;for(Xe|=4,Ie=o.current;Ie!==null;){var w=Ie,P=w.child;if(Ie.flags&16){var U=w.deletions;if(U!==null){for(var B=0;B<U.length;B++){var Z=U[B];for(Ie=Z;Ie!==null;){var ce=Ie;switch(ce.tag){case 0:case 11:case 15:fd(8,ce,w)}var fe=ce.child;if(fe!==null)fe.return=ce,Ie=fe;else for(;Ie!==null;){ce=Ie;var le=ce.sibling,we=ce.return;if(mS(ce),ce===Z){Ie=null;break}if(le!==null){le.return=we,Ie=le;break}Ie=we}}}var Se=w.alternate;if(Se!==null){var be=Se.child;if(be!==null){Se.child=null;do{var Bt=be.sibling;be.sibling=null,be=Bt}while(be!==null)}}Ie=w}}if(w.subtreeFlags&2064&&P!==null)P.return=w,Ie=P;else e:for(;Ie!==null;){if(w=Ie,w.flags&2048)switch(w.tag){case 0:case 11:case 15:fd(9,w,w.return)}var Y=w.sibling;if(Y!==null){Y.return=w.return,Ie=Y;break e}Ie=w.return}}var H=o.current;for(Ie=H;Ie!==null;){P=Ie;var J=P.child;if(P.subtreeFlags&2064&&J!==null)J.return=P,Ie=J;else e:for(P=H;Ie!==null;){if(U=Ie,U.flags&2048)try{switch(U.tag){case 0:case 11:case 15:Sp(9,U)}}catch(Ae){Lt(U,U.return,Ae)}if(U===P){Ie=null;break e}var ge=U.sibling;if(ge!==null){ge.return=U.return,Ie=ge;break e}Ie=U.return}}if(Xe=y,no(),lr&&typeof lr.onPostCommitFiberRoot=="function")try{lr.onPostCommitFiberRoot(ca,o)}catch{}p=!0}return p}finally{He=c,Mr.transition=a}}return!1}function xS(o,a,c){a=eu(c,a),a=QT(o,a,1),o=io(o,a,1),a=$n(),o!==null&&(Hs(o,1,a),Zn(o,a))}function Lt(o,a,c){if(o.tag===3)xS(o,o,c);else for(;a!==null;){if(a.tag===3){xS(a,o,c);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(oo===null||!oo.has(p))){o=eu(c,o),o=YT(a,o,1),a=io(a,o,1),o=$n(),a!==null&&(Hs(a,1,o),Zn(a,o));break}}a=a.return}}function TL(o,a,c){var p=o.pingCache;p!==null&&p.delete(a),a=$n(),o.pingedLanes|=o.suspendedLanes&c,hn===o&&(En&c)===c&&(on===4||on===3&&(En&130023424)===En&&500>ft()-X_?ba(o,0):J_|=c),Zn(o,a)}function OS(o,a){a===0&&(o.mode&1?(a=Al,Al<<=1,!(Al&130023424)&&(Al=4194304)):a=1);var c=$n();o=fs(o,a),o!==null&&(Hs(o,a,c),Zn(o,c))}function SL(o){var a=o.memoizedState,c=0;a!==null&&(c=a.retryLane),OS(o,c)}function RL(o,a){var c=0;switch(o.tag){case 13:var p=o.stateNode,y=o.memoizedState;y!==null&&(c=y.retryLane);break;case 19:p=o.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(a),OS(o,c)}var NS;NS=function(o,a,c){if(o!==null)if(o.memoizedProps!==a.pendingProps||Qn.current)Jn=!0;else{if(!(o.lanes&c)&&!(a.flags&128))return Jn=!1,hL(o,a,c);Jn=!!(o.flags&131072)}else Jn=!1,It&&a.flags&1048576&&hT(a,ap,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;Ip(o,a),o=a.pendingProps;var y=Hl(a,An.current);Xl(a,c),y=C_(null,a,p,o,y,c);var w=k_();return a.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Yn(p)?(w=!0,ip(a)):w=!1,a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,I_(a),y.updater=wp,a.stateNode=y,y._reactInternals=a,V_(a,p,o,c),a=$_(null,a,p,!0,w,c)):(a.tag=0,It&&w&&h_(a),Un(null,a,y,c),a=a.child),a;case 16:p=a.elementType;e:{switch(Ip(o,a),o=a.pendingProps,y=p._init,p=y(p._payload),a.type=p,y=a.tag=AL(p),o=ri(p,o),y){case 0:a=U_(null,a,p,o,c);break e;case 1:a=sS(null,a,p,o,c);break e;case 11:a=eS(null,a,p,o,c);break e;case 14:a=tS(null,a,p,ri(p.type,o),c);break e}throw Error(t(306,p,""))}return a;case 0:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:ri(p,y),U_(o,a,p,y,c);case 1:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:ri(p,y),sS(o,a,p,y,c);case 3:e:{if(oS(a),o===null)throw Error(t(387));p=a.pendingProps,w=a.memoizedState,y=w.element,ET(o,a),fp(a,p,null,c);var P=a.memoizedState;if(p=P.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){y=eu(Error(t(423)),a),a=aS(o,a,p,c,y);break e}else if(p!==y){y=eu(Error(t(424)),a),a=aS(o,a,p,c,y);break e}else for(fr=Zs(a.stateNode.containerInfo.firstChild),hr=a,It=!0,ni=null,c=vT(a,null,p,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ql(),p===y){a=ms(o,a,c);break e}Un(o,a,p,c)}a=a.child}return a;case 5:return ST(a),o===null&&m_(a),p=a.type,y=a.pendingProps,w=o!==null?o.memoizedProps:null,P=y.children,o_(p,y)?P=null:w!==null&&o_(p,w)&&(a.flags|=32),iS(o,a),Un(o,a,P,c),a.child;case 6:return o===null&&m_(a),null;case 13:return lS(o,a,c);case 4:return T_(a,a.stateNode.containerInfo),p=a.pendingProps,o===null?a.child=Yl(a,null,p,c):Un(o,a,p,c),a.child;case 11:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:ri(p,y),eS(o,a,p,y,c);case 7:return Un(o,a,a.pendingProps,c),a.child;case 8:return Un(o,a,a.pendingProps.children,c),a.child;case 12:return Un(o,a,a.pendingProps.children,c),a.child;case 10:e:{if(p=a.type._context,y=a.pendingProps,w=a.memoizedProps,P=y.value,pt(cp,p._currentValue),p._currentValue=P,w!==null)if(ti(w.value,P)){if(w.children===y.children&&!Qn.current){a=ms(o,a,c);break e}}else for(w=a.child,w!==null&&(w.return=a);w!==null;){var U=w.dependencies;if(U!==null){P=w.child;for(var B=U.firstContext;B!==null;){if(B.context===p){if(w.tag===1){B=ps(-1,c&-c),B.tag=2;var Z=w.updateQueue;if(Z!==null){Z=Z.shared;var ce=Z.pending;ce===null?B.next=B:(B.next=ce.next,ce.next=B),Z.pending=B}}w.lanes|=c,B=w.alternate,B!==null&&(B.lanes|=c),w_(w.return,c,a),U.lanes|=c;break}B=B.next}}else if(w.tag===10)P=w.type===a.type?null:w.child;else if(w.tag===18){if(P=w.return,P===null)throw Error(t(341));P.lanes|=c,U=P.alternate,U!==null&&(U.lanes|=c),w_(P,c,a),P=w.sibling}else P=w.child;if(P!==null)P.return=w;else for(P=w;P!==null;){if(P===a){P=null;break}if(w=P.sibling,w!==null){w.return=P.return,P=w;break}P=P.return}w=P}Un(o,a,y.children,c),a=a.child}return a;case 9:return y=a.type,p=a.pendingProps.children,Xl(a,c),y=Lr(y),p=p(y),a.flags|=1,Un(o,a,p,c),a.child;case 14:return p=a.type,y=ri(p,a.pendingProps),y=ri(p.type,y),tS(o,a,p,y,c);case 15:return nS(o,a,a.type,a.pendingProps,c);case 17:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:ri(p,y),Ip(o,a),a.tag=1,Yn(p)?(o=!0,ip(a)):o=!1,Xl(a,c),KT(a,p,y),V_(a,p,y,c),$_(null,a,p,!0,o,c);case 19:return cS(o,a,c);case 22:return rS(o,a,c)}throw Error(t(156,a.tag))};function DS(o,a){return Rl(o,a)}function bL(o,a,c,p){this.tag=o,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fr(o,a,c,p){return new bL(o,a,c,p)}function ov(o){return o=o.prototype,!(!o||!o.isReactComponent)}function AL(o){if(typeof o=="function")return ov(o)?1:0;if(o!=null){if(o=o.$$typeof,o===k)return 11;if(o===F)return 14}return 2}function co(o,a){var c=o.alternate;return c===null?(c=Fr(o.tag,a,o.key,o.mode),c.elementType=o.elementType,c.type=o.type,c.stateNode=o.stateNode,c.alternate=o,o.alternate=c):(c.pendingProps=a,c.type=o.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=o.flags&14680064,c.childLanes=o.childLanes,c.lanes=o.lanes,c.child=o.child,c.memoizedProps=o.memoizedProps,c.memoizedState=o.memoizedState,c.updateQueue=o.updateQueue,a=o.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=o.sibling,c.index=o.index,c.ref=o.ref,c}function Np(o,a,c,p,y,w){var P=2;if(p=o,typeof o=="function")ov(o)&&(P=1);else if(typeof o=="string")P=5;else e:switch(o){case D:return Pa(c.children,y,w,a);case b:P=8,y|=8;break;case C:return o=Fr(12,c,a,y|2),o.elementType=C,o.lanes=w,o;case O:return o=Fr(13,c,a,y),o.elementType=O,o.lanes=w,o;case ee:return o=Fr(19,c,a,y),o.elementType=ee,o.lanes=w,o;case oe:return Dp(c,y,w,a);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case E:P=10;break e;case x:P=9;break e;case k:P=11;break e;case F:P=14;break e;case me:P=16,p=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return a=Fr(P,c,a,y),a.elementType=o,a.type=p,a.lanes=w,a}function Pa(o,a,c,p){return o=Fr(7,o,p,a),o.lanes=c,o}function Dp(o,a,c,p){return o=Fr(22,o,p,a),o.elementType=oe,o.lanes=c,o.stateNode={isHidden:!1},o}function av(o,a,c){return o=Fr(6,o,null,a),o.lanes=c,o}function lv(o,a,c){return a=Fr(4,o.children!==null?o.children:[],o.key,a),a.lanes=c,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function PL(o,a,c,p,y){this.tag=a,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qs(0),this.expirationTimes=qs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qs(0),this.identifierPrefix=p,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function uv(o,a,c,p,y,w,P,U,B){return o=new PL(o,a,c,U,B),a===1?(a=1,w===!0&&(a|=8)):a=0,w=Fr(3,null,null,a),o.current=w,w.stateNode=o,w.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},I_(w),o}function CL(o,a,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q,key:p==null?null:""+p,children:o,containerInfo:a,implementation:c}}function LS(o){if(!o)return to;o=o._reactInternals;e:{if(Gr(o)!==o||o.tag!==1)throw Error(t(170));var a=o;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Yn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(o.tag===1){var c=o.type;if(Yn(c))return uT(o,c,a)}return a}function VS(o,a,c,p,y,w,P,U,B){return o=uv(c,p,!0,o,y,w,P,U,B),o.context=LS(null),c=o.current,p=$n(),y=lo(c),w=ps(p,y),w.callback=a??null,io(c,w,y),o.current.lanes=y,Hs(o,y,p),Zn(o,p),o}function Lp(o,a,c,p){var y=a.current,w=$n(),P=lo(y);return c=LS(c),a.context===null?a.context=c:a.pendingContext=c,a=ps(w,P),a.payload={element:o},p=p===void 0?null:p,p!==null&&(a.callback=p),o=io(y,a,P),o!==null&&(oi(o,y,P,w),hp(o,y,P)),P}function Vp(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function MS(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var c=o.retryLane;o.retryLane=c!==0&&c<a?c:a}}function cv(o,a){MS(o,a),(o=o.alternate)&&MS(o,a)}function kL(){return null}var FS=typeof reportError=="function"?reportError:function(o){console.error(o)};function dv(o){this._internalRoot=o}Mp.prototype.render=dv.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(t(409));Lp(o,a,null,null)},Mp.prototype.unmount=dv.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;Ra(function(){Lp(null,o,null,null)}),a[us]=null}};function Mp(o){this._internalRoot=o}Mp.prototype.unstable_scheduleHydration=function(o){if(o){var a=Mf();o={blockedOn:null,target:o,priority:a};for(var c=0;c<vi.length&&a!==0&&a<vi[c].priority;c++);vi.splice(c,0,o),c===0&&$f(o)}};function hv(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Fp(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function US(){}function xL(o,a,c,p,y){if(y){if(typeof p=="function"){var w=p;p=function(){var Z=Vp(P);w.call(Z)}}var P=VS(a,p,o,0,null,!1,!1,"",US);return o._reactRootContainer=P,o[us]=P.current,ed(o.nodeType===8?o.parentNode:o),Ra(),P}for(;y=o.lastChild;)o.removeChild(y);if(typeof p=="function"){var U=p;p=function(){var Z=Vp(B);U.call(Z)}}var B=uv(o,0,!1,null,null,!1,!1,"",US);return o._reactRootContainer=B,o[us]=B.current,ed(o.nodeType===8?o.parentNode:o),Ra(function(){Lp(a,B,c,p)}),B}function Up(o,a,c,p,y){var w=c._reactRootContainer;if(w){var P=w;if(typeof y=="function"){var U=y;y=function(){var B=Vp(P);U.call(B)}}Lp(a,P,o,y)}else P=xL(c,a,o,y,p);return Vp(P)}Lf=function(o){switch(o.tag){case 3:var a=o.stateNode;if(a.current.memoizedState.isDehydrated){var c=Ws(a.pendingLanes);c!==0&&(Ks(a,c|1),Zn(a,ft()),!(Xe&6)&&(ru=ft()+500,no()))}break;case 13:Ra(function(){var p=fs(o,1);if(p!==null){var y=$n();oi(p,o,1,y)}}),cv(o,1)}},Pl=function(o){if(o.tag===13){var a=fs(o,134217728);if(a!==null){var c=$n();oi(a,o,134217728,c)}cv(o,134217728)}},Vf=function(o){if(o.tag===13){var a=lo(o),c=fs(o,a);if(c!==null){var p=$n();oi(c,o,a,p)}cv(o,a)}},Mf=function(){return He},Ff=function(o,a){var c=He;try{return He=o,a()}finally{He=c}},vl=function(o,a,c){switch(a){case"input":if(Pr(o,c),a=c.name,c.type==="radio"&&a!=null){for(c=o;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var p=c[a];if(p!==o&&p.form===o.form){var y=np(p);if(!y)throw Error(t(90));it(p),Pr(p,y)}}}break;case"textarea":yl(o,c);break;case"select":a=c.value,a!=null&&ts(o,!!c.multiple,a,!1)}},sa=rv,Lc=Ra;var OL={usingClientEntryPoint:!1,Events:[rd,Wl,np,yi,Dc,rv]},yd={findFiberByHostInstance:ya,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NL={bundleType:yd.bundleType,version:yd.version,rendererPackageName:yd.rendererPackageName,rendererConfig:yd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Fc(o),o===null?null:o.stateNode},findFiberByHostInstance:yd.findFiberByHostInstance||kL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$p.isDisabled&&$p.supportsFiber)try{ca=$p.inject(NL),lr=$p}catch{}}return er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OL,er.createPortal=function(o,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hv(a))throw Error(t(200));return CL(o,a,null,c)},er.createRoot=function(o,a){if(!hv(o))throw Error(t(299));var c=!1,p="",y=FS;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=uv(o,1,!1,null,null,c,!1,p,y),o[us]=a.current,ed(o.nodeType===8?o.parentNode:o),new dv(a)},er.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=Fc(a),o=o===null?null:o.stateNode,o},er.flushSync=function(o){return Ra(o)},er.hydrate=function(o,a,c){if(!Fp(a))throw Error(t(200));return Up(null,o,a,!0,c)},er.hydrateRoot=function(o,a,c){if(!hv(o))throw Error(t(405));var p=c!=null&&c.hydratedSources||null,y=!1,w="",P=FS;if(c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onRecoverableError!==void 0&&(P=c.onRecoverableError)),a=VS(a,null,o,1,c??null,y,!1,w,P),o[us]=a.current,ed(o),p)for(o=0;o<p.length;o++)c=p[o],y=c._getVersion,y=y(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,y]:a.mutableSourceEagerHydrationData.push(c,y);return new Mp(a)},er.render=function(o,a,c){if(!Fp(a))throw Error(t(200));return Up(null,o,a,!1,c)},er.unmountComponentAtNode=function(o){if(!Fp(o))throw Error(t(40));return o._reactRootContainer?(Ra(function(){Up(null,null,o,!1,function(){o._reactRootContainer=null,o[us]=null})}),!0):!1},er.unstable_batchedUpdates=rv,er.unstable_renderSubtreeIntoContainer=function(o,a,c,p){if(!Fp(c))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return Up(o,a,c,!1,p)},er.version="18.3.1-next-f1338f8080-20240426",er}var KS;function BL(){if(KS)return mv.exports;KS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),mv.exports=jL(),mv.exports}var GS;function zL(){if(GS)return jp;GS=1;var n=BL();return jp.createRoot=n.createRoot,jp.hydrateRoot=n.hydrateRoot,jp}var WL=zL(),vd={},QS;function qL(){if(QS)return vd;QS=1,Object.defineProperty(vd,"__esModule",{value:!0}),vd.parse=l,vd.serialize=h;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function l(_,T){const I=new s,R=_.length;if(R<2)return I;const A=(T==null?void 0:T.decode)||m;let V=0;do{const L=_.indexOf("=",V);if(L===-1)break;const M=_.indexOf(";",V),z=M===-1?R:M;if(L>z){V=_.lastIndexOf(";",L-1)+1;continue}const j=u(_,V,L),q=d(_,L,j),D=_.slice(j,q);if(I[D]===void 0){let b=u(_,L+1,z),C=d(_,z,b);const E=A(_.slice(b,C));I[D]=E}V=z+1}while(V<R);return I}function u(_,T,I){do{const R=_.charCodeAt(T);if(R!==32&&R!==9)return T}while(++T<I);return I}function d(_,T,I){for(;T>I;){const R=_.charCodeAt(--T);if(R!==32&&R!==9)return T+1}return I}function h(_,T,I){const R=(I==null?void 0:I.encode)||encodeURIComponent;if(!n.test(_))throw new TypeError(`argument name is invalid: ${_}`);const A=R(T);if(!e.test(A))throw new TypeError(`argument val is invalid: ${T}`);let V=_+"="+A;if(!I)return V;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);V+="; Max-Age="+I.maxAge}if(I.domain){if(!t.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);V+="; Domain="+I.domain}if(I.path){if(!r.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);V+="; Path="+I.path}if(I.expires){if(!g(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);V+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&(V+="; HttpOnly"),I.secure&&(V+="; Secure"),I.partitioned&&(V+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":V+="; Priority=Low";break;case"medium":V+="; Priority=Medium";break;case"high":V+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":V+="; SameSite=Strict";break;case"lax":V+="; SameSite=Lax";break;case"none":V+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return V}function m(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function g(_){return i.call(_)==="[object Date]"}return vd}qL();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var YS="popstate";function HL(n={}){function e(r,i){let{pathname:s,search:l,hash:u}=r.location;return sw("",{pathname:s,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:ph(i)}return GL(e,t,null,n)}function Ot(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Hi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function KL(){return Math.random().toString(36).substring(2,10)}function JS(n,e){return{usr:n.state,key:n.key,idx:e}}function sw(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ac(e):e,state:t,key:e&&e.key||r||KL()}}function ph({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ac(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function GL(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,u="POP",d=null,h=m();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function m(){return(l.state||{idx:null}).idx}function g(){u="POP";let A=m(),V=A==null?null:A-h;h=A,d&&d({action:u,location:R.location,delta:V})}function _(A,V){u="PUSH";let L=sw(R.location,A,V);h=m()+1;let M=JS(L,h),z=R.createHref(L);try{l.pushState(M,"",z)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(z)}s&&d&&d({action:u,location:R.location,delta:1})}function T(A,V){u="REPLACE";let L=sw(R.location,A,V);h=m();let M=JS(L,h),z=R.createHref(L);l.replaceState(M,"",z),s&&d&&d({action:u,location:R.location,delta:0})}function I(A){let V=i.location.origin!=="null"?i.location.origin:i.location.href,L=typeof A=="string"?A:ph(A);return L=L.replace(/ $/,"%20"),Ot(V,`No window.location.(origin|href) available to create URL for href: ${L}`),new URL(L,V)}let R={get action(){return u},get location(){return n(i,l)},listen(A){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(YS,g),d=A,()=>{i.removeEventListener(YS,g),d=null}},createHref(A){return e(i,A)},createURL:I,encodeLocation(A){let V=I(A);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:_,replace:T,go(A){return l.go(A)}};return R}function HP(n,e,t="/"){return QL(n,e,t,!1)}function QL(n,e,t,r){let i=typeof e=="string"?ac(e):e,s=xo(i.pathname||"/",t);if(s==null)return null;let l=KP(n);YL(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let h=aV(s);u=sV(l[d],h,r)}return u}function KP(n,e=[],t=[],r=""){let i=(s,l,u)=>{let d={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};d.relativePath.startsWith("/")&&(Ot(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let h=bs([r,d.relativePath]),m=t.concat(d);s.children&&s.children.length>0&&(Ot(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),KP(s.children,e,m,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:rV(h,s.index),routesMeta:m})};return n.forEach((s,l)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,l);else for(let d of GP(s.path))i(s,l,d)}),e}function GP(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=GP(r.join("/")),u=[];return u.push(...l.map(d=>d===""?s:[s,d].join("/"))),i&&u.push(...l),u.map(d=>n.startsWith("/")&&d===""?"/":d)}function YL(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:iV(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var JL=/^:[\w-]+$/,XL=3,ZL=2,eV=1,tV=10,nV=-2,XS=n=>n==="*";function rV(n,e){let t=n.split("/"),r=t.length;return t.some(XS)&&(r+=nV),e&&(r+=ZL),t.filter(i=>!XS(i)).reduce((i,s)=>i+(JL.test(s)?XL:s===""?eV:tV),r)}function iV(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function sV(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],h=u===r.length-1,m=s==="/"?e:e.slice(s.length)||"/",g=Vm({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},m),_=d.route;if(!g&&h&&t&&!r[r.length-1].route.index&&(g=Vm({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:bs([s,g.pathname]),pathnameBase:dV(bs([s,g.pathnameBase])),route:_}),g.pathnameBase!=="/"&&(s=bs([s,g.pathnameBase]))}return l}function Vm(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=oV(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:g},_)=>{if(m==="*"){let I=u[_]||"";l=s.slice(0,s.length-I.length).replace(/(.)\/+$/,"$1")}const T=u[_];return g&&!T?h[m]=void 0:h[m]=(T||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:l,pattern:n}}function oV(n,e=!1,t=!0){Hi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function aV(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Hi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function xo(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function lV(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?ac(n):n;return{pathname:t?t.startsWith("/")?t:uV(t,e):e,search:hV(r),hash:fV(i)}}function uV(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function _v(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cV(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function QP(n){let e=cV(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function YP(n,e,t,r=!1){let i;typeof n=="string"?i=ac(n):(i={...n},Ot(!i.pathname||!i.pathname.includes("?"),_v("?","pathname","search",i)),Ot(!i.pathname||!i.pathname.includes("#"),_v("#","pathname","hash",i)),Ot(!i.search||!i.search.includes("#"),_v("#","search","hash",i)));let s=n===""||i.pathname==="",l=s?"/":i.pathname,u;if(l==null)u=t;else{let g=e.length-1;if(!r&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),g-=1;i.pathname=_.join("/")}u=g>=0?e[g]:"/"}let d=lV(i,u),h=l&&l!=="/"&&l.endsWith("/"),m=(s||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(h||m)&&(d.pathname+="/"),d}var bs=n=>n.join("/").replace(/\/\/+/g,"/"),dV=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),hV=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,fV=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function pV(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var JP=["POST","PUT","PATCH","DELETE"];new Set(JP);var mV=["GET",...JP];new Set(mV);var lc=K.createContext(null);lc.displayName="DataRouter";var Ag=K.createContext(null);Ag.displayName="DataRouterState";var XP=K.createContext({isTransitioning:!1});XP.displayName="ViewTransition";var gV=K.createContext(new Map);gV.displayName="Fetchers";var yV=K.createContext(null);yV.displayName="Await";var Xi=K.createContext(null);Xi.displayName="Navigation";var Wh=K.createContext(null);Wh.displayName="Location";var Zi=K.createContext({outlet:null,matches:[],isDataRoute:!1});Zi.displayName="Route";var wE=K.createContext(null);wE.displayName="RouteError";function _V(n,{relative:e}={}){Ot(qh(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=K.useContext(Xi),{hash:i,pathname:s,search:l}=Hh(n,{relative:e}),u=s;return t!=="/"&&(u=s==="/"?t:bs([t,s])),r.createHref({pathname:u,search:l,hash:i})}function qh(){return K.useContext(Wh)!=null}function Ho(){return Ot(qh(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(Wh).location}var ZP="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function eC(n){K.useContext(Xi).static||K.useLayoutEffect(n)}function Pg(){let{isDataRoute:n}=K.useContext(Zi);return n?xV():vV()}function vV(){Ot(qh(),"useNavigate() may be used only in the context of a <Router> component.");let n=K.useContext(lc),{basename:e,navigator:t}=K.useContext(Xi),{matches:r}=K.useContext(Zi),{pathname:i}=Ho(),s=JSON.stringify(QP(r)),l=K.useRef(!1);return eC(()=>{l.current=!0}),K.useCallback((d,h={})=>{if(Hi(l.current,ZP),!l.current)return;if(typeof d=="number"){t.go(d);return}let m=YP(d,JSON.parse(s),i,h.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:bs([e,m.pathname])),(h.replace?t.replace:t.push)(m,h.state,h)},[e,t,s,i,n])}K.createContext(null);function tC(){let{matches:n}=K.useContext(Zi),e=n[n.length-1];return e?e.params:{}}function Hh(n,{relative:e}={}){let{matches:t}=K.useContext(Zi),{pathname:r}=Ho(),i=JSON.stringify(QP(t));return K.useMemo(()=>YP(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function wV(n,e){return nC(n,e)}function nC(n,e,t,r){var L;Ot(qh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=K.useContext(Xi),{matches:l}=K.useContext(Zi),u=l[l.length-1],d=u?u.params:{},h=u?u.pathname:"/",m=u?u.pathnameBase:"/",g=u&&u.route;{let M=g&&g.path||"";rC(h,!g||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let _=Ho(),T;if(e){let M=typeof e=="string"?ac(e):e;Ot(m==="/"||((L=M.pathname)==null?void 0:L.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${M.pathname}" was given in the \`location\` prop.`),T=M}else T=_;let I=T.pathname||"/",R=I;if(m!=="/"){let M=m.replace(/^\//,"").split("/");R="/"+I.replace(/^\//,"").split("/").slice(M.length).join("/")}let A=!s&&t&&t.matches&&t.matches.length>0?t.matches:HP(n,{pathname:R});Hi(g||A!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Hi(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=RV(A&&A.map(M=>Object.assign({},M,{params:Object.assign({},d,M.params),pathname:bs([m,i.encodeLocation?i.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?m:bs([m,i.encodeLocation?i.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),l,t,r);return e&&V?K.createElement(Wh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},V):V}function EV(){let n=kV(),e=pV(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=K.createElement(K.Fragment,null,K.createElement("p",null,"💿 Hey developer 👋"),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:s},"ErrorBoundary")," or"," ",K.createElement("code",{style:s},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),t?K.createElement("pre",{style:i},t):null,l)}var IV=K.createElement(EV,null),TV=class extends K.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?K.createElement(Zi.Provider,{value:this.props.routeContext},K.createElement(wE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function SV({routeContext:n,match:e,children:t}){let r=K.useContext(lc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(Zi.Provider,{value:n},t)}function RV(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,s=t==null?void 0:t.errors;if(s!=null){let d=i.findIndex(h=>h.route.id&&(s==null?void 0:s[h.route.id])!==void 0);Ot(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,u=-1;if(t)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:g}=t,_=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||_){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,h,m)=>{let g,_=!1,T=null,I=null;t&&(g=s&&h.route.id?s[h.route.id]:void 0,T=h.route.errorElement||IV,l&&(u<0&&m===0?(rC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,I=null):u===m&&(_=!0,I=h.route.hydrateFallbackElement||null)));let R=e.concat(i.slice(0,m+1)),A=()=>{let V;return g?V=T:_?V=I:h.route.Component?V=K.createElement(h.route.Component,null):h.route.element?V=h.route.element:V=d,K.createElement(SV,{match:h,routeContext:{outlet:d,matches:R,isDataRoute:t!=null},children:V})};return t&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?K.createElement(TV,{location:t.location,revalidation:t.revalidation,component:T,error:g,children:A(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):A()},null)}function EE(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bV(n){let e=K.useContext(lc);return Ot(e,EE(n)),e}function AV(n){let e=K.useContext(Ag);return Ot(e,EE(n)),e}function PV(n){let e=K.useContext(Zi);return Ot(e,EE(n)),e}function IE(n){let e=PV(n),t=e.matches[e.matches.length-1];return Ot(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function CV(){return IE("useRouteId")}function kV(){var r;let n=K.useContext(wE),e=AV("useRouteError"),t=IE("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function xV(){let{router:n}=bV("useNavigate"),e=IE("useNavigate"),t=K.useRef(!1);return eC(()=>{t.current=!0}),K.useCallback(async(i,s={})=>{Hi(t.current,ZP),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var ZS={};function rC(n,e,t){!e&&!ZS[n]&&(ZS[n]=!0,Hi(!1,t))}K.memo(OV);function OV({routes:n,future:e,state:t}){return nC(n,void 0,t,e)}function _s(n){Ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function NV({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1}){Ot(!qh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=K.useMemo(()=>({basename:l,navigator:i,static:s,future:{}}),[l,i,s]);typeof t=="string"&&(t=ac(t));let{pathname:d="/",search:h="",hash:m="",state:g=null,key:_="default"}=t,T=K.useMemo(()=>{let I=xo(d,l);return I==null?null:{location:{pathname:I,search:h,hash:m,state:g,key:_},navigationType:r}},[l,d,h,m,g,_,r]);return Hi(T!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:K.createElement(Xi.Provider,{value:u},K.createElement(Wh.Provider,{children:e,value:T}))}function DV({children:n,location:e}){return wV(ow(n),e)}function ow(n,e=[]){let t=[];return K.Children.forEach(n,(r,i)=>{if(!K.isValidElement(r))return;let s=[...e,i];if(r.type===K.Fragment){t.push.apply(t,ow(r.props.children,s));return}Ot(r.type===_s,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ot(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=ow(r.props.children,s)),t.push(l)}),t}var om="get",am="application/x-www-form-urlencoded";function Cg(n){return n!=null&&typeof n.tagName=="string"}function LV(n){return Cg(n)&&n.tagName.toLowerCase()==="button"}function VV(n){return Cg(n)&&n.tagName.toLowerCase()==="form"}function MV(n){return Cg(n)&&n.tagName.toLowerCase()==="input"}function FV(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function UV(n,e){return n.button===0&&(!e||e==="_self")&&!FV(n)}var Bp=null;function $V(){if(Bp===null)try{new FormData(document.createElement("form"),0),Bp=!1}catch{Bp=!0}return Bp}var jV=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vv(n){return n!=null&&!jV.has(n)?(Hi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${am}"`),null):n}function BV(n,e){let t,r,i,s,l;if(VV(n)){let u=n.getAttribute("action");r=u?xo(u,e):null,t=n.getAttribute("method")||om,i=vv(n.getAttribute("enctype"))||am,s=new FormData(n)}else if(LV(n)||MV(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||u.getAttribute("action");if(r=d?xo(d,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||om,i=vv(n.getAttribute("formenctype"))||vv(u.getAttribute("enctype"))||am,s=new FormData(u,n),!$V()){let{name:h,type:m,value:g}=n;if(m==="image"){let _=h?`${h}.`:"";s.append(`${_}x`,"0"),s.append(`${_}y`,"0")}else h&&s.append(h,g)}}else{if(Cg(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=om,r=null,i=am,l=n}return s&&i==="text/plain"&&(l=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:l}}function TE(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function zV(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function WV(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function qV(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let l=await zV(s,t);return l.links?l.links():[]}return[]}));return QV(r.flat(1).filter(WV).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function eR(n,e,t,r,i,s){let l=(d,h)=>t[h]?d.route.id!==t[h].route.id:!0,u=(d,h)=>{var m;return t[h].pathname!==d.pathname||((m=t[h].route.path)==null?void 0:m.endsWith("*"))&&t[h].params["*"]!==d.params["*"]};return s==="assets"?e.filter((d,h)=>l(d,h)||u(d,h)):s==="data"?e.filter((d,h)=>{var g;let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(l(d,h)||u(d,h))return!0;if(d.route.shouldRevalidate){let _=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=t[0])==null?void 0:g.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function HV(n,e,{includeHydrateFallback:t}={}){return KV(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function KV(n){return[...new Set(n)]}function GV(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function QV(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(GV(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}function YV(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function JV(){let n=K.useContext(lc);return TE(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function XV(){let n=K.useContext(Ag);return TE(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var SE=K.createContext(void 0);SE.displayName="FrameworkContext";function iC(){let n=K.useContext(SE);return TE(n,"You must render this element inside a <HydratedRouter> element"),n}function ZV(n,e){let t=K.useContext(SE),[r,i]=K.useState(!1),[s,l]=K.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:h,onMouseLeave:m,onTouchStart:g}=e,_=K.useRef(null);K.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let R=V=>{V.forEach(L=>{l(L.isIntersecting)})},A=new IntersectionObserver(R,{threshold:.5});return _.current&&A.observe(_.current),()=>{A.disconnect()}}},[n]),K.useEffect(()=>{if(r){let R=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(R)}}},[r]);let T=()=>{i(!0)},I=()=>{i(!1),l(!1)};return t?n!=="intent"?[s,_,{}]:[s,_,{onFocus:wd(u,T),onBlur:wd(d,I),onMouseEnter:wd(h,T),onMouseLeave:wd(m,I),onTouchStart:wd(g,T)}]:[!1,_,{}]}function wd(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function eM({page:n,...e}){let{router:t}=JV(),r=K.useMemo(()=>HP(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?K.createElement(nM,{page:n,matches:r,...e}):null}function tM(n){let{manifest:e,routeModules:t}=iC(),[r,i]=K.useState([]);return K.useEffect(()=>{let s=!1;return qV(n,e,t).then(l=>{s||i(l)}),()=>{s=!0}},[n,e,t]),r}function nM({page:n,matches:e,...t}){let r=Ho(),{manifest:i,routeModules:s}=iC(),{loaderData:l,matches:u}=XV(),d=K.useMemo(()=>eR(n,e,u,i,r,"data"),[n,e,u,i,r]),h=K.useMemo(()=>eR(n,e,u,i,r,"assets"),[n,e,u,i,r]),m=K.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let T=new Set,I=!1;if(e.forEach(A=>{var L;let V=i.routes[A.route.id];!V||!V.hasLoader||(!d.some(M=>M.route.id===A.route.id)&&A.route.id in l&&((L=s[A.route.id])!=null&&L.shouldRevalidate)||V.hasClientLoader?I=!0:T.add(A.route.id))}),T.size===0)return[];let R=YV(n);return I&&T.size>0&&R.searchParams.set("_routes",e.filter(A=>T.has(A.route.id)).map(A=>A.route.id).join(",")),[R.pathname+R.search]},[l,r,i,d,e,n,s]),g=K.useMemo(()=>HV(h,i),[h,i]),_=tM(h);return K.createElement(K.Fragment,null,m.map(T=>K.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...t})),g.map(T=>K.createElement("link",{key:T,rel:"modulepreload",href:T,...t})),_.map(({key:T,link:I})=>K.createElement("link",{key:T,...I})))}function rM(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var sC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sC&&(window.__reactRouterVersion="7.2.0")}catch{}function iM({basename:n,children:e,window:t}){let r=K.useRef();r.current==null&&(r.current=HL({window:t,v5Compat:!0}));let i=r.current,[s,l]=K.useState({action:i.action,location:i.location}),u=K.useCallback(d=>{K.startTransition(()=>l(d))},[l]);return K.useLayoutEffect(()=>i.listen(u),[i,u]),K.createElement(NV,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:i})}var oC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ui=K.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:l,state:u,target:d,to:h,preventScrollReset:m,viewTransition:g,..._},T){let{basename:I}=K.useContext(Xi),R=typeof h=="string"&&oC.test(h),A,V=!1;if(typeof h=="string"&&R&&(A=h,sC))try{let C=new URL(window.location.href),E=h.startsWith("//")?new URL(C.protocol+h):new URL(h),x=xo(E.pathname,I);E.origin===C.origin&&x!=null?h=x+E.search+E.hash:V=!0}catch{Hi(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=_V(h,{relative:i}),[M,z,j]=ZV(r,_),q=lM(h,{replace:l,state:u,target:d,preventScrollReset:m,relative:i,viewTransition:g});function D(C){e&&e(C),C.defaultPrevented||q(C)}let b=K.createElement("a",{..._,...j,href:A||L,onClick:V||s?e:D,ref:rM(T,z),target:d,"data-discover":!R&&t==="render"?"true":void 0});return M&&!R?K.createElement(K.Fragment,null,b,K.createElement(eM,{page:L})):b});ui.displayName="Link";var sM=K.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:l,viewTransition:u,children:d,...h},m){let g=Hh(l,{relative:h.relative}),_=Ho(),T=K.useContext(Ag),{navigator:I,basename:R}=K.useContext(Xi),A=T!=null&&fM(g)&&u===!0,V=I.encodeLocation?I.encodeLocation(g).pathname:g.pathname,L=_.pathname,M=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(L=L.toLowerCase(),M=M?M.toLowerCase():null,V=V.toLowerCase()),M&&R&&(M=xo(M,R)||M);const z=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let j=L===V||!i&&L.startsWith(V)&&L.charAt(z)==="/",q=M!=null&&(M===V||!i&&M.startsWith(V)&&M.charAt(V.length)==="/"),D={isActive:j,isPending:q,isTransitioning:A},b=j?e:void 0,C;typeof r=="function"?C=r(D):C=[r,j?"active":null,q?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let E=typeof s=="function"?s(D):s;return K.createElement(ui,{...h,"aria-current":b,className:C,ref:m,style:E,to:l,viewTransition:u},typeof d=="function"?d(D):d)});sM.displayName="NavLink";var oM=K.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:l=om,action:u,onSubmit:d,relative:h,preventScrollReset:m,viewTransition:g,..._},T)=>{let I=dM(),R=hM(u,{relative:h}),A=l.toLowerCase()==="get"?"get":"post",V=typeof u=="string"&&oC.test(u),L=M=>{if(d&&d(M),M.defaultPrevented)return;M.preventDefault();let z=M.nativeEvent.submitter,j=(z==null?void 0:z.getAttribute("formmethod"))||l;I(z||M.currentTarget,{fetcherKey:e,method:j,navigate:t,replace:i,state:s,relative:h,preventScrollReset:m,viewTransition:g})};return K.createElement("form",{ref:T,method:A,action:R,onSubmit:r?d:L,..._,"data-discover":!V&&n==="render"?"true":void 0})});oM.displayName="Form";function aM(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aC(n){let e=K.useContext(lc);return Ot(e,aM(n)),e}function lM(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:l}={}){let u=Pg(),d=Ho(),h=Hh(n,{relative:s});return K.useCallback(m=>{if(UV(m,e)){m.preventDefault();let g=t!==void 0?t:ph(d)===ph(h);u(n,{replace:g,state:r,preventScrollReset:i,relative:s,viewTransition:l})}},[d,u,h,t,r,e,n,i,s,l])}var uM=0,cM=()=>`__${String(++uM)}__`;function dM(){let{router:n}=aC("useSubmit"),{basename:e}=K.useContext(Xi),t=CV();return K.useCallback(async(r,i={})=>{let{action:s,method:l,encType:u,formData:d,body:h}=BV(r,e);if(i.navigate===!1){let m=i.fetcherKey||cM();await n.fetch(m,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await n.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function hM(n,{relative:e}={}){let{basename:t}=K.useContext(Xi),r=K.useContext(Zi);Ot(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Hh(n||".",{relative:e})},l=Ho();if(n==null){s.search=l.search;let u=new URLSearchParams(s.search),d=u.getAll("index");if(d.some(m=>m==="")){u.delete("index"),d.filter(g=>g).forEach(g=>u.append("index",g));let m=u.toString();s.search=m?`?${m}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:bs([t,s.pathname])),ph(s)}function fM(n,e={}){let t=K.useContext(XP);Ot(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=aC("useViewTransitionState"),i=Hh(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=xo(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=xo(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Vm(i.pathname,l)!=null||Vm(i.pathname,s)!=null}new TextEncoder;var lC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},tR=Ke.createContext&&Ke.createContext(lC),pM=["attr","size","title"];function mM(n,e){if(n==null)return{};var t=gM(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function gM(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Mm(){return Mm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Mm.apply(this,arguments)}function nR(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Fm(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?nR(Object(t),!0).forEach(function(r){yM(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):nR(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function yM(n,e,t){return e=_M(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function _M(n){var e=vM(n,"string");return typeof e=="symbol"?e:e+""}function vM(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function uC(n){return n&&n.map((e,t)=>Ke.createElement(e.tag,Fm({key:t},e.attr),uC(e.child)))}function ul(n){return e=>Ke.createElement(wM,Mm({attr:Fm({},n.attr)},e),uC(n.child))}function wM(n){var e=t=>{var{attr:r,size:i,title:s}=n,l=mM(n,pM),u=i||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),Ke.createElement("svg",Mm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:d,style:Fm(Fm({color:n.color||t.color},t.style),n.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),s&&Ke.createElement("title",null,s),n.children)};return tR!==void 0?Ke.createElement(tR.Consumer,null,t=>e(t)):e(lC)}function EM(n){return ul({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(n)}function IM(n){return ul({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Location_On"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M12,21.933a1.715,1.715,0,0,1-1.384-.691L5.555,14.5a7.894,7.894,0,1,1,12.885-.009L13.385,21.24A1.717,1.717,0,0,1,12,21.933ZM11.992,3.066A6.81,6.81,0,0,0,7.414,4.815a6.891,6.891,0,0,0-1.05,9.1l5.051,6.727a.725.725,0,0,0,.584.292h0a.732.732,0,0,0,.586-.292l5.044-6.734A6.874,6.874,0,0,0,12.81,3.113,7.277,7.277,0,0,0,11.992,3.066Z"},child:[]},{tag:"path",attr:{d:"M12,12.5A2.5,2.5,0,1,1,14.5,10,2.5,2.5,0,0,1,12,12.5Zm0-4A1.5,1.5,0,1,0,13.5,10,1.5,1.5,0,0,0,12,8.5Z"},child:[]}]}]}]})(n)}function rR(n){return ul({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"m7 10 5 5 5-5H7z"},child:[]}]})(n)}function TM(n){return ul({attr:{viewBox:"0 0 24 24"},child:[{tag:"circle",attr:{cx:"10.5",cy:"19.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"19.5",r:"1.5"},child:[]},{tag:"path",attr:{d:"M13 13h2v-2.99h2.99v-2H15V5.03h-2v2.98h-2.99v2H13V13z"},child:[]},{tag:"path",attr:{d:"M10 17h8a1 1 0 0 0 .93-.64L21.76 9h-2.14l-2.31 6h-6.64L6.18 4.23A2 2 0 0 0 4.33 3H2v2h2.33l4.75 11.38A1 1 0 0 0 10 17z"},child:[]}]})(n)}const SM="_fixed_x9kyr_17",RM="_header_x9kyr_31",bM="_header_left_x9kyr_51",AM="_Amlogo1_x9kyr_63",PM="_Amlogo_x9kyr_63",CM="_header_delivery_x9kyr_85",kM="_deliver_to_x9kyr_93",xM="_header_nav_x9kyr_103",OM="_delivery_line1_x9kyr_131",NM="_delivery_line2_x9kyr_145",DM="_header_search_x9kyr_157",LM="_search_dropdown_x9kyr_171",VM="_search_input_x9kyr_193",MM="_search_button_x9kyr_213",FM="_language_x9kyr_241",UM="_nav_item_x9kyr_267",$M="_nav_line1_x9kyr_283",jM="_nav_line2_x9kyr_295",BM="_cart_x9kyr_305",zM="_cart_count_x9kyr_327",WM="_cart_text_x9kyr_347",qM="_nav_itemcart_x9kyr_355",HM="_flag_x9kyr_363",ct={fixed:SM,header:RM,header_left:bM,Amlogo1:AM,Amlogo:PM,header_delivery:CM,deliver_to:kM,header_nav:xM,delivery_line1:OM,delivery_line2:NM,header_search:DM,search_dropdown:LM,search_input:VM,search_button:MM,language:FM,nav_item:UM,nav_line1:$M,nav_line2:jM,cart:BM,cart_count:zM,cart_text:WM,nav_itemcart:qM,flag:HM},Ko=K.createContext(),KM=({children:n,reducer:e,initialState:t})=>{const[r,i]=K.useReducer(e,t);return $.jsx(Ko.Provider,{value:[r,i],children:n})},GM="_fixed_dsn4q_29",QM="_all_dsn4q_47",YM="_menu_dsn4q_91",zp={"loweheader-Wrapper":"_loweheader-Wrapper_dsn4q_1",fixed:GM,all:QM,menu:YM};function JM(n){return ul({attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M1.5 3C1.22386 3 1 3.22386 1 3.5C1 3.77614 1.22386 4 1.5 4H13.5C13.7761 4 14 3.77614 14 3.5C14 3.22386 13.7761 3 13.5 3H1.5ZM1 7.5C1 7.22386 1.22386 7 1.5 7H13.5C13.7761 7 14 7.22386 14 7.5C14 7.77614 13.7761 8 13.5 8H1.5C1.22386 8 1 7.77614 1 7.5ZM1 11.5C1 11.2239 1.22386 11 1.5 11H13.5C13.7761 11 14 11.2239 14 11.5C14 11.7761 13.7761 12 13.5 12H1.5C1.22386 12 1 11.7761 1 11.5Z",fill:"currentColor"},child:[]}]})(n)}const XM=()=>{const[n,e]=K.useState(!1),t=()=>{e(!n)};return $.jsx("section",{className:zp.fixed,children:$.jsx("div",{className:zp["loweheader-Wrapper"],children:$.jsxs("ul",{children:[$.jsxs("li",{className:zp.all,children:[$.jsx(JM,{size:24}),$.jsx("button",{onClick:t,children:"All"}),n?$.jsxs("ul",{className:zp.menu,children:[$.jsx("li",{children:"Today's Deals"}),$.jsx("li",{children:"Customer Services "}),$.jsx("li",{children:"registery"}),$.jsx("li",{children:"gift cards"}),$.jsx("li",{children:"Sell"})]}):null]}),$.jsx("li",{children:"Today's Deals"}),$.jsx("li",{children:"Customer Services "}),$.jsx("li",{children:"registery"}),$.jsx("li",{children:"gift cards"}),$.jsx("li",{children:"Sell"})]})})})},ZM=()=>{};var iR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},e2=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],l=n[t++],u=n[t++],d=((i&7)<<18|(s&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const s=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},dC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],l=i+1<n.length,u=l?n[i+1]:0,d=i+2<n.length,h=d?n[i+2]:0,m=s>>2,g=(s&3)<<4|u>>4;let _=(u&15)<<2|h>>6,T=h&63;d||(T=64,l||(_=64)),r.push(t[m],t[g],t[_],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(cC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):e2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const h=i<n.length?t[n.charAt(i)]:64;++i;const g=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||u==null||h==null||g==null)throw new t2;const _=s<<2|u>>4;if(r.push(_),h!==64){const T=u<<4&240|h>>2;if(r.push(T),g!==64){const I=h<<6&192|g;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class t2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const n2=function(n){const e=cC(n);return dC.encodeByteArray(e,!0)},Um=function(n){return n2(n).replace(/\./g,"")},kg=function(n){try{return dC.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function $m(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!r2(t)||(n[t]=$m(n[t],e[t]));return n}function r2(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=()=>hC().__FIREBASE_DEFAULTS__,s2=()=>{if(typeof process>"u"||typeof iR>"u")return;const n=iR.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},o2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&kg(n[1]);return e&&JSON.parse(e)},xg=()=>{try{return ZM()||i2()||s2()||o2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},a2=n=>{var e,t;return(t=(e=xg())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},fC=()=>{var n;return(n=xg())===null||n===void 0?void 0:n.config},RE=n=>{var e;return(e=xg())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Um(JSON.stringify(t)),Um(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function bE(){var n;const e=(n=xg())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function c2(){return typeof window<"u"||mC()}function mC(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function gC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AE(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Og(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PE(){const n=We();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function yC(){return!bE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mh(){try{return typeof indexedDB=="object"}catch{return!1}}function d2(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2="FirebaseError";class gn extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=h2,Object.setPrototypeOf(this,gn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,es.prototype.create)}}class es{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?f2(s,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new gn(i,u,r)}}function f2(n,e){return n.replace(p2,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const p2=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function _C(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function di(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],l=e[i];if(oR(s)&&oR(l)){if(!di(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function oR(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ci(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Mi(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function CE(n,e){const t=new m2(n,e);return t.subscribe.bind(t)}class m2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");g2(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=wv),i.error===void 0&&(i.error=wv),i.complete===void 0&&(i.complete=wv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function g2(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function wv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(n){return n&&n._delegate?n._delegate:n}class Br{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new l2;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(v2(e))try{this.getOrInitializeService({instanceIdentifier:xa})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=xa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xa){return this.instances.has(e)}getOptions(e=xa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const l=this.instances.get(i);return l&&e(l,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_2(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xa){return this.component?this.component.multipleInstances?e:xa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _2(n){return n===xa?void 0:n}function v2(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new y2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=[];var Ue;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ue||(Ue={}));const wC={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},w2=Ue.INFO,E2={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},I2=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=E2[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kh{constructor(e){this.name=e,this._logLevel=w2,this._logHandler=I2,this._userLogHandler=null,kE.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}function T2(n){kE.forEach(e=>{e.setLogLevel(n)})}function S2(n,e){for(const t of kE){let r=null;e&&e.level&&(r=wC[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(i,s,...l)=>{const u=l.map(d=>{if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(d=>d).join(" ");s>=(r??i.logLevel)&&n({level:Ue[s].toLowerCase(),message:u,args:l,type:i.name})}}}const R2=(n,e)=>e.some(t=>n instanceof t);let aR,lR;function b2(){return aR||(aR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function A2(){return lR||(lR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const EC=new WeakMap,aw=new WeakMap,IC=new WeakMap,Ev=new WeakMap,xE=new WeakMap;function P2(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",l)},s=()=>{t(Ro(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&EC.set(t,n)}).catch(()=>{}),xE.set(e,n),e}function C2(n){if(aw.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",l),n.removeEventListener("abort",l)},s=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",l),n.addEventListener("abort",l)});aw.set(n,e)}let lw={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return aw.get(n);if(e==="objectStoreNames")return n.objectStoreNames||IC.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ro(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function k2(n){lw=n(lw)}function x2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Iv(this),e,...t);return IC.set(r,e.sort?e.sort():[e]),Ro(r)}:A2().includes(n)?function(...e){return n.apply(Iv(this),e),Ro(EC.get(this))}:function(...e){return Ro(n.apply(Iv(this),e))}}function O2(n){return typeof n=="function"?x2(n):(n instanceof IDBTransaction&&C2(n),R2(n,b2())?new Proxy(n,lw):n)}function Ro(n){if(n instanceof IDBRequest)return P2(n);if(Ev.has(n))return Ev.get(n);const e=O2(n);return e!==n&&(Ev.set(n,e),xE.set(e,n)),e}const Iv=n=>xE.get(n);function N2(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(n,e),u=Ro(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Ro(l.result),d.oldVersion,d.newVersion,Ro(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),u.then(d=>{s&&d.addEventListener("close",()=>s()),i&&d.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const D2=["get","getKey","getAll","getAllKeys","count"],L2=["put","add","delete","clear"],Tv=new Map;function uR(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Tv.get(e))return Tv.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=L2.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||D2.includes(t)))return;const s=async function(l,...u){const d=this.transaction(l,i?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[t](...u),i&&d.done]))[0]};return Tv.set(e,s),s}k2(n=>({...n,get:(e,t,r)=>uR(e,t)||n.get(e,t,r),has:(e,t)=>!!uR(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(M2(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function M2(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jm="@firebase/app",uw="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs=new Kh("@firebase/app"),F2="@firebase/app-compat",U2="@firebase/analytics-compat",$2="@firebase/analytics",j2="@firebase/app-check-compat",B2="@firebase/app-check",z2="@firebase/auth",W2="@firebase/auth-compat",q2="@firebase/database",H2="@firebase/data-connect",K2="@firebase/database-compat",G2="@firebase/functions",Q2="@firebase/functions-compat",Y2="@firebase/installations",J2="@firebase/installations-compat",X2="@firebase/messaging",Z2="@firebase/messaging-compat",eF="@firebase/performance",tF="@firebase/performance-compat",nF="@firebase/remote-config",rF="@firebase/remote-config-compat",iF="@firebase/storage",sF="@firebase/storage-compat",oF="@firebase/firestore",aF="@firebase/vertexai",lF="@firebase/firestore-compat",uF="firebase",cF="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo="[DEFAULT]",dF={[jm]:"fire-core",[F2]:"fire-core-compat",[$2]:"fire-analytics",[U2]:"fire-analytics-compat",[B2]:"fire-app-check",[j2]:"fire-app-check-compat",[z2]:"fire-auth",[W2]:"fire-auth-compat",[q2]:"fire-rtdb",[H2]:"fire-data-connect",[K2]:"fire-rtdb-compat",[G2]:"fire-fn",[Q2]:"fire-fn-compat",[Y2]:"fire-iid",[J2]:"fire-iid-compat",[X2]:"fire-fcm",[Z2]:"fire-fcm-compat",[eF]:"fire-perf",[tF]:"fire-perf-compat",[nF]:"fire-rc",[rF]:"fire-rc-compat",[iF]:"fire-gcs",[sF]:"fire-gcs-compat",[oF]:"fire-fst",[lF]:"fire-fst-compat",[aF]:"fire-vertex","fire-js":"fire-js",[uF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=new Map,Lu=new Map,Vu=new Map;function gh(n,e){try{n.container.addComponent(e)}catch(t){Cs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function TC(n,e){n.container.addOrOverwriteComponent(e)}function Ki(n){const e=n.name;if(Vu.has(e))return Cs.debug(`There were multiple attempts to register component ${e}.`),!1;Vu.set(e,n);for(const t of No.values())gh(t,n);for(const t of Lu.values())gh(t,n);return!0}function Ng(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function hF(n,e,t=Oo){Ng(n,e).clearInstance(t)}function SC(n){return n.options!==void 0}function Ge(n){return n==null?!1:n.settings!==void 0}function fF(){Vu.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jr=new es("app","Firebase",pF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RC=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Br("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(n,e){const t=kg(n.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(t).exp*1e3,s=new Date().getTime();i-s<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class mF extends RC{constructor(e,t,r,i){const s=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!1,l={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,l,i);else{const u=e;super(u.options,l,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:s},t),this._serverConfig.authIdToken&&cR(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&cR(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,Er(jm,uw,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){NE(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw jr.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br=cF;function OE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Oo,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw jr.create("bad-app-name",{appName:String(i)});if(t||(t=fC()),!t)throw jr.create("no-options");const s=No.get(i);if(s){if(di(t,s.options)&&di(r,s.config))return s;throw jr.create("duplicate-app",{appName:i})}const l=new vC(i);for(const d of Vu.values())l.addComponent(d);const u=new RC(t,r,l);return No.set(i,u),u}function gF(n,e){if(c2()&&!mC())throw jr.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let t;SC(n)?t=n.options:t=n;const r=Object.assign(Object.assign({},e),t);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=h=>[...h].reduce((m,g)=>Math.imul(31,m)+g.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw jr.create("finalization-registry-not-supported",{});const s=""+i(JSON.stringify(r)),l=Lu.get(s);if(l)return l.incRefCount(e.releaseOnDeref),l;const u=new vC(s);for(const h of Vu.values())u.addComponent(h);const d=new mF(t,e,s,u);return Lu.set(s,d),d}function bC(n=Oo){const e=No.get(n);if(!e&&n===Oo&&fC())return OE();if(!e)throw jr.create("no-app",{appName:n});return e}function yF(){return Array.from(No.values())}async function NE(n){let e=!1;const t=n.name;No.has(t)?(e=!0,No.delete(t)):Lu.has(t)&&n.decRefCount()<=0&&(Lu.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)}function Er(n,e,t){var r;let i=(r=dF[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),l=e.match(/\s|\//);if(s||l){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cs.warn(u.join(" "));return}Ki(new Br(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function AC(n,e){if(n!==null&&typeof n!="function")throw jr.create("invalid-log-argument");S2(n,e)}function PC(n){T2(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _F="firebase-heartbeat-database",vF=1,yh="firebase-heartbeat-store";let Sv=null;function CC(){return Sv||(Sv=N2(_F,vF,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(yh)}catch(t){console.warn(t)}}}}).catch(n=>{throw jr.create("idb-open",{originalErrorMessage:n.message})})),Sv}async function wF(n){try{const t=(await CC()).transaction(yh),r=await t.objectStore(yh).get(kC(n));return await t.done,r}catch(e){if(e instanceof gn)Cs.warn(e.message);else{const t=jr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Cs.warn(t.message)}}}async function dR(n,e){try{const r=(await CC()).transaction(yh,"readwrite");await r.objectStore(yh).put(e,kC(n)),await r.done}catch(t){if(t instanceof gn)Cs.warn(t.message);else{const r=jr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Cs.warn(r.message)}}}function kC(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF=1024,IF=30;class TF{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new RF(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=hR();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>IF){const l=bF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Cs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=hR(),{heartbeatsToSend:r,unsentEntries:i}=SF(this._heartbeatsCache.heartbeats),s=Um(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Cs.warn(t),""}}}function hR(){return new Date().toISOString().substring(0,10)}function SF(n,e=EF){const t=[];let r=n.slice();for(const i of n){const s=t.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),fR(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),fR(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class RF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mh()?d2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await wF(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return dR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return dR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function fR(n){return Um(JSON.stringify({version:2,heartbeats:n})).length}function bF(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AF(n){Ki(new Br("platform-logger",e=>new V2(e),"PRIVATE")),Ki(new Br("heartbeat",e=>new TF(e),"PRIVATE")),Er(jm,uw,n),Er(jm,uw,"esm2017"),Er("fire-js","")}AF("");const PF=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:gn,SDK_VERSION:br,_DEFAULT_ENTRY_NAME:Oo,_addComponent:gh,_addOrOverwriteComponent:TC,_apps:No,_clearComponents:fF,_components:Vu,_getProvider:Ng,_isFirebaseApp:SC,_isFirebaseServerApp:Ge,_registerComponent:Ki,_removeServiceInstance:hF,_serverApps:Lu,deleteApp:NE,getApp:bC,getApps:yF,initializeApp:OE,initializeServerApp:gF,onLog:AC,registerVersion:Er,setLogLevel:PC},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(e,t){this._delegate=e,this.firebase=t,gh(e,new Br("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),NE(this._delegate)))}_getService(e,t=Oo){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=Oo){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){gh(this._delegate,e)}_addOrOverwriteComponent(e){TC(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kF={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},pR=new es("app-compat","Firebase",kF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xF(n){const e={},t={__esModule:!0,initializeApp:s,app:i,registerVersion:Er,setLogLevel:PC,onLog:AC,apps:null,SDK_VERSION:br,INTERNAL:{registerComponent:u,removeApp:r,useAsService:d,modularAPIs:PF}};t.default=t,Object.defineProperty(t,"apps",{get:l});function r(h){delete e[h]}function i(h){if(h=h||Oo,!sR(e,h))throw pR.create("no-app",{appName:h});return e[h]}i.App=n;function s(h,m={}){const g=OE(h,m);if(sR(e,g.name))return e[g.name];const _=new n(g,t);return e[g.name]=_,_}function l(){return Object.keys(e).map(h=>e[h])}function u(h){const m=h.name,g=m.replace("-compat","");if(Ki(h)&&h.type==="PUBLIC"){const _=(T=i())=>{if(typeof T[g]!="function")throw pR.create("invalid-app-argument",{appName:m});return T[g]()};h.serviceProps!==void 0&&$m(_,h.serviceProps),t[g]=_,n.prototype[g]=function(...T){return this._getService.bind(this,m).apply(this,h.multipleInstances?T:[])}}return h.type==="PUBLIC"?t[g]:null}function d(h,m){return m==="serverAuth"?null:m}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(){const n=xF(CF);n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:xC,extendNamespace:e,createSubscribe:CE,ErrorFactory:es,deepExtend:$m});function e(t){$m(n,t)}return n}const OF=xC();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=new Kh("@firebase/app-compat"),NF="@firebase/app-compat",DF="0.2.51";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LF(n){Er(NF,DF,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=hC();if(n.firebase!==void 0){mR.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&mR.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const uc=OF;LF();var VF="firebase",MF="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */uc.registerVersion(VF,MF,"app-compat");function cc(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function OC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FF=OC,NC=new es("auth","Firebase",OC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm=new Kh("@firebase/auth");function UF(n,...e){Bm.logLevel<=Ue.WARN&&Bm.warn(`Auth (${br}): ${n}`,...e)}function lm(n,...e){Bm.logLevel<=Ue.ERROR&&Bm.error(`Auth (${br}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(n,...e){throw DE(n,...e)}function ji(n,...e){return DE(n,...e)}function DC(n,e,t){const r=Object.assign(Object.assign({},FF()),{[e]:t});return new es("auth","Firebase",r).create(e,{appName:n.name})}function As(n){return DC(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function DE(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return NC.create(n,...e)}function Ne(n,e,...t){if(!n)throw DE(e,...t)}function ws(n){const e="INTERNAL ASSERTION FAILED: "+n;throw lm(e),new Error(e)}function ks(n,e){n||ws(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function $F(){return gR()==="http:"||gR()==="https:"}function gR(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($F()||AE()||"connection"in navigator)?navigator.onLine:!0}function BF(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gh=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,ks(t>e,"Short delay should be less than long delay!"),this.isMobile=pC()||Og()}get(){return jF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(n,e){ks(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let LC=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ws("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ws("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ws("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF=new Gh(3e4,6e4);function Go(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Qo(n,e,t,r,i={}){return VC(n,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const u=pi(Object.assign({key:n.config.apiKey},l)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const h=Object.assign({method:e,headers:d},s);return gC()||(h.referrerPolicy="no-referrer"),LC.fetch()(MC(n,n.config.apiHost,t,u),h)})}async function VC(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},zF),e);try{const i=new HF(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw Wp(n,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const u=s.ok?l.errorMessage:l.error.message,[d,h]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wp(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Wp(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw Wp(n,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw DC(n,m,h);hi(n,m)}}catch(i){if(i instanceof gn)throw i;hi(n,"network-request-failed",{message:String(i)})}}async function Qh(n,e,t,r,i={}){const s=await Qo(n,e,t,r,i);return"mfaPendingCredential"in s&&hi(n,"multi-factor-auth-required",{_serverResponse:s}),s}function MC(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?LE(n.config,i):`${n.config.apiScheme}://${i}`}function qF(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}let HF=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ji(this.auth,"network-request-failed")),WF.get())})}};function Wp(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=ji(n,e,r);return i.customData._tokenResponse=t,i}function yR(n){return n!==void 0&&n.enterprise!==void 0}let KF=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return qF(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};async function GF(n,e){return Qo(n,"GET","/v2/recaptchaConfig",Go(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QF(n,e){return Qo(n,"POST","/v1/accounts:delete",e)}async function FC(n,e){return Qo(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function YF(n,e=!1){const t=Ce(n),r=await t.getIdToken(e),i=VE(r);Ne(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Zd(Rv(i.auth_time)),issuedAtTime:Zd(Rv(i.iat)),expirationTime:Zd(Rv(i.exp)),signInProvider:l||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Rv(n){return Number(n)*1e3}function VE(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return lm("JWT malformed, contained fewer than 3 sections"),null;try{const i=kg(t);return i?JSON.parse(i):(lm("Failed to decode base64 JWT payload"),null)}catch(i){return lm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function _R(n){const e=VE(n);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _h(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof gn&&JF(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function JF({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XF=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dw=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zd(this.lastLoginAt),this.creationTime=Zd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zm(n){var e;const t=n.auth,r=await n.getIdToken(),i=await _h(n,FC(t,{idToken:r}));Ne(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const l=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?UC(s.providerUserInfo):[],u=eU(n.providerData,l),d=n.isAnonymous,h=!(n.email&&s.passwordHash)&&!(u!=null&&u.length),m=d?h:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new dw(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(n,g)}async function ZF(n){const e=Ce(n);await zm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function eU(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function UC(n){return n.map(e=>{var{providerId:t}=e,r=cc(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tU(n,e){const t=await VC(n,{},async()=>{const r=pi({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,l=MC(n,i,"/v1/token",`key=${s}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",LC.fetch()(l,{method:"POST",headers:u,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function nU(n,e){return Qo(n,"POST","/v2/accounts:revokeToken",Go(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bv=class hw{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_R(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const t=_R(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await tU(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,l=new hw;return r&&(Ne(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ne(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(Ne(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hw,this.toJSON())}_performRefresh(){return ws("not implemented")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(n,e){Ne(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}let Wm=class zd{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=cc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new XF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new dw(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await _h(this,this.stsTokenManager.getToken(this.auth,e));return Ne(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return YF(this,e)}reload(){return ZF(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new zd(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await zm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ge(this.auth.app))return Promise.reject(As(this.auth));const e=await this.getIdToken();return await _h(this,QF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,l,u,d,h,m;const g=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(i=t.email)!==null&&i!==void 0?i:void 0,T=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,I=(l=t.photoURL)!==null&&l!==void 0?l:void 0,R=(u=t.tenantId)!==null&&u!==void 0?u:void 0,A=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,V=(h=t.createdAt)!==null&&h!==void 0?h:void 0,L=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:M,emailVerified:z,isAnonymous:j,providerData:q,stsTokenManager:D}=t;Ne(M&&D,e,"internal-error");const b=bv.fromJSON(this.name,D);Ne(typeof M=="string",e,"internal-error"),fo(g,e.name),fo(_,e.name),Ne(typeof z=="boolean",e,"internal-error"),Ne(typeof j=="boolean",e,"internal-error"),fo(T,e.name),fo(I,e.name),fo(R,e.name),fo(A,e.name),fo(V,e.name),fo(L,e.name);const C=new zd({uid:M,auth:e,email:_,emailVerified:z,displayName:g,isAnonymous:j,photoURL:I,phoneNumber:T,tenantId:R,stsTokenManager:b,createdAt:V,lastLoginAt:L});return q&&Array.isArray(q)&&(C.providerData=q.map(E=>Object.assign({},E))),A&&(C._redirectEventId=A),C}static async _fromIdTokenResponse(e,t,r=!1){const i=new bv;i.updateFromServerResponse(t);const s=new zd({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await zm(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Ne(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?UC(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),u=new bv;u.updateFromIdToken(r);const d=new zd({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new dw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(d,h),d}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=new Map;function Es(n){ks(n instanceof Function,"Expected a class definition");let e=vR.get(n);return e?(ks(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,vR.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $C=class{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}};$C.type="NONE";const wR=$C;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(n,e,t){return`firebase:${n}:${e}:${t}`}let ER=class cm{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=um(this.userKey,i.apiKey,s),this.fullPersistenceKey=um("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Wm._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new cm(Es(wR),e,r);const i=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||Es(wR);const l=um(r,e.config.apiKey,e.name);let u=null;for(const h of t)try{const m=await h._get(l);if(m){const g=Wm._fromJSON(e,m);h!==s&&(u=g),s=h;break}}catch{}const d=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new cm(s,e,r):(s=d[0],u&&await s._set(l,u.toJSON()),await Promise.all(t.map(async h=>{if(h!==s)try{await h._remove(l)}catch{}})),new cm(s,e,r))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(WC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(HC(e))return"Blackberry";if(KC(e))return"Webos";if(BC(e))return"Safari";if((e.includes("chrome/")||zC(e))&&!e.includes("edge/"))return"Chrome";if(qC(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function jC(n=We()){return/firefox\//i.test(n)}function BC(n=We()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zC(n=We()){return/crios\//i.test(n)}function WC(n=We()){return/iemobile/i.test(n)}function qC(n=We()){return/android/i.test(n)}function HC(n=We()){return/blackberry/i.test(n)}function KC(n=We()){return/webos/i.test(n)}function ME(n=We()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function rU(n=We()){var e;return ME(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function iU(){return PE()&&document.documentMode===10}function GC(n=We()){return ME(n)||qC(n)||KC(n)||HC(n)||/windows phone/i.test(n)||WC(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(n,e=[]){let t;switch(n){case"Browser":t=IR(We());break;case"Worker":t=`${IR(We())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${br}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sU=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((l,u)=>{try{const d=e(s);l(d)}catch(d){u(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oU(n,e={}){return Qo(n,"GET","/v2/passwordPolicy",Go(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aU=6;let lU=class{constructor(e){var t,r,i,s;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:aU,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,l,u;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(s=d.containsUppercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uU=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new TR(this),this.idTokenSubscription=new TR(this),this.beforeStateQueue=new sU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Es(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ER.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await FC(this,{idToken:e}),r=await Wm._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ge(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&(d!=null&&d.user)&&(i=d.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await zm(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ge(this.app))return Promise.reject(As(this));const t=e?Ce(e):null;return t&&Ne(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ge(this.app)?Promise.reject(As(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ge(this.app)?Promise.reject(As(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Es(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oU(this),t=new lU(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new es("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await nU(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Es(e)||this._popupRedirectResolver;Ne(t,this,"argument-error"),this.redirectPersistenceManager=await ER.create(this,[Es(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(u,this,"internal-error"),u.then(()=>{l||s(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Ge(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&UF(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}};function cl(n){return Ce(n)}let TR=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=CE(t=>this.observer=t)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cU(n){Dg=n}function YC(n){return Dg.loadJS(n)}function dU(){return Dg.recaptchaEnterpriseScript}function hU(){return Dg.gapiScript}function fU(n){return`__${n}${Math.floor(Math.random()*1e6)}`}let pU=class{constructor(){this.enterprise=new mU}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},mU=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};const gU="recaptcha-enterprise",JC="NO_RECAPTCHA";let yU=class{constructor(e){this.type=gU,this.auth=cl(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(l,u)=>{GF(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new KF(d);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,l(h.siteKey)}}).catch(d=>{u(d)})})}function i(s,l,u){const d=window.grecaptcha;yR(d)?d.enterprise.ready(()=>{d.enterprise.execute(s,{action:e}).then(h=>{l(h)}).catch(()=>{l(JC)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new pU().execute("siteKey",{action:"verify"}):new Promise((s,l)=>{r(this.auth).then(u=>{if(!t&&yR(window.grecaptcha))i(u,s,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=dU();d.length!==0&&(d+=u),YC(d).then(()=>{i(u,s,l)}).catch(h=>{l(h)})}}).catch(u=>{l(u)})})}};async function SR(n,e,t,r=!1,i=!1){const s=new yU(n);let l;if(i)l=JC;else try{l=await s.verify(t)}catch{l=await s.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function fw(n,e,t,r,i){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await SR(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await SR(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _U(n,e){const t=Ng(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(di(s,e??{}))return i;hi(i,"already-initialized")}return t.initialize({options:e})}function vU(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Es);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function wU(n,e,t){const r=cl(n);Ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=XC(e),{host:l,port:u}=EU(e),d=u===null?"":`:${u}`,h={url:`${s}//${l}${d}/`},m=Object.freeze({host:l,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ne(di(h,r.config.emulator)&&di(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,IU()}function XC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function EU(n){const e=XC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:RR(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:RR(l)}}}function RR(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function IU(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FE=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ws("not implemented")}_getIdTokenResponse(e){return ws("not implemented")}_linkToIdToken(e,t){return ws("not implemented")}_getReauthenticationResolver(e){return ws("not implemented")}};async function TU(n,e){return Qo(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SU(n,e){return Qh(n,"POST","/v1/accounts:signInWithPassword",Go(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RU(n,e){return Qh(n,"POST","/v1/accounts:signInWithEmailLink",Go(n,e))}async function bU(n,e){return Qh(n,"POST","/v1/accounts:signInWithEmailLink",Go(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bR=class pw extends FE{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new pw(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new pw(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fw(e,t,"signInWithPassword",SU);case"emailLink":return RU(e,{email:this._email,oobCode:this._password});default:hi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fw(e,r,"signUpPassword",TU);case"emailLink":return bU(e,{idToken:t,email:this._email,oobCode:this._password});default:hi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bu(n,e){return Qh(n,"POST","/v1/accounts:signInWithIdp",Go(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU="http://localhost";let Lg=class mw extends FE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new mw(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):hi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=cc(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new mw(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return bu(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,bu(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,bu(e,t)}buildRequest(){const e={requestUri:AU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=pi(t)}return e}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PU(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function CU(n){const e=ci(Mi(n)).link,t=e?ci(Mi(e)).deep_link_id:null,r=ci(Mi(n)).deep_link_id;return(r?ci(Mi(r)).link:null)||r||t||e||n}let kU=class ZC{constructor(e){var t,r,i,s,l,u;const d=ci(Mi(e)),h=(t=d.apiKey)!==null&&t!==void 0?t:null,m=(r=d.oobCode)!==null&&r!==void 0?r:null,g=PU((i=d.mode)!==null&&i!==void 0?i:null);Ne(h&&m&&g,"argument-error"),this.apiKey=h,this.operation=g,this.code=m,this.continueUrl=(s=d.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(u=d.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=CU(e);try{return new ZC(t)}catch{return null}}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vg=class ek{constructor(){this.providerId=ek.PROVIDER_ID}static credential(e,t){return bR._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=kU.parseLink(t);return Ne(r,"argument-error"),bR._fromEmailAndCode(e,r.code,r.tenantId)}};Vg.PROVIDER_ID="password";Vg.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vg.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tk=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yh=class extends tk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nk=class yu extends Yh{constructor(){super("facebook.com")}static credential(e){return Lg._fromParams({providerId:yu.PROVIDER_ID,signInMethod:yu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yu.credentialFromTaggedObject(e)}static credentialFromError(e){return yu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yu.credential(e.oauthAccessToken)}catch{return null}}};nk.FACEBOOK_SIGN_IN_METHOD="facebook.com";nk.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rk=class _u extends Yh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Lg._fromParams({providerId:_u.PROVIDER_ID,signInMethod:_u.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return _u.credentialFromTaggedObject(e)}static credentialFromError(e){return _u.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return _u.credential(t,r)}catch{return null}}};rk.GOOGLE_SIGN_IN_METHOD="google.com";rk.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ik=class vu extends Yh{constructor(){super("github.com")}static credential(e){return Lg._fromParams({providerId:vu.PROVIDER_ID,signInMethod:vu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vu.credentialFromTaggedObject(e)}static credentialFromError(e){return vu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vu.credential(e.oauthAccessToken)}catch{return null}}};ik.GITHUB_SIGN_IN_METHOD="github.com";ik.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sk=class wu extends Yh{constructor(){super("twitter.com")}static credential(e,t){return Lg._fromParams({providerId:wu.PROVIDER_ID,signInMethod:wu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return wu.credentialFromTaggedObject(e)}static credentialFromError(e){return wu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return wu.credential(t,r)}catch{return null}}};sk.TWITTER_SIGN_IN_METHOD="twitter.com";sk.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xU(n,e){return Qh(n,"POST","/v1/accounts:signUp",Go(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mg=class gw{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await Wm._fromIdTokenResponse(e,r,i),l=AR(r);return new gw({user:s,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=AR(r);return new gw({user:e,providerId:i,_tokenResponse:r,operationType:t})}};function AR(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OU=class yw extends gn{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,yw.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new yw(e,t,r,i)}};function ok(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?OU._fromErrorAndOperation(n,s,e,r):s})}async function NU(n,e,t=!1){const r=await _h(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Mg._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DU(n,e,t=!1){const{auth:r}=n;if(Ge(r.app))return Promise.reject(As(r));const i="reauthenticate";try{const s=await _h(n,ok(r,i,e,n),t);Ne(s.idToken,r,"internal-error");const l=VE(s.idToken);Ne(l,r,"internal-error");const{sub:u}=l;return Ne(n.uid===u,r,"user-mismatch"),Mg._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&hi(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ak(n,e,t=!1){if(Ge(n.app))return Promise.reject(As(n));const r="signIn",i=await ok(n,r,e),s=await Mg._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function LU(n,e){return ak(cl(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lk(n){const e=cl(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function VU(n,e,t){if(Ge(n.app))return Promise.reject(As(n));const r=cl(n),l=await fw(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xU).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&lk(n),d}),u=await Mg._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function MU(n,e,t){return Ge(n.app)?Promise.reject(As(n)):LU(Ce(n),Vg.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&lk(n),r})}function FU(n,e,t,r){return Ce(n).onIdTokenChanged(e,t,r)}function UU(n,e,t){return Ce(n).beforeAuthStateChanged(e,t)}const qm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uk=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(qm,"1"),this.storage.removeItem(qm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $U=1e3,jU=10;let ck=class extends uk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);iU()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,jU):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},$U)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}};ck.type="LOCAL";const BU=ck;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dk=class extends uk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}};dk.type="SESSION";const hk=dk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zU(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fk=class pk{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new pk(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async h=>h(t.origin,s)),d=await zU(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}};fk.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WU=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((u,d)=>{const h=UE("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const _=g;if(_.data.eventId===h)switch(_.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(_.data.response);break;default:clearTimeout(m),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(){return window}function qU(n){Bi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(){return typeof Bi().WorkerGlobalScope<"u"&&typeof Bi().importScripts=="function"}async function HU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KU(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function GU(){return mk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk="firebaseLocalStorageDb",QU=1,Hm="firebaseLocalStorage",yk="fbase_key";let Jh=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Fg(n,e){return n.transaction([Hm],e?"readwrite":"readonly").objectStore(Hm)}function YU(){const n=indexedDB.deleteDatabase(gk);return new Jh(n).toPromise()}function _w(){const n=indexedDB.open(gk,QU);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Hm,{keyPath:yk})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Hm)?e(r):(r.close(),await YU(),e(await _w()))})})}async function PR(n,e,t){const r=Fg(n,!0).put({[yk]:e,value:t});return new Jh(r).toPromise()}async function JU(n,e){const t=Fg(n,!1).get(e),r=await new Jh(t).toPromise();return r===void 0?null:r.value}function CR(n,e){const t=Fg(n,!0).delete(e);return new Jh(t).toPromise()}const XU=800,ZU=3;let _k=class{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _w(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>ZU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fk._getInstance(GU()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await HU(),!this.activeServiceWorker)return;this.sender=new WU(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||KU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _w();return await PR(e,qm,"1"),await CR(e,qm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>PR(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>JU(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>CR(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Fg(i,!1).getAll();return new Jh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}};_k.type="LOCAL";const e$=_k;new Gh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t$(n,e){return e?Es(e):(Ne(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $E=class extends FE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return bu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return bu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function n$(n){return ak(n.auth,new $E(n),n.bypassAuthState)}function r$(n){const{auth:e,user:t}=n;return Ne(t,e,"internal-error"),DU(t,new $E(n),n.bypassAuthState)}async function i$(n){const{auth:e,user:t}=n;return Ne(t,e,"internal-error"),NU(t,new $E(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vk=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return n$;case"linkViaPopup":case"linkViaRedirect":return i$;case"reauthViaPopup":case"reauthViaRedirect":return r$;default:hi(this.auth,"internal-error")}}resolve(e){ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s$=new Gh(2e3,1e4);let o$=class Wd extends vk{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Wd.currentPopupAction&&Wd.currentPopupAction.cancel(),Wd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){ks(this.filter.length===1,"Popup operations only handle one event");const e=UE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ji(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ji(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wd.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ji(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,s$.get())};e()}};o$.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a$="pendingRedirect",dm=new Map;let l$=class extends vk{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=dm.get(this.auth._key());if(!e){try{const r=await u$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}dm.set(this.auth._key(),e)}return this.bypassAuthState||dm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function u$(n,e){const t=h$(e),r=d$(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function c$(n,e){dm.set(n._key(),e)}function d$(n){return Es(n._redirectPersistence)}function h$(n){return um(a$,n.config.apiKey,n.name)}async function f$(n,e,t=!1){if(Ge(n.app))return Promise.reject(As(n));const r=cl(n),i=t$(r,e),l=await new l$(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p$=10*60*1e3;let m$=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!g$(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!wk(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ji(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=p$&&this.cachedEventUids.clear(),this.cachedEventUids.has(kR(e))}saveEventToCache(e){this.cachedEventUids.add(kR(e)),this.lastProcessedEventTime=Date.now()}};function kR(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function wk({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function g$(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wk(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y$(n,e={}){return Qo(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,v$=/^https?/;async function w$(n){if(n.config.emulator)return;const{authorizedDomains:e}=await y$(n);for(const t of e)try{if(E$(t))return}catch{}hi(n,"unauthorized-domain")}function E$(n){const e=cw(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!v$.test(t))return!1;if(_$.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I$=new Gh(3e4,6e4);function xR(){const n=Bi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function T$(n){return new Promise((e,t)=>{var r,i,s;function l(){xR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xR(),t(ji(n,"network-request-failed"))},timeout:I$.get()})}if(!((i=(r=Bi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Bi().gapi)===null||s===void 0)&&s.load)l();else{const u=fU("iframefcb");return Bi()[u]=()=>{gapi.load?l():t(ji(n,"network-request-failed"))},YC(`${hU()}?onload=${u}`).catch(d=>t(d))}}).catch(e=>{throw hm=null,e})}let hm=null;function S$(n){return hm=hm||T$(n),hm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R$=new Gh(5e3,15e3),b$="__/auth/iframe",A$="emulator/auth/iframe",P$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},C$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function k$(n){const e=n.config;Ne(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?LE(e,A$):`https://${n.config.authDomain}/${b$}`,r={apiKey:e.apiKey,appName:n.name,v:br},i=C$.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${pi(r).slice(1)}`}async function x$(n){const e=await S$(n),t=Bi().gapi;return Ne(t,n,"internal-error"),e.open({where:document.body,url:k$(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:P$,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=ji(n,"network-request-failed"),u=Bi().setTimeout(()=>{s(l)},R$.get());function d(){Bi().clearTimeout(u),i(r)}r.ping(d).then(d,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},N$=500,D$=600,L$="_blank",V$="http://localhost";let OR=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function M$(n,e,t,r=N$,i=D$){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d=Object.assign(Object.assign({},O$),{width:r.toString(),height:i.toString(),top:s,left:l}),h=We().toLowerCase();t&&(u=zC(h)?L$:t),jC(h)&&(e=e||V$,d.scrollbars="yes");const m=Object.entries(d).reduce((_,[T,I])=>`${_}${T}=${I},`,"");if(rU(h)&&u!=="_self")return F$(e||"",u),new OR(null);const g=window.open(e||"",u,m);Ne(g,n,"popup-blocked");try{g.focus()}catch{}return new OR(g)}function F$(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U$="__/auth/handler",$$="emulator/auth/handler",j$=encodeURIComponent("fac");async function NR(n,e,t,r,i,s){Ne(n.config.authDomain,n,"auth-domain-config-required"),Ne(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:br,eventId:i};if(e instanceof tk){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",_C(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries({}))l[m]=g}if(e instanceof Yh){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const d=await n._getAppCheckToken(),h=d?`#${j$}=${encodeURIComponent(d)}`:"";return`${B$(n)}?${pi(u).slice(1)}${h}`}function B$({config:n}){return n.emulator?LE(n,$$):`https://${n.authDomain}/${U$}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="webStorageSupport";let z$=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hk,this._completeRedirectFn=f$,this._overrideRedirectResult=c$}async _openPopup(e,t,r,i){var s;ks((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const l=await NR(e,t,r,cw(),i);return M$(e,l,UE())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await NR(e,t,r,cw(),i);return qU(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(ks(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await x$(e),r=new m$(e);return t.register("authEvent",i=>(Ne(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Av,{type:Av},i=>{var s;const l=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Av];l!==void 0&&t(!!l),hi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=w$(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return GC()||BC()||ME()}};const W$=z$;var DR="@firebase/auth",LR="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let q$=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H$(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function K$(n){Ki(new Br("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Ne(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QC(n)},h=new uU(r,i,s,d);return vU(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ki(new Br("auth-internal",e=>{const t=cl(e.getProvider("auth").getImmediate());return(r=>new q$(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Er(DR,LR,H$(n)),Er(DR,LR,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G$=5*60,Q$=RE("authIdTokenMaxAge")||G$;let VR=null;const Y$=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Q$)return;const i=t==null?void 0:t.token;VR!==i&&(VR=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function J$(n=bC()){const e=Ng(n,"auth");if(e.isInitialized())return e.getImmediate();const t=_U(n,{popupRedirectResolver:W$,persistence:[e$,BU,hk]}),r=RE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=Y$(s.toString());UU(t,l,()=>l(t.currentUser)),FU(t,u=>l(u))}}const i=a2("auth");return i&&wU(t,`http://${i}`),t}function X$(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}cU({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=ji("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",X$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});K$("Browser");var MR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bo,Ek;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,b){function C(){}C.prototype=b.prototype,D.D=b.prototype,D.prototype=new C,D.prototype.constructor=D,D.C=function(E,x,k){for(var O=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)O[ee-2]=arguments[ee];return b.prototype[x].apply(E,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,b,C){C||(C=0);var E=Array(16);if(typeof b=="string")for(var x=0;16>x;++x)E[x]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(x=0;16>x;++x)E[x]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=D.g[0],C=D.g[1],x=D.g[2];var k=D.g[3],O=b+(k^C&(x^k))+E[0]+3614090360&4294967295;b=C+(O<<7&4294967295|O>>>25),O=k+(x^b&(C^x))+E[1]+3905402710&4294967295,k=b+(O<<12&4294967295|O>>>20),O=x+(C^k&(b^C))+E[2]+606105819&4294967295,x=k+(O<<17&4294967295|O>>>15),O=C+(b^x&(k^b))+E[3]+3250441966&4294967295,C=x+(O<<22&4294967295|O>>>10),O=b+(k^C&(x^k))+E[4]+4118548399&4294967295,b=C+(O<<7&4294967295|O>>>25),O=k+(x^b&(C^x))+E[5]+1200080426&4294967295,k=b+(O<<12&4294967295|O>>>20),O=x+(C^k&(b^C))+E[6]+2821735955&4294967295,x=k+(O<<17&4294967295|O>>>15),O=C+(b^x&(k^b))+E[7]+4249261313&4294967295,C=x+(O<<22&4294967295|O>>>10),O=b+(k^C&(x^k))+E[8]+1770035416&4294967295,b=C+(O<<7&4294967295|O>>>25),O=k+(x^b&(C^x))+E[9]+2336552879&4294967295,k=b+(O<<12&4294967295|O>>>20),O=x+(C^k&(b^C))+E[10]+4294925233&4294967295,x=k+(O<<17&4294967295|O>>>15),O=C+(b^x&(k^b))+E[11]+2304563134&4294967295,C=x+(O<<22&4294967295|O>>>10),O=b+(k^C&(x^k))+E[12]+1804603682&4294967295,b=C+(O<<7&4294967295|O>>>25),O=k+(x^b&(C^x))+E[13]+4254626195&4294967295,k=b+(O<<12&4294967295|O>>>20),O=x+(C^k&(b^C))+E[14]+2792965006&4294967295,x=k+(O<<17&4294967295|O>>>15),O=C+(b^x&(k^b))+E[15]+1236535329&4294967295,C=x+(O<<22&4294967295|O>>>10),O=b+(x^k&(C^x))+E[1]+4129170786&4294967295,b=C+(O<<5&4294967295|O>>>27),O=k+(C^x&(b^C))+E[6]+3225465664&4294967295,k=b+(O<<9&4294967295|O>>>23),O=x+(b^C&(k^b))+E[11]+643717713&4294967295,x=k+(O<<14&4294967295|O>>>18),O=C+(k^b&(x^k))+E[0]+3921069994&4294967295,C=x+(O<<20&4294967295|O>>>12),O=b+(x^k&(C^x))+E[5]+3593408605&4294967295,b=C+(O<<5&4294967295|O>>>27),O=k+(C^x&(b^C))+E[10]+38016083&4294967295,k=b+(O<<9&4294967295|O>>>23),O=x+(b^C&(k^b))+E[15]+3634488961&4294967295,x=k+(O<<14&4294967295|O>>>18),O=C+(k^b&(x^k))+E[4]+3889429448&4294967295,C=x+(O<<20&4294967295|O>>>12),O=b+(x^k&(C^x))+E[9]+568446438&4294967295,b=C+(O<<5&4294967295|O>>>27),O=k+(C^x&(b^C))+E[14]+3275163606&4294967295,k=b+(O<<9&4294967295|O>>>23),O=x+(b^C&(k^b))+E[3]+4107603335&4294967295,x=k+(O<<14&4294967295|O>>>18),O=C+(k^b&(x^k))+E[8]+1163531501&4294967295,C=x+(O<<20&4294967295|O>>>12),O=b+(x^k&(C^x))+E[13]+2850285829&4294967295,b=C+(O<<5&4294967295|O>>>27),O=k+(C^x&(b^C))+E[2]+4243563512&4294967295,k=b+(O<<9&4294967295|O>>>23),O=x+(b^C&(k^b))+E[7]+1735328473&4294967295,x=k+(O<<14&4294967295|O>>>18),O=C+(k^b&(x^k))+E[12]+2368359562&4294967295,C=x+(O<<20&4294967295|O>>>12),O=b+(C^x^k)+E[5]+4294588738&4294967295,b=C+(O<<4&4294967295|O>>>28),O=k+(b^C^x)+E[8]+2272392833&4294967295,k=b+(O<<11&4294967295|O>>>21),O=x+(k^b^C)+E[11]+1839030562&4294967295,x=k+(O<<16&4294967295|O>>>16),O=C+(x^k^b)+E[14]+4259657740&4294967295,C=x+(O<<23&4294967295|O>>>9),O=b+(C^x^k)+E[1]+2763975236&4294967295,b=C+(O<<4&4294967295|O>>>28),O=k+(b^C^x)+E[4]+1272893353&4294967295,k=b+(O<<11&4294967295|O>>>21),O=x+(k^b^C)+E[7]+4139469664&4294967295,x=k+(O<<16&4294967295|O>>>16),O=C+(x^k^b)+E[10]+3200236656&4294967295,C=x+(O<<23&4294967295|O>>>9),O=b+(C^x^k)+E[13]+681279174&4294967295,b=C+(O<<4&4294967295|O>>>28),O=k+(b^C^x)+E[0]+3936430074&4294967295,k=b+(O<<11&4294967295|O>>>21),O=x+(k^b^C)+E[3]+3572445317&4294967295,x=k+(O<<16&4294967295|O>>>16),O=C+(x^k^b)+E[6]+76029189&4294967295,C=x+(O<<23&4294967295|O>>>9),O=b+(C^x^k)+E[9]+3654602809&4294967295,b=C+(O<<4&4294967295|O>>>28),O=k+(b^C^x)+E[12]+3873151461&4294967295,k=b+(O<<11&4294967295|O>>>21),O=x+(k^b^C)+E[15]+530742520&4294967295,x=k+(O<<16&4294967295|O>>>16),O=C+(x^k^b)+E[2]+3299628645&4294967295,C=x+(O<<23&4294967295|O>>>9),O=b+(x^(C|~k))+E[0]+4096336452&4294967295,b=C+(O<<6&4294967295|O>>>26),O=k+(C^(b|~x))+E[7]+1126891415&4294967295,k=b+(O<<10&4294967295|O>>>22),O=x+(b^(k|~C))+E[14]+2878612391&4294967295,x=k+(O<<15&4294967295|O>>>17),O=C+(k^(x|~b))+E[5]+4237533241&4294967295,C=x+(O<<21&4294967295|O>>>11),O=b+(x^(C|~k))+E[12]+1700485571&4294967295,b=C+(O<<6&4294967295|O>>>26),O=k+(C^(b|~x))+E[3]+2399980690&4294967295,k=b+(O<<10&4294967295|O>>>22),O=x+(b^(k|~C))+E[10]+4293915773&4294967295,x=k+(O<<15&4294967295|O>>>17),O=C+(k^(x|~b))+E[1]+2240044497&4294967295,C=x+(O<<21&4294967295|O>>>11),O=b+(x^(C|~k))+E[8]+1873313359&4294967295,b=C+(O<<6&4294967295|O>>>26),O=k+(C^(b|~x))+E[15]+4264355552&4294967295,k=b+(O<<10&4294967295|O>>>22),O=x+(b^(k|~C))+E[6]+2734768916&4294967295,x=k+(O<<15&4294967295|O>>>17),O=C+(k^(x|~b))+E[13]+1309151649&4294967295,C=x+(O<<21&4294967295|O>>>11),O=b+(x^(C|~k))+E[4]+4149444226&4294967295,b=C+(O<<6&4294967295|O>>>26),O=k+(C^(b|~x))+E[11]+3174756917&4294967295,k=b+(O<<10&4294967295|O>>>22),O=x+(b^(k|~C))+E[2]+718787259&4294967295,x=k+(O<<15&4294967295|O>>>17),O=C+(k^(x|~b))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+b&4294967295,D.g[1]=D.g[1]+(x+(O<<21&4294967295|O>>>11))&4294967295,D.g[2]=D.g[2]+x&4294967295,D.g[3]=D.g[3]+k&4294967295}r.prototype.u=function(D,b){b===void 0&&(b=D.length);for(var C=b-this.blockSize,E=this.B,x=this.h,k=0;k<b;){if(x==0)for(;k<=C;)i(this,D,k),k+=this.blockSize;if(typeof D=="string"){for(;k<b;)if(E[x++]=D.charCodeAt(k++),x==this.blockSize){i(this,E),x=0;break}}else for(;k<b;)if(E[x++]=D[k++],x==this.blockSize){i(this,E),x=0;break}}this.h=x,this.o+=b},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var b=1;b<D.length-8;++b)D[b]=0;var C=8*this.o;for(b=D.length-8;b<D.length;++b)D[b]=C&255,C/=256;for(this.u(D),D=Array(16),b=C=0;4>b;++b)for(var E=0;32>E;E+=8)D[C++]=this.g[b]>>>E&255;return D};function s(D,b){var C=u;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=b(D)}function l(D,b){this.h=b;for(var C=[],E=!0,x=D.length-1;0<=x;x--){var k=D[x]|0;E&&k==b||(C[x]=k,E=!1)}this.g=C}var u={};function d(D){return-128<=D&&128>D?s(D,function(b){return new l([b|0],0>b?-1:0)}):new l([D|0],0>D?-1:0)}function h(D){if(isNaN(D)||!isFinite(D))return g;if(0>D)return A(h(-D));for(var b=[],C=1,E=0;D>=C;E++)b[E]=D/C|0,C*=4294967296;return new l(b,0)}function m(D,b){if(D.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(D.charAt(0)=="-")return A(m(D.substring(1),b));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=h(Math.pow(b,8)),E=g,x=0;x<D.length;x+=8){var k=Math.min(8,D.length-x),O=parseInt(D.substring(x,x+k),b);8>k?(k=h(Math.pow(b,k)),E=E.j(k).add(h(O))):(E=E.j(C),E=E.add(h(O)))}return E}var g=d(0),_=d(1),T=d(16777216);n=l.prototype,n.m=function(){if(R(this))return-A(this).m();for(var D=0,b=1,C=0;C<this.g.length;C++){var E=this.i(C);D+=(0<=E?E:4294967296+E)*b,b*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(I(this))return"0";if(R(this))return"-"+A(this).toString(D);for(var b=h(Math.pow(D,6)),C=this,E="";;){var x=z(C,b).g;C=V(C,x.j(b));var k=((0<C.g.length?C.g[0]:C.h)>>>0).toString(D);if(C=x,I(C))return k+E;for(;6>k.length;)k="0"+k;E=k+E}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function I(D){if(D.h!=0)return!1;for(var b=0;b<D.g.length;b++)if(D.g[b]!=0)return!1;return!0}function R(D){return D.h==-1}n.l=function(D){return D=V(this,D),R(D)?-1:I(D)?0:1};function A(D){for(var b=D.g.length,C=[],E=0;E<b;E++)C[E]=~D.g[E];return new l(C,~D.h).add(_)}n.abs=function(){return R(this)?A(this):this},n.add=function(D){for(var b=Math.max(this.g.length,D.g.length),C=[],E=0,x=0;x<=b;x++){var k=E+(this.i(x)&65535)+(D.i(x)&65535),O=(k>>>16)+(this.i(x)>>>16)+(D.i(x)>>>16);E=O>>>16,k&=65535,O&=65535,C[x]=O<<16|k}return new l(C,C[C.length-1]&-2147483648?-1:0)};function V(D,b){return D.add(A(b))}n.j=function(D){if(I(this)||I(D))return g;if(R(this))return R(D)?A(this).j(A(D)):A(A(this).j(D));if(R(D))return A(this.j(A(D)));if(0>this.l(T)&&0>D.l(T))return h(this.m()*D.m());for(var b=this.g.length+D.g.length,C=[],E=0;E<2*b;E++)C[E]=0;for(E=0;E<this.g.length;E++)for(var x=0;x<D.g.length;x++){var k=this.i(E)>>>16,O=this.i(E)&65535,ee=D.i(x)>>>16,F=D.i(x)&65535;C[2*E+2*x]+=O*F,L(C,2*E+2*x),C[2*E+2*x+1]+=k*F,L(C,2*E+2*x+1),C[2*E+2*x+1]+=O*ee,L(C,2*E+2*x+1),C[2*E+2*x+2]+=k*ee,L(C,2*E+2*x+2)}for(E=0;E<b;E++)C[E]=C[2*E+1]<<16|C[2*E];for(E=b;E<2*b;E++)C[E]=0;return new l(C,0)};function L(D,b){for(;(D[b]&65535)!=D[b];)D[b+1]+=D[b]>>>16,D[b]&=65535,b++}function M(D,b){this.g=D,this.h=b}function z(D,b){if(I(b))throw Error("division by zero");if(I(D))return new M(g,g);if(R(D))return b=z(A(D),b),new M(A(b.g),A(b.h));if(R(b))return b=z(D,A(b)),new M(A(b.g),b.h);if(30<D.g.length){if(R(D)||R(b))throw Error("slowDivide_ only works with positive integers.");for(var C=_,E=b;0>=E.l(D);)C=j(C),E=j(E);var x=q(C,1),k=q(E,1);for(E=q(E,2),C=q(C,2);!I(E);){var O=k.add(E);0>=O.l(D)&&(x=x.add(C),k=O),E=q(E,1),C=q(C,1)}return b=V(D,x.j(b)),new M(x,b)}for(x=g;0<=D.l(b);){for(C=Math.max(1,Math.floor(D.m()/b.m())),E=Math.ceil(Math.log(C)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),k=h(C),O=k.j(b);R(O)||0<O.l(D);)C-=E,k=h(C),O=k.j(b);I(k)&&(k=_),x=x.add(k),D=V(D,O)}return new M(x,D)}n.A=function(D){return z(this,D).h},n.and=function(D){for(var b=Math.max(this.g.length,D.g.length),C=[],E=0;E<b;E++)C[E]=this.i(E)&D.i(E);return new l(C,this.h&D.h)},n.or=function(D){for(var b=Math.max(this.g.length,D.g.length),C=[],E=0;E<b;E++)C[E]=this.i(E)|D.i(E);return new l(C,this.h|D.h)},n.xor=function(D){for(var b=Math.max(this.g.length,D.g.length),C=[],E=0;E<b;E++)C[E]=this.i(E)^D.i(E);return new l(C,this.h^D.h)};function j(D){for(var b=D.g.length+1,C=[],E=0;E<b;E++)C[E]=D.i(E)<<1|D.i(E-1)>>>31;return new l(C,D.h)}function q(D,b){var C=b>>5;b%=32;for(var E=D.g.length-C,x=[],k=0;k<E;k++)x[k]=0<b?D.i(k+C)>>>b|D.i(k+C+1)<<32-b:D.i(k+C);return new l(x,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ek=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=m,bo=l}).apply(typeof MR<"u"?MR:typeof self<"u"?self:typeof window<"u"?window:{});var qp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ik,qd,Tk,fm,vw,Sk,Rk,bk;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,v,S){return f==Array.prototype||f==Object.prototype||(f[v]=S.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof qp=="object"&&qp];for(var v=0;v<f.length;++v){var S=f[v];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function i(f,v){if(v)e:{var S=r;f=f.split(".");for(var N=0;N<f.length-1;N++){var Q=f[N];if(!(Q in S))break e;S=S[Q]}f=f[f.length-1],N=S[f],v=v(N),v!=N&&v!=null&&e(S,f,{configurable:!0,writable:!0,value:v})}}function s(f,v){f instanceof String&&(f+="");var S=0,N=!1,Q={next:function(){if(!N&&S<f.length){var ne=S++;return{value:v(ne,f[ne]),done:!1}}return N=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}i("Array.prototype.values",function(f){return f||function(){return s(this,function(v,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function d(f){var v=typeof f;return v=v!="object"?v:f?Array.isArray(f)?"array":v:"null",v=="array"||v=="object"&&typeof f.length=="number"}function h(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function m(f,v,S){return f.call.apply(f.bind,arguments)}function g(f,v,S){if(!f)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,N),f.apply(v,Q)}}return function(){return f.apply(v,arguments)}}function _(f,v,S){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:g,_.apply(null,arguments)}function T(f,v){var S=Array.prototype.slice.call(arguments,1);return function(){var N=S.slice();return N.push.apply(N,arguments),f.apply(this,N)}}function I(f,v){function S(){}S.prototype=v.prototype,f.aa=v.prototype,f.prototype=new S,f.prototype.constructor=f,f.Qb=function(N,Q,ne){for(var ye=Array(arguments.length-2),st=2;st<arguments.length;st++)ye[st-2]=arguments[st];return v.prototype[Q].apply(N,ye)}}function R(f){const v=f.length;if(0<v){const S=Array(v);for(let N=0;N<v;N++)S[N]=f[N];return S}return[]}function A(f,v){for(let S=1;S<arguments.length;S++){const N=arguments[S];if(d(N)){const Q=f.length||0,ne=N.length||0;f.length=Q+ne;for(let ye=0;ye<ne;ye++)f[Q+ye]=N[ye]}else f.push(N)}}class V{constructor(v,S){this.i=v,this.j=S,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function L(f){return/^[\s\xa0]*$/.test(f)}function M(){var f=u.navigator;return f&&(f=f.userAgent)?f:""}function z(f){return z[" "](f),f}z[" "]=function(){};var j=M().indexOf("Gecko")!=-1&&!(M().toLowerCase().indexOf("webkit")!=-1&&M().indexOf("Edge")==-1)&&!(M().indexOf("Trident")!=-1||M().indexOf("MSIE")!=-1)&&M().indexOf("Edge")==-1;function q(f,v,S){for(const N in f)v.call(S,f[N],N,f)}function D(f,v){for(const S in f)v.call(void 0,f[S],S,f)}function b(f){const v={};for(const S in f)v[S]=f[S];return v}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(f,v){let S,N;for(let Q=1;Q<arguments.length;Q++){N=arguments[Q];for(S in N)f[S]=N[S];for(let ne=0;ne<C.length;ne++)S=C[ne],Object.prototype.hasOwnProperty.call(N,S)&&(f[S]=N[S])}}function x(f){var v=1;f=f.split(":");const S=[];for(;0<v&&f.length;)S.push(f.shift()),v--;return f.length&&S.push(f.join(":")),S}function k(f){u.setTimeout(()=>{throw f},0)}function O(){var f=pe;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class ee{constructor(){this.h=this.g=null}add(v,S){const N=F.get();N.set(v,S),this.h?this.h.next=N:this.g=N,this.h=N}}var F=new V(()=>new me,f=>f.reset());class me{constructor(){this.next=this.g=this.h=null}set(v,S){this.h=v,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,X=!1,pe=new ee,he=()=>{const f=u.Promise.resolve(void 0);oe=()=>{f.then(W)}};var W=()=>{for(var f;f=O();){try{f.h.call(f.g)}catch(S){k(S)}var v=F;v.j(f),100>v.h&&(v.h++,f.next=v.g,v.g=f)}X=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Te(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}Te.prototype.h=function(){this.defaultPrevented=!0};var ke=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const S=()=>{};u.addEventListener("test",S,v),u.removeEventListener("test",S,v)}catch{}return f}();function Ve(f,v){if(Te.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var S=this.type=f.type,N=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget){if(j){e:{try{z(v.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(v=null)}}else S=="mouseover"?v=f.fromElement:S=="mouseout"&&(v=f.toElement);this.relatedTarget=v,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:$e[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Ve.aa.h.call(this)}}I(Ve,Te);var $e={2:"touch",3:"pen",4:"mouse"};Ve.prototype.h=function(){Ve.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Qe="closure_listenable_"+(1e6*Math.random()|0),qe=0;function rt(f,v,S,N,Q){this.listener=f,this.proxy=null,this.src=v,this.type=S,this.capture=!!N,this.ha=Q,this.key=++qe,this.da=this.fa=!1}function wt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function un(f){this.src=f,this.g={},this.h=0}un.prototype.add=function(f,v,S,N,Q){var ne=f.toString();f=this.g[ne],f||(f=this.g[ne]=[],this.h++);var ye=gt(f,v,N,Q);return-1<ye?(v=f[ye],S||(v.fa=!1)):(v=new rt(v,this.src,ne,!!N,Q),v.fa=S,f.push(v)),v};function it(f,v){var S=v.type;if(S in f.g){var N=f.g[S],Q=Array.prototype.indexOf.call(N,v,void 0),ne;(ne=0<=Q)&&Array.prototype.splice.call(N,Q,1),ne&&(wt(v),f.g[S].length==0&&(delete f.g[S],f.h--))}}function gt(f,v,S,N){for(var Q=0;Q<f.length;++Q){var ne=f[Q];if(!ne.da&&ne.listener==v&&ne.capture==!!S&&ne.ha==N)return Q}return-1}var en="closure_lm_"+(1e6*Math.random()|0),qr={};function Ar(f,v,S,N,Q){if(Array.isArray(v)){for(var ne=0;ne<v.length;ne++)Ar(f,v[ne],S,N,Q);return null}return S=Ac(S),f&&f[Qe]?f.K(v,S,h(N)?!!N.capture:!1,Q):Pr(f,v,S,!1,N,Q)}function Pr(f,v,S,N,Q,ne){if(!v)throw Error("Invalid event type");var ye=h(Q)?!!Q.capture:!!Q,st=gl(f);if(st||(f[en]=st=new un(f)),S=st.add(v,S,N,ye,ne),S.proxy)return S;if(N=qn(),S.proxy=N,N.src=f,N.listener=S,f.addEventListener)ke||(Q=ye),Q===void 0&&(Q=!1),f.addEventListener(v.toString(),N,Q);else if(f.attachEvent)f.attachEvent(ts(v.toString()),N);else if(f.addListener&&f.removeListener)f.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return S}function qn(){function f(S){return v.call(f.src,f.listener,S)}const v=bc;return f}function Hn(f,v,S,N,Q){if(Array.isArray(v))for(var ne=0;ne<v.length;ne++)Hn(f,v[ne],S,N,Q);else N=h(N)?!!N.capture:!!N,S=Ac(S),f&&f[Qe]?(f=f.i,v=String(v).toString(),v in f.g&&(ne=f.g[v],S=gt(ne,S,N,Q),-1<S&&(wt(ne[S]),Array.prototype.splice.call(ne,S,1),ne.length==0&&(delete f.g[v],f.h--)))):f&&(f=gl(f))&&(v=f.g[v.toString()],f=-1,v&&(f=gt(v,S,N,Q)),(S=-1<f?v[f]:null)&&ar(S))}function ar(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[Qe])it(v.i,f);else{var S=f.type,N=f.proxy;v.removeEventListener?v.removeEventListener(S,N,f.capture):v.detachEvent?v.detachEvent(ts(S),N):v.addListener&&v.removeListener&&v.removeListener(N),(S=gl(v))?(it(S,f),S.h==0&&(S.src=null,v[en]=null)):wt(f)}}}function ts(f){return f in qr?qr[f]:qr[f]="on"+f}function bc(f,v){if(f.da)f=!0;else{v=new Ve(v,this);var S=f.listener,N=f.ha||f.src;f.fa&&ar(f),f=S.call(N,v)}return f}function gl(f){return f=f[en],f instanceof un?f:null}var yl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ac(f){return typeof f=="function"?f:(f[yl]||(f[yl]=function(v){return f.handleEvent(v)}),f[yl])}function tn(){ie.call(this),this.i=new un(this),this.M=this,this.F=null}I(tn,ie),tn.prototype[Qe]=!0,tn.prototype.removeEventListener=function(f,v,S,N){Hn(this,f,v,S,N)};function nn(f,v){var S,N=f.F;if(N)for(S=[];N;N=N.F)S.push(N);if(f=f.M,N=v.type||v,typeof v=="string")v=new Te(v,f);else if(v instanceof Te)v.target=v.target||f;else{var Q=v;v=new Te(N,f),E(v,Q)}if(Q=!0,S)for(var ne=S.length-1;0<=ne;ne--){var ye=v.g=S[ne];Q=ns(ye,N,!0,v)&&Q}if(ye=v.g=f,Q=ns(ye,N,!0,v)&&Q,Q=ns(ye,N,!1,v)&&Q,S)for(ne=0;ne<S.length;ne++)ye=v.g=S[ne],Q=ns(ye,N,!1,v)&&Q}tn.prototype.N=function(){if(tn.aa.N.call(this),this.i){var f=this.i,v;for(v in f.g){for(var S=f.g[v],N=0;N<S.length;N++)wt(S[N]);delete f.g[v],f.h--}}this.F=null},tn.prototype.K=function(f,v,S,N){return this.i.add(String(f),v,!1,S,N)},tn.prototype.L=function(f,v,S,N){return this.i.add(String(f),v,!0,S,N)};function ns(f,v,S,N){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();for(var Q=!0,ne=0;ne<v.length;++ne){var ye=v[ne];if(ye&&!ye.da&&ye.capture==S){var st=ye.listener,rn=ye.ha||ye.src;ye.fa&&it(f.i,ye),Q=st.call(rn,N)!==!1&&Q}}return Q&&!N.defaultPrevented}function Pc(f,v,S){if(typeof f=="function")S&&(f=_(f,S));else if(f&&typeof f.handleEvent=="function")f=_(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:u.setTimeout(f,v||0)}function Bs(f){f.g=Pc(()=>{f.g=null,f.i&&(f.i=!1,Bs(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class na extends ie{constructor(v,S){super(),this.m=v,this.l=S,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Bs(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ra(f){ie.call(this),this.h=f,this.g={}}I(ra,ie);var Cc=[];function kc(f){q(f.g,function(v,S){this.g.hasOwnProperty(S)&&ar(v)},f),f.g={}}ra.prototype.N=function(){ra.aa.N.call(this),kc(this)},ra.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xc=u.JSON.stringify,Oc=u.JSON.parse,Nc=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function ia(){}ia.prototype.h=null;function _l(f){return f.h||(f.h=f.i())}function vl(){}var Cr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gi(){Te.call(this,"d")}I(gi,Te);function wl(){Te.call(this,"c")}I(wl,Te);var yi={},Dc=null;function sa(){return Dc=Dc||new tn}yi.La="serverreachability";function Lc(f){Te.call(this,yi.La,f)}I(Lc,Te);function rs(f){const v=sa();nn(v,new Lc(v))}yi.STAT_EVENT="statevent";function Vc(f,v){Te.call(this,yi.STAT_EVENT,f),this.stat=v}I(Vc,Te);function jt(f){const v=sa();nn(v,new Vc(v,f))}yi.Ma="timingevent";function El(f,v){Te.call(this,yi.Ma,f),this.size=v}I(El,Te);function Hr(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},v)}function oa(){this.g=!0}oa.prototype.xa=function(){this.g=!1};function aa(f,v,S,N,Q,ne){f.info(function(){if(f.g)if(ne)for(var ye="",st=ne.split("&"),rn=0;rn<st.length;rn++){var Ye=st[rn].split("=");if(1<Ye.length){var cn=Ye[0];Ye=Ye[1];var Kt=cn.split("_");ye=2<=Kt.length&&Kt[1]=="type"?ye+(cn+"="+Ye+"&"):ye+(cn+"=redacted&")}}else ye=null;else ye=ne;return"XMLHTTP REQ ("+N+") [attempt "+Q+"]: "+v+`
`+S+`
`+ye})}function Il(f,v,S,N,Q,ne,ye){f.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+Q+"]: "+v+`
`+S+`
`+ne+" "+ye})}function Kr(f,v,S,N){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+jy(f,S)+(N?" "+N:"")})}function Mc(f,v){f.info(function(){return"TIMEOUT: "+v})}oa.prototype.info=function(){};function jy(f,v){if(!f.g)return v;if(!v)return null;try{var S=JSON.parse(v);if(S){for(f=0;f<S.length;f++)if(Array.isArray(S[f])){var N=S[f];if(!(2>N.length)){var Q=N[1];if(Array.isArray(Q)&&!(1>Q.length)){var ne=Q[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var ye=1;ye<Q.length;ye++)Q[ye]=""}}}}return xc(S)}catch{return v}}var Tl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Af={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gr;function la(){}I(la,ia),la.prototype.g=function(){return new XMLHttpRequest},la.prototype.i=function(){return{}},Gr=new la;function Qr(f,v,S,N){this.j=f,this.i=v,this.l=S,this.R=N||1,this.U=new ra(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pf}function Pf(){this.i=null,this.g="",this.h=!1}var Fc={},Sl={};function Rl(f,v,S){f.L=1,f.v=Ks(ur(v)),f.m=S,f.P=!0,Uc(f,null)}function Uc(f,v){f.F=Date.now(),ft(f),f.A=ur(f.v);var S=f.A,N=f.R;Array.isArray(N)||(N=[String(N)]),Qs(S.i,"t",N),f.C=0,S=f.j.J,f.h=new Pf,f.g=Hf(f.j,S?v:null,!f.m),0<f.O&&(f.M=new na(_(f.Y,f,f.g),f.O)),v=f.U,S=f.g,N=f.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(Cc[0]=Q.toString()),Q=Cc);for(var ne=0;ne<Q.length;ne++){var ye=Ar(S,Q[ne],N||v.handleEvent,!1,v.h||v);if(!ye)break;v.g[ye.key]=ye}v=f.H?b(f.H):{},f.m?(f.u||(f.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,v)):(f.u="GET",f.g.ea(f.A,f.u,null,v)),rs(),aa(f.i,f.u,f.A,f.l,f.R,f.m)}Qr.prototype.ca=function(f){f=f.target;const v=this.M;v&&Gn(f)==3?v.j():this.Y(f)},Qr.prototype.Y=function(f){try{if(f==this.g)e:{const Kt=Gn(this.g);var v=this.g.Ba();const Or=this.g.Z();if(!(3>Kt)&&(Kt!=3||this.g&&(this.h.h||this.g.oa()||qc(this.g)))){this.J||Kt!=4||v==7||(v==8||0>=Or?rs(3):rs(2)),ua(this);var S=this.g.Z();this.X=S;t:if(Cf(this)){var N=qc(this.g);f="";var Q=N.length,ne=Gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kr(this),zs(this);var ye="";break t}this.h.i=new u.TextDecoder}for(v=0;v<Q;v++)this.h.h=!0,f+=this.h.i.decode(N[v],{stream:!(ne&&v==Q-1)});N.length=0,this.h.g+=f,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=S==200,Il(this.i,this.u,this.A,this.l,this.R,Kt,S),this.o){if(this.T&&!this.K){t:{if(this.g){var st,rn=this.g;if((st=rn.g?rn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(st)){var Ye=st;break t}}Ye=null}if(S=Ye)Kr(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$c(this,S);else{this.o=!1,this.s=3,jt(12),kr(this),zs(this);break e}}if(this.P){S=!0;let dr;for(;!this.J&&this.C<ye.length;)if(dr=By(this,ye),dr==Sl){Kt==4&&(this.s=4,jt(14),S=!1),Kr(this.i,this.l,null,"[Incomplete Response]");break}else if(dr==Fc){this.s=4,jt(15),Kr(this.i,this.l,ye,"[Invalid Chunk]"),S=!1;break}else Kr(this.i,this.l,dr,null),$c(this,dr);if(Cf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kt!=4||ye.length!=0||this.h.h||(this.s=1,jt(16),S=!1),this.o=this.o&&S,!S)Kr(this.i,this.l,ye,"[Invalid Chunked Response]"),kr(this),zs(this);else if(0<ye.length&&!this.W){this.W=!0;var cn=this.j;cn.g==this&&cn.ba&&!cn.M&&(cn.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),Kc(cn),cn.M=!0,jt(11))}}else Kr(this.i,this.l,ye,null),$c(this,ye);Kt==4&&kr(this),this.o&&!this.J&&(Kt==4?Vl(this.j,this):(this.o=!1,ft(this)))}else xl(this.g),S==400&&0<ye.indexOf("Unknown SID")?(this.s=3,jt(12)):(this.s=0,jt(13)),kr(this),zs(this)}}}catch{}finally{}};function Cf(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function By(f,v){var S=f.C,N=v.indexOf(`
`,S);return N==-1?Sl:(S=Number(v.substring(S,N)),isNaN(S)?Fc:(N+=1,N+S>v.length?Sl:(v=v.slice(N,N+S),f.C=N+S,v)))}Qr.prototype.cancel=function(){this.J=!0,kr(this)};function ft(f){f.S=Date.now()+f.I,kf(f,f.I)}function kf(f,v){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Hr(_(f.ba,f),v)}function ua(f){f.B&&(u.clearTimeout(f.B),f.B=null)}Qr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Mc(this.i,this.A),this.L!=2&&(rs(),jt(17)),kr(this),this.s=2,zs(this)):kf(this,this.S-f)};function zs(f){f.j.G==0||f.J||Vl(f.j,f)}function kr(f){ua(f);var v=f.M;v&&typeof v.ma=="function"&&v.ma(),f.M=null,kc(f.U),f.g&&(v=f.g,f.g=null,v.abort(),v.ma())}function $c(f,v){try{var S=f.j;if(S.G!=0&&(S.g==f||Mn(S.h,f))){if(!f.K&&Mn(S.h,f)&&S.G==3){try{var N=S.Da.g.parse(v)}catch{N=null}if(Array.isArray(N)&&N.length==3){var Q=N;if(Q[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<f.F)Ll(S),ei(S);else break e;Dl(S),jt(18)}}else S.za=Q[1],0<S.za-S.T&&37500>Q[2]&&S.F&&S.v==0&&!S.C&&(S.C=Hr(_(S.Za,S),6e3));if(1>=Of(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else ls(S,11)}else if((f.K||S.g==f)&&Ll(S),!L(v))for(Q=S.Da.g.parse(v),v=0;v<Q.length;v++){let Ye=Q[v];if(S.T=Ye[0],Ye=Ye[1],S.G==2)if(Ye[0]=="c"){S.K=Ye[1],S.ia=Ye[2];const cn=Ye[3];cn!=null&&(S.la=cn,S.j.info("VER="+S.la));const Kt=Ye[4];Kt!=null&&(S.Aa=Kt,S.j.info("SVER="+S.Aa));const Or=Ye[5];Or!=null&&typeof Or=="number"&&0<Or&&(N=1.5*Or,S.L=N,S.j.info("backChannelRequestTimeoutMs_="+N)),N=S;const dr=f.g;if(dr){const ga=dr.g?dr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ga){var ne=N.h;ne.g||ga.indexOf("spdy")==-1&&ga.indexOf("quic")==-1&&ga.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(jc(ne,ne.h),ne.h=null))}if(N.D){const Fl=dr.g?dr.g.getResponseHeader("X-HTTP-Session-Id"):null;Fl&&(N.ya=Fl,ut(N.I,N.D,Fl))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-f.F,S.j.info("Handshake RTT: "+S.R+"ms")),N=S;var ye=f;if(N.qa=qf(N,N.J?N.ia:null,N.W),ye.K){Nf(N.h,ye);var st=ye,rn=N.L;rn&&(st.I=rn),st.B&&(ua(st),ft(st)),N.g=ye}else ma(N);0<S.i.length&&Ei(S)}else Ye[0]!="stop"&&Ye[0]!="close"||ls(S,7);else S.G==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?ls(S,7):vn(S):Ye[0]!="noop"&&S.l&&S.l.ta(Ye),S.v=0)}}rs(4)}catch{}}var xf=class{constructor(f,v){this.g=f,this.map=v}};function ca(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function lr(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Of(f){return f.h?1:f.g?f.g.size:0}function Mn(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function jc(f,v){f.g?f.g.add(v):f.h=v}function Nf(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}ca.prototype.cancel=function(){if(this.i=Df(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Df(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const S of f.g.values())v=v.concat(S.D);return v}return R(f.i)}function bl(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var v=[],S=f.length,N=0;N<S;N++)v.push(f[N]);return v}v=[],S=0;for(N in f)v[S++]=f[N];return v}function Al(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var v=[];f=f.length;for(var S=0;S<f;S++)v.push(S);return v}v=[],S=0;for(const N in f)v[S++]=N;return v}}}function Ws(f,v){if(f.forEach&&typeof f.forEach=="function")f.forEach(v,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,v,void 0);else for(var S=Al(f),N=bl(f),Q=N.length,ne=0;ne<Q;ne++)v.call(void 0,N[ne],S&&S[ne],f)}var da=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zy(f,v){if(f){f=f.split("&");for(var S=0;S<f.length;S++){var N=f[S].indexOf("="),Q=null;if(0<=N){var ne=f[S].substring(0,N);Q=f[S].substring(N+1)}else ne=f[S];v(ne,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function is(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof is){this.h=f.h,ha(this,f.j),this.o=f.o,this.g=f.g,qs(this,f.s),this.l=f.l;var v=f.i,S=new _i;S.i=v.i,v.g&&(S.g=new Map(v.g),S.h=v.h),Hs(this,S),this.m=f.m}else f&&(v=String(f).match(da))?(this.h=!1,ha(this,v[1]||"",!0),this.o=He(v[2]||""),this.g=He(v[3]||"",!0),qs(this,v[4]),this.l=He(v[5]||"",!0),Hs(this,v[6]||"",!0),this.m=He(v[7]||"")):(this.h=!1,this.i=new _i(null,this.h))}is.prototype.toString=function(){var f=[],v=this.j;v&&f.push(Gs(v,Pl,!0),":");var S=this.g;return(S||v=="file")&&(f.push("//"),(v=this.o)&&f.push(Gs(v,Pl,!0),"@"),f.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&f.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&f.push("/"),f.push(Gs(S,S.charAt(0)=="/"?Mf:Vf,!0))),(S=this.i.toString())&&f.push("?",S),(S=this.m)&&f.push("#",Gs(S,Bc)),f.join("")};function ur(f){return new is(f)}function ha(f,v,S){f.j=S?He(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function qs(f,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);f.s=v}else f.s=null}function Hs(f,v,S){v instanceof _i?(f.i=v,vi(f.i,f.h)):(S||(v=Gs(v,Ff)),f.i=new _i(v,f.h))}function ut(f,v,S){f.i.set(v,S)}function Ks(f){return ut(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function He(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Gs(f,v,S){return typeof f=="string"?(f=encodeURI(f).replace(v,Lf),S&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Lf(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Pl=/[#\/\?@]/g,Vf=/[#\?:]/g,Mf=/[#\?]/g,Ff=/[#\?@]/g,Bc=/#/g;function _i(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function _n(f){f.g||(f.g=new Map,f.h=0,f.i&&zy(f.i,function(v,S){f.add(decodeURIComponent(v.replace(/\+/g," ")),S)}))}n=_i.prototype,n.add=function(f,v){_n(this),this.i=null,f=xr(this,f);var S=this.g.get(f);return S||this.g.set(f,S=[]),S.push(v),this.h+=1,this};function Yr(f,v){_n(f),v=xr(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function Jr(f,v){return _n(f),v=xr(f,v),f.g.has(v)}n.forEach=function(f,v){_n(this),this.g.forEach(function(S,N){S.forEach(function(Q){f.call(v,Q,N,this)},this)},this)},n.na=function(){_n(this);const f=Array.from(this.g.values()),v=Array.from(this.g.keys()),S=[];for(let N=0;N<v.length;N++){const Q=f[N];for(let ne=0;ne<Q.length;ne++)S.push(v[N])}return S},n.V=function(f){_n(this);let v=[];if(typeof f=="string")Jr(this,f)&&(v=v.concat(this.g.get(xr(this,f))));else{f=Array.from(this.g.values());for(let S=0;S<f.length;S++)v=v.concat(f[S])}return v},n.set=function(f,v){return _n(this),this.i=null,f=xr(this,f),Jr(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},n.get=function(f,v){return f?(f=this.V(f),0<f.length?String(f[0]):v):v};function Qs(f,v,S){Yr(f,v),0<S.length&&(f.i=null,f.g.set(xr(f,v),R(S)),f.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(var S=0;S<v.length;S++){var N=v[S];const ne=encodeURIComponent(String(N)),ye=this.V(N);for(N=0;N<ye.length;N++){var Q=ne;ye[N]!==""&&(Q+="="+encodeURIComponent(String(ye[N]))),f.push(Q)}}return this.i=f.join("&")};function xr(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function vi(f,v){v&&!f.j&&(_n(f),f.i=null,f.g.forEach(function(S,N){var Q=N.toLowerCase();N!=Q&&(Yr(this,N),Qs(this,Q,S))},f)),f.j=v}function Wy(f,v){const S=new oa;if(u.Image){const N=new Image;N.onload=T(Kn,S,"TestLoadImage: loaded",!0,v,N),N.onerror=T(Kn,S,"TestLoadImage: error",!1,v,N),N.onabort=T(Kn,S,"TestLoadImage: abort",!1,v,N),N.ontimeout=T(Kn,S,"TestLoadImage: timeout",!1,v,N),u.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=f}else v(!1)}function Uf(f,v){const S=new oa,N=new AbortController,Q=setTimeout(()=>{N.abort(),Kn(S,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:N.signal}).then(ne=>{clearTimeout(Q),ne.ok?Kn(S,"TestPingServer: ok",!0,v):Kn(S,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Q),Kn(S,"TestPingServer: error",!1,v)})}function Kn(f,v,S,N,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),N(S)}catch{}}function qy(){this.g=new Nc}function $f(f,v,S){const N=S||"";try{Ws(f,function(Q,ne){let ye=Q;h(Q)&&(ye=xc(Q)),v.push(N+ne+"="+encodeURIComponent(ye))})}catch(Q){throw v.push(N+"type="+encodeURIComponent("_badmap")),Q}}function ss(f){this.l=f.Ub||null,this.j=f.eb||!1}I(ss,ia),ss.prototype.g=function(){return new fa(this.l,this.j)},ss.prototype.i=function(f){return function(){return f}}({});function fa(f,v){tn.call(this),this.D=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(fa,tn),n=fa.prototype,n.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=v,this.readyState=1,Zr(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(v.body=f),(this.D||u).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xr(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Zr(this)),this.g&&(this.readyState=3,Zr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jf(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function jf(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?Xr(this):Zr(this),this.readyState==3&&jf(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,Xr(this))},n.Qa=function(f){this.g&&(this.response=f,Xr(this))},n.ga=function(){this.g&&Xr(this)};function Xr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Zr(f)}n.setRequestHeader=function(f,v){this.u.append(f,v)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var S=v.next();!S.done;)S=S.value,f.push(S[0]+": "+S[1]),S=v.next();return f.join(`\r
`)};function Zr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(fa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function os(f){let v="";return q(f,function(S,N){v+=N,v+=":",v+=S,v+=`\r
`}),v}function Ys(f,v,S){e:{for(N in S){var N=!1;break e}N=!0}N||(S=os(S),typeof f=="string"?S!=null&&encodeURIComponent(String(S)):ut(f,v,S))}function Et(f){tn.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Et,tn);var Hy=/^https?$/i,zc=["POST","PUT"];n=Et.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,v,S,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gr.g(),this.v=this.o?_l(this.o):_l(Gr),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(ne){pa(this,ne);return}if(f=S||"",S=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var Q in N)S.set(Q,N[Q]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const ne of N.keys())S.set(ne,N.get(ne));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(S.keys()).find(ne=>ne.toLowerCase()=="content-type"),Q=u.FormData&&f instanceof u.FormData,!(0<=Array.prototype.indexOf.call(zc,v,void 0))||N||Q||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ye]of S)this.g.setRequestHeader(ne,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{kl(this),this.u=!0,this.g.send(f),this.u=!1}catch(ne){pa(this,ne)}};function pa(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.m=5,Cl(f),cr(f)}function Cl(f){f.A||(f.A=!0,nn(f,"complete"),nn(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,nn(this,"complete"),nn(this,"abort"),cr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cr(this,!0)),Et.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Wc(this):this.bb())},n.bb=function(){Wc(this)};function Wc(f){if(f.h&&typeof l<"u"&&(!f.v[1]||Gn(f)!=4||f.Z()!=2)){if(f.u&&Gn(f)==4)Pc(f.Ea,0,f);else if(nn(f,"readystatechange"),Gn(f)==4){f.h=!1;try{const ye=f.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var S;if(!(S=v)){var N;if(N=ye===0){var Q=String(f.D).match(da)[1]||null;!Q&&u.self&&u.self.location&&(Q=u.self.location.protocol.slice(0,-1)),N=!Hy.test(Q?Q.toLowerCase():"")}S=N}if(S)nn(f,"complete"),nn(f,"success");else{f.m=6;try{var ne=2<Gn(f)?f.g.statusText:""}catch{ne=""}f.l=ne+" ["+f.Z()+"]",Cl(f)}}finally{cr(f)}}}}function cr(f,v){if(f.g){kl(f);const S=f.g,N=f.v[0]?()=>{}:null;f.g=null,f.v=null,v||nn(f,"ready");try{S.onreadystatechange=N}catch{}}}function kl(f){f.I&&(u.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function Gn(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<Gn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),Oc(v)}};function qc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function xl(f){const v={};f=(f.g&&2<=Gn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<f.length;N++){if(L(f[N]))continue;var S=x(f[N]);const Q=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const ne=v[Q]||[];v[Q]=ne,ne.push(S)}D(v,function(N){return N.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wi(f,v,S){return S&&S.internalChannelParams&&S.internalChannelParams[f]||v}function Hc(f){this.Aa=0,this.i=[],this.j=new oa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wi("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wi("baseRetryDelayMs",5e3,f),this.cb=wi("retryDelaySeedMs",1e4,f),this.Wa=wi("forwardChannelMaxRetries",2,f),this.wa=wi("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new ca(f&&f.concurrentRequestLimit),this.Da=new qy,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Hc.prototype,n.la=8,n.G=1,n.connect=function(f,v,S,N){jt(0),this.W=f,this.H=v||{},S&&N!==void 0&&(this.H.OSID=S,this.H.OAID=N),this.F=this.X,this.I=qf(this,null,this.W),Ei(this)};function vn(f){if(Ol(f),f.G==3){var v=f.U++,S=ur(f.I);if(ut(S,"SID",f.K),ut(S,"RID",v),ut(S,"TYPE","terminate"),as(f,S),v=new Qr(f,f.j,v),v.L=2,v.v=Ks(ur(S)),S=!1,u.navigator&&u.navigator.sendBeacon)try{S=u.navigator.sendBeacon(v.v.toString(),"")}catch{}!S&&u.Image&&(new Image().src=v.v,S=!0),S||(v.g=Hf(v.j,null),v.g.ea(v.v)),v.F=Date.now(),ft(v)}Wf(f)}function ei(f){f.g&&(Kc(f),f.g.cancel(),f.g=null)}function Ol(f){ei(f),f.u&&(u.clearTimeout(f.u),f.u=null),Ll(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&u.clearTimeout(f.s),f.s=null)}function Ei(f){if(!lr(f.h)&&!f.s){f.s=!0;var v=f.Ga;oe||he(),X||(oe(),X=!0),pe.add(v,f),f.B=0}}function Ky(f,v){return Of(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=v.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Hr(_(f.Ga,f,v),zf(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Q=new Qr(this,this.j,f);let ne=this.o;if(this.S&&(ne?(ne=b(ne),E(ne,this.S)):ne=this.S),this.m!==null||this.O||(Q.H=ne,ne=null),this.P)e:{for(var v=0,S=0;S<this.i.length;S++){t:{var N=this.i[S];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(v+=N,4096<v){v=S;break e}if(v===4096||S===this.i.length-1){v=S+1;break e}}v=1e3}else v=1e3;v=Js(this,Q,v),S=ur(this.I),ut(S,"RID",f),ut(S,"CVER",22),this.D&&ut(S,"X-HTTP-Session-Id",this.D),as(this,S),ne&&(this.O?v="headers="+encodeURIComponent(String(os(ne)))+"&"+v:this.m&&Ys(S,this.m,ne)),jc(this.h,Q),this.Ua&&ut(S,"TYPE","init"),this.P?(ut(S,"$req",v),ut(S,"SID","null"),Q.T=!0,Rl(Q,S,null)):Rl(Q,S,v),this.G=2}}else this.G==3&&(f?Nl(this,f):this.i.length==0||lr(this.h)||Nl(this))};function Nl(f,v){var S;v?S=v.l:S=f.U++;const N=ur(f.I);ut(N,"SID",f.K),ut(N,"RID",S),ut(N,"AID",f.T),as(f,N),f.m&&f.o&&Ys(N,f.m,f.o),S=new Qr(f,f.j,S,f.B+1),f.m===null&&(S.H=f.o),v&&(f.i=v.D.concat(f.i)),v=Js(f,S,1e3),S.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),jc(f.h,S),Rl(S,N,v)}function as(f,v){f.H&&q(f.H,function(S,N){ut(v,N,S)}),f.l&&Ws({},function(S,N){ut(v,N,S)})}function Js(f,v,S){S=Math.min(f.i.length,S);var N=f.l?_(f.l.Na,f.l,f):null;e:{var Q=f.i;let ne=-1;for(;;){const ye=["count="+S];ne==-1?0<S?(ne=Q[0].g,ye.push("ofs="+ne)):ne=0:ye.push("ofs="+ne);let st=!0;for(let rn=0;rn<S;rn++){let Ye=Q[rn].g;const cn=Q[rn].map;if(Ye-=ne,0>Ye)ne=Math.max(0,Q[rn].g-100),st=!1;else try{$f(cn,ye,"req"+Ye+"_")}catch{N&&N(cn)}}if(st){N=ye.join("&");break e}}}return f=f.i.splice(0,S),v.D=f,N}function ma(f){if(!f.g&&!f.u){f.Y=1;var v=f.Fa;oe||he(),X||(oe(),X=!0),pe.add(v,f),f.v=0}}function Dl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Hr(_(f.Fa,f),zf(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,Bf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Hr(_(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,jt(10),ei(this),Bf(this))};function Kc(f){f.A!=null&&(u.clearTimeout(f.A),f.A=null)}function Bf(f){f.g=new Qr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var v=ur(f.qa);ut(v,"RID","rpc"),ut(v,"SID",f.K),ut(v,"AID",f.T),ut(v,"CI",f.F?"0":"1"),!f.F&&f.ja&&ut(v,"TO",f.ja),ut(v,"TYPE","xmlhttp"),as(f,v),f.m&&f.o&&Ys(v,f.m,f.o),f.L&&(f.g.I=f.L);var S=f.g;f=f.ia,S.L=1,S.v=Ks(ur(v)),S.m=null,S.P=!0,Uc(S,f)}n.Za=function(){this.C!=null&&(this.C=null,ei(this),Dl(this),jt(19))};function Ll(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function Vl(f,v){var S=null;if(f.g==v){Ll(f),Kc(f),f.g=null;var N=2}else if(Mn(f.h,v))S=v.D,Nf(f.h,v),N=1;else return;if(f.G!=0){if(v.o)if(N==1){S=v.m?v.m.length:0,v=Date.now()-v.F;var Q=f.B;N=sa(),nn(N,new El(N,S)),Ei(f)}else ma(f);else if(Q=v.s,Q==3||Q==0&&0<v.X||!(N==1&&Ky(f,v)||N==2&&Dl(f)))switch(S&&0<S.length&&(v=f.h,v.i=v.i.concat(S)),Q){case 1:ls(f,5);break;case 4:ls(f,10);break;case 3:ls(f,6);break;default:ls(f,2)}}}function zf(f,v){let S=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(S*=2),S*v}function ls(f,v){if(f.j.info("Error code "+v),v==2){var S=_(f.fb,f),N=f.Xa;const Q=!N;N=new is(N||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ha(N,"https"),Ks(N),Q?Wy(N.toString(),S):Uf(N.toString(),S)}else jt(2);f.G=0,f.l&&f.l.sa(v),Wf(f),Ol(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),jt(2)):(this.j.info("Failed to ping google.com"),jt(1))};function Wf(f){if(f.G=0,f.ka=[],f.l){const v=Df(f.h);(v.length!=0||f.i.length!=0)&&(A(f.ka,v),A(f.ka,f.i),f.h.i.length=0,R(f.i),f.i.length=0),f.l.ra()}}function qf(f,v,S){var N=S instanceof is?ur(S):new is(S);if(N.g!="")v&&(N.g=v+"."+N.g),qs(N,N.s);else{var Q=u.location;N=Q.protocol,v=v?v+"."+Q.hostname:Q.hostname,Q=+Q.port;var ne=new is(null);N&&ha(ne,N),v&&(ne.g=v),Q&&qs(ne,Q),S&&(ne.l=S),N=ne}return S=f.D,v=f.ya,S&&v&&ut(N,S,v),ut(N,"VER",f.la),as(f,N),N}function Hf(f,v,S){if(v&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Ca&&!f.pa?new Et(new ss({eb:S})):new Et(f.pa),v.Ha(f.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gc(){}n=Gc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ml(){}Ml.prototype.g=function(f,v){return new Fn(f,v)};function Fn(f,v){tn.call(this),this.g=new Hc(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(f?f["X-WebChannel-Client-Profile"]=v.va:f={"X-WebChannel-Client-Profile":v.va}),this.g.S=f,(f=v&&v.Sb)&&!L(f)&&(this.g.m=f),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!L(v)&&(this.g.D=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new Ii(this)}I(Fn,tn),Fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Fn.prototype.close=function(){vn(this.g)},Fn.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var S={};S.__data__=f,f=S}else this.u&&(S={},S.__data__=xc(f),f=S);v.i.push(new xf(v.Ya++,f)),v.G==3&&Ei(v)},Fn.prototype.N=function(){this.g.l=null,delete this.j,vn(this.g),delete this.g,Fn.aa.N.call(this)};function Kf(f){gi.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const S in v){f=S;break e}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}I(Kf,gi);function Gf(){wl.call(this),this.status=1}I(Gf,wl);function Ii(f){this.g=f}I(Ii,Gc),Ii.prototype.ua=function(){nn(this.g,"a")},Ii.prototype.ta=function(f){nn(this.g,new Kf(f))},Ii.prototype.sa=function(f){nn(this.g,new Gf)},Ii.prototype.ra=function(){nn(this.g,"b")},Ml.prototype.createWebChannel=Ml.prototype.g,Fn.prototype.send=Fn.prototype.o,Fn.prototype.open=Fn.prototype.m,Fn.prototype.close=Fn.prototype.close,bk=function(){return new Ml},Rk=function(){return sa()},Sk=yi,vw={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Tl.NO_ERROR=0,Tl.TIMEOUT=8,Tl.HTTP_ERROR=6,fm=Tl,Af.COMPLETE="complete",Tk=Af,vl.EventType=Cr,Cr.OPEN="a",Cr.CLOSE="b",Cr.ERROR="c",Cr.MESSAGE="d",tn.prototype.listen=tn.prototype.K,qd=vl,Et.prototype.listenOnce=Et.prototype.L,Et.prototype.getLastError=Et.prototype.Ka,Et.prototype.getLastErrorCode=Et.prototype.Ba,Et.prototype.getStatus=Et.prototype.Z,Et.prototype.getResponseJson=Et.prototype.Oa,Et.prototype.getResponseText=Et.prototype.oa,Et.prototype.send=Et.prototype.ea,Et.prototype.setWithCredentials=Et.prototype.Ha,Ik=Et}).apply(typeof qp<"u"?qp:typeof self<"u"?self:typeof window<"u"?window:{});const FR="@firebase/firestore",UR="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dc="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=new Kh("@firebase/firestore");function Eu(){return Do.logLevel}function Z$(n){Do.setLogLevel(n)}function ue(n,...e){if(Do.logLevel<=Ue.DEBUG){const t=e.map(jE);Do.debug(`Firestore (${dc}): ${n}`,...t)}}function zt(n,...e){if(Do.logLevel<=Ue.ERROR){const t=e.map(jE);Do.error(`Firestore (${dc}): ${n}`,...t)}}function Gi(n,...e){if(Do.logLevel<=Ue.WARN){const t=e.map(jE);Do.warn(`Firestore (${dc}): ${n}`,...t)}}function jE(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(n="Unexpected state"){const e=`FIRESTORE (${dc}) INTERNAL ASSERTION FAILED: `+n;throw zt(e),new Error(e)}function Re(n,e){n||Ee()}function ej(n,e){n||Ee()}function ve(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends gn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(mn.UNAUTHENTICATED))}shutdown(){}}class nj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class rj{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Re(this.o===void 0);let r=this.i;const i=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let s=new Rn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Rn,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const d=s;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},u=d=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>u(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Rn)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string"),new Ak(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string"),new mn(e)}}class ij{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class sj{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new ij(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $R{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oj{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Ge(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Re(this.o===void 0);const r=s=>{s.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.R;return this.R=s.token,ue("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new $R(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Re(typeof t.token=="string"),this.R=t.token,new $R(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aj(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=aj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}}function Le(n,e){return n<e?-1:n>e?1:0}function Mu(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Ck(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=-62135596800,BR=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*BR);return new At(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ae(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ae(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<jR)throw new ae(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/BR}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-jR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new At(0,0))}static max(){return new Pe(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="__name__";class Ci{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ee(),r===void 0?r=e.length-t:r>e.length-t&&Ee(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ci.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ci?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=Ci.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=Ci.isNumericId(e),i=Ci.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Ci.extractNumericId(e).compare(Ci.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return bo.fromString(e.substring(4,e.length-2))}}class Be extends Ci{construct(e,t,r){return new Be(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Be(t)}static emptyPath(){return new Be([])}}const lj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rt extends Ci{construct(e,t,r){return new Rt(e,t,r)}static isValidIdentifier(e){return lj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zR}static keyField(){return new Rt([zR])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ae(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new ae(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ae(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(s(),i++)}if(s(),l)throw new ae(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rt(t)}static emptyPath(){return new Rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(Be.fromString(e))}static fromName(e){return new _e(Be.fromString(e).popFirst(5))}static empty(){return new _e(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Be.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new Be(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu=-1;class Km{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function ww(n){return n.fields.find(e=>e.kind===2)}function Oa(n){return n.fields.filter(e=>e.kind!==2)}Km.UNKNOWN_ID=-1;class pm{constructor(e,t){this.fieldPath=e,this.kind=t}}class vh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new vh(0,Rr.min())}}function kk(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Pe.fromTimestamp(r===1e9?new At(t+1,0):new At(t,r));return new Rr(i,_e.empty(),e)}function xk(n){return new Rr(n.readTime,n.key,Fu)}class Rr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Rr(Pe.min(),_e.empty(),Fu)}static max(){return new Rr(Pe.max(),_e.empty(),Fu)}}function BE(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:Le(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Nk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==Ok)throw n;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new G((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof G?t:G.resolve(t)}catch(t){return G.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):G.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):G.reject(t)}static resolve(e){return new G((t,r)=>{t(e)})}static reject(e){return new G((t,r)=>{r(e)})}static waitFor(e){return new G((t,r)=>{let i=0,s=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++s,l&&s===i&&t()},d=>r(d))}),l=!0,s===i&&t()})}static or(e){let t=G.resolve(!1);for(const r of e)t=t.next(i=>i?G.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new G((r,i)=>{const s=e.length,l=new Array(s);let u=0;for(let d=0;d<s;d++){const h=d;t(e[h]).next(m=>{l[h]=m,++u,u===s&&r(l)},m=>i(m))}})}static doWhile(e,t){return new G((r,i)=>{const s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr="SimpleDb";class Ug{static open(e,t,r,i){try{return new Ug(t,e.transaction(i,r))}catch(s){throw new eh(t,s)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.m=new Rn,this.transaction.oncomplete=()=>{this.m.resolve()},this.transaction.onabort=()=>{t.error?this.m.reject(new eh(e,t.error)):this.m.resolve()},this.transaction.onerror=r=>{const i=zE(r.target.error);this.m.reject(new eh(e,i))}}get p(){return this.m.promise}abort(e){e&&this.m.reject(e),this.aborted||(ue(yr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}S(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new cj(t)}}class zi{static delete(e){return ue(yr,"Removing database:",e),Da(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!mh())return!1;if(zi.v())return!0;const e=We(),t=zi.C(e),r=0<t&&t<10,i=Dk(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,t){return e.store(t)}static C(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.O=r,zi.C(We())===12.2&&zt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async N(e){return this.db||(ue(yr,"Opening database:",this.name),this.db=await new Promise((t,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const l=s.target.result;t(l)},i.onblocked=()=>{r(new eh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const l=s.target.error;l.name==="VersionError"?r(new ae(te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?r(new ae(te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):r(new eh(e,l))},i.onupgradeneeded=s=>{ue(yr,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const l=s.target.result;this.O.B(l,i.transaction,s.oldVersion,this.version).next(()=>{ue(yr,"Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=t=>this.L(t)),this.db}k(e){this.L=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){const s=t==="readonly";let l=0;for(;;){++l;try{this.db=await this.N(e);const u=Ug.open(this.db,e,s?"readonly":"readwrite",r),d=i(u).next(h=>(u.S(),h)).catch(h=>(u.abort(h),G.reject(h))).toPromise();return d.catch(()=>{}),await u.p,d}catch(u){const d=u,h=d.name!=="FirebaseError"&&l<3;if(ue(yr,"Transaction failed with error:",d.message,"Retrying:",h),this.close(),!h)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function Dk(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class uj{constructor(e){this.q=e,this.$=!1,this.K=null}get isDone(){return this.$}get U(){return this.K}set cursor(e){this.q=e}done(){this.$=!0}W(e){this.K=e}delete(){return Da(this.q.delete())}}class eh extends ae{constructor(e,t){super(te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Jo(n){return n.name==="IndexedDbTransactionError"}class cj{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(ue(yr,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(ue(yr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Da(r)}add(e){return ue(yr,"ADD",this.store.name,e,e),Da(this.store.add(e))}get(e){return Da(this.store.get(e)).next(t=>(t===void 0&&(t=null),ue(yr,"GET",this.store.name,e,t),t))}delete(e){return ue(yr,"DELETE",this.store.name,e),Da(this.store.delete(e))}count(){return ue(yr,"COUNT",this.store.name),Da(this.store.count())}G(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new G((l,u)=>{s.onerror=d=>{u(d.target.error)},s.onsuccess=d=>{l(d.target.result)}})}{const s=this.cursor(r),l=[];return this.j(s,(u,d)=>{l.push(d)}).next(()=>l)}}H(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new G((i,s)=>{r.onerror=l=>{s(l.target.error)},r.onsuccess=l=>{i(l.target.result)}})}J(e,t){ue(yr,"DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.j(i,(s,l,u)=>u.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.j(i,t)}X(e){const t=this.cursor({});return new G((r,i)=>{t.onerror=s=>{const l=zE(s.target.error);i(l)},t.onsuccess=s=>{const l=s.target.result;l?e(l.primaryKey,l.value).next(u=>{u?l.continue():r()}):r()}})}j(e,t){const r=[];return new G((i,s)=>{e.onerror=l=>{s(l.target.error)},e.onsuccess=l=>{const u=l.target.result;if(!u)return void i();const d=new uj(u),h=t(u.primaryKey,u.value,d);if(h instanceof G){const m=h.catch(g=>(d.done(),G.reject(g)));r.push(m)}d.isDone?i():d.U===null?u.continue():u.continue(d.U)}}).next(()=>G.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Da(n){return new G((e,t)=>{n.onsuccess=r=>{const i=r.target.result;e(i)},n.onerror=r=>{const i=zE(r.target.error);t(i)}})}let WR=!1;function zE(n){const e=zi.C(We());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new ae("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return WR||(WR=!0,setTimeout(()=>{throw r},0)),r}}return n}const th="IndexBackfiller";class dj{constructor(e,t){this.asyncQueue=e,this.ee=t,this.task=null}start(){this.te(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}te(e){ue(th,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const t=await this.ee.ne();ue(th,`Documents written: ${t}`)}catch(t){Jo(t)?ue(th,"Ignoring IndexedDB error during index backfill: ",t):await Yo(t)}await this.te(6e4)})}}class hj{constructor(e,t){this.localStore=e,this.persistence=t}async ne(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.re(t,e))}re(e,t){const r=new Set;let i=t,s=!0;return G.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(l!==null&&!r.has(l))return ue(th,`Processing collection: ${l}`),this.ie(e,l,i).next(u=>{i-=u,r.add(l)});s=!1})).next(()=>t-i)}ie(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(s=>{const l=s.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.se(i,s)).next(u=>(ue(th,`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,t,u))).next(()=>l.size)}))}se(e,t){let r=e;return t.changes.forEach((i,s)=>{const l=xk(s);BE(l,r)>0&&(r=l)}),new Rr(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}nr.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=-1;function Xh(n){return n==null}function wh(n){return n===0&&1/n==-1/0}function Lk(n){return typeof n=="number"&&Number.isInteger(n)&&!wh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="";function Ln(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=qR(e)),e=fj(n.get(t),e);return qR(e)}function fj(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="";break;case Gm:t+="";break;default:t+=s}}return t}function qR(n){return n+Gm+""}function Fi(n){const e=n.length;if(Re(e>=2),e===2)return Re(n.charAt(0)===Gm&&n.charAt(1)===""),Be.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const l=n.indexOf(Gm,s);switch((l<0||l>t)&&Ee(),n.charAt(l+1)){case"":const u=n.substring(s,l);let d;i.length===0?d=u:(i+=u,d=i,i=""),r.push(d);break;case"":i+=n.substring(s,l),i+="\0";break;case"":i+=n.substring(s,l+1);break;default:Ee()}s=l+2}return new Be(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na="remoteDocuments",Zh="owner",su="owner",Eh="mutationQueues",pj="userId",li="mutations",HR="batchId",Ua="userMutationsIndex",KR=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(n,e){return[n,Ln(e)]}function Vk(n,e,t){return[n,Ln(e),t]}const mj={},Uu="documentMutations",Qm="remoteDocumentsV14",gj=["prefixPath","collectionGroup","readTime","documentId"],gm="documentKeyIndex",yj=["prefixPath","collectionGroup","documentId"],Mk="collectionGroupIndex",_j=["collectionGroup","readTime","prefixPath","documentId"],Ih="remoteDocumentGlobal",Ew="remoteDocumentGlobalKey",$u="targets",Fk="queryTargetsIndex",vj=["canonicalId","targetId"],ju="targetDocuments",wj=["targetId","path"],WE="documentTargetsIndex",Ej=["path","targetId"],Ym="targetGlobalKey",qa="targetGlobal",Th="collectionParents",Ij=["collectionId","parent"],Bu="clientMetadata",Tj="clientId",$g="bundles",Sj="bundleId",jg="namedQueries",Rj="name",qE="indexConfiguration",bj="indexId",Iw="collectionGroupIndex",Aj="collectionGroup",Jm="indexState",Pj=["indexId","uid"],Uk="sequenceNumberIndex",Cj=["uid","sequenceNumber"],Xm="indexEntries",kj=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],$k="documentKeyIndex",xj=["indexId","uid","orderedDocumentKey"],Bg="documentOverlays",Oj=["userId","collectionPath","documentId"],Tw="collectionPathOverlayIndex",Nj=["userId","collectionPath","largestBatchId"],jk="collectionGroupOverlayIndex",Dj=["userId","collectionGroup","largestBatchId"],HE="globals",Lj="name",Bk=[Eh,li,Uu,Na,$u,Zh,qa,ju,Bu,Ih,Th,$g,jg],Vj=[...Bk,Bg],zk=[Eh,li,Uu,Qm,$u,Zh,qa,ju,Bu,Ih,Th,$g,jg,Bg],Wk=zk,KE=[...Wk,qE,Jm,Xm],Mj=KE,Fj=[...KE,HE];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw extends Nk{constructor(e,t){super(),this.ue=e,this.currentSequenceNumber=t}}function ln(n,e){const t=ve(n);return zi.M(t.ue,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Xo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function qk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,t){this.comparator=e,this.root=t||In.EMPTY}insert(e,t){return new mt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,In.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,In.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hp(this.root,e,this.comparator,!0)}}class Hp{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class In{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??In.RED,this.left=i??In.EMPTY,this.right=s??In.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new In(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return In.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return In.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,In.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,In.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}In.EMPTY=null,In.RED=!0,In.BLACK=!1;In.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,t,r,i,s){return this}insert(e,t,r){return new In(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new QR(this.data.getIterator())}getIteratorFrom(e){return new QR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof at)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new at(this.comparator);return t.data=e,t}}class QR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ou(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.fields=e,e.sort(Rt.comparator)}static empty(){return new rr([])}unionWith(e){let t=new at(Rt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new rr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Mu(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uj(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Hk("Invalid base64 string: "+s):s}}(e);return new Ft(t)}static fromUint8Array(e){const t=function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s}(e);return new Ft(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const $j=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xs(n){if(Re(!!n),typeof n=="string"){let e=0;const t=$j.exec(n);if(Re(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:St(n.seconds),nanos:St(n.nanos)}}function St(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Os(n){return typeof n=="string"?Ft.fromBase64String(n):Ft.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk="server_timestamp",Gk="__type__",Qk="__previous_value__",Yk="__local_write_time__";function zg(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Gk])===null||t===void 0?void 0:t.stringValue)===Kk}function Wg(n){const e=n.mapValue.fields[Qk];return zg(e)?Wg(e):e}function Sh(n){const e=xs(n.mapValue.fields[Yk].timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(e,t,r,i,s,l,u,d,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=h}}const Rw="(default)";class Lo{constructor(e,t){this.projectId=e,this.database=t||Rw}static empty(){return new Lo("","")}get isDefaultDatabase(){return this.database===Rw}isEqual(e){return e instanceof Lo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="__type__",Jk="__max__",Io={mapValue:{fields:{__type__:{stringValue:Jk}}}},QE="__vector__",zu="value",ym={nullValue:"NULL_VALUE"};function Vo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?zg(n)?4:Xk(n)?9007199254740991:qg(n)?10:11:Ee()}function Qi(n,e){if(n===e)return!0;const t=Vo(n);if(t!==Vo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Sh(n).isEqual(Sh(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=xs(i.timestampValue),u=xs(s.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return Os(i.bytesValue).isEqual(Os(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return St(i.geoPointValue.latitude)===St(s.geoPointValue.latitude)&&St(i.geoPointValue.longitude)===St(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return St(i.integerValue)===St(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=St(i.doubleValue),u=St(s.doubleValue);return l===u?wh(l)===wh(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return Mu(n.arrayValue.values||[],e.arrayValue.values||[],Qi);case 10:case 11:return function(i,s){const l=i.mapValue.fields||{},u=s.mapValue.fields||{};if(GR(l)!==GR(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!Qi(l[d],u[d])))return!1;return!0}(n,e);default:return Ee()}}function Rh(n,e){return(n.values||[]).find(t=>Qi(t,e))!==void 0}function Mo(n,e){if(n===e)return 0;const t=Vo(n),r=Vo(e);if(t!==r)return Le(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Le(n.booleanValue,e.booleanValue);case 2:return function(s,l){const u=St(s.integerValue||s.doubleValue),d=St(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1}(n,e);case 3:return YR(n.timestampValue,e.timestampValue);case 4:return YR(Sh(n),Sh(e));case 5:return Le(n.stringValue,e.stringValue);case 6:return function(s,l){const u=Os(s),d=Os(l);return u.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(s,l){const u=s.split("/"),d=l.split("/");for(let h=0;h<u.length&&h<d.length;h++){const m=Le(u[h],d[h]);if(m!==0)return m}return Le(u.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,l){const u=Le(St(s.latitude),St(l.latitude));return u!==0?u:Le(St(s.longitude),St(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return JR(n.arrayValue,e.arrayValue);case 10:return function(s,l){var u,d,h,m;const g=s.fields||{},_=l.fields||{},T=(u=g[zu])===null||u===void 0?void 0:u.arrayValue,I=(d=_[zu])===null||d===void 0?void 0:d.arrayValue,R=Le(((h=T==null?void 0:T.values)===null||h===void 0?void 0:h.length)||0,((m=I==null?void 0:I.values)===null||m===void 0?void 0:m.length)||0);return R!==0?R:JR(T,I)}(n.mapValue,e.mapValue);case 11:return function(s,l){if(s===Io.mapValue&&l===Io.mapValue)return 0;if(s===Io.mapValue)return 1;if(l===Io.mapValue)return-1;const u=s.fields||{},d=Object.keys(u),h=l.fields||{},m=Object.keys(h);d.sort(),m.sort();for(let g=0;g<d.length&&g<m.length;++g){const _=Le(d[g],m[g]);if(_!==0)return _;const T=Mo(u[d[g]],h[m[g]]);if(T!==0)return T}return Le(d.length,m.length)}(n.mapValue,e.mapValue);default:throw Ee()}}function YR(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Le(n,e);const t=xs(n),r=xs(e),i=Le(t.seconds,r.seconds);return i!==0?i:Le(t.nanos,r.nanos)}function JR(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=Mo(t[i],r[i]);if(s)return s}return Le(t.length,r.length)}function Wu(n){return bw(n)}function bw(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=xs(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Os(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return _e.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=bw(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${bw(t.fields[l])}`;return i+"}"}(n.mapValue):Ee()}function _m(n){switch(Vo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wg(n);return e?16+_m(e):16;case 5:return 2*n.stringValue.length;case 6:return Os(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+_m(s),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Xo(r.fields,(s,l)=>{i+=s.length+_m(l)}),i}(n.mapValue);default:throw Ee()}}function Qa(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Aw(n){return!!n&&"integerValue"in n}function bh(n){return!!n&&"arrayValue"in n}function XR(n){return!!n&&"nullValue"in n}function ZR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function vm(n){return!!n&&"mapValue"in n}function qg(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[GE])===null||t===void 0?void 0:t.stringValue)===QE}function nh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Xo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=nh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=nh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Xk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Jk}const Zk={mapValue:{fields:{[GE]:{stringValue:QE},[zu]:{arrayValue:{}}}}};function Bj(n){return"nullValue"in n?ym:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Qa(Lo.empty(),_e.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?qg(n)?Zk:{mapValue:{}}:Ee()}function zj(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Qa(Lo.empty(),_e.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?Zk:"mapValue"in n?qg(n)?{mapValue:{}}:Io:Ee()}function eb(n,e){const t=Mo(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function tb(n,e){const t=Mo(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!vm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nh(t)}setAll(e){let t=Rt.emptyPath(),r={},i=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const d=this.getFieldsMap(t);this.applyChanges(d,r,i),r={},i=[],t=u.popLast()}l?r[u.lastSegment()]=nh(l):i.push(u.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());vm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Qi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];vm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Xo(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Sn(nh(this.value))}}function e1(n){const e=[];return Xo(n.fields,(t,r)=>{const i=new Rt([t]);if(vm(r)){const s=e1(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)}),new rr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,t,r,i,s,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=u}static newInvalidDocument(e){return new vt(e,0,Pe.min(),Pe.min(),Pe.min(),Sn.empty(),0)}static newFoundDocument(e,t,r,i){return new vt(e,1,t,Pe.min(),r,i,0)}static newNoDocument(e,t){return new vt(e,2,t,Pe.min(),Pe.min(),Sn.empty(),0)}static newUnknownDocument(e,t){return new vt(e,3,t,Pe.min(),Pe.min(),Sn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,t){this.position=e,this.inclusive=t}}function nb(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],l=n.position[i];if(s.field.isKeyField()?r=_e.comparator(_e.fromName(l.referenceValue),t.key):r=Mo(l,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function rb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Qi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,t="asc"){this.field=e,this.dir=t}}function Wj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{}class ze extends t1{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new qj(e,t,r):t==="array-contains"?new Gj(e,r):t==="in"?new a1(e,r):t==="not-in"?new Qj(e,r):t==="array-contains-any"?new Yj(e,r):new ze(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Hj(e,r):new Kj(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Mo(t,this.value)):t!==null&&Vo(this.value)===Vo(t)&&this.matchesComparison(Mo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ot extends t1{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new ot(e,t)}matches(e){return qu(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function qu(n){return n.op==="and"}function Pw(n){return n.op==="or"}function YE(n){return n1(n)&&qu(n)}function n1(n){for(const e of n.filters)if(e instanceof ot)return!1;return!0}function Cw(n){if(n instanceof ze)return n.field.canonicalString()+n.op.toString()+Wu(n.value);if(YE(n))return n.filters.map(e=>Cw(e)).join(",");{const e=n.filters.map(t=>Cw(t)).join(",");return`${n.op}(${e})`}}function r1(n,e){return n instanceof ze?function(r,i){return i instanceof ze&&r.op===i.op&&r.field.isEqual(i.field)&&Qi(r.value,i.value)}(n,e):n instanceof ot?function(r,i){return i instanceof ot&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,l,u)=>s&&r1(l,i.filters[u]),!0):!1}(n,e):void Ee()}function i1(n,e){const t=n.filters.concat(e);return ot.create(t,n.op)}function s1(n){return n instanceof ze?function(t){return`${t.field.canonicalString()} ${t.op} ${Wu(t.value)}`}(n):n instanceof ot?function(t){return t.op.toString()+" {"+t.getFilters().map(s1).join(" ,")+"}"}(n):"Filter"}class qj extends ze{constructor(e,t,r){super(e,t,r),this.key=_e.fromName(r.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class Hj extends ze{constructor(e,t){super(e,"in",t),this.keys=o1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Kj extends ze{constructor(e,t){super(e,"not-in",t),this.keys=o1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function o1(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>_e.fromName(r.referenceValue))}class Gj extends ze{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return bh(t)&&Rh(t.arrayValue,this.value)}}class a1 extends ze{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Rh(this.value.arrayValue,t)}}class Qj extends ze{constructor(e,t){super(e,"not-in",t)}matches(e){if(Rh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Rh(this.value.arrayValue,t)}}class Yj extends ze{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!bh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Rh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e,t=null,r=[],i=[],s=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=u,this.le=null}}function kw(n,e=null,t=[],r=[],i=null,s=null,l=null){return new Jj(n,e,t,r,i,s,l)}function Ya(n){const e=ve(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Cw(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Xh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Wu(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Wu(r)).join(",")),e.le=t}return e.le}function ef(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Wj(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!r1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!rb(n.startAt,e.startAt)&&rb(n.endAt,e.endAt)}function Zm(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function eg(n,e){return n.filters.filter(t=>t instanceof ze&&t.field.isEqual(e))}function ib(n,e,t){let r=ym,i=!0;for(const s of eg(n,e)){let l=ym,u=!0;switch(s.op){case"<":case"<=":l=Bj(s.value);break;case"==":case"in":case">=":l=s.value;break;case">":l=s.value,u=!1;break;case"!=":case"not-in":l=ym}eb({value:r,inclusive:i},{value:l,inclusive:u})<0&&(r=l,i=u)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const l=t.position[s];eb({value:r,inclusive:i},{value:l,inclusive:t.inclusive})<0&&(r=l,i=t.inclusive);break}}return{value:r,inclusive:i}}function sb(n,e,t){let r=Io,i=!0;for(const s of eg(n,e)){let l=Io,u=!0;switch(s.op){case">=":case">":l=zj(s.value),u=!1;break;case"==":case"in":case"<=":l=s.value;break;case"<":l=s.value,u=!1;break;case"!=":case"not-in":l=Io}tb({value:r,inclusive:i},{value:l,inclusive:u})>0&&(r=l,i=u)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const l=t.position[s];tb({value:r,inclusive:i},{value:l,inclusive:t.inclusive})>0&&(r=l,i=t.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,t=null,r=[],i=[],s=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=u,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function l1(n,e,t,r,i,s,l,u){return new Vs(n,e,t,r,i,s,l,u)}function hc(n){return new Vs(n)}function ob(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function JE(n){return n.collectionGroup!==null}function Au(n){const e=ve(n);if(e.he===null){e.he=[];const t=new Set;for(const s of e.explicitOrderBy)e.he.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new at(Rt.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(h=>{h.isInequality()&&(u=u.add(h.field))})}),u})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.he.push(new Ah(s,r))}),t.has(Rt.keyField().canonicalString())||e.he.push(new Ah(Rt.keyField(),r))}return e.he}function zn(n){const e=ve(n);return e.Pe||(e.Pe=Xj(e,Au(n))),e.Pe}function Xj(n,e){if(n.limitType==="F")return kw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ah(i.field,s)});const t=n.endAt?new Fo(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Fo(n.startAt.position,n.startAt.inclusive):null;return kw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function xw(n,e){const t=n.filters.concat([e]);return new Vs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function tg(n,e,t){return new Vs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function tf(n,e){return ef(zn(n),zn(e))&&n.limitType===e.limitType}function u1(n){return`${Ya(zn(n))}|lt:${n.limitType}`}function Iu(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>s1(i)).join(", ")}]`),Xh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Wu(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Wu(i)).join(",")),`Target(${r})`}(zn(n))}; limitType=${n.limitType})`}function nf(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):_e.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of Au(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,u,d){const h=nb(l,u,d);return l.inclusive?h<=0:h<0}(r.startAt,Au(r),i)||r.endAt&&!function(l,u,d){const h=nb(l,u,d);return l.inclusive?h>=0:h>0}(r.endAt,Au(r),i))}(n,e)}function c1(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function d1(n){return(e,t)=>{let r=!1;for(const i of Au(n)){const s=Zj(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Zj(n,e,t){const r=n.field.isKeyField()?_e.comparator(e.key,t.key):function(s,l,u){const d=l.data.field(s),h=u.data.field(s);return d!==null&&h!==null?Mo(d,h):Ee()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Xo(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return qk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4=new mt(_e.comparator);function ir(){return e4}const h1=new mt(_e.comparator);function Hd(...n){let e=h1;for(const t of n)e=e.insert(t.key,t);return e}function f1(n){let e=h1;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ui(){return rh()}function p1(){return rh()}function rh(){return new Ms(n=>n.toString(),(n,e)=>n.isEqual(e))}const t4=new mt(_e.comparator),n4=new at(_e.comparator);function Fe(...n){let e=n4;for(const t of n)e=e.add(t);return e}const r4=new at(Le);function XE(){return r4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wh(e)?"-0":e}}function m1(n){return{integerValue:""+n}}function g1(n,e){return Lk(e)?m1(e):ZE(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(){this._=void 0}}function i4(n,e,t){return n instanceof Hu?function(i,s){const l={fields:{[Gk]:{stringValue:Kk},[Yk]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&zg(s)&&(s=Wg(s)),s&&(l.fields[Qk]=s),{mapValue:l}}(t,e):n instanceof Ja?_1(n,e):n instanceof Xa?v1(n,e):function(i,s){const l=y1(i,s),u=ab(l)+ab(i.Ie);return Aw(l)&&Aw(i.Ie)?m1(u):ZE(i.serializer,u)}(n,e)}function s4(n,e,t){return n instanceof Ja?_1(n,e):n instanceof Xa?v1(n,e):t}function y1(n,e){return n instanceof Ku?function(r){return Aw(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Hu extends Hg{}class Ja extends Hg{constructor(e){super(),this.elements=e}}function _1(n,e){const t=w1(e);for(const r of n.elements)t.some(i=>Qi(i,r))||t.push(r);return{arrayValue:{values:t}}}class Xa extends Hg{constructor(e){super(),this.elements=e}}function v1(n,e){let t=w1(e);for(const r of n.elements)t=t.filter(i=>!Qi(i,r));return{arrayValue:{values:t}}}class Ku extends Hg{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function ab(n){return St(n.integerValue||n.doubleValue)}function w1(n){return bh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,t){this.field=e,this.transform=t}}function o4(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Ja&&i instanceof Ja||r instanceof Xa&&i instanceof Xa?Mu(r.elements,i.elements,Qi):r instanceof Ku&&i instanceof Ku?Qi(r.Ie,i.Ie):r instanceof Hu&&i instanceof Hu}(n.transform,e.transform)}class a4{constructor(e,t){this.version=e,this.transformResults=t}}class bt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new bt}static exists(e){return new bt(void 0,e)}static updateTime(e){return new bt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Kg{}function E1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new pc(n.key,bt.none()):new fc(n.key,n.data,bt.none());{const t=n.data,r=Sn.empty();let i=new at(Rt.comparator);for(let s of e.fields)if(!i.has(s)){let l=t.field(s);l===null&&s.length>1&&(s=s.popLast(),l=t.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new Fs(n.key,r,new rr(i.toArray()),bt.none())}}function l4(n,e,t){n instanceof fc?function(i,s,l){const u=i.value.clone(),d=ub(i.fieldTransforms,s,l.transformResults);u.setAll(d),s.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Fs?function(i,s,l){if(!wm(i.precondition,s))return void s.convertToUnknownDocument(l.version);const u=ub(i.fieldTransforms,s,l.transformResults),d=s.data;d.setAll(I1(i)),d.setAll(u),s.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function ih(n,e,t,r){return n instanceof fc?function(s,l,u,d){if(!wm(s.precondition,l))return u;const h=s.value.clone(),m=cb(s.fieldTransforms,d,l);return h.setAll(m),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null}(n,e,t,r):n instanceof Fs?function(s,l,u,d){if(!wm(s.precondition,l))return u;const h=cb(s.fieldTransforms,d,l),m=l.data;return m.setAll(I1(s)),m.setAll(h),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(n,e,t,r):function(s,l,u){return wm(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,e,t)}function u4(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=y1(r.transform,i||null);s!=null&&(t===null&&(t=Sn.empty()),t.set(r.field,s))}return t||null}function lb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Mu(r,i,(s,l)=>o4(s,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class fc extends Kg{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Fs extends Kg{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function I1(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function ub(n,e,t){const r=new Map;Re(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],l=s.transform,u=e.data.field(s.field);r.set(s.field,s4(l,u,t[i]))}return r}function cb(n,e,t){const r=new Map;for(const i of n){const s=i.transform,l=t.data.field(i.field);r.set(i.field,i4(s,l,e))}return r}class pc extends Kg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class e0 extends Kg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&l4(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=ih(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=ih(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=p1();return this.mutations.forEach(i=>{const s=e.get(i.key),l=s.overlayedDocument;let u=this.applyToLocalView(l,s.mutatedFields);u=t.has(i.key)?null:u;const d=E1(l,u);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(Pe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Fe())}isEqual(e){return this.batchId===e.batchId&&Mu(this.mutations,e.mutations,(t,r)=>lb(t,r))&&Mu(this.baseMutations,e.baseMutations,(t,r)=>lb(t,r))}}class n0{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Re(e.mutations.length===r.length);let i=function(){return t4}();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new n0(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt,Je;function T1(n){switch(n){case te.OK:return Ee();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Ee()}}function S1(n){if(n===void 0)return zt("GRPC error has no .code"),te.UNKNOWN;switch(n){case Qt.OK:return te.OK;case Qt.CANCELLED:return te.CANCELLED;case Qt.UNKNOWN:return te.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return te.INTERNAL;case Qt.UNAVAILABLE:return te.UNAVAILABLE;case Qt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Qt.NOT_FOUND:return te.NOT_FOUND;case Qt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Qt.ABORTED:return te.ABORTED;case Qt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Qt.DATA_LOSS:return te.DATA_LOSS;default:return Ee()}}(Je=Qt||(Qt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4=new bo([4294967295,4294967295],0);function db(n){const e=R1().encode(n),t=new Ek;return t.update(e),new Uint8Array(t.digest())}function hb(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new bo([t,r],0),new bo([i,s],0)]}class i0{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Kd(`Invalid padding: ${t}`);if(r<0)throw new Kd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Kd(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Kd(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=bo.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(bo.fromNumber(r)));return i.compare(d4)===1&&(i=new bo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=db(e),[r,i]=hb(t);for(let s=0;s<this.hashCount;s++){const l=this.Ae(r,i,s);if(!this.Re(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new i0(s,i,t);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.Ee===0)return;const t=db(e),[r,i]=hb(t);for(let s=0;s<this.hashCount;s++){const l=this.Ae(r,i,s);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Kd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,of.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new sf(Pe.min(),i,new mt(Le),ir(),Fe())}}class of{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new of(r,t,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}}class b1{constructor(e,t){this.targetId=e,this.ge=t}}class A1{constructor(e,t,r=Ft.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class fb{constructor(){this.pe=0,this.ye=pb(),this.we=Ft.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Fe(),t=Fe(),r=Fe();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ee()}}),new of(this.we,this.be,e,t,r)}Me(){this.Se=!1,this.ye=pb()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Re(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class h4{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ir(),this.$e=Kp(),this.Ke=Kp(),this.Ue=new mt(Le)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Ee()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){const t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){const s=i.target;if(Zm(s))if(r===0){const l=new _e(s.path);this.ze(t,l,vt.newNoDocument(l,Pe.min()))}else Re(r===1);else{const l=this.et(t);if(l!==r){const u=this.tt(e),d=u?this.nt(u,e,l):1;if(d!==0){this.Ye(t);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,h)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let l,u;try{l=Os(r).toUint8Array()}catch(d){if(d instanceof Hk)return Gi("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new i0(l,i,s)}catch(d){return Gi(d instanceof Kd?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.Ee===0?null:u}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const l=this.ke.it(),u=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.ze(t,s,null),i++)}),i}ot(e){const t=new Map;this.qe.forEach((s,l)=>{const u=this.Xe(l);if(u){if(s.current&&Zm(u.target)){const d=new _e(u.target.path);this._t(d).has(l)||this.ut(l,d)||this.ze(l,d,vt.newNoDocument(d,e))}s.ve&&(t.set(l,s.Fe()),s.Me())}});let r=Fe();this.Ke.forEach((s,l)=>{let u=!0;l.forEachWhile(d=>{const h=this.Xe(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(s))}),this.Qe.forEach((s,l)=>l.setReadTime(e));const i=new sf(e,t,this.Ue,this.Qe,r);return this.Qe=ir(),this.$e=Kp(),this.Ke=Kp(),this.Ue=new mt(Le),i}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new fb,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new at(Le),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new at(Le),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new fb),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Kp(){return new mt(_e.comparator)}function pb(){return new mt(_e.comparator)}const f4={asc:"ASCENDING",desc:"DESCENDING"},p4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},m4={and:"AND",or:"OR"};class g4{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ow(n,e){return n.useProto3Json||Xh(e)?e:{value:e}}function Gu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function P1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function y4(n,e){return Gu(n,e.toTimestamp())}function Wt(n){return Re(!!n),Pe.fromTimestamp(function(t){const r=xs(t);return new At(r.seconds,r.nanos)}(n))}function s0(n,e){return Nw(n,e).canonicalString()}function Nw(n,e){const t=function(i){return new Be(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function C1(n){const e=Be.fromString(n);return Re(U1(e)),e}function Ph(n,e){return s0(n.databaseId,e.path)}function Wi(n,e){const t=C1(e);if(t.get(1)!==n.databaseId.projectId)throw new ae(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ae(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(O1(t))}function k1(n,e){return s0(n.databaseId,e)}function x1(n){const e=C1(n);return e.length===4?Be.emptyPath():O1(e)}function Dw(n){return new Be(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function O1(n){return Re(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function mb(n,e,t){return{name:Ph(n,e),fields:t.value.mapValue.fields}}function N1(n,e,t){const r=Wi(n,e.name),i=Wt(e.updateTime),s=e.createTime?Wt(e.createTime):Pe.min(),l=new Sn({mapValue:{fields:e.fields}}),u=vt.newFoundDocument(r,i,s,l);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function _4(n,e){return"found"in e?function(r,i){Re(!!i.found),i.found.name,i.found.updateTime;const s=Wi(r,i.found.name),l=Wt(i.found.updateTime),u=i.found.createTime?Wt(i.found.createTime):Pe.min(),d=new Sn({mapValue:{fields:i.found.fields}});return vt.newFoundDocument(s,l,u,d)}(n,e):"missing"in e?function(r,i){Re(!!i.missing),Re(!!i.readTime);const s=Wi(r,i.missing),l=Wt(i.readTime);return vt.newNoDocument(s,l)}(n,e):Ee()}function v4(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,m){return h.useProto3Json?(Re(m===void 0||typeof m=="string"),Ft.fromBase64String(m||"")):(Re(m===void 0||m instanceof Buffer||m instanceof Uint8Array),Ft.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(h){const m=h.code===void 0?te.UNKNOWN:S1(h.code);return new ae(m,h.message||"")}(l);t=new A1(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Wi(n,r.document.name),s=Wt(r.document.updateTime),l=r.document.createTime?Wt(r.document.createTime):Pe.min(),u=new Sn({mapValue:{fields:r.document.fields}}),d=vt.newFoundDocument(i,s,l,u),h=r.targetIds||[],m=r.removedTargetIds||[];t=new Em(h,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Wi(n,r.document),s=r.readTime?Wt(r.readTime):Pe.min(),l=vt.newNoDocument(i,s),u=r.removedTargetIds||[];t=new Em([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Wi(n,r.document),s=r.removedTargetIds||[];t=new Em([],s,i,null)}else{if(!("filter"in e))return Ee();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new c4(i,s),u=r.targetId;t=new b1(u,l)}}return t}function Ch(n,e){let t;if(e instanceof fc)t={update:mb(n,e.key,e.value)};else if(e instanceof pc)t={delete:Ph(n,e.key)};else if(e instanceof Fs)t={update:mb(n,e.key,e.data),updateMask:R4(e.fieldMask)};else{if(!(e instanceof e0))return Ee();t={verify:Ph(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,l){const u=l.transform;if(u instanceof Hu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Ja)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Xa)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Ku)return{fieldPath:l.field.canonicalString(),increment:u.Ie};throw Ee()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:y4(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ee()}(n,e.precondition)),t}function Lw(n,e){const t=e.currentDocument?function(s){return s.updateTime!==void 0?bt.updateTime(Wt(s.updateTime)):s.exists!==void 0?bt.exists(s.exists):bt.none()}(e.currentDocument):bt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,u){let d=null;if("setToServerValue"in u)Re(u.setToServerValue==="REQUEST_TIME"),d=new Hu;else if("appendMissingElements"in u){const m=u.appendMissingElements.values||[];d=new Ja(m)}else if("removeAllFromArray"in u){const m=u.removeAllFromArray.values||[];d=new Xa(m)}else"increment"in u?d=new Ku(l,u.increment):Ee();const h=Rt.fromServerFormat(u.fieldPath);return new rf(h,d)}(n,i)):[];if(e.update){e.update.name;const i=Wi(n,e.update.name),s=new Sn({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=function(d){const h=d.fieldPaths||[];return new rr(h.map(m=>Rt.fromServerFormat(m)))}(e.updateMask);return new Fs(i,s,l,t,r)}return new fc(i,s,t,r)}if(e.delete){const i=Wi(n,e.delete);return new pc(i,t)}if(e.verify){const i=Wi(n,e.verify);return new e0(i,t)}return Ee()}function w4(n,e){return n&&n.length>0?(Re(e!==void 0),n.map(t=>function(i,s){let l=i.updateTime?Wt(i.updateTime):Wt(s);return l.isEqual(Pe.min())&&(l=Wt(s)),new a4(l,i.transformResults||[])}(t,e))):[]}function D1(n,e){return{documents:[k1(n,e.path)]}}function L1(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=k1(n,i);const s=function(h){if(h.length!==0)return F1(ot.create(h,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const l=function(h){if(h.length!==0)return h.map(m=>function(_){return{field:Tu(_.field),direction:I4(_.dir)}}(m))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=Ow(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ht:t,parent:i}}function V1(n){let e=x1(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Re(r===1);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let s=[];t.where&&(s=function(g){const _=M1(g);return _ instanceof ot&&YE(_)?_.getFilters():[_]}(t.where));let l=[];t.orderBy&&(l=function(g){return g.map(_=>function(I){return new Ah(Su(I.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(_))}(t.orderBy));let u=null;t.limit&&(u=function(g){let _;return _=typeof g=="object"?g.value:g,Xh(_)?null:_}(t.limit));let d=null;t.startAt&&(d=function(g){const _=!!g.before,T=g.values||[];return new Fo(T,_)}(t.startAt));let h=null;return t.endAt&&(h=function(g){const _=!g.before,T=g.values||[];return new Fo(T,_)}(t.endAt)),l1(e,i,l,s,u,"F",d,h)}function E4(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function M1(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Su(t.unaryFilter.field);return ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Su(t.unaryFilter.field);return ze.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Su(t.unaryFilter.field);return ze.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Su(t.unaryFilter.field);return ze.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(n):n.fieldFilter!==void 0?function(t){return ze.create(Su(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ot.create(t.compositeFilter.filters.map(r=>M1(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ee()}}(t.compositeFilter.op))}(n):Ee()}function I4(n){return f4[n]}function T4(n){return p4[n]}function S4(n){return m4[n]}function Tu(n){return{fieldPath:n.canonicalString()}}function Su(n){return Rt.fromServerFormat(n.fieldPath)}function F1(n){return n instanceof ze?function(t){if(t.op==="=="){if(ZR(t.value))return{unaryFilter:{field:Tu(t.field),op:"IS_NAN"}};if(XR(t.value))return{unaryFilter:{field:Tu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(ZR(t.value))return{unaryFilter:{field:Tu(t.field),op:"IS_NOT_NAN"}};if(XR(t.value))return{unaryFilter:{field:Tu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tu(t.field),op:T4(t.op),value:t.value}}}(n):n instanceof ot?function(t){const r=t.getFilters().map(i=>F1(i));return r.length===1?r[0]:{compositeFilter:{op:S4(t.op),filters:r}}}(n):Ee()}function R4(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function U1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,t,r,i,s=Pe.min(),l=Pe.min(),u=Ft.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new Is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e){this.Tt=e}}function b4(n,e){let t;if(e.document)t=N1(n.Tt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=_e.fromSegments(e.noDocument.path),i=el(e.noDocument.readTime);t=vt.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ee();{const r=_e.fromSegments(e.unknownDocument.path),i=el(e.unknownDocument.version);t=vt.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const s=new At(i[0],i[1]);return Pe.fromTimestamp(s)}(e.readTime)),t}function gb(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:ng(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,l){return{name:Ph(s,l.key),fields:l.data.value.mapValue.fields,updateTime:Gu(s,l.version.toTimestamp()),createTime:Gu(s,l.createTime.toTimestamp())}}(n.Tt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Za(e.version)};else{if(!e.isUnknownDocument())return Ee();r.unknownDocument={path:t.path.toArray(),version:Za(e.version)}}return r}function ng(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Za(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function el(n){const e=new At(n.seconds,n.nanoseconds);return Pe.fromTimestamp(e)}function La(n,e){const t=(e.baseMutations||[]).map(s=>Lw(n.Tt,s));for(let s=0;s<e.mutations.length-1;++s){const l=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const u=e.mutations[s+1];l.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>Lw(n.Tt,s)),i=At.fromMillis(e.localWriteTimeMs);return new t0(e.batchId,i,t,r)}function Gd(n){const e=el(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?el(n.lastLimboFreeSnapshotVersion):Pe.min();let r;return r=function(s){return s.documents!==void 0}(n.query)?function(s){return Re(s.documents.length===1),zn(hc(x1(s.documents[0])))}(n.query):function(s){return zn(V1(s))}(n.query),new Is(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Ft.fromBase64String(n.resumeToken))}function j1(n,e){const t=Za(e.snapshotVersion),r=Za(e.lastLimboFreeSnapshotVersion);let i;i=Zm(e.target)?D1(n.Tt,e.target):L1(n.Tt,e.target).ht;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ya(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function o0(n){const e=V1({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?tg(e,e.limit,"L"):e}function Pv(n,e){return new r0(e.largestBatchId,Lw(n.Tt,e.overlayMutation))}function yb(n,e){const t=e.path.lastSegment();return[n,Ln(e.path.popLast()),t]}function _b(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:Za(r.readTime),documentKey:Ln(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{getBundleMetadata(e,t){return vb(e).get(t).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:el(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,t){return vb(e).put(function(i){return{bundleId:i.id,createTime:Za(Wt(i.createTime)),version:i.version}}(t))}getNamedQuery(e,t){return wb(e).get(t).next(r=>{if(r)return function(s){return{name:s.name,query:o0(s.bundledQuery),readTime:el(s.readTime)}}(r)})}saveNamedQuery(e,t){return wb(e).put(function(i){return{name:i.name,readTime:Za(Wt(i.readTime)),bundledQuery:i.bundledQuery}}(t))}}function vb(n){return ln(n,$g)}function wb(n){return ln(n,jg)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,t){this.serializer=e,this.userId=t}static It(e,t){const r=t.uid||"";return new Gg(e,r)}getOverlay(e,t){return Ed(e).get(yb(this.userId,t)).next(r=>r?Pv(this.serializer,r):null)}getOverlays(e,t){const r=Ui();return G.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((s,l)=>{const u=new r0(t,l);i.push(this.Et(e,u))}),G.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(l=>i.add(Ln(l.getCollectionPath())));const s=[];return i.forEach(l=>{const u=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);s.push(Ed(e).J(Tw,u))}),G.waitFor(s)}getOverlaysForCollection(e,t,r){const i=Ui(),s=Ln(t),l=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Ed(e).G(Tw,l).next(u=>{for(const d of u){const h=Pv(this.serializer,d);i.set(h.getKey(),h)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const s=Ui();let l;const u=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ed(e).Z({index:jk,range:u},(d,h,m)=>{const g=Pv(this.serializer,h);s.size()<i||g.largestBatchId===l?(s.set(g.getKey(),g),l=g.largestBatchId):m.done()}).next(()=>s)}Et(e,t){return Ed(e).put(function(i,s,l){const[u,d,h]=yb(s,l.mutation.key);return{userId:s,collectionPath:d,documentId:h,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:Ch(i.Tt,l.mutation)}}(this.serializer,this.userId,t))}}function Ed(n){return ln(n,Bg)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{dt(e){return ln(e,HE)}getSessionToken(e){return this.dt(e).get("sessionToken").next(t=>{const r=t==null?void 0:t.value;return r?Ft.fromUint8Array(r):Ft.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.dt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(St(e.integerValue));else if("doubleValue"in e){const r=St(e.doubleValue);isNaN(r)?this.ft(t,13):(this.ft(t,15),wh(r)?t.gt(0):t.gt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.ft(t,20),typeof r=="string"&&(r=xs(r)),t.yt(`${r.seconds||""}`),t.gt(r.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.bt(t);else if("bytesValue"in e)this.ft(t,30),t.St(Os(e.bytesValue)),this.bt(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ft(t,45),t.gt(r.latitude||0),t.gt(r.longitude||0)}else"mapValue"in e?Xk(e)?this.ft(t,Number.MAX_SAFE_INTEGER):qg(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.bt(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.bt(t)):Ee()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){const r=e.fields||{};this.ft(t,55);for(const i of Object.keys(r))this.wt(i,t),this.Rt(r[i],t)}vt(e,t){var r,i;const s=e.fields||{};this.ft(t,53);const l=zu,u=((i=(r=s[l].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.ft(t,15),t.gt(St(u)),this.wt(l,t),this.Rt(s[l],t)}Ft(e,t){const r=e.values||[];this.ft(t,50);for(const i of r)this.Rt(i,t)}Dt(e,t){this.ft(t,37),_e.fromName(e).path.forEach(r=>{this.ft(t,60),this.Mt(r,t)})}ft(e,t){e.gt(t)}bt(e){e.gt(2)}}Va.xt=new Va;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au=255;function C4(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function Eb(n){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const l=C4(255&r[s]);if(i+=l,l!==8)break}return i}(n);return Math.ceil(e/8)}class k4{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ot(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Nt(r.value),r=t.next();this.Bt()}Lt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.kt(r.value),r=t.next();this.qt()}Qt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Nt(r);else if(r<2048)this.Nt(960|r>>>6),this.Nt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Nt(480|r>>>12),this.Nt(128|63&r>>>6),this.Nt(128|63&r);else{const i=t.codePointAt(0);this.Nt(240|i>>>18),this.Nt(128|63&i>>>12),this.Nt(128|63&i>>>6),this.Nt(128|63&i)}}this.Bt()}$t(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.kt(r);else if(r<2048)this.kt(960|r>>>6),this.kt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.kt(480|r>>>12),this.kt(128|63&r>>>6),this.kt(128|63&r);else{const i=t.codePointAt(0);this.kt(240|i>>>18),this.kt(128|63&i>>>12),this.kt(128|63&i>>>6),this.kt(128|63&i)}}this.qt()}Kt(e){const t=this.Ut(e),r=Eb(t);this.Wt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Gt(e){const t=this.Ut(e),r=Eb(t);this.Wt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}zt(){this.jt(au),this.jt(255)}Ht(){this.Jt(au),this.Jt(255)}reset(){this.position=0}seed(e){this.Wt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Yt(){return this.buffer.slice(0,this.position)}Ut(e){const t=function(s){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,s,!1),new Uint8Array(l.buffer)}(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Nt(e){const t=255&e;t===0?(this.jt(0),this.jt(255)):t===au?(this.jt(au),this.jt(0)):this.jt(t)}kt(e){const t=255&e;t===0?(this.Jt(0),this.Jt(255)):t===au?(this.Jt(au),this.Jt(0)):this.Jt(e)}Bt(){this.jt(0),this.jt(1)}qt(){this.Jt(0),this.Jt(1)}jt(e){this.Wt(1),this.buffer[this.position++]=e}Jt(e){this.Wt(1),this.buffer[this.position++]=~e}Wt(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class x4{constructor(e){this.Zt=e}St(e){this.Zt.Ot(e)}yt(e){this.Zt.Qt(e)}gt(e){this.Zt.Kt(e)}Vt(){this.Zt.zt()}}class O4{constructor(e){this.Zt=e}St(e){this.Zt.Lt(e)}yt(e){this.Zt.$t(e)}gt(e){this.Zt.Gt(e)}Vt(){this.Zt.Ht()}}class Id{constructor(){this.Zt=new k4,this.Xt=new x4(this.Zt),this.en=new O4(this.Zt)}seed(e){this.Zt.seed(e)}tn(e){return e===0?this.Xt:this.en}Yt(){return this.Zt.Yt()}reset(){this.Zt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}nn(){const e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ma(this.indexId,this.documentKey,this.arrayValue,r)}}function po(n,e){let t=n.indexId-e.indexId;return t!==0?t:(t=Ib(n.arrayValue,e.arrayValue),t!==0?t:(t=Ib(n.directionalValue,e.directionalValue),t!==0?t:_e.comparator(n.documentKey,e.documentKey)))}function Ib(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e){this.rn=new at((t,r)=>Rt.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.sn=e.orderBy,this._n=[];for(const t of e.filters){const r=t;r.isInequality()?this.rn=this.rn.add(r):this._n.push(r)}}get an(){return this.rn.size>1}un(e){if(Re(e.collectionGroup===this.collectionId),this.an)return!1;const t=ww(e);if(t!==void 0&&!this.cn(t))return!1;const r=Oa(e);let i=new Set,s=0,l=0;for(;s<r.length&&this.cn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.rn.size>0){const u=this.rn.getIterator().getNext();if(!i.has(u.field.canonicalString())){const d=r[s];if(!this.ln(u,d)||!this.hn(this.sn[l++],d))return!1}++s}for(;s<r.length;++s){const u=r[s];if(l>=this.sn.length||!this.hn(this.sn[l++],u))return!1}return!0}Pn(){if(this.an)return null;let e=new at(Rt.comparator);const t=[];for(const r of this._n)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new pm(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new pm(r.field,0))}for(const r of this.sn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new pm(r.field,r.dir==="asc"?0:1)));return new Km(Km.UNKNOWN_ID,this.collectionId,t,vh.empty())}cn(e){for(const t of this._n)if(this.ln(t,e))return!0;return!1}ln(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}hn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(n){var e,t;if(Re(n instanceof ze||n instanceof ot),n instanceof ze){if(n instanceof a1){const i=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(s=>ze.create(n.field,"==",s)))||[];return ot.create(i,"or")}return n}const r=n.filters.map(i=>B1(i));return ot.create(r,n.op)}function N4(n){if(n.getFilters().length===0)return[];const e=Fw(B1(n));return Re(z1(e)),Vw(e)||Mw(e)?[e]:e.getFilters()}function Vw(n){return n instanceof ze}function Mw(n){return n instanceof ot&&YE(n)}function z1(n){return Vw(n)||Mw(n)||function(t){if(t instanceof ot&&Pw(t)){for(const r of t.getFilters())if(!Vw(r)&&!Mw(r))return!1;return!0}return!1}(n)}function Fw(n){if(Re(n instanceof ze||n instanceof ot),n instanceof ze)return n;if(n.filters.length===1)return Fw(n.filters[0]);const e=n.filters.map(r=>Fw(r));let t=ot.create(e,n.op);return t=rg(t),z1(t)?t:(Re(t instanceof ot),Re(qu(t)),Re(t.filters.length>1),t.filters.reduce((r,i)=>a0(r,i)))}function a0(n,e){let t;return Re(n instanceof ze||n instanceof ot),Re(e instanceof ze||e instanceof ot),t=n instanceof ze?e instanceof ze?function(i,s){return ot.create([i,s],"and")}(n,e):Sb(n,e):e instanceof ze?Sb(e,n):function(i,s){if(Re(i.filters.length>0&&s.filters.length>0),qu(i)&&qu(s))return i1(i,s.getFilters());const l=Pw(i)?i:s,u=Pw(i)?s:i,d=l.filters.map(h=>a0(h,u));return ot.create(d,"or")}(n,e),rg(t)}function Sb(n,e){if(qu(e))return i1(e,n.getFilters());{const t=e.filters.map(r=>a0(n,r));return ot.create(t,"or")}}function rg(n){if(Re(n instanceof ze||n instanceof ot),n instanceof ze)return n;const e=n.getFilters();if(e.length===1)return rg(e[0]);if(n1(n))return n;const t=e.map(i=>rg(i)),r=[];return t.forEach(i=>{i instanceof ze?r.push(i):i instanceof ot&&(i.op===n.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:ot.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(){this.Tn=new l0}addToCollectionParentIndex(e,t){return this.Tn.add(t),G.resolve()}getCollectionParents(e,t){return G.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return G.resolve()}deleteFieldIndex(e,t){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,t){return G.resolve()}getDocumentsMatchingTarget(e,t){return G.resolve(null)}getIndexType(e,t){return G.resolve(0)}getFieldIndexes(e,t){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,t){return G.resolve(Rr.min())}getMinOffsetFromCollectionGroup(e,t){return G.resolve(Rr.min())}updateCollectionGroup(e,t,r){return G.resolve()}updateIndexEntries(e,t){return G.resolve()}}class l0{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new at(Be.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new at(Be.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="IndexedDbIndexManager",Gp=new Uint8Array(0);class L4{constructor(e,t){this.databaseId=t,this.In=new l0,this.En=new Ms(r=>Ya(r),(r,i)=>ef(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.In.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.In.add(t)});const s={collectionId:r,parent:Ln(i)};return bb(e).put(s)}return G.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[Ck(t),""],!1,!0);return bb(e).G(i).next(s=>{for(const l of s){if(l.collectionId!==t)break;r.push(Fi(l.parent))}return r})}addFieldIndex(e,t){const r=Td(e),i=function(u){return{indexId:u.indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])}}(t);delete i.indexId;const s=r.add(i);if(t.indexState){const l=uu(e);return s.next(u=>{l.put(_b(u,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const r=Td(e),i=uu(e),s=lu(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=Td(e),r=lu(e),i=uu(e);return t.J().next(()=>r.J()).next(()=>i.J())}createTargetIndexes(e,t){return G.forEach(this.dn(t),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new Tb(r).Pn();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,t){const r=lu(e);let i=!0;const s=new Map;return G.forEach(this.dn(t),l=>this.An(e,l).next(u=>{i&&(i=!!u),s.set(l,u)})).next(()=>{if(i){let l=Fe();const u=[];return G.forEach(s,(d,h)=>{ue(Rb,`Using index ${function(M){return`id=${M.indexId}|cg=${M.collectionGroup}|f=${M.fields.map(z=>`${z.fieldPath}:${z.kind}`).join(",")}`}(d)} to execute ${Ya(t)}`);const m=function(M,z){const j=ww(z);if(j===void 0)return null;for(const q of eg(M,j.fieldPath))switch(q.op){case"array-contains-any":return q.value.arrayValue.values||[];case"array-contains":return[q.value]}return null}(h,d),g=function(M,z){const j=new Map;for(const q of Oa(z))for(const D of eg(M,q.fieldPath))switch(D.op){case"==":case"in":j.set(q.fieldPath.canonicalString(),D.value);break;case"not-in":case"!=":return j.set(q.fieldPath.canonicalString(),D.value),Array.from(j.values())}return null}(h,d),_=function(M,z){const j=[];let q=!0;for(const D of Oa(z)){const b=D.kind===0?ib(M,D.fieldPath,M.startAt):sb(M,D.fieldPath,M.startAt);j.push(b.value),q&&(q=b.inclusive)}return new Fo(j,q)}(h,d),T=function(M,z){const j=[];let q=!0;for(const D of Oa(z)){const b=D.kind===0?sb(M,D.fieldPath,M.endAt):ib(M,D.fieldPath,M.endAt);j.push(b.value),q&&(q=b.inclusive)}return new Fo(j,q)}(h,d),I=this.Rn(d,h,_),R=this.Rn(d,h,T),A=this.Vn(d,h,g),V=this.mn(d.indexId,m,I,_.inclusive,R,T.inclusive,A);return G.forEach(V,L=>r.H(L,t.limit).next(M=>{M.forEach(z=>{const j=_e.fromSegments(z.documentKey);l.has(j)||(l=l.add(j),u.push(j))})}))}).next(()=>u)}return G.resolve(null)})}dn(e){let t=this.En.get(e);return t||(e.filters.length===0?t=[e]:t=N4(ot.create(e.filters,"and")).map(r=>kw(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.En.set(e,t),t)}mn(e,t,r,i,s,l,u){const d=(t!=null?t.length:1)*Math.max(r.length,s.length),h=d/(t!=null?t.length:1),m=[];for(let g=0;g<d;++g){const _=t?this.fn(t[g/h]):Gp,T=this.gn(e,_,r[g%h],i),I=this.pn(e,_,s[g%h],l),R=u.map(A=>this.gn(e,_,A,!0));m.push(...this.createRange(T,I,R))}return m}gn(e,t,r,i){const s=new Ma(e,_e.empty(),t,r);return i?s:s.nn()}pn(e,t,r,i){const s=new Ma(e,_e.empty(),t,r);return i?s.nn():s}An(e,t){const r=new Tb(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let l=null;for(const u of s)r.un(u)&&(!l||u.fields.length>l.fields.length)&&(l=u);return l})}getIndexType(e,t){let r=2;const i=this.dn(t);return G.forEach(i,s=>this.An(e,s).next(l=>{l?r!==0&&l.fields.length<function(d){let h=new at(Rt.comparator),m=!1;for(const g of d.filters)for(const _ of g.getFlattenedFilters())_.field.isKeyField()||(_.op==="array-contains"||_.op==="array-contains-any"?m=!0:h=h.add(_.field));for(const g of d.orderBy)g.field.isKeyField()||(h=h.add(g.field));return h.size+(m?1:0)}(s)&&(r=1):r=0})).next(()=>function(l){return l.limit!==null}(t)&&i.length>1&&r===2?1:r)}yn(e,t){const r=new Id;for(const i of Oa(e)){const s=t.data.field(i.fieldPath);if(s==null)return null;const l=r.tn(i.kind);Va.xt.At(s,l)}return r.Yt()}fn(e){const t=new Id;return Va.xt.At(e,t.tn(0)),t.Yt()}wn(e,t){const r=new Id;return Va.xt.At(Qa(this.databaseId,t),r.tn(function(s){const l=Oa(s);return l.length===0?0:l[l.length-1].kind}(e))),r.Yt()}Vn(e,t,r){if(r===null)return[];let i=[];i.push(new Id);let s=0;for(const l of Oa(e)){const u=r[s++];for(const d of i)if(this.bn(t,l.fieldPath)&&bh(u))i=this.Sn(i,l,u);else{const h=d.tn(l.kind);Va.xt.At(u,h)}}return this.Dn(i)}Rn(e,t,r){return this.Vn(e,t,r.position)}Dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Yt();return t}Sn(e,t,r){const i=[...e],s=[];for(const l of r.arrayValue.values||[])for(const u of i){const d=new Id;d.seed(u.Yt()),Va.xt.At(l,d.tn(t.kind)),s.push(d)}return s}bn(e,t){return!!e.filters.find(r=>r instanceof ze&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){const r=Td(e),i=uu(e);return(t?r.G(Iw,IDBKeyRange.bound(t,t)):r.G()).next(s=>{const l=[];return G.forEach(s,u=>i.get([u.indexId,this.uid]).next(d=>{l.push(function(m,g){const _=g?new vh(g.sequenceNumber,new Rr(el(g.readTime),new _e(Fi(g.documentKey)),g.largestBatchId)):vh.empty(),T=m.fields.map(([I,R])=>new pm(Rt.fromServerFormat(I),R));return new Km(m.indexId,m.collectionGroup,T,_)}(u,d))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Le(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Td(e),s=uu(e);return this.vn(e).next(l=>i.G(Iw,IDBKeyRange.bound(t,t)).next(u=>G.forEach(u,d=>s.put(_b(d.indexId,this.uid,l,r)))))}updateIndexEntries(e,t){const r=new Map;return G.forEach(t,(i,s)=>{const l=r.get(i.collectionGroup);return(l?G.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next(u=>(r.set(i.collectionGroup,u),G.forEach(u,d=>this.Cn(e,i,d).next(h=>{const m=this.Fn(s,d);return h.isEqual(m)?G.resolve():this.Mn(e,s,d,h,m)}))))})}xn(e,t,r,i){return lu(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.wn(r,t.key),documentKey:t.key.path.toArray()})}On(e,t,r,i){return lu(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.wn(r,t.key),t.key.path.toArray()])}Cn(e,t,r){const i=lu(e);let s=new at(po);return i.Z({index:$k,range:IDBKeyRange.only([r.indexId,this.uid,this.wn(r,t)])},(l,u)=>{s=s.add(new Ma(r.indexId,t,u.arrayValue,u.directionalValue))}).next(()=>s)}Fn(e,t){let r=new at(po);const i=this.yn(t,e);if(i==null)return r;const s=ww(t);if(s!=null){const l=e.data.field(s.fieldPath);if(bh(l))for(const u of l.arrayValue.values||[])r=r.add(new Ma(t.indexId,e.key,this.fn(u),i))}else r=r.add(new Ma(t.indexId,e.key,Gp,i));return r}Mn(e,t,r,i,s){ue(Rb,"Updating index entries for document '%s'",t.key);const l=[];return function(d,h,m,g,_){const T=d.getIterator(),I=h.getIterator();let R=ou(T),A=ou(I);for(;R||A;){let V=!1,L=!1;if(R&&A){const M=m(R,A);M<0?L=!0:M>0&&(V=!0)}else R!=null?L=!0:V=!0;V?(g(A),A=ou(I)):L?(_(R),R=ou(T)):(R=ou(T),A=ou(I))}}(i,s,po,u=>{l.push(this.xn(e,t,r,u))},u=>{l.push(this.On(e,t,r,u))}),G.waitFor(l)}vn(e){let t=1;return uu(e).Z({index:Uk,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,u)=>po(l,u)).filter((l,u,d)=>!u||po(l,d[u-1])!==0);const i=[];i.push(e);for(const l of r){const u=po(l,e),d=po(l,t);if(u===0)i[0]=e.nn();else if(u>0&&d<0)i.push(l),i.push(l.nn());else if(d>0)break}i.push(t);const s=[];for(let l=0;l<i.length;l+=2){if(this.Nn(i[l],i[l+1]))return[];const u=[i[l].indexId,this.uid,i[l].arrayValue,i[l].directionalValue,Gp,[]],d=[i[l+1].indexId,this.uid,i[l+1].arrayValue,i[l+1].directionalValue,Gp,[]];s.push(IDBKeyRange.bound(u,d))}return s}Nn(e,t){return po(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Ab)}getMinOffset(e,t){return G.mapArray(this.dn(t),r=>this.An(e,r).next(i=>i||Ee())).next(Ab)}}function bb(n){return ln(n,Th)}function lu(n){return ln(n,Xm)}function Td(n){return ln(n,qE)}function uu(n){return ln(n,Jm)}function Ab(n){Re(n.length!==0);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;BE(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Rr(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},W1=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(n,e,t){const r=n.store(li),i=n.store(Uu),s=[],l=IDBKeyRange.only(t.batchId);let u=0;const d=r.Z({range:l},(m,g,_)=>(u++,_.delete()));s.push(d.next(()=>{Re(u===1)}));const h=[];for(const m of t.mutations){const g=Vk(e,m.key.path,t.batchId);s.push(i.delete(g)),h.push(m.key)}return G.waitFor(s).next(()=>h)}function ig(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ee();e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(W1,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);class Qg{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Bn={}}static It(e,t,r,i){Re(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new Qg(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return mo(e).Z({index:Ua,range:r},(i,s,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const s=Ru(e),l=mo(e);return l.add({}).next(u=>{Re(typeof u=="number");const d=new t0(u,t,r,i),h=function(T,I,R){const A=R.baseMutations.map(L=>Ch(T.Tt,L)),V=R.mutations.map(L=>Ch(T.Tt,L));return{userId:I,batchId:R.batchId,localWriteTimeMs:R.localWriteTime.toMillis(),baseMutations:A,mutations:V}}(this.serializer,this.userId,d),m=[];let g=new at((_,T)=>Le(_.canonicalString(),T.canonicalString()));for(const _ of i){const T=Vk(this.userId,_.key.path,u);g=g.add(_.key.path.popLast()),m.push(l.put(h)),m.push(s.put(T,mj))}return g.forEach(_=>{m.push(this.indexManager.addToCollectionParentIndex(e,_))}),e.addOnCommittedListener(()=>{this.Bn[u]=d.keys()}),G.waitFor(m).next(()=>d)})}lookupMutationBatch(e,t){return mo(e).get(t).next(r=>r?(Re(r.userId===this.userId),La(this.serializer,r)):null)}Ln(e,t){return this.Bn[t]?G.resolve(this.Bn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Bn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return mo(e).Z({index:Ua,range:i},(l,u,d)=>{u.userId===this.userId&&(Re(u.batchId>=r),s=La(this.serializer,u)),d.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Ao;return mo(e).Z({index:Ua,range:t,reverse:!0},(i,s,l)=>{r=s.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,Ao],[this.userId,Number.POSITIVE_INFINITY]);return mo(e).G(Ua,t).next(r=>r.map(i=>La(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=mm(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return Ru(e).Z({range:i},(l,u,d)=>{const[h,m,g]=l,_=Fi(m);if(h===this.userId&&t.path.isEqual(_))return mo(e).get(g).next(T=>{if(!T)throw Ee();Re(T.userId===this.userId),s.push(La(this.serializer,T))});d.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new at(Le);const i=[];return t.forEach(s=>{const l=mm(this.userId,s.path),u=IDBKeyRange.lowerBound(l),d=Ru(e).Z({range:u},(h,m,g)=>{const[_,T,I]=h,R=Fi(T);_===this.userId&&s.path.isEqual(R)?r=r.add(I):g.done()});i.push(d)}),G.waitFor(i).next(()=>this.kn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=mm(this.userId,r),l=IDBKeyRange.lowerBound(s);let u=new at(Le);return Ru(e).Z({range:l},(d,h,m)=>{const[g,_,T]=d,I=Fi(_);g===this.userId&&r.isPrefixOf(I)?I.length===i&&(u=u.add(T)):m.done()}).next(()=>this.kn(e,u))}kn(e,t){const r=[],i=[];return t.forEach(s=>{i.push(mo(e).get(s).next(l=>{if(l===null)throw Ee();Re(l.userId===this.userId),r.push(La(this.serializer,l))}))}),G.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return q1(e.ue,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.qn(t.batchId)}),G.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}qn(e){delete this.Bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return G.resolve();const r=IDBKeyRange.lowerBound(function(l){return[l]}(this.userId)),i=[];return Ru(e).Z({range:r},(s,l,u)=>{if(s[0]===this.userId){const d=Fi(s[1]);i.push(d)}else u.done()}).next(()=>{Re(i.length===0)})})}containsKey(e,t){return H1(e,this.userId,t)}Qn(e){return K1(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:Ao,lastStreamToken:""})}}function H1(n,e,t){const r=mm(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let l=!1;return Ru(n).Z({range:s,Y:!0},(u,d,h)=>{const[m,g,_]=u;m===e&&g===i&&(l=!0),h.done()}).next(()=>l)}function mo(n){return ln(n,li)}function Ru(n){return ln(n,Uu)}function K1(n){return ln(n,Eh)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new tl(0)}static Un(){return new tl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Wn(e).next(t=>{const r=new tl(t.highestTargetId);return t.highestTargetId=r.next(),this.Gn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Wn(e).next(t=>Pe.fromTimestamp(new At(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Wn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Wn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Gn(e,i)))}addTargetData(e,t){return this.zn(e,t).next(()=>this.Wn(e).next(r=>(r.targetCount+=1,this.jn(t,r),this.Gn(e,r))))}updateTargetData(e,t){return this.zn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>cu(e).delete(t.targetId)).next(()=>this.Wn(e)).next(r=>(Re(r.targetCount>0),r.targetCount-=1,this.Gn(e,r)))}removeTargets(e,t,r){let i=0;const s=[];return cu(e).Z((l,u)=>{const d=Gd(u);d.sequenceNumber<=t&&r.get(d.targetId)===null&&(i++,s.push(this.removeTargetData(e,d)))}).next(()=>G.waitFor(s)).next(()=>i)}forEachTarget(e,t){return cu(e).Z((r,i)=>{const s=Gd(i);t(s)})}Wn(e){return Cb(e).get(Ym).next(t=>(Re(t!==null),t))}Gn(e,t){return Cb(e).put(Ym,t)}zn(e,t){return cu(e).put(j1(this.serializer,t))}jn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Wn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Ya(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return cu(e).Z({range:i,index:Fk},(l,u,d)=>{const h=Gd(u);ef(t,h.target)&&(s=h,d.done())}).next(()=>s)}addMatchingKeys(e,t,r){const i=[],s=Eo(e);return t.forEach(l=>{const u=Ln(l.path);i.push(s.put({targetId:r,path:u})),i.push(this.referenceDelegate.addReference(e,r,l))}),G.waitFor(i)}removeMatchingKeys(e,t,r){const i=Eo(e);return G.forEach(t,s=>{const l=Ln(s.path);return G.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){const r=Eo(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Eo(e);let s=Fe();return i.Z({range:r,Y:!0},(l,u,d)=>{const h=Fi(l[1]),m=new _e(h);s=s.add(m)}).next(()=>s)}containsKey(e,t){const r=Ln(t.path),i=IDBKeyRange.bound([r],[Ck(r)],!1,!0);let s=0;return Eo(e).Z({index:WE,Y:!0,range:i},([l,u],d,h)=>{l!==0&&(s++,h.done())}).next(()=>s>0)}lt(e,t){return cu(e).get(t).next(r=>r?Gd(r):null)}}function cu(n){return ln(n,$u)}function Cb(n){return ln(n,qa)}function Eo(n){return ln(n,ju)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="LruGarbageCollector",M4=1048576;function xb([n,e],[t,r]){const i=Le(n,t);return i===0?Le(e,r):i}class F4{constructor(e){this.Hn=e,this.buffer=new at(xb),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();xb(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class G1{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ue(kb,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Jo(t)?ue(kb,"Ignoring IndexedDB error during garbage collection: ",t):await Yo(t)}await this.er(3e5)})}}class U4{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return G.resolve(nr.ae);const r=new F4(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(Pb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Pb):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,s,l,u,d,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,l=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,u=Date.now(),this.removeTargets(e,r,t))).next(g=>(s=g,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(h=Date.now(),Eu()<=Ue.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${s} targets in `+(d-u)+`ms
	Removed ${g} documents in `+(h-d)+`ms
Total Duration: ${h-m}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g})))}}function Q1(n,e){return new U4(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e,t){this.db=e,this.garbageCollector=Q1(this,t)}nr(e){const t=this.sr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}rr(e,t){return this._r(e,(r,i)=>t(i))}addReference(e,t,r){return Qp(e,r)}removeReference(e,t,r){return Qp(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Qp(e,t)}ar(e,t){return function(i,s){let l=!1;return K1(i).X(u=>H1(i,u,s).next(d=>(d&&(l=!0),G.resolve(!d)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this._r(e,(l,u)=>{if(u<=t){const d=this.ar(e,l).next(h=>{if(!h)return s++,r.getEntry(e,l).next(()=>(r.removeEntry(l,Pe.min()),Eo(e).delete(function(g){return[0,Ln(g.path)]}(l))))});i.push(d)}}).next(()=>G.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Qp(e,t)}_r(e,t){const r=Eo(e);let i,s=nr.ae;return r.Z({index:WE},([l,u],{path:d,sequenceNumber:h})=>{l===0?(s!==nr.ae&&t(new _e(Fi(i)),s),s=h,i=d):s=nr.ae}).next(()=>{s!==nr.ae&&t(new _e(Fi(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Qp(n,e){return Eo(n).put(function(r,i){return{targetId:0,path:Ln(r.path),sequenceNumber:i}}(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(){this.changes=new Ms(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?G.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Ca(e).put(r)}removeEntry(e,t,r){return Ca(e).delete(function(s,l){const u=s.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],ng(l),u[u.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.ur(e,r)))}getEntry(e,t){let r=vt.newInvalidDocument(t);return Ca(e).Z({index:gm,range:IDBKeyRange.only(Sd(t))},(i,s)=>{r=this.cr(t,s)}).next(()=>r)}lr(e,t){let r={size:0,document:vt.newInvalidDocument(t)};return Ca(e).Z({index:gm,range:IDBKeyRange.only(Sd(t))},(i,s)=>{r={document:this.cr(t,s),size:ig(s)}}).next(()=>r)}getEntries(e,t){let r=ir();return this.hr(e,t,(i,s)=>{const l=this.cr(i,s);r=r.insert(i,l)}).next(()=>r)}Pr(e,t){let r=ir(),i=new mt(_e.comparator);return this.hr(e,t,(s,l)=>{const u=this.cr(s,l);r=r.insert(s,u),i=i.insert(s,ig(l))}).next(()=>({documents:r,Tr:i}))}hr(e,t,r){if(t.isEmpty())return G.resolve();let i=new at(Db);t.forEach(d=>i=i.add(d));const s=IDBKeyRange.bound(Sd(i.first()),Sd(i.last())),l=i.getIterator();let u=l.getNext();return Ca(e).Z({index:gm,range:s},(d,h,m)=>{const g=_e.fromSegments([...h.prefixPath,h.collectionGroup,h.documentId]);for(;u&&Db(u,g)<0;)r(u,null),u=l.getNext();u&&u.isEqual(g)&&(r(u,h),u=l.hasNext()?l.getNext():null),u?m.W(Sd(u)):m.done()}).next(()=>{for(;u;)r(u,null),u=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,s){const l=t.path,u=[l.popLast().toArray(),l.lastSegment(),ng(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ca(e).G(IDBKeyRange.bound(u,d,!0)).next(h=>{s==null||s.incrementDocumentReadCount(h.length);let m=ir();for(const g of h){const _=this.cr(_e.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);_.isFoundDocument()&&(nf(t,_)||i.has(_.key))&&(m=m.insert(_.key,_))}return m})}getAllFromCollectionGroup(e,t,r,i){let s=ir();const l=Nb(t,r),u=Nb(t,Rr.max());return Ca(e).Z({index:Mk,range:IDBKeyRange.bound(l,u,!0)},(d,h,m)=>{const g=this.cr(_e.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);s=s.insert(g.key,g),s.size===i&&m.done()}).next(()=>s)}newChangeBuffer(e){return new B4(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Ob(e).get(Ew).next(t=>(Re(!!t),t))}ur(e,t){return Ob(e).put(Ew,t)}cr(e,t){if(t){const r=b4(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Pe.min())))return r}return vt.newInvalidDocument(e)}}function J1(n){return new j4(n)}class B4 extends Y1{constructor(e,t){super(),this.Ir=e,this.trackRemovals=t,this.Er=new Ms(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new at((s,l)=>Le(s.canonicalString(),l.canonicalString()));return this.changes.forEach((s,l)=>{const u=this.Er.get(s);if(t.push(this.Ir.removeEntry(e,s,u.readTime)),l.isValidDocument()){const d=gb(this.Ir.serializer,l);i=i.add(s.path.popLast());const h=ig(d);r+=h-u.size,t.push(this.Ir.addEntry(e,s,d))}else if(r-=u.size,this.trackRemovals){const d=gb(this.Ir.serializer,l.convertToNoDocument(Pe.min()));t.push(this.Ir.addEntry(e,s,d))}}),i.forEach(s=>{t.push(this.Ir.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.Ir.updateMetadata(e,r)),G.waitFor(t)}getFromCache(e,t){return this.Ir.lr(e,t).next(r=>(this.Er.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Ir.Pr(e,t).next(({documents:r,Tr:i})=>(i.forEach((s,l)=>{this.Er.set(s,{size:l,readTime:r.get(s).readTime})}),r))}}function Ob(n){return ln(n,Ih)}function Ca(n){return ln(n,Qm)}function Sd(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Nb(n,e){const t=e.documentKey.path.toArray();return[n,ng(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Db(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=Le(t[s],r[s]),i)return i;return i=Le(t.length,r.length),i||(i=Le(t[t.length-2],r[r.length-2]),i||Le(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&ih(r.mutation,i,rr.empty(),At.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Fe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Fe()){const i=Ui();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let l=Hd();return s.forEach((u,d)=>{l=l.insert(u,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Ui();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Fe()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,r,i){let s=ir();const l=rh(),u=function(){return rh()}();return t.forEach((d,h)=>{const m=r.get(h.key);i.has(h.key)&&(m===void 0||m.mutation instanceof Fs)?s=s.insert(h.key,h):m!==void 0?(l.set(h.key,m.mutation.getFieldMask()),ih(m.mutation,h,m.mutation.getFieldMask(),At.now())):l.set(h.key,rr.empty())}),this.recalculateAndSaveOverlays(e,s).next(d=>(d.forEach((h,m)=>l.set(h,m)),t.forEach((h,m)=>{var g;return u.set(h,new z4(m,(g=l.get(h))!==null&&g!==void 0?g:null))}),u))}recalculateAndSaveOverlays(e,t){const r=rh();let i=new mt((l,u)=>l-u),s=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(d=>{const h=t.get(d);if(h===null)return;let m=r.get(d)||rr.empty();m=u.applyToLocalView(h,m),r.set(d,m);const g=(i.get(u.batchId)||Fe()).add(d);i=i.insert(u.batchId,g)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),h=d.key,m=d.value,g=p1();m.forEach(_=>{if(!s.has(_)){const T=E1(t.get(_),r.get(_));T!==null&&g.set(_,T),s=s.add(_)}}),l.push(this.documentOverlayCache.saveOverlays(e,h,g))}return G.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return _e.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):JE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):G.resolve(Ui());let u=Fu,d=s;return l.next(h=>G.forEach(h,(m,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),s.get(m)?G.resolve():this.remoteDocumentCache.getEntry(e,m).next(_=>{d=d.insert(m,_)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,d,h,Fe())).next(m=>({batchId:u,changes:f1(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(r=>{let i=Hd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let l=Hd();return this.indexManager.getCollectionParents(e,s).next(u=>G.forEach(u,d=>{const h=function(g,_){return new Vs(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,d.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(m=>{m.forEach((g,_)=>{l=l.insert(g,_)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(l=>{s.forEach((d,h)=>{const m=h.getKey();l.get(m)===null&&(l=l.insert(m,vt.newInvalidDocument(m)))});let u=Hd();return l.forEach((d,h)=>{const m=s.get(d);m!==void 0&&ih(m.mutation,h,rr.empty(),At.now()),nf(t,h)&&(u=u.insert(d,h))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return G.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Wt(i.createTime)}}(t)),G.resolve()}getNamedQuery(e,t){return G.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:o0(i.bundledQuery),readTime:Wt(i.readTime)}}(t)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(){this.overlays=new mt(_e.comparator),this.Rr=new Map}getOverlay(e,t){return G.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ui();return G.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.Et(e,t,s)}),G.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(r)),G.resolve()}getOverlaysForCollection(e,t,r){const i=Ui(),s=t.length+1,l=new _e(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,h=d.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===s&&d.largestBatchId>r&&i.set(d.getKey(),d)}return G.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new mt((h,m)=>h-m);const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let m=s.get(h.largestBatchId);m===null&&(m=Ui(),s=s.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const u=Ui(),d=s.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((h,m)=>u.set(h,m)),!(u.size()>=i)););return G.resolve(u)}Et(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new r0(t,r));let s=this.Rr.get(t);s===void 0&&(s=Fe(),this.Rr.set(t,s)),this.Rr.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(){this.Vr=new at(pn.mr),this.gr=new at(pn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new pn(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new pn(e,t))}br(e,t){e.forEach(r=>this.removeReference(r,t))}Sr(e){const t=new _e(new Be([])),r=new pn(t,e),i=new pn(t,e+1),s=[];return this.gr.forEachInRange([r,i],l=>{this.wr(l),s.push(l.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new _e(new Be([])),r=new pn(t,e),i=new pn(t,e+1);let s=Fe();return this.gr.forEachInRange([r,i],l=>{s=s.add(l.key)}),s}containsKey(e){const t=new pn(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class pn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return _e.comparator(e.key,t.key)||Le(e.Cr,t.Cr)}static pr(e,t){return Le(e.Cr,t.Cr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new at(pn.mr)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new t0(s,t,r,i);this.mutationQueue.push(l);for(const u of i)this.Mr=this.Mr.add(new pn(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return G.resolve(l)}lookupMutationBatch(e,t){return G.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Nr(r),s=i<0?0:i;return G.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?Ao:this.Fr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new pn(t,0),i=new pn(t,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([r,i],l=>{const u=this.Or(l.Cr);s.push(u)}),G.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new at(Le);return t.forEach(i=>{const s=new pn(i,0),l=new pn(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,l],u=>{r=r.add(u.Cr)})}),G.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;_e.isDocumentKey(s)||(s=s.child(""));const l=new pn(new _e(s),0);let u=new at(Le);return this.Mr.forEachWhile(d=>{const h=d.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(d.Cr)),!0)},l),G.resolve(this.Br(u))}Br(e){const t=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Re(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return G.forEach(t.mutations,i=>{const s=new pn(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new pn(t,0),i=this.Mr.firstAfterOrEqual(r);return G.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e){this.kr=e,this.docs=function(){return new mt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,l=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return G.resolve(r?r.document.mutableCopy():vt.newInvalidDocument(t))}getEntries(e,t){let r=ir();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():vt.newInvalidDocument(i))}),G.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=ir();const l=t.path,u=new _e(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:h,value:{document:m}}=d.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||BE(xk(m),r)<=0||(i.has(m.key)||nf(t,m))&&(s=s.insert(m.key,m.mutableCopy()))}return G.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Ee()}qr(e,t){return G.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Q4(this)}getSize(e){return G.resolve(this.size)}}class Q4 extends Y1{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),G.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e){this.persistence=e,this.Qr=new Ms(t=>Ya(t),ef),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.$r=0,this.Kr=new u0,this.targetCount=0,this.Ur=tl.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),G.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new tl(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,G.resolve()}updateTargetData(e,t){return this.zn(t),G.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Qr.forEach((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.Qr.delete(l),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),G.waitFor(s).next(()=>i)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return G.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),G.resolve()}removeMatchingKeys(e,t,r){this.Kr.br(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(l=>{s.push(i.markPotentiallyOrphaned(e,l))}),G.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),G.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return G.resolve(r)}containsKey(e,t){return G.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new nr(0),this.zr=!1,this.zr=!0,this.jr=new H4,this.referenceDelegate=e(this),this.Hr=new Y4(this),this.indexManager=new D4,this.remoteDocumentCache=function(i){return new G4(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new $1(t),this.Yr=new W4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new q4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new K4(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){ue("MemoryPersistence","Starting transaction:",e);const i=new J4(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(s=>this.referenceDelegate.Xr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}ei(e,t){return G.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class J4 extends Nk{constructor(e){super(),this.currentSequenceNumber=e}}class Yg{constructor(e){this.persistence=e,this.ti=new u0,this.ni=null}static ri(e){return new Yg(e)}get ii(){if(this.ni)return this.ni;throw Ee()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),G.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),G.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),G.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.ii.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.ii,r=>{const i=_e.fromPath(r);return this.si(e,i).next(s=>{s||t.removeEntry(i,Pe.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return G.or([()=>G.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class sg{constructor(e,t){this.persistence=e,this.oi=new Ms(r=>Ln(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Q1(this,t)}static ri(e,t){return new sg(e,t)}Zr(){}Xr(e){return G.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return G.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(s=>s?G.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.qr(e,l=>this.ar(e,l,t).next(u=>{u||(r++,s.removeEntry(l,Pe.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),G.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),G.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),G.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=_m(e.data.value)),t}ar(e,t,r){return G.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return G.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e){this.serializer=e}B(e,t,r,i){const s=new Ug("createOrUpgrade",t);r<1&&i>=1&&(function(d){d.createObjectStore(Zh)}(e),function(d){d.createObjectStore(Eh,{keyPath:pj}),d.createObjectStore(li,{keyPath:HR,autoIncrement:!0}).createIndex(Ua,KR,{unique:!0}),d.createObjectStore(Uu)}(e),Lb(e),function(d){d.createObjectStore(Na)}(e));let l=G.resolve();return r<3&&i>=3&&(r!==0&&(function(d){d.deleteObjectStore(ju),d.deleteObjectStore($u),d.deleteObjectStore(qa)}(e),Lb(e)),l=l.next(()=>function(d){const h=d.store(qa),m={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Pe.min().toTimestamp(),targetCount:0};return h.put(Ym,m)}(s))),r<4&&i>=4&&(r!==0&&(l=l.next(()=>function(d,h){return h.store(li).G().next(g=>{d.deleteObjectStore(li),d.createObjectStore(li,{keyPath:HR,autoIncrement:!0}).createIndex(Ua,KR,{unique:!0});const _=h.store(li),T=g.map(I=>_.put(I));return G.waitFor(T)})}(e,s))),l=l.next(()=>{(function(d){d.createObjectStore(Bu,{keyPath:Tj})})(e)})),r<5&&i>=5&&(l=l.next(()=>this._i(s))),r<6&&i>=6&&(l=l.next(()=>(function(d){d.createObjectStore(Ih)}(e),this.ai(s)))),r<7&&i>=7&&(l=l.next(()=>this.ui(s))),r<8&&i>=8&&(l=l.next(()=>this.ci(e,s))),r<9&&i>=9&&(l=l.next(()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(l=l.next(()=>this.li(s))),r<11&&i>=11&&(l=l.next(()=>{(function(d){d.createObjectStore($g,{keyPath:Sj})})(e),function(d){d.createObjectStore(jg,{keyPath:Rj})}(e)})),r<12&&i>=12&&(l=l.next(()=>{(function(d){const h=d.createObjectStore(Bg,{keyPath:Oj});h.createIndex(Tw,Nj,{unique:!1}),h.createIndex(jk,Dj,{unique:!1})})(e)})),r<13&&i>=13&&(l=l.next(()=>function(d){const h=d.createObjectStore(Qm,{keyPath:gj});h.createIndex(gm,yj),h.createIndex(Mk,_j)}(e)).next(()=>this.hi(e,s)).next(()=>e.deleteObjectStore(Na))),r<14&&i>=14&&(l=l.next(()=>this.Pi(e,s))),r<15&&i>=15&&(l=l.next(()=>function(d){d.createObjectStore(qE,{keyPath:bj,autoIncrement:!0}).createIndex(Iw,Aj,{unique:!1}),d.createObjectStore(Jm,{keyPath:Pj}).createIndex(Uk,Cj,{unique:!1}),d.createObjectStore(Xm,{keyPath:kj}).createIndex($k,xj,{unique:!1})}(e))),r<16&&i>=16&&(l=l.next(()=>{t.objectStore(Jm).clear()}).next(()=>{t.objectStore(Xm).clear()})),r<17&&i>=17&&(l=l.next(()=>{(function(d){d.createObjectStore(HE,{keyPath:Lj})})(e)})),l}ai(e){let t=0;return e.store(Na).Z((r,i)=>{t+=ig(i)}).next(()=>{const r={byteSize:t};return e.store(Ih).put(Ew,r)})}_i(e){const t=e.store(Eh),r=e.store(li);return t.G().next(i=>G.forEach(i,s=>{const l=IDBKeyRange.bound([s.userId,Ao],[s.userId,s.lastAcknowledgedBatchId]);return r.G(Ua,l).next(u=>G.forEach(u,d=>{Re(d.userId===s.userId);const h=La(this.serializer,d);return q1(e,s.userId,h).next(()=>{})}))}))}ui(e){const t=e.store(ju),r=e.store(Na);return e.store(qa).get(Ym).next(i=>{const s=[];return r.Z((l,u)=>{const d=new Be(l),h=function(g){return[0,Ln(g)]}(d);s.push(t.get(h).next(m=>m?G.resolve():(g=>t.put({targetId:0,path:Ln(g),sequenceNumber:i.highestListenSequenceNumber}))(d)))}).next(()=>G.waitFor(s))})}ci(e,t){e.createObjectStore(Th,{keyPath:Ij});const r=t.store(Th),i=new l0,s=l=>{if(i.add(l)){const u=l.lastSegment(),d=l.popLast();return r.put({collectionId:u,parent:Ln(d)})}};return t.store(Na).Z({Y:!0},(l,u)=>{const d=new Be(l);return s(d.popLast())}).next(()=>t.store(Uu).Z({Y:!0},([l,u,d],h)=>{const m=Fi(u);return s(m.popLast())}))}li(e){const t=e.store($u);return t.Z((r,i)=>{const s=Gd(i),l=j1(this.serializer,s);return t.put(l)})}hi(e,t){const r=t.store(Na),i=[];return r.Z((s,l)=>{const u=t.store(Qm),d=function(g){return g.document?new _e(Be.fromString(g.document.name).popFirst(5)):g.noDocument?_e.fromSegments(g.noDocument.path):g.unknownDocument?_e.fromSegments(g.unknownDocument.path):Ee()}(l).path.toArray(),h={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(u.put(h))}).next(()=>G.waitFor(i))}Pi(e,t){const r=t.store(li),i=J1(this.serializer),s=new c0(Yg.ri,this.serializer.Tt);return r.G().next(l=>{const u=new Map;return l.forEach(d=>{var h;let m=(h=u.get(d.userId))!==null&&h!==void 0?h:Fe();La(this.serializer,d).keys().forEach(g=>m=m.add(g)),u.set(d.userId,m)}),G.forEach(u,(d,h)=>{const m=new mn(h),g=Gg.It(this.serializer,m),_=s.getIndexManager(m),T=Qg.It(m,this.serializer,_,s.referenceDelegate);return new X1(i,T,g,_).recalculateAndSaveOverlaysForDocumentKeys(new Sw(t,nr.ae),d).next()})})}}function Lb(n){n.createObjectStore(ju,{keyPath:wj}).createIndex(WE,Ej,{unique:!0}),n.createObjectStore($u,{keyPath:"targetId"}).createIndex(Fk,vj,{unique:!0}),n.createObjectStore(qa)}const go="IndexedDbPersistence",Cv=18e5,kv=5e3,xv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Z1="main";class d0{constructor(e,t,r,i,s,l,u,d,h,m,g=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Ti=s,this.window=l,this.document=u,this.Ii=h,this.Ei=m,this.di=g,this.Gr=null,this.zr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ai=null,this.inForeground=!1,this.Ri=null,this.Vi=null,this.mi=Number.NEGATIVE_INFINITY,this.fi=_=>Promise.resolve(),!d0.D())throw new ae(te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new $4(this,i),this.gi=t+Z1,this.serializer=new $1(d),this.pi=new zi(this.gi,this.di,new X4(this.serializer)),this.jr=new P4,this.Hr=new V4(this.referenceDelegate,this.serializer),this.remoteDocumentCache=J1(this.serializer),this.Yr=new A4,this.window&&this.window.localStorage?this.yi=this.window.localStorage:(this.yi=null,m===!1&&zt(go,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ae(te.FAILED_PRECONDITION,xv);return this.bi(),this.Si(),this.Di(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Hr.getHighestSequenceNumber(e))}).then(e=>{this.Gr=new nr(e,this.Ii)}).then(()=>{this.zr=!0}).catch(e=>(this.pi&&this.pi.close(),Promise.reject(e)))}Ci(e){return this.fi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.pi.k(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ti.enqueueAndForget(async()=>{this.started&&await this.wi()}))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Yp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Fi(e).next(t=>{t||(this.isPrimary=!1,this.Ti.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Mi(e)).next(t=>this.isPrimary&&!t?this.xi(e).next(()=>!1):!!t&&this.Oi(e).next(()=>!0))).catch(e=>{if(Jo(e))return ue(go,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ue(go,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ti.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Fi(e){return Rd(e).get(su).next(t=>G.resolve(this.Ni(t)))}Bi(e){return Yp(e).delete(this.clientId)}async Li(){if(this.isPrimary&&!this.ki(this.mi,Cv)){this.mi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const r=ln(t,Bu);return r.G().next(i=>{const s=this.qi(i,Cv),l=i.filter(u=>s.indexOf(u)===-1);return G.forEach(l,u=>r.delete(u.clientId)).next(()=>l)})}).catch(()=>[]);if(this.yi)for(const t of e)this.yi.removeItem(this.Qi(t.clientId))}}Di(){this.Vi=this.Ti.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Li()).then(()=>this.Di()))}Ni(e){return!!e&&e.ownerId===this.clientId}Mi(e){return this.Ei?G.resolve(!0):Rd(e).get(su).next(t=>{if(t!==null&&this.ki(t.leaseTimestampMs,kv)&&!this.$i(t.ownerId)){if(this.Ni(t)&&this.networkEnabled)return!0;if(!this.Ni(t)){if(!t.allowTabSynchronization)throw new ae(te.FAILED_PRECONDITION,xv);return!1}}return!(!this.networkEnabled||!this.inForeground)||Yp(e).G().next(r=>this.qi(r,kv).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,l=!this.inForeground&&i.inForeground,u=this.networkEnabled===i.networkEnabled;if(s||l&&u)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&ue(go,`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.zr=!1,this.Ki(),this.Vi&&(this.Vi.cancel(),this.Vi=null),this.Ui(),this.Wi(),await this.pi.runTransaction("shutdown","readwrite",[Zh,Bu],e=>{const t=new Sw(e,nr.ae);return this.xi(t).next(()=>this.Bi(t))}),this.pi.close(),this.Gi()}qi(e,t){return e.filter(r=>this.ki(r.updateTimeMs,t)&&!this.$i(r.clientId))}zi(){return this.runTransaction("getActiveClients","readonly",e=>Yp(e).G().next(t=>this.qi(t,Cv).map(r=>r.clientId)))}get started(){return this.zr}getGlobalsCache(){return this.jr}getMutationQueue(e,t){return Qg.It(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new L4(e,this.serializer.Tt.databaseId)}getDocumentOverlayCache(e){return Gg.It(this.serializer,e)}getBundleCache(){return this.Yr}runTransaction(e,t,r){ue(go,"Starting transaction:",e);const i=t==="readonly"?"readonly":"readwrite",s=function(d){return d===17?Fj:d===16?Mj:d===15?KE:d===14?Wk:d===13?zk:d===12?Vj:d===11?Bk:void Ee()}(this.di);let l;return this.pi.runTransaction(e,i,s,u=>(l=new Sw(u,this.Gr?this.Gr.next():nr.ae),t==="readwrite-primary"?this.Fi(l).next(d=>!!d||this.Mi(l)).next(d=>{if(!d)throw zt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ti.enqueueRetryable(()=>this.fi(!1)),new ae(te.FAILED_PRECONDITION,Ok);return r(l)}).next(d=>this.Oi(l).next(()=>d)):this.ji(l).next(()=>r(l)))).then(u=>(l.raiseOnCommittedEvent(),u))}ji(e){return Rd(e).get(su).next(t=>{if(t!==null&&this.ki(t.leaseTimestampMs,kv)&&!this.$i(t.ownerId)&&!this.Ni(t)&&!(this.Ei||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ae(te.FAILED_PRECONDITION,xv)})}Oi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Rd(e).put(su,t)}static D(){return zi.D()}xi(e){const t=Rd(e);return t.get(su).next(r=>this.Ni(r)?(ue(go,"Releasing primary lease."),t.delete(su)):G.resolve())}ki(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(zt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}bi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ri=()=>{this.Ti.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.wi()))},this.document.addEventListener("visibilitychange",this.Ri),this.inForeground=this.document.visibilityState==="visible")}Ui(){this.Ri&&(this.document.removeEventListener("visibilitychange",this.Ri),this.Ri=null)}Si(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Ai=()=>{this.Ki();const t=/(?:Version|Mobile)\/1[456]/;yC()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ti.enterRestrictedMode(!0),this.Ti.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ai))}Wi(){this.Ai&&(this.window.removeEventListener("pagehide",this.Ai),this.Ai=null)}$i(e){var t;try{const r=((t=this.yi)===null||t===void 0?void 0:t.getItem(this.Qi(e)))!==null;return ue(go,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return zt(go,"Failed to get zombied client id.",r),!1}}Ki(){if(this.yi)try{this.yi.setItem(this.Qi(this.clientId),String(Date.now()))}catch(e){zt("Failed to set zombie client id.",e)}}Gi(){if(this.yi)try{this.yi.removeItem(this.Qi(this.clientId))}catch{}}Qi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Rd(n){return ln(n,Zh)}function Yp(n){return ln(n,Bu)}function h0(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=Fe(),i=Fe();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new f0(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return yC()?8:Dk(We())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.rs(e,t).next(l=>{s.result=l}).next(()=>{if(!s.result)return this.ss(e,t,i,r).next(l=>{s.result=l})}).next(()=>{if(s.result)return;const l=new Z4;return this._s(e,t,l).next(u=>{if(s.result=u,this.Xi)return this.us(e,t,l,u.size)})}).next(()=>s.result)}us(e,t,r,i){return r.documentReadCount<this.es?(Eu()<=Ue.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Iu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),G.resolve()):(Eu()<=Ue.DEBUG&&ue("QueryEngine","Query:",Iu(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(Eu()<=Ue.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Iu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zn(t))):G.resolve())}rs(e,t){if(ob(t))return G.resolve(null);let r=zn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=tg(t,null,"F"),r=zn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const l=Fe(...s);return this.ns.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(d=>{const h=this.cs(t,u);return this.ls(t,h,l,d.readTime)?this.rs(e,tg(t,null,"F")):this.hs(e,h,t,d)}))})))}ss(e,t,r,i){return ob(t)||i.isEqual(Pe.min())?G.resolve(null):this.ns.getDocuments(e,r).next(s=>{const l=this.cs(t,s);return this.ls(t,l,r,i)?G.resolve(null):(Eu()<=Ue.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Iu(t)),this.hs(e,l,t,kk(i,Fu)).next(u=>u))})}cs(e,t){let r=new at(d1(e));return t.forEach((i,s)=>{nf(e,s)&&(r=r.add(s))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}_s(e,t,r){return Eu()<=Ue.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Iu(t)),this.ns.getDocumentsMatchingQuery(e,t,Rr.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(l=>{s=s.insert(l.key,l)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="LocalStore",eB=3e8;class tB{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new mt(Le),this.Is=new Ms(s=>Ya(s),ef),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new X1(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function tx(n,e,t,r){return new tB(n,e,t,r)}async function nx(n,e){const t=ve(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const l=[],u=[];let d=Fe();for(const h of i){l.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}for(const h of s){u.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}return t.localDocuments.getDocuments(r,d).next(h=>({Rs:h,removedBatchIds:l,addedBatchIds:u}))})})}function nB(n,e){const t=ve(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.ds.newChangeBuffer({trackRemovals:!0});return function(u,d,h,m){const g=h.batch,_=g.keys();let T=G.resolve();return _.forEach(I=>{T=T.next(()=>m.getEntry(d,I)).next(R=>{const A=h.docVersions.get(I);Re(A!==null),R.version.compareTo(A)<0&&(g.applyToRemoteDocument(R,h),R.isValidDocument()&&(R.setReadTime(h.commitVersion),m.addEntry(R)))})}),T.next(()=>u.mutationQueue.removeMutationBatch(d,g))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let d=Fe();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(d=d.add(u.batch.mutations[h].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function rx(n){const e=ve(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function rB(n,e){const t=ve(n),r=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const u=[];e.targetChanges.forEach((m,g)=>{const _=i.get(g);if(!_)return;u.push(t.Hr.removeMatchingKeys(s,m.removedDocuments,g).next(()=>t.Hr.addMatchingKeys(s,m.addedDocuments,g)));let T=_.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?T=T.withResumeToken(Ft.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):m.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(m.resumeToken,r)),i=i.insert(g,T),function(R,A,V){return R.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=eB?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(_,T,m)&&u.push(t.Hr.updateTargetData(s,T))});let d=ir(),h=Fe();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(s,m))}),u.push(ix(s,l,e.documentUpdates).next(m=>{d=m.Vs,h=m.fs})),!r.isEqual(Pe.min())){const m=t.Hr.getLastRemoteSnapshotVersion(s).next(g=>t.Hr.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(m)}return G.waitFor(u).next(()=>l.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,d,h)).next(()=>d)}).then(s=>(t.Ts=i,s))}function ix(n,e,t){let r=Fe(),i=Fe();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let l=ir();return t.forEach((u,d)=>{const h=s.get(u);d.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),d.isNoDocument()&&d.version.isEqual(Pe.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):ue(p0,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",d.version)}),{Vs:l,fs:i}})}function iB(n,e){const t=ve(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Ao),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Qu(n,e){const t=ve(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(s=>s?(i=s,G.resolve(i)):t.Hr.allocateTargetId(r).next(l=>(i=new Is(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function Yu(n,e,t){const r=ve(n),i=r.Ts.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Jo(l))throw l;ue(p0,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function og(n,e,t){const r=ve(n);let i=Pe.min(),s=Fe();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,h,m){const g=ve(d),_=g.Is.get(m);return _!==void 0?G.resolve(g.Ts.get(_)):g.Hr.getTargetData(h,m)}(r,l,zn(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,u.targetId).next(d=>{s=d})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,t?i:Pe.min(),t?s:Fe())).next(u=>(ax(r,c1(e),u),{documents:u,gs:s})))}function sx(n,e){const t=ve(n),r=ve(t.Hr),i=t.Ts.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",s=>r.lt(s,e).next(l=>l?l.target:null))}function ox(n,e){const t=ve(n),r=t.Es.get(e)||Pe.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.ds.getAllFromCollectionGroup(i,e,kk(r,Fu),Number.MAX_SAFE_INTEGER)).then(i=>(ax(t,e,i),i))}function ax(n,e,t){let r=n.Es.get(e)||Pe.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Es.set(e,r)}async function sB(n,e,t,r){const i=ve(n);let s=Fe(),l=ir();for(const h of t){const m=e.ps(h.metadata.name);h.document&&(s=s.add(m));const g=e.ys(h);g.setReadTime(e.ws(h.metadata.readTime)),l=l.insert(m,g)}const u=i.ds.newChangeBuffer({trackRemovals:!0}),d=await Qu(i,function(m){return zn(hc(Be.fromString(`__bundle__/docs/${m}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",h=>ix(h,u,l).next(m=>(u.apply(h),m)).next(m=>i.Hr.removeMatchingKeysForTargetId(h,d.targetId).next(()=>i.Hr.addMatchingKeys(h,s,d.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,m.Vs,m.fs)).next(()=>m.Vs)))}async function oB(n,e,t=Fe()){const r=await Qu(n,zn(o0(e.bundledQuery))),i=ve(n);return i.persistence.runTransaction("Save named query","readwrite",s=>{const l=Wt(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.Yr.saveNamedQuery(s,e);const u=r.withResumeToken(Ft.EMPTY_BYTE_STRING,l);return i.Ts=i.Ts.insert(u.targetId,u),i.Hr.updateTargetData(s,u).next(()=>i.Hr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Hr.addMatchingKeys(s,t,r.targetId)).next(()=>i.Yr.saveNamedQuery(s,e))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx="firestore_clients";function Vb(n,e){return`${lx}_${n}_${e}`}const ux="firestore_mutations";function Mb(n,e,t){let r=`${ux}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const cx="firestore_targets";function Ov(n,e){return`${cx}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki="SharedClientState";class ag{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static bs(e,t,r){const i=JSON.parse(r);let s,l=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return l&&i.error&&(l=typeof i.error.message=="string"&&typeof i.error.code=="string",l&&(s=new ae(i.error.code,i.error.message))),l?new ag(e,t,i.state,s):(zt(ki,`Failed to parse mutation state for ID '${t}': ${r}`),null)}Ss(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class sh{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static bs(e,t){const r=JSON.parse(t);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new ae(r.error.code,r.error.message))),s?new sh(e,r.state,i):(zt(ki,`Failed to parse target state for ID '${e}': ${t}`),null)}Ss(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class lg{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static bs(e,t){const r=JSON.parse(t);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=XE();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=Lk(r.activeTargetIds[l]),s=s.add(r.activeTargetIds[l]);return i?new lg(e,s):(zt(ki,`Failed to parse client data for instance '${e}': ${t}`),null)}}class m0{constructor(e,t){this.clientId=e,this.onlineState=t}static bs(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new m0(t.clientId,t.onlineState):(zt(ki,`Failed to parse online state: ${e}`),null)}}class Uw{constructor(){this.activeTargetIds=XE()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Nv{constructor(e,t,r,i,s){this.window=e,this.Ti=t,this.persistenceKey=r,this.Cs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Fs=this.Ms.bind(this),this.xs=new mt(Le),this.started=!1,this.Os=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ns=Vb(this.persistenceKey,this.Cs),this.Bs=function(d){return`firestore_sequence_number_${d}`}(this.persistenceKey),this.xs=this.xs.insert(this.Cs,new Uw),this.Ls=new RegExp(`^${lx}_${l}_([^_]*)$`),this.ks=new RegExp(`^${ux}_${l}_(\\d+)(?:_(.*))?$`),this.qs=new RegExp(`^${cx}_${l}_(\\d+)$`),this.Qs=function(d){return`firestore_online_state_${d}`}(this.persistenceKey),this.$s=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.Fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.zi();for(const r of e){if(r===this.Cs)continue;const i=this.getItem(Vb(this.persistenceKey,r));if(i){const s=lg.bs(r,i);s&&(this.xs=this.xs.insert(s.clientId,s))}}this.Ks();const t=this.storage.getItem(this.Qs);if(t){const r=this.Us(t);r&&this.Ws(r)}for(const r of this.Os)this.Ms(r);this.Os=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Bs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Gs(this.xs)}isActiveQueryTarget(e){let t=!1;return this.xs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.zs(e,"pending")}updateMutationState(e,t,r){this.zs(e,t,r),this.js(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(Ov(this.persistenceKey,e));if(i){const s=sh.bs(e,i);s&&(r=s.state)}}return t&&this.Hs.Ds(e),this.Ks(),r}removeLocalQueryTarget(e){this.Hs.vs(e),this.Ks()}isLocalQueryTarget(e){return this.Hs.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ov(this.persistenceKey,e))}updateQueryState(e,t,r){this.Js(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.js(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Ys(e)}notifyBundleLoaded(e){this.Zs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Fs),this.removeItem(this.Ns),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ue(ki,"READ",e,t),t}setItem(e,t){ue(ki,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){ue(ki,"REMOVE",e),this.storage.removeItem(e)}Ms(e){const t=e;if(t.storageArea===this.storage){if(ue(ki,"EVENT",t.key,t.newValue),t.key===this.Ns)return void zt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ti.enqueueRetryable(async()=>{if(this.started){if(t.key!==null){if(this.Ls.test(t.key)){if(t.newValue==null){const r=this.Xs(t.key);return this.eo(r,null)}{const r=this.no(t.key,t.newValue);if(r)return this.eo(r.clientId,r)}}else if(this.ks.test(t.key)){if(t.newValue!==null){const r=this.ro(t.key,t.newValue);if(r)return this.io(r)}}else if(this.qs.test(t.key)){if(t.newValue!==null){const r=this.so(t.key,t.newValue);if(r)return this.oo(r)}}else if(t.key===this.Qs){if(t.newValue!==null){const r=this.Us(t.newValue);if(r)return this.Ws(r)}}else if(t.key===this.Bs){const r=function(s){let l=nr.ae;if(s!=null)try{const u=JSON.parse(s);Re(typeof u=="number"),l=u}catch(u){zt(ki,"Failed to read sequence number from WebStorage",u)}return l}(t.newValue);r!==nr.ae&&this.sequenceNumberHandler(r)}else if(t.key===this.$s){const r=this._o(t.newValue);await Promise.all(r.map(i=>this.syncEngine.ao(i)))}}}else this.Os.push(t)})}}get Hs(){return this.xs.get(this.Cs)}Ks(){this.setItem(this.Ns,this.Hs.Ss())}zs(e,t,r){const i=new ag(this.currentUser,e,t,r),s=Mb(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Ss())}js(e){const t=Mb(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ys(e){const t={clientId:this.Cs,onlineState:e};this.storage.setItem(this.Qs,JSON.stringify(t))}Js(e,t,r){const i=Ov(this.persistenceKey,e),s=new sh(e,t,r);this.setItem(i,s.Ss())}Zs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.$s,t)}Xs(e){const t=this.Ls.exec(e);return t?t[1]:null}no(e,t){const r=this.Xs(e);return lg.bs(r,t)}ro(e,t){const r=this.ks.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return ag.bs(new mn(s),i,t)}so(e,t){const r=this.qs.exec(e),i=Number(r[1]);return sh.bs(i,t)}Us(e){return m0.bs(e)}_o(e){return JSON.parse(e)}async io(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.uo(e.batchId,e.state,e.error);ue(ki,`Ignoring mutation for non-active user ${e.user.uid}`)}oo(e){return this.syncEngine.co(e.targetId,e.state,e.error)}eo(e,t){const r=t?this.xs.insert(e,t):this.xs.remove(e),i=this.Gs(this.xs),s=this.Gs(r),l=[],u=[];return s.forEach(d=>{i.has(d)||l.push(d)}),i.forEach(d=>{s.has(d)||u.push(d)}),this.syncEngine.lo(l,u).then(()=>{this.xs=r})}Ws(e){this.xs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Gs(e){let t=XE();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class dx{constructor(){this.ho=new Uw,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Uw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="ConnectivityMonitor";class Ub{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ue(Fb,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ue(Fb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jp=null;function $w(){return Jp===null?Jp=function(){return 268435456+Math.round(2147483648*Math.random())}():Jp++,"0x"+Jp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="RestConnection",lB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uB{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===Rw?`project_id=${r}`:`project_id=${r}&database_id=${i}`}bo(e,t,r,i,s){const l=$w(),u=this.So(e,t.toUriEncodedString());ue(Dv,`Sending RPC '${e}' ${l}:`,u,r);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,i,s),this.vo(e,u,d,r).then(h=>(ue(Dv,`Received RPC '${e}' ${l}: `,h),h),h=>{throw Gi(Dv,`RPC '${e}' ${l} failed with error: `,h,"url: ",u,"request:",r),h})}Co(e,t,r,i,s,l){return this.bo(e,t,r,i,s)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+dc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}So(e,t){const r=lB[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xn="WebChannelConnection";class dB extends uB{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){const s=$w();return new Promise((l,u)=>{const d=new Ik;d.setWithCredentials(!0),d.listenOnce(Tk.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case fm.NO_ERROR:const m=d.getResponseJson();ue(xn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(m)),l(m);break;case fm.TIMEOUT:ue(xn,`RPC '${e}' ${s} timed out`),u(new ae(te.DEADLINE_EXCEEDED,"Request time out"));break;case fm.HTTP_ERROR:const g=d.getStatus();if(ue(xn,`RPC '${e}' ${s} failed with status:`,g,"response text:",d.getResponseText()),g>0){let _=d.getResponseJson();Array.isArray(_)&&(_=_[0]);const T=_==null?void 0:_.error;if(T&&T.status&&T.message){const I=function(A){const V=A.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(V)>=0?V:te.UNKNOWN}(T.status);u(new ae(I,T.message))}else u(new ae(te.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new ae(te.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{ue(xn,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);ue(xn,`RPC '${e}' ${s} sending request:`,i),d.send(t,"POST",h,r,15)})}Wo(e,t,r){const i=$w(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=bk(),u=Rk(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const m=s.join("");ue(xn,`Creating RPC '${e}' stream ${i}: ${m}`,d);const g=l.createWebChannel(m,d);let _=!1,T=!1;const I=new cB({Fo:A=>{T?ue(xn,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(_||(ue(xn,`Opening RPC '${e}' stream ${i} transport.`),g.open(),_=!0),ue(xn,`RPC '${e}' stream ${i} sending:`,A),g.send(A))},Mo:()=>g.close()}),R=(A,V,L)=>{A.listen(V,M=>{try{L(M)}catch(z){setTimeout(()=>{throw z},0)}})};return R(g,qd.EventType.OPEN,()=>{T||(ue(xn,`RPC '${e}' stream ${i} transport opened.`),I.Qo())}),R(g,qd.EventType.CLOSE,()=>{T||(T=!0,ue(xn,`RPC '${e}' stream ${i} transport closed`),I.Ko())}),R(g,qd.EventType.ERROR,A=>{T||(T=!0,Gi(xn,`RPC '${e}' stream ${i} transport errored:`,A),I.Ko(new ae(te.UNAVAILABLE,"The operation could not be completed")))}),R(g,qd.EventType.MESSAGE,A=>{var V;if(!T){const L=A.data[0];Re(!!L);const M=L,z=(M==null?void 0:M.error)||((V=M[0])===null||V===void 0?void 0:V.error);if(z){ue(xn,`RPC '${e}' stream ${i} received error:`,z);const j=z.status;let q=function(C){const E=Qt[C];if(E!==void 0)return S1(E)}(j),D=z.message;q===void 0&&(q=te.INTERNAL,D="Unknown error status: "+j+" with message "+z.message),T=!0,I.Ko(new ae(q,D)),g.close()}else ue(xn,`RPC '${e}' stream ${i} received:`,L),I.Uo(L)}}),R(u,Sk.STAT_EVENT,A=>{A.stat===vw.PROXY?ue(xn,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===vw.NOPROXY&&ue(xn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{I.$o()},0),I}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(){return typeof window<"u"?window:null}function Im(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(n){return new g4(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="PersistentStream";class fx{constructor(e,t,r,i,s,l,u,d){this.Ti=e,this.n_=r,this.r_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new g0(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(zt(t.toString()),zt("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{const i=new ae(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ue($b,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ue($b,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hB extends fx{constructor(e,t,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=s}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=v4(this.serializer,e),r=function(s){if(!("targetChange"in s))return Pe.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?Pe.min():l.readTime?Wt(l.readTime):Pe.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=Dw(this.serializer),t.addTarget=function(s,l){let u;const d=l.target;if(u=Zm(d)?{documents:D1(s,d)}:{query:L1(s,d).ht},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=P1(s,l.resumeToken);const h=Ow(s,l.expectedCount);h!==null&&(u.expectedCount=h)}else if(l.snapshotVersion.compareTo(Pe.min())>0){u.readTime=Gu(s,l.snapshotVersion.toTimestamp());const h=Ow(s,l.expectedCount);h!==null&&(u.expectedCount=h)}return u}(this.serializer,e);const r=E4(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=Dw(this.serializer),t.removeTarget=e,this.I_(t)}}class fB extends fx{constructor(e,t,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=s}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Re(!!e.streamToken),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=w4(e.writeResults,e.commitTime),r=Wt(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=Dw(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Ch(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{}class mB extends pB{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new ae(te.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.bo(e,Nw(t,r),i,s,l)).catch(s=>{throw s.name==="FirebaseError"?(s.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ae(te.UNKNOWN,s.toString())})}Co(e,t,r,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Co(e,Nw(t,r),i,l,u,s)).catch(l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ae(te.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class gB{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(zt(t),this.N_=!1):ue("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl="RemoteStore";class yB{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(l=>{r.enqueueAndForget(async()=>{Zo(this)&&(ue(nl,"Restarting streams for network reachability change."),await async function(d){const h=ve(d);h.W_.add(4),await mc(h),h.j_.set("Unknown"),h.W_.delete(4),await lf(h)}(this))})}),this.j_=new gB(r,i)}}async function lf(n){if(Zo(n))for(const e of n.G_)await e(!0)}async function mc(n){for(const e of n.G_)await e(!1)}function Jg(n,e){const t=ve(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),v0(t)?_0(t):yc(t).c_()&&y0(t,e))}function Ju(n,e){const t=ve(n),r=yc(t);t.U_.delete(e),r.c_()&&px(t,e),t.U_.size===0&&(r.c_()?r.P_():Zo(t)&&t.j_.set("Unknown"))}function y0(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}yc(n).y_(e)}function px(n,e){n.H_.Ne(e),yc(n).w_(e)}function _0(n){n.H_=new h4({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),yc(n).start(),n.j_.B_()}function v0(n){return Zo(n)&&!yc(n).u_()&&n.U_.size>0}function Zo(n){return ve(n).W_.size===0}function mx(n){n.H_=void 0}async function _B(n){n.j_.set("Online")}async function vB(n){n.U_.forEach((e,t)=>{y0(n,e)})}async function wB(n,e){mx(n),v0(n)?(n.j_.q_(e),_0(n)):n.j_.set("Unknown")}async function EB(n,e,t){if(n.j_.set("Online"),e instanceof A1&&e.state===2&&e.cause)try{await async function(i,s){const l=s.cause;for(const u of s.targetIds)i.U_.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.U_.delete(u),i.H_.removeTarget(u))}(n,e)}catch(r){ue(nl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ug(n,r)}else if(e instanceof Em?n.H_.We(e):e instanceof b1?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Pe.min()))try{const r=await rx(n.localStore);t.compareTo(r)>=0&&await function(s,l){const u=s.H_.ot(l);return u.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const m=s.U_.get(h);m&&s.U_.set(h,m.withResumeToken(d.resumeToken,l))}}),u.targetMismatches.forEach((d,h)=>{const m=s.U_.get(d);if(!m)return;s.U_.set(d,m.withResumeToken(Ft.EMPTY_BYTE_STRING,m.snapshotVersion)),px(s,d);const g=new Is(m.target,d,h,m.sequenceNumber);y0(s,g)}),s.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){ue(nl,"Failed to raise snapshot:",r),await ug(n,r)}}async function ug(n,e,t){if(!Jo(e))throw e;n.W_.add(1),await mc(n),n.j_.set("Offline"),t||(t=()=>rx(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ue(nl,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await lf(n)})}function gx(n,e){return e().catch(t=>ug(n,t,e))}async function gc(n){const e=ve(n),t=Uo(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:Ao;for(;IB(e);)try{const i=await iB(e.localStore,r);if(i===null){e.K_.length===0&&t.P_();break}r=i.batchId,TB(e,i)}catch(i){await ug(e,i)}yx(e)&&_x(e)}function IB(n){return Zo(n)&&n.K_.length<10}function TB(n,e){n.K_.push(e);const t=Uo(n);t.c_()&&t.b_&&t.S_(e.mutations)}function yx(n){return Zo(n)&&!Uo(n).u_()&&n.K_.length>0}function _x(n){Uo(n).start()}async function SB(n){Uo(n).C_()}async function RB(n){const e=Uo(n);for(const t of n.K_)e.S_(t.mutations)}async function bB(n,e,t){const r=n.K_.shift(),i=n0.from(r,e,t);await gx(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await gc(n)}async function AB(n,e){e&&Uo(n).b_&&await async function(r,i){if(function(l){return T1(l)&&l!==te.ABORTED}(i.code)){const s=r.K_.shift();Uo(r).h_(),await gx(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await gc(r)}}(n,e),yx(n)&&_x(n)}async function jb(n,e){const t=ve(n);t.asyncQueue.verifyOperationInProgress(),ue(nl,"RemoteStore received new credentials");const r=Zo(t);t.W_.add(3),await mc(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await lf(t)}async function jw(n,e){const t=ve(n);e?(t.W_.delete(2),await lf(t)):e||(t.W_.add(2),await mc(t),t.j_.set("Unknown"))}function yc(n){return n.J_||(n.J_=function(t,r,i){const s=ve(t);return s.M_(),new hB(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{xo:_B.bind(null,n),No:vB.bind(null,n),Lo:wB.bind(null,n),p_:EB.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),v0(n)?_0(n):n.j_.set("Unknown")):(await n.J_.stop(),mx(n))})),n.J_}function Uo(n){return n.Y_||(n.Y_=function(t,r,i){const s=ve(t);return s.M_(),new fB(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:SB.bind(null,n),Lo:AB.bind(null,n),D_:RB.bind(null,n),v_:bB.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await gc(n)):(await n.Y_.stop(),n.K_.length>0&&(ue(nl,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Rn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const l=Date.now()+r,u=new w0(e,t,l,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _c(n,e){if(zt("AsyncQueue",`${e}: ${n}`),Jo(n))return new ae(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{static emptySet(e){return new Pu(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||_e.comparator(t.key,r.key):(t,r)=>_e.comparator(t.key,r.key),this.keyedMap=Hd(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Pu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Pu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(){this.Z_=new mt(_e.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ee():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Xu{constructor(e,t,r,i,s,l,u,d,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,i,s){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new Xu(e,t,Pu.emptySet(t),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class CB{constructor(){this.queries=zb(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const i=ve(t),s=i.queries;i.queries=zb(),s.forEach((l,u)=>{for(const d of u.ta)d.onError(r)})})(this,new ae(te.ABORTED,"Firestore shutting down"))}}function zb(){return new Ms(n=>u1(n),tf)}async function E0(n,e){const t=ve(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.na()&&e.ra()&&(r=2):(s=new PB,r=e.ra()?0:1);try{switch(r){case 0:s.ea=await t.onListen(i,!0);break;case 1:s.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const u=_c(l,`Initialization of query '${Iu(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,s),s.ta.push(e),e.sa(t.onlineState),s.ea&&e.oa(s.ea)&&T0(t)}async function I0(n,e){const t=ve(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const l=s.ta.indexOf(e);l>=0&&(s.ta.splice(l,1),s.ta.length===0?i=e.ra()?0:1:!s.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function kB(n,e){const t=ve(n);let r=!1;for(const i of e){const s=i.query,l=t.queries.get(s);if(l){for(const u of l.ta)u.oa(i)&&(r=!0);l.ea=i}}r&&T0(t)}function xB(n,e,t){const r=ve(n),i=r.queries.get(e);if(i)for(const s of i.ta)s.onError(t);r.queries.delete(e)}function T0(n){n.ia.forEach(e=>{e.next()})}var Bw,Wb;(Wb=Bw||(Bw={}))._a="default",Wb.Cache="cache";class S0{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Xu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Xu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Bw.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(e,t){this.Ia=e,this.byteLength=t}Ea(){return"metadata"in this.Ia}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e){this.serializer=e}ps(e){return Wi(this.serializer,e)}ys(e){return e.metadata.exists?N1(this.serializer,e.document,!1):vt.newNoDocument(this.ps(e.metadata.name),this.ws(e.metadata.readTime))}ws(e){return Wt(e)}}class NB{constructor(e,t,r){this.da=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=vx(e)}Aa(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ia.namedQuery)this.queries.push(e.Ia.namedQuery);else if(e.Ia.documentMetadata){this.documents.push({metadata:e.Ia.documentMetadata}),e.Ia.documentMetadata.exists||++t;const r=Be.fromString(e.Ia.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Ia.document&&(this.documents[this.documents.length-1].document=e.Ia.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Ra(e){const t=new Map,r=new qb(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.ps(i.metadata.name);for(const l of i.metadata.queries){const u=(t.get(l)||Fe()).add(s);t.set(l,u)}}return t}async complete(){const e=await sB(this.localStore,new qb(this.serializer),this.documents,this.da.id),t=this.Ra(this.documents);for(const r of this.queries)await oB(this.localStore,r,t.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Va:this.collectionGroups,ma:e}}}function vx(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e){this.key=e}}class Ex{constructor(e){this.key=e}}class Ix{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Fe(),this.mutatedKeys=Fe(),this.ya=d1(e),this.wa=new Pu(this.ya)}get ba(){return this.fa}Sa(e,t){const r=t?t.Da:new Bb,i=t?t.wa:this.wa;let s=t?t.mutatedKeys:this.mutatedKeys,l=i,u=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,g)=>{const _=i.get(m),T=nf(this.query,g)?g:null,I=!!_&&this.mutatedKeys.has(_.key),R=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let A=!1;_&&T?_.data.isEqual(T.data)?I!==R&&(r.track({type:3,doc:T}),A=!0):this.va(_,T)||(r.track({type:2,doc:T}),A=!0,(d&&this.ya(T,d)>0||h&&this.ya(T,h)<0)&&(u=!0)):!_&&T?(r.track({type:0,doc:T}),A=!0):_&&!T&&(r.track({type:1,doc:_}),A=!0,(d||h)&&(u=!0)),A&&(T?(l=l.add(T),s=R?s.add(m):s.delete(m)):(l=l.delete(m),s=s.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),s=s.delete(m.key),r.track({type:1,doc:m})}return{wa:l,Da:r,ls:u,mutatedKeys:s}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((m,g)=>function(T,I){const R=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return R(T)-R(I)}(m.type,g.type)||this.ya(m.doc,g.doc)),this.Ca(r),i=i!=null&&i;const u=t&&!i?this.Fa():[],d=this.pa.size===0&&this.current&&!i?1:0,h=d!==this.ga;return this.ga=d,l.length!==0||h?{snapshot:new Xu(this.query,e.wa,s,l,e.mutatedKeys,d===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:u}:{Ma:u}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Bb,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Fe(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new Ex(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new wx(r))}),t}Oa(e){this.fa=e.gs,this.pa=Fe();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return Xu.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const ea="SyncEngine";class DB{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class LB{constructor(e){this.key=e,this.Ba=!1}}class VB{constructor(e,t,r,i,s,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new Ms(u=>u1(u),tf),this.qa=new Map,this.Qa=new Set,this.$a=new mt(_e.comparator),this.Ka=new Map,this.Ua=new u0,this.Wa={},this.Ga=new Map,this.za=tl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function MB(n,e,t=!0){const r=Xg(n);let i;const s=r.ka.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await Tx(r,e,t,!0),i}async function FB(n,e){const t=Xg(n);await Tx(t,e,!0,!1)}async function Tx(n,e,t,r){const i=await Qu(n.localStore,zn(e)),s=i.targetId,l=n.sharedClientState.addLocalQueryTarget(s,t);let u;return r&&(u=await R0(n,e,s,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&Jg(n.remoteStore,i),u}async function R0(n,e,t,r,i){n.Ha=(g,_,T)=>async function(R,A,V,L){let M=A.view.Sa(V);M.ls&&(M=await og(R.localStore,A.query,!1).then(({documents:D})=>A.view.Sa(D,M)));const z=L&&L.targetChanges.get(A.targetId),j=L&&L.targetMismatches.get(A.targetId)!=null,q=A.view.applyChanges(M,R.isPrimaryClient,z,j);return zw(R,A.targetId,q.Ma),q.snapshot}(n,g,_,T);const s=await og(n.localStore,e,!0),l=new Ix(e,s.gs),u=l.Sa(s.documents),d=of.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),h=l.applyChanges(u,n.isPrimaryClient,d);zw(n,t,h.Ma);const m=new DB(e,t,l);return n.ka.set(e,m),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),h.snapshot}async function UB(n,e,t){const r=ve(n),i=r.ka.get(e),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter(l=>!tf(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Yu(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Ju(r.remoteStore,i.targetId),Zu(r,i.targetId)}).catch(Yo)):(Zu(r,i.targetId),await Yu(r.localStore,i.targetId,!0))}async function $B(n,e){const t=ve(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Ju(t.remoteStore,r.targetId))}async function jB(n,e,t){const r=C0(n);try{const i=await function(l,u){const d=ve(l),h=At.now(),m=u.reduce((T,I)=>T.add(I.key),Fe());let g,_;return d.persistence.runTransaction("Locally write mutations","readwrite",T=>{let I=ir(),R=Fe();return d.ds.getEntries(T,m).next(A=>{I=A,I.forEach((V,L)=>{L.isValidDocument()||(R=R.add(V))})}).next(()=>d.localDocuments.getOverlayedDocuments(T,I)).next(A=>{g=A;const V=[];for(const L of u){const M=u4(L,g.get(L.key).overlayedDocument);M!=null&&V.push(new Fs(L.key,M,e1(M.value.mapValue),bt.exists(!0)))}return d.mutationQueue.addMutationBatch(T,h,V,u)}).next(A=>{_=A;const V=A.applyToLocalDocumentSet(g,R);return d.documentOverlayCache.saveOverlays(T,A.batchId,V)})}).then(()=>({batchId:_.batchId,changes:f1(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,u,d){let h=l.Wa[l.currentUser.toKey()];h||(h=new mt(Le)),h=h.insert(u,d),l.Wa[l.currentUser.toKey()]=h}(r,i.batchId,t),await Us(r,i.changes),await gc(r.remoteStore)}catch(i){const s=_c(i,"Failed to persist write");t.reject(s)}}async function Sx(n,e){const t=ve(n);try{const r=await rB(t.localStore,e);e.targetChanges.forEach((i,s)=>{const l=t.Ka.get(s);l&&(Re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Ba=!0:i.modifiedDocuments.size>0?Re(l.Ba):i.removedDocuments.size>0&&(Re(l.Ba),l.Ba=!1))}),await Us(t,r,e)}catch(r){await Yo(r)}}function Hb(n,e,t){const r=ve(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ka.forEach((s,l)=>{const u=l.view.sa(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const d=ve(l);d.onlineState=u;let h=!1;d.queries.forEach((m,g)=>{for(const _ of g.ta)_.sa(u)&&(h=!0)}),h&&T0(d)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function BB(n,e,t){const r=ve(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ka.get(e),s=i&&i.key;if(s){let l=new mt(_e.comparator);l=l.insert(s,vt.newNoDocument(s,Pe.min()));const u=Fe().add(s),d=new sf(Pe.min(),new Map,new mt(Le),l,u);await Sx(r,d),r.$a=r.$a.remove(s),r.Ka.delete(e),P0(r)}else await Yu(r.localStore,e,!1).then(()=>Zu(r,e,t)).catch(Yo)}async function zB(n,e){const t=ve(n),r=e.batch.batchId;try{const i=await nB(t.localStore,e);A0(t,r,null),b0(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Us(t,i)}catch(i){await Yo(i)}}async function WB(n,e,t){const r=ve(n);try{const i=await function(l,u){const d=ve(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let m;return d.mutationQueue.lookupMutationBatch(h,u).next(g=>(Re(g!==null),m=g.keys(),d.mutationQueue.removeMutationBatch(h,g))).next(()=>d.mutationQueue.performConsistencyCheck(h)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(h,m,u)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m)).next(()=>d.localDocuments.getDocuments(h,m))})}(r.localStore,e);A0(r,e,t),b0(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Us(r,i)}catch(i){await Yo(i)}}async function qB(n,e){const t=ve(n);Zo(t.remoteStore)||ue(ea,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(l){const u=ve(l);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>u.mutationQueue.getHighestUnacknowledgedBatchId(d))}(t.localStore);if(r===Ao)return void e.resolve();const i=t.Ga.get(r)||[];i.push(e),t.Ga.set(r,i)}catch(r){const i=_c(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function b0(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function A0(n,e,t){const r=ve(n);let i=r.Wa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function Zu(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.Sr(e).forEach(r=>{n.Ua.containsKey(r)||Rx(n,r)})}function Rx(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Ju(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),P0(n))}function zw(n,e,t){for(const r of t)r instanceof wx?(n.Ua.addReference(r.key,e),HB(n,r)):r instanceof Ex?(ue(ea,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||Rx(n,r.key)):Ee()}function HB(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(ue(ea,"New document in limbo: "+t),n.Qa.add(r),P0(n))}function P0(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new _e(Be.fromString(e)),r=n.za.next();n.Ka.set(r,new LB(t)),n.$a=n.$a.insert(t,r),Jg(n.remoteStore,new Is(zn(hc(t.path)),r,"TargetPurposeLimboResolution",nr.ae))}}async function Us(n,e,t){const r=ve(n),i=[],s=[],l=[];r.ka.isEmpty()||(r.ka.forEach((u,d)=>{l.push(r.Ha(d,e,t).then(h=>{var m;if((h||t)&&r.isPrimaryClient){const g=h?!h.fromCache:(m=t==null?void 0:t.targetChanges.get(d.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(h){i.push(h);const g=f0.Yi(d.targetId,h);s.push(g)}}))}),await Promise.all(l),r.La.p_(i),await async function(d,h){const m=ve(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>G.forEach(h,_=>G.forEach(_.Hi,T=>m.persistence.referenceDelegate.addReference(g,_.targetId,T)).next(()=>G.forEach(_.Ji,T=>m.persistence.referenceDelegate.removeReference(g,_.targetId,T)))))}catch(g){if(!Jo(g))throw g;ue(p0,"Failed to update sequence numbers: "+g)}for(const g of h){const _=g.targetId;if(!g.fromCache){const T=m.Ts.get(_),I=T.snapshotVersion,R=T.withLastLimboFreeSnapshotVersion(I);m.Ts=m.Ts.insert(_,R)}}}(r.localStore,s))}async function KB(n,e){const t=ve(n);if(!t.currentUser.isEqual(e)){ue(ea,"User change. New user:",e.toKey());const r=await nx(t.localStore,e);t.currentUser=e,function(s,l){s.Ga.forEach(u=>{u.forEach(d=>{d.reject(new ae(te.CANCELLED,l))})}),s.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Us(t,r.Rs)}}function GB(n,e){const t=ve(n),r=t.Ka.get(e);if(r&&r.Ba)return Fe().add(r.key);{let i=Fe();const s=t.qa.get(e);if(!s)return i;for(const l of s){const u=t.ka.get(l);i=i.unionWith(u.view.ba)}return i}}async function QB(n,e){const t=ve(n),r=await og(t.localStore,e.query,!0),i=e.view.Oa(r);return t.isPrimaryClient&&zw(t,e.targetId,i.Ma),i}async function YB(n,e){const t=ve(n);return ox(t.localStore,e).then(r=>Us(t,r))}async function JB(n,e,t,r){const i=ve(n),s=await function(u,d){const h=ve(u),m=ve(h.mutationQueue);return h.persistence.runTransaction("Lookup mutation documents","readonly",g=>m.Ln(g,d).next(_=>_?h.localDocuments.getDocuments(g,_):G.resolve(null)))}(i.localStore,e);s!==null?(t==="pending"?await gc(i.remoteStore):t==="acknowledged"||t==="rejected"?(A0(i,e,r||null),b0(i,e),function(u,d){ve(ve(u).mutationQueue).qn(d)}(i.localStore,e)):Ee(),await Us(i,s)):ue(ea,"Cannot apply mutation batch with id: "+e)}async function XB(n,e){const t=ve(n);if(Xg(t),C0(t),e===!0&&t.ja!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),i=await Kb(t,r.toArray());t.ja=!0,await jw(t.remoteStore,!0);for(const s of i)Jg(t.remoteStore,s)}else if(e===!1&&t.ja!==!1){const r=[];let i=Promise.resolve();t.qa.forEach((s,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then(()=>(Zu(t,l),Yu(t.localStore,l,!0))),Ju(t.remoteStore,l)}),await i,await Kb(t,r),function(l){const u=ve(l);u.Ka.forEach((d,h)=>{Ju(u.remoteStore,h)}),u.Ua.Dr(),u.Ka=new Map,u.$a=new mt(_e.comparator)}(t),t.ja=!1,await jw(t.remoteStore,!1)}}async function Kb(n,e,t){const r=ve(n),i=[],s=[];for(const l of e){let u;const d=r.qa.get(l);if(d&&d.length!==0){u=await Qu(r.localStore,zn(d[0]));for(const h of d){const m=r.ka.get(h),g=await QB(r,m);g.snapshot&&s.push(g.snapshot)}}else{const h=await sx(r.localStore,l);u=await Qu(r.localStore,h),await R0(r,bx(h),l,!1,u.resumeToken)}i.push(u)}return r.La.p_(s),i}function bx(n){return l1(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function ZB(n){return function(t){return ve(ve(t).persistence).zi()}(ve(n).localStore)}async function e5(n,e,t,r){const i=ve(n);if(i.ja)return void ue(ea,"Ignoring unexpected query state notification.");const s=i.qa.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const l=await ox(i.localStore,c1(s[0])),u=sf.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Ft.EMPTY_BYTE_STRING);await Us(i,l,u);break}case"rejected":await Yu(i.localStore,e,!0),Zu(i,e,r);break;default:Ee()}}async function t5(n,e,t){const r=Xg(n);if(r.ja){for(const i of e){if(r.qa.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){ue(ea,"Adding an already active target "+i);continue}const s=await sx(r.localStore,i),l=await Qu(r.localStore,s);await R0(r,bx(s),l.targetId,!1,l.resumeToken),Jg(r.remoteStore,l)}for(const i of t)r.qa.has(i)&&await Yu(r.localStore,i,!1).then(()=>{Ju(r.remoteStore,i),Zu(r,i)}).catch(Yo)}}function Xg(n){const e=ve(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Sx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BB.bind(null,e),e.La.p_=kB.bind(null,e.eventManager),e.La.Ja=xB.bind(null,e.eventManager),e}function C0(n){const e=ve(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WB.bind(null,e),e}function n5(n,e,t){const r=ve(n);(async function(s,l,u){try{const d=await l.getMetadata();if(await function(T,I){const R=ve(T),A=Wt(I.createTime);return R.persistence.runTransaction("hasNewerBundle","readonly",V=>R.Yr.getBundleMetadata(V,I.id)).then(V=>!!V&&V.createTime.compareTo(A)>=0)}(s.localStore,d))return await l.close(),u._completeWith(function(T){return{taskState:"Success",documentsLoaded:T.totalDocuments,bytesLoaded:T.totalBytes,totalDocuments:T.totalDocuments,totalBytes:T.totalBytes}}(d)),Promise.resolve(new Set);u._updateProgress(vx(d));const h=new NB(d,s.localStore,l.serializer);let m=await l.Ya();for(;m;){const _=await h.Aa(m);_&&u._updateProgress(_),m=await l.Ya()}const g=await h.complete();return await Us(s,g.ma,void 0),await function(T,I){const R=ve(T);return R.persistence.runTransaction("Save bundle","readwrite",A=>R.Yr.saveBundleMetadata(A,I))}(s.localStore,d),u._completeWith(g.progress),Promise.resolve(g.Va)}catch(d){return Gi(ea,`Loading bundle failed with ${d}`),u._failWith(d),Promise.resolve(new Set)}})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=af(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return tx(this.persistence,new ex,e.initialUser,this.serializer)}Xa(e){return new c0(Yg.ri,this.serializer)}Za(e){return new dx}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kh.provider={build:()=>new kh};class r5 extends kh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Re(this.persistence.referenceDelegate instanceof sg);const r=this.persistence.referenceDelegate.garbageCollector;return new G1(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new c0(r=>sg.ri(r,t),this.serializer)}}class Ax extends kh{constructor(e,t,r){super(),this.ru=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ru.initialize(this,e),await C0(this.ru.syncEngine),await gc(this.ru.remoteStore),await this.persistence.Ci(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}eu(e){return tx(this.persistence,new ex,e.initialUser,this.serializer)}tu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new G1(r,e.asyncQueue,t)}nu(e,t){const r=new hj(t,this.persistence);return new dj(e.asyncQueue,r)}Xa(e){const t=h0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new d0(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,hx(),Im(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Za(e){return new dx}}class i5 extends Ax{constructor(e,t){super(e,t,!1),this.ru=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.ru.syncEngine;this.sharedClientState instanceof Nv&&(this.sharedClientState.syncEngine={uo:JB.bind(null,t),co:e5.bind(null,t),lo:t5.bind(null,t),zi:ZB.bind(null,t),ao:YB.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ci(async r=>{await XB(this.ru.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}Za(e){const t=hx();if(!Nv.D(t))throw new ae(te.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=h0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Nv(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class xh{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Hb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=KB.bind(null,this.syncEngine),await jw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new CB}()}createDatastore(e){const t=af(e.databaseInfo.databaseId),r=function(s){return new dB(s)}(e.databaseInfo);return function(s,l,u,d){return new mB(s,l,u,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,s,l,u){return new yB(r,i,s,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>Hb(this.syncEngine,t,0),function(){return Ub.D()?new Ub:new aB}())}createSyncEngine(e,t){return function(i,s,l,u,d,h,m){const g=new VB(i,s,l,u,d,h);return m&&(g.ja=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const s=ve(i);ue(nl,"RemoteStore shutting down."),s.W_.add(5),await mc(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}xh.provider={build:()=>new xh};function Gb(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):zt("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e,t){this.ou=e,this.serializer=t,this.metadata=new Rn,this.buffer=new Uint8Array,this._u=function(){return new TextDecoder("utf-8")}(),this.au().then(r=>{r&&r.Ea()?this.metadata.resolve(r.Ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Ia)}`))},r=>this.metadata.reject(r))}close(){return this.ou.cancel()}async getMetadata(){return this.metadata.promise}async Ya(){return await this.getMetadata(),this.au()}async au(){const e=await this.uu();if(e===null)return null;const t=this._u.decode(e),r=Number(t);isNaN(r)&&this.cu(`length string (${t}) is not valid number`);const i=await this.lu(r);return new OB(JSON.parse(i),e.length+r)}hu(){return this.buffer.findIndex(e=>e===123)}async uu(){for(;this.hu()<0&&!await this.Pu(););if(this.buffer.length===0)return null;const e=this.hu();e<0&&this.cu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async lu(e){for(;this.buffer.length<e;)await this.Pu()&&this.cu("Reached the end of bundle when more is expected.");const t=this._u.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}cu(e){throw this.ou.cancel(),new Error(`Invalid bundle format: ${e}`)}async Pu(){const e=await this.ou.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ae(te.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(i,s){const l=ve(i),u={documents:s.map(g=>Ph(l.serializer,g))},d=await l.Co("BatchGetDocuments",l.serializer.databaseId,Be.emptyPath(),u,s.length),h=new Map;d.forEach(g=>{const _=_4(l.serializer,g);h.set(_.key.toString(),_)});const m=[];return s.forEach(g=>{const _=h.get(g.toString());Re(!!_),m.push(_)}),m}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new pc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{const i=_e.fromPath(r);this.mutations.push(new e0(i,this.precondition(i)))}),await async function(r,i){const s=ve(r),l={writes:i.map(u=>Ch(s.serializer,u))};await s.bo("Commit",s.serializer.databaseId,Be.emptyPath(),l)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ee();t=Pe.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new ae(te.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Pe.min())?bt.exists(!1):bt.updateTime(t):bt.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Pe.min()))throw new ae(te.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return bt.updateTime(t)}return bt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.Tu=r.maxAttempts,this.a_=new g0(this.asyncQueue,"transaction_retry")}Iu(){this.Tu-=1,this.Eu()}Eu(){this.a_.Xo(async()=>{const e=new o5(this.datastore),t=this.du(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Au(i)}))}).catch(r=>{this.Au(r)})})}du(e){try{const t=this.updateFunction(e);return!Xh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Au(e){this.Tu>0&&this.Ru(e)?(this.Tu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Eu(),Promise.resolve()))):this.deferred.reject(e)}Ru(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!T1(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o="FirestoreClient";class l5{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=mn.UNAUTHENTICATED,this.clientId=Pk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async l=>{ue($o,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(ue($o,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Rn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=_c(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Lv(n,e){n.asyncQueue.verifyOperationInProgress(),ue($o,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await nx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Qb(n,e){n.asyncQueue.verifyOperationInProgress();const t=await k0(n);ue($o,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>jb(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>jb(e.remoteStore,i)),n._onlineComponents=e}async function k0(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ue($o,"Using user provided OfflineComponentProvider");try{await Lv(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===te.FAILED_PRECONDITION||i.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Gi("Error using user provided cache. Falling back to memory cache: "+t),await Lv(n,new kh)}}else ue($o,"Using default OfflineComponentProvider"),await Lv(n,new r5(void 0));return n._offlineComponents}async function ey(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ue($o,"Using user provided OnlineComponentProvider"),await Qb(n,n._uninitializedComponentsProvider._online)):(ue($o,"Using default OnlineComponentProvider"),await Qb(n,new xh))),n._onlineComponents}function Px(n){return k0(n).then(e=>e.persistence)}function x0(n){return k0(n).then(e=>e.localStore)}function Cx(n){return ey(n).then(e=>e.remoteStore)}function O0(n){return ey(n).then(e=>e.syncEngine)}function u5(n){return ey(n).then(e=>e.datastore)}async function ec(n){const e=await ey(n),t=e.eventManager;return t.onListen=MB.bind(null,e.syncEngine),t.onUnlisten=UB.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=FB.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=$B.bind(null,e.syncEngine),t}function c5(n){return n.asyncQueue.enqueue(async()=>{const e=await Px(n),t=await Cx(n);return e.setNetworkEnabled(!0),function(i){const s=ve(i);return s.W_.delete(0),lf(s)}(t)})}function d5(n){return n.asyncQueue.enqueue(async()=>{const e=await Px(n),t=await Cx(n);return e.setNetworkEnabled(!1),async function(i){const s=ve(i);s.W_.add(0),await mc(s),s.j_.set("Offline")}(t)})}function h5(n,e){const t=new Rn;return n.asyncQueue.enqueueAndForget(async()=>async function(i,s,l){try{const u=await function(h,m){const g=ve(h);return g.persistence.runTransaction("read document","readonly",_=>g.localDocuments.getDocument(_,m))}(i,s);u.isFoundDocument()?l.resolve(u):u.isNoDocument()?l.resolve(null):l.reject(new ae(te.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const d=_c(u,`Failed to get document '${s} from cache`);l.reject(d)}}(await x0(n),e,t)),t.promise}function kx(n,e,t={}){const r=new Rn;return n.asyncQueue.enqueueAndForget(async()=>function(s,l,u,d,h){const m=new Zg({next:_=>{m.su(),l.enqueueAndForget(()=>I0(s,g));const T=_.docs.has(u);!T&&_.fromCache?h.reject(new ae(te.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&_.fromCache&&d&&d.source==="server"?h.reject(new ae(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(_)},error:_=>h.reject(_)}),g=new S0(hc(u.path),m,{includeMetadataChanges:!0,Ta:!0});return E0(s,g)}(await ec(n),n.asyncQueue,e,t,r)),r.promise}function f5(n,e){const t=new Rn;return n.asyncQueue.enqueueAndForget(async()=>async function(i,s,l){try{const u=await og(i,s,!0),d=new Ix(s,u.gs),h=d.Sa(u.documents),m=d.applyChanges(h,!1);l.resolve(m.snapshot)}catch(u){const d=_c(u,`Failed to execute query '${s} against cache`);l.reject(d)}}(await x0(n),e,t)),t.promise}function xx(n,e,t={}){const r=new Rn;return n.asyncQueue.enqueueAndForget(async()=>function(s,l,u,d,h){const m=new Zg({next:_=>{m.su(),l.enqueueAndForget(()=>I0(s,g)),_.fromCache&&d.source==="server"?h.reject(new ae(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(_)},error:_=>h.reject(_)}),g=new S0(u,m,{includeMetadataChanges:!0,Ta:!0});return E0(s,g)}(await ec(n),n.asyncQueue,e,t,r)),r.promise}function p5(n,e){const t=new Zg(e);return n.asyncQueue.enqueueAndForget(async()=>function(i,s){ve(i).ia.add(s),s.next()}(await ec(n),t)),()=>{t.su(),n.asyncQueue.enqueueAndForget(async()=>function(i,s){ve(i).ia.delete(s)}(await ec(n),t))}}function m5(n,e,t,r){const i=function(l,u){let d;return d=typeof l=="string"?R1().encode(l):l,function(m,g){return new s5(m,g)}(function(m,g){if(m instanceof Uint8Array)return Gb(m,g);if(m instanceof ArrayBuffer)return Gb(new Uint8Array(m),g);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),u)}(t,af(e));n.asyncQueue.enqueueAndForget(async()=>{n5(await O0(n),i,r)})}function g5(n,e){return n.asyncQueue.enqueue(async()=>function(r,i){const s=ve(r);return s.persistence.runTransaction("Get named query","readonly",l=>s.Yr.getNamedQuery(l,i))}(await x0(n),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(n,e,t){if(!t)throw new ae(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Nx(n,e,t,r){if(e===!0&&r===!0)throw new ae(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Jb(n){if(!_e.isDocumentKey(n))throw new ae(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Xb(n){if(_e.isDocumentKey(n))throw new ae(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ty(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ee()}function et(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ae(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ty(n);throw new ae(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Dx(n,e){if(e<=0)throw new ae(te.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx="firestore.googleapis.com",Zb=!0;class eA{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Lx,this.ssl=Zb}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Zb;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=W1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<M4)throw new ae(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Nx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ox((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ae(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ae(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ae(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uf{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new tj;switch(r.type){case"firstParty":return new sj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Yb.get(t);r&&(ue("ComponentProvider","Removing Datastore"),Yb.delete(t),r.terminate())}(this),Promise.resolve()}}function y5(n,e,t,r={}){var i;const s=(n=et(n,uf))._getSettings(),l=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;s.host!==Lx&&s.host!==u&&Gi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},s),{host:u,ssl:!1,emulatorOptions:r});if(!di(d,l)&&(n._setSettings(d),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=mn.MOCK_USER;else{h=u2(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new ae(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new mn(g)}n._authCredentials=new nj(new Ak(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wn=class Vx{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Vx(this.firestore,e,this._query)}},Nt=class Mx{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Po(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mx(this.firestore,e,this._key)}},Po=class Fx extends Wn{constructor(e,t,r){super(e,t,hc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new _e(e))}withConverter(e){return new Fx(this.firestore,e,this._path)}};function Ux(n,e,...t){if(n=Ce(n),N0("collection","path",e),n instanceof uf){const r=Be.fromString(e,...t);return Xb(r),new Po(n,null,r)}{if(!(n instanceof Nt||n instanceof Po))throw new ae(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Be.fromString(e,...t));return Xb(r),new Po(n.firestore,null,r)}}function _5(n,e){if(n=et(n,uf),N0("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ae(te.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Wn(n,null,function(r){return new Vs(Be.emptyPath(),r)}(e))}function cg(n,e,...t){if(n=Ce(n),arguments.length===1&&(e=Pk.newId()),N0("doc","path",e),n instanceof uf){const r=Be.fromString(e,...t);return Jb(r),new Nt(n,null,new _e(r))}{if(!(n instanceof Nt||n instanceof Po))throw new ae(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Be.fromString(e,...t));return Jb(r),new Nt(n.firestore,n instanceof Po?n.converter:null,new _e(r))}}function $x(n,e){return n=Ce(n),e=Ce(e),(n instanceof Nt||n instanceof Po)&&(e instanceof Nt||e instanceof Po)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function jx(n,e){return n=Ce(n),e=Ce(e),n instanceof Wn&&e instanceof Wn&&n.firestore===e.firestore&&tf(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="AsyncQueue";class nA{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new g0(this,"async_queue_retry"),this.bu=()=>{const r=Im();r&&ue(tA,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const t=Im();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Im();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Rn;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Jo(e))throw e;ue(tA,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),u}(r);throw zt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.Su=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=w0.createAndSchedule(this,e,t,r,s=>this.Fu(s));return this.fu.push(i),i}Du(){this.gu&&Ee()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function Ww(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(n,["next","error","complete"])}class v5{constructor(){this._progressObserver={},this._taskCompletionResolver=new Rn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5=-1;let qt=class extends uf{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new nA,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new nA(e),this._firestoreClient=void 0,await e}}};function Vn(n){if(n._terminated)throw new ae(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Bx(n),n._firestoreClient}function Bx(n){var e,t,r;const i=n._freezeSettings(),s=function(u,d,h,m){return new jj(u,d,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Ox(m.experimentalLongPollingOptions),m.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new l5(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(u){const d=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(d),_online:d}}(n._componentsProvider))}function E5(n,e){Gi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return zx(n,xh.provider,{build:r=>new Ax(r,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function I5(n){Gi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();zx(n,xh.provider,{build:t=>new i5(t,e.cacheSizeBytes)})}function zx(n,e,t){if((n=et(n,qt))._firestoreClient||n._terminated)throw new ae(te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new ae(te.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},Bx(n)}function T5(n){if(n._initialized&&!n._terminated)throw new ae(te.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Rn;return n._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!zi.D())return Promise.resolve();const i=r+Z1;await zi.delete(i)}(h0(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}}),e.promise}function S5(n){return function(t){const r=new Rn;return t.asyncQueue.enqueueAndForget(async()=>qB(await O0(t),r)),r.promise}(Vn(n=et(n,qt)))}function R5(n){return c5(Vn(n=et(n,qt)))}function b5(n){return d5(Vn(n=et(n,qt)))}function A5(n,e){const t=Vn(n=et(n,qt)),r=new v5;return m5(t,n._databaseId,e,r),r}function P5(n,e){return g5(Vn(n=et(n,qt)),e).then(t=>t?new Wn(n,null,t.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yi(Ft.fromBase64String(e))}catch(t){throw new ae(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Yi(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jo=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ae(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dl=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ae(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ae(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5=/^__.*__$/;class k5{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Fs(e,this.data,this.fieldMask,t,this.fieldTransforms):new fc(e,this.data,t,this.fieldTransforms)}}class Wx{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Fs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function qx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class ry{constructor(e,t,r,i,s,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new ry(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return dg(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(qx(this.Lu)&&C5.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class x5{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||af(e)}ju(e,t,r,i=!1){return new ry({Lu:e,methodName:t,zu:r,path:Rt.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hl(n){const e=n._freezeSettings(),t=af(n._databaseId);return new x5(n._databaseId,!!e.ignoreUndefinedProperties,t)}function iy(n,e,t,r,i,s={}){const l=n.ju(s.merge||s.mergeFields?2:0,e,t,i);j0("Data must be an object, but it was:",l,r);const u=Gx(r,l);let d,h;if(s.merge)d=new rr(l.fieldMask),h=l.fieldTransforms;else if(s.mergeFields){const m=[];for(const g of s.mergeFields){const _=qw(e,g,t);if(!l.contains(_))throw new ae(te.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);Yx(m,_)||m.push(_)}d=new rr(m),h=l.fieldTransforms.filter(g=>d.covers(g.field))}else d=null,h=l.fieldTransforms;return new k5(new Sn(u),d,h)}class cf extends dl{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cf}}function Hx(n,e,t){return new ry({Lu:3,zu:e.settings.zu,methodName:n._methodName,Qu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class L0 extends dl{_toFieldTransform(e){return new rf(e.path,new Hu)}isEqual(e){return e instanceof L0}}class V0 extends dl{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=Hx(this,e,!0),r=this.Hu.map(s=>fl(s,t)),i=new Ja(r);return new rf(e.path,i)}isEqual(e){return e instanceof V0&&di(this.Hu,e.Hu)}}class M0 extends dl{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=Hx(this,e,!0),r=this.Hu.map(s=>fl(s,t)),i=new Xa(r);return new rf(e.path,i)}isEqual(e){return e instanceof M0&&di(this.Hu,e.Hu)}}class F0 extends dl{constructor(e,t){super(e),this.Ju=t}_toFieldTransform(e){const t=new Ku(e.serializer,g1(e.serializer,this.Ju));return new rf(e.path,t)}isEqual(e){return e instanceof F0&&this.Ju===e.Ju}}function U0(n,e,t,r){const i=n.ju(1,e,t);j0("Data must be an object, but it was:",i,r);const s=[],l=Sn.empty();Xo(r,(d,h)=>{const m=B0(e,d,t);h=Ce(h);const g=i.Ku(m);if(h instanceof cf)s.push(m);else{const _=fl(h,g);_!=null&&(s.push(m),l.set(m,_))}});const u=new rr(s);return new Wx(l,u,i.fieldTransforms)}function $0(n,e,t,r,i,s){const l=n.ju(1,e,t),u=[qw(e,r,t)],d=[i];if(s.length%2!=0)throw new ae(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<s.length;_+=2)u.push(qw(e,s[_])),d.push(s[_+1]);const h=[],m=Sn.empty();for(let _=u.length-1;_>=0;--_)if(!Yx(h,u[_])){const T=u[_];let I=d[_];I=Ce(I);const R=l.Ku(T);if(I instanceof cf)h.push(T);else{const A=fl(I,R);A!=null&&(h.push(T),m.set(T,A))}}const g=new rr(h);return new Wx(m,g,l.fieldTransforms)}function Kx(n,e,t,r=!1){return fl(t,n.ju(r?4:3,e))}function fl(n,e){if(Qx(n=Ce(n)))return j0("Unsupported field value:",e,n),Gx(n,e);if(n instanceof dl)return function(r,i){if(!qx(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const s=[];let l=0;for(const u of r){let d=fl(u,i.Uu(l));d==null&&(d={nullValue:"NULL_VALUE"}),s.push(d),l++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=Ce(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return g1(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=At.fromDate(r);return{timestampValue:Gu(i.serializer,s)}}if(r instanceof At){const s=new At(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gu(i.serializer,s)}}if(r instanceof ny)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yi)return{bytesValue:P1(i.serializer,r._byteString)};if(r instanceof Nt){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:s0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof D0)return function(l,u){return{mapValue:{fields:{[GE]:{stringValue:QE},[zu]:{arrayValue:{values:l.toArray().map(h=>{if(typeof h!="number")throw u.Wu("VectorValues must only contain numeric values.");return ZE(u.serializer,h)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${ty(r)}`)}(n,e)}function Gx(n,e){const t={};return qk(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xo(n,(r,i)=>{const s=fl(i,e.qu(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function Qx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof At||n instanceof ny||n instanceof Yi||n instanceof Nt||n instanceof dl||n instanceof D0)}function j0(n,e,t){if(!Qx(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=ty(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function qw(n,e,t){if((e=Ce(e))instanceof jo)return e._internalPath;if(typeof e=="string")return B0(n,e);throw dg("Field path arguments must be of type string or ",n,!1,void 0,t)}const O5=new RegExp("[~\\*/\\[\\]]");function B0(n,e,t){if(e.search(O5)>=0)throw dg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new jo(...e.split("."))._internalPath}catch{throw dg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function dg(n,e,t,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(s||l)&&(d+=" (found",s&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new ae(te.INVALID_ARGUMENT,u+n+d)}function Yx(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new N5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(sy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class N5 extends Oh{data(){return super.data()}}function sy(n,e){return typeof e=="string"?B0(n,e):e instanceof jo?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ae(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class z0{}class df extends z0{}function yo(n,e,...t){let r=[];e instanceof z0&&r.push(e),r=r.concat(t),function(s){const l=s.filter(d=>d instanceof W0).length,u=s.filter(d=>d instanceof oy).length;if(l>1||l>0&&u>0)throw new ae(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class oy extends df{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new oy(e,t,r)}_apply(e){const t=this._parse(e);return Zx(e._query,t),new Wn(e.firestore,e.converter,xw(e._query,t))}_parse(e){const t=hl(e.firestore);return function(s,l,u,d,h,m,g){let _;if(h.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new ae(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){iA(g,m);const I=[];for(const R of g)I.push(rA(d,s,R));_={arrayValue:{values:I}}}else _=rA(d,s,g)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||iA(g,m),_=Kx(u,l,g,m==="in"||m==="not-in");return ze.create(h,m,_)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function D5(n,e,t){const r=e,i=sy("where",n);return oy._create(i,r,t)}class W0 extends z0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new W0(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ot.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let l=i;const u=s.getFlattenedFilters();for(const d of u)Zx(l,d),l=xw(l,d)}(e._query,t),new Wn(e.firestore,e.converter,xw(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class q0 extends df{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new q0(e,t)}_apply(e){const t=function(i,s,l){if(i.startAt!==null)throw new ae(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ae(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ah(s,l)}(e._query,this._field,this._direction);return new Wn(e.firestore,e.converter,function(i,s){const l=i.explicitOrderBy.concat([s]);return new Vs(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function L5(n,e="asc"){const t=e,r=sy("orderBy",n);return q0._create(r,t)}class ay extends df{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new ay(e,t,r)}_apply(e){return new Wn(e.firestore,e.converter,tg(e._query,this._limit,this._limitType))}}function V5(n){return Dx("limit",n),ay._create("limit",n,"F")}function M5(n){return Dx("limitToLast",n),ay._create("limitToLast",n,"L")}class ly extends df{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new ly(e,t,r)}_apply(e){const t=Xx(e,this.type,this._docOrFields,this._inclusive);return new Wn(e.firestore,e.converter,function(i,s){return new Vs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,t))}}function F5(...n){return ly._create("startAt",n,!0)}function U5(...n){return ly._create("startAfter",n,!1)}class uy extends df{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new uy(e,t,r)}_apply(e){const t=Xx(e,this.type,this._docOrFields,this._inclusive);return new Wn(e.firestore,e.converter,function(i,s){return new Vs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,t))}}function $5(...n){return uy._create("endBefore",n,!1)}function j5(...n){return uy._create("endAt",n,!0)}function Xx(n,e,t,r){if(t[0]=Ce(t[0]),t[0]instanceof Oh)return function(s,l,u,d,h){if(!d)throw new ae(te.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const m=[];for(const g of Au(s))if(g.field.isKeyField())m.push(Qa(l,d.key));else{const _=d.data.field(g.field);if(zg(_))throw new ae(te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){const T=g.field.canonicalString();throw new ae(te.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${T}' (used as the orderBy) does not exist.`)}m.push(_)}return new Fo(m,h)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=hl(n.firestore);return function(l,u,d,h,m,g){const _=l.explicitOrderBy;if(m.length>_.length)throw new ae(te.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const T=[];for(let I=0;I<m.length;I++){const R=m[I];if(_[I].field.isKeyField()){if(typeof R!="string")throw new ae(te.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof R}`);if(!JE(l)&&R.indexOf("/")!==-1)throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${R}' contains a slash.`);const A=l.path.child(Be.fromString(R));if(!_e.isDocumentKey(A))throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${A}' is not because it contains an odd number of segments.`);const V=new _e(A);T.push(Qa(u,V))}else{const A=Kx(d,h,R);T.push(A)}}return new Fo(T,g)}(n._query,n.firestore._databaseId,i,e,t,r)}}function rA(n,e,t){if(typeof(t=Ce(t))=="string"){if(t==="")throw new ae(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!JE(e)&&t.indexOf("/")!==-1)throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Be.fromString(t));if(!_e.isDocumentKey(r))throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Qa(n,new _e(r))}if(t instanceof Nt)return Qa(n,t._key);throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ty(t)}.`)}function iA(n,e){if(!Array.isArray(n)||n.length===0)throw new ae(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Zx(n,e){const t=function(i,s){for(const l of i)for(const u of l.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ae(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class H0{convertValue(e,t="none"){switch(Vo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Xo(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;const s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[zu].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>St(l.doubleValue));return new D0(s)}convertGeoPoint(e){return new ny(St(e.latitude),St(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Wg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Sh(e));default:return null}}convertTimestamp(e){const t=xs(e);return new At(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Be.fromString(e);Re(U1(r));const i=new Lo(r.get(1),r.get(3)),s=new _e(r.popFirst(5));return i.isEqual(t)||zt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class B5 extends H0{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Ns=class extends Oh{constructor(e,t,r,i,s,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(sy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},oh=class extends Ns{data(e={}){return super.data(e)}},Bo=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new $a(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new oh(this._firestore,this._userDataWriter,r.key,r,new $a(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ae(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>{const d=new oh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new $a(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>s||u.type!==3).map(u=>{const d=new oh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new $a(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,m=-1;return u.type!==0&&(h=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:z5(u.type),doc:d,oldIndex:h,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function z5(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}function eO(n,e){return n instanceof Ns&&e instanceof Ns?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Bo&&e instanceof Bo&&n._firestore===e._firestore&&jx(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W5(n){n=et(n,Nt);const e=et(n.firestore,qt);return kx(Vn(e),n._key).then(t=>K0(e,n,t))}class pl extends H0{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,t)}}function q5(n){n=et(n,Nt);const e=et(n.firestore,qt),t=Vn(e),r=new pl(e);return h5(t,n._key).then(i=>new Ns(e,r,n._key,i,new $a(i!==null&&i.hasLocalMutations,!0),n.converter))}function H5(n){n=et(n,Nt);const e=et(n.firestore,qt);return kx(Vn(e),n._key,{source:"server"}).then(t=>K0(e,n,t))}function K5(n){n=et(n,Wn);const e=et(n.firestore,qt),t=Vn(e),r=new pl(e);return Jx(n._query),xx(t,n._query).then(i=>new Bo(e,r,n,i))}function G5(n){n=et(n,Wn);const e=et(n.firestore,qt),t=Vn(e),r=new pl(e);return f5(t,n._query).then(i=>new Bo(e,r,n,i))}function Q5(n){n=et(n,Wn);const e=et(n.firestore,qt),t=Vn(e),r=new pl(e);return xx(t,n._query,{source:"server"}).then(i=>new Bo(e,r,n,i))}function sA(n,e,t){n=et(n,Nt);const r=et(n.firestore,qt),i=cy(n.converter,e,t);return hf(r,[iy(hl(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,bt.none())])}function oA(n,e,t,...r){n=et(n,Nt);const i=et(n.firestore,qt),s=hl(i);let l;return l=typeof(e=Ce(e))=="string"||e instanceof jo?$0(s,"updateDoc",n._key,e,t,r):U0(s,"updateDoc",n._key,e),hf(i,[l.toMutation(n._key,bt.exists(!0))])}function Y5(n){return hf(et(n.firestore,qt),[new pc(n._key,bt.none())])}function J5(n,e){const t=et(n.firestore,qt),r=cg(n),i=cy(n.converter,e);return hf(t,[iy(hl(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,bt.exists(!1))]).then(()=>r)}function tO(n,...e){var t,r,i;n=Ce(n);let s={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||Ww(e[l])||(s=e[l],l++);const u={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Ww(e[l])){const g=e[l];e[l]=(t=g.next)===null||t===void 0?void 0:t.bind(g),e[l+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[l+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let d,h,m;if(n instanceof Nt)h=et(n.firestore,qt),m=hc(n._key.path),d={next:g=>{e[l]&&e[l](K0(h,n,g))},error:e[l+1],complete:e[l+2]};else{const g=et(n,Wn);h=et(g.firestore,qt),m=g._query;const _=new pl(h);d={next:T=>{e[l]&&e[l](new Bo(h,_,g,T))},error:e[l+1],complete:e[l+2]},Jx(n._query)}return function(_,T,I,R){const A=new Zg(R),V=new S0(T,A,I);return _.asyncQueue.enqueueAndForget(async()=>E0(await ec(_),V)),()=>{A.su(),_.asyncQueue.enqueueAndForget(async()=>I0(await ec(_),V))}}(Vn(h),m,u,d)}function X5(n,e){return p5(Vn(n=et(n,qt)),Ww(e)?e:{next:e})}function hf(n,e){return function(r,i){const s=new Rn;return r.asyncQueue.enqueueAndForget(async()=>jB(await O0(r),i,s)),s.promise}(Vn(n),e)}function K0(n,e,t){const r=t.docs.get(e._key),i=new pl(n);return new Ns(n,i,e._key,r,new $a(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z5={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e3=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=hl(e)}set(e,t,r){this._verifyNotCommitted();const i=To(e,this._firestore),s=cy(i.converter,t,r),l=iy(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,bt.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=To(e,this._firestore);let l;return l=typeof(t=Ce(t))=="string"||t instanceof jo?$0(this._dataReader,"WriteBatch.update",s._key,t,r,i):U0(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(l.toMutation(s._key,bt.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=To(e,this._firestore);return this._mutations=this._mutations.concat(new pc(t._key,bt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ae(te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function To(n,e){if((n=Ce(n)).firestore!==e)throw new ae(te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=hl(e)}get(e){const t=To(e,this._firestore),r=new B5(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||i.length!==1)return Ee();const s=i[0];if(s.isFoundDocument())return new Oh(this._firestore,r,s.key,s,t.converter);if(s.isNoDocument())return new Oh(this._firestore,r,t._key,null,t.converter);throw Ee()})}set(e,t,r){const i=To(e,this._firestore),s=cy(i.converter,t,r),l=iy(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,l),this}update(e,t,r,...i){const s=To(e,this._firestore);let l;return l=typeof(t=Ce(t))=="string"||t instanceof jo?$0(this._dataReader,"Transaction.update",s._key,t,r,i):U0(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,l),this}delete(e){const t=To(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let n3=class extends t3{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=To(e,this._firestore),r=new pl(this._firestore);return super.get(e).then(i=>new Ns(this._firestore,r,t._key,i._document,new $a(!1,!1),t.converter))}};function r3(n,e,t){n=et(n,qt);const r=Object.assign(Object.assign({},Z5),t);return function(s){if(s.maxAttempts<1)throw new ae(te.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,l,u){const d=new Rn;return s.asyncQueue.enqueueAndForget(async()=>{const h=await u5(s);new a5(s.asyncQueue,h,u,l,d).Iu()}),d.promise}(Vn(n),i=>e(new n3(n,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(){return new cf("deleteField")}function s3(){return new L0("serverTimestamp")}function o3(...n){return new V0("arrayUnion",n)}function a3(...n){return new M0("arrayRemove",n)}function l3(n){return new F0("increment",n)}(function(e,t=!0){(function(i){dc=i})(br),Ki(new Br("firestore",(r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),u=new qt(new rj(r.getProvider("auth-internal")),new oj(l,r.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ae(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lo(h.options.projectId,m)}(l,i),l);return s=Object.assign({useFetchStreams:t},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),Er(FR,UR,e),Er(FR,UR,"esm2017")})();const u3="@firebase/firestore-compat",c3="0.3.44";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new ae("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(){if(typeof Uint8Array>"u")throw new ae("unimplemented","Uint8Arrays are not available in this environment.")}function lA(){if(!Uj())throw new ae("unimplemented","Blobs are unavailable in Firestore in this environment.")}let nO=class Hw{constructor(e){this._delegate=e}static fromBase64String(e){return lA(),new Hw(Yi.fromBase64String(e))}static fromUint8Array(e){return aA(),new Hw(Yi.fromUint8Array(e))}toBase64(){return lA(),this._delegate.toBase64()}toUint8Array(){return aA(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(n){return d3(n,["next","error","complete"])}function d3(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{enableIndexedDbPersistence(e,t){return E5(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return I5(e._delegate)}clearIndexedDbPersistence(e){return T5(e._delegate)}}class rO{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Lo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Gi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){y5(this._delegate,e,t,r)}enableNetwork(){return R5(this._delegate)}disableNetwork(){return b5(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Nx("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return S5(this._delegate)}onSnapshotsInSync(e){return X5(this._delegate,e)}get app(){if(!this._appCompat)throw new ae("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new tc(this,Ux(this._delegate,e))}catch(t){throw Bn(t,"collection()","Firestore.collection()")}}doc(e){try{return new $r(this,cg(this._delegate,e))}catch(t){throw Bn(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new jn(this,_5(this._delegate,e))}catch(t){throw Bn(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return r3(this._delegate,t=>e(new iO(this,t)))}batch(){return Vn(this._delegate),new sO(new e3(this._delegate,e=>hf(this._delegate,e)))}loadBundle(e){return A5(this._delegate,e)}namedQuery(e){return P5(this._delegate,e).then(t=>t?new jn(this,t):null)}}class dy extends H0{constructor(e){super(),this.firestore=e}convertBytes(e){return new nO(new Yi(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return $r.forKey(t,this.firestore,null)}}function f3(n){Z$(n)}class iO{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new dy(e)}get(e){const t=ja(e);return this._delegate.get(t).then(r=>new Nh(this._firestore,new Ns(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=ja(e);return r?(G0("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=ja(e);return arguments.length===2?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=ja(e);return this._delegate.delete(t),this}}class sO{constructor(e){this._delegate=e}set(e,t,r){const i=ja(e);return r?(G0("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=ja(e);return arguments.length===2?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=ja(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class rl{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new oh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Dh(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=rl.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new rl(e,new dy(e),t),i.set(t,s)),s}}rl.INSTANCES=new WeakMap;class $r{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new dy(e)}static forPath(e,t,r){if(e.length%2!==0)throw new ae("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new $r(t,new Nt(t._delegate,r,new _e(e)))}static forKey(e,t,r){return new $r(t,new Nt(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new tc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new tc(this.firestore,Ux(this._delegate,e))}catch(t){throw Bn(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Ce(e),e instanceof Nt?$x(this._delegate,e):!1}set(e,t){t=G0("DocumentReference.set",t);try{return t?sA(this._delegate,e,t):sA(this._delegate,e)}catch(r){throw Bn(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?oA(this._delegate,e):oA(this._delegate,e,t,...r)}catch(i){throw Bn(i,"updateDoc()","DocumentReference.update()")}}delete(){return Y5(this._delegate)}onSnapshot(...e){const t=oO(e),r=aO(e,i=>new Nh(this.firestore,new Ns(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return tO(this._delegate,t,r)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=q5(this._delegate):(e==null?void 0:e.source)==="server"?t=H5(this._delegate):t=W5(this._delegate),t.then(r=>new Nh(this.firestore,new Ns(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new $r(this.firestore,e?this._delegate.withConverter(rl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Bn(n,e,t){return n.message=n.message.replace(e,t),n}function oO(n){for(const e of n)if(typeof e=="object"&&!Kw(e))return e;return{}}function aO(n,e){var t,r;let i;return Kw(n[0])?i=n[0]:Kw(n[1])?i=n[1]:typeof n[0]=="function"?i={next:n[0],error:n[1],complete:n[2]}:i={next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:(t=i.error)===null||t===void 0?void 0:t.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class Nh{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new $r(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return eO(this._delegate,e._delegate)}}class Dh extends Nh{data(e){const t=this._delegate.data(e);return this._delegate._converter||ej(t!==void 0),t}}class jn{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new dy(e)}where(e,t,r){try{return new jn(this.firestore,yo(this._delegate,D5(e,t,r)))}catch(i){throw Bn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new jn(this.firestore,yo(this._delegate,L5(e,t)))}catch(r){throw Bn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new jn(this.firestore,yo(this._delegate,V5(e)))}catch(t){throw Bn(t,"limit()","Query.limit()")}}limitToLast(e){try{return new jn(this.firestore,yo(this._delegate,M5(e)))}catch(t){throw Bn(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new jn(this.firestore,yo(this._delegate,F5(...e)))}catch(t){throw Bn(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new jn(this.firestore,yo(this._delegate,U5(...e)))}catch(t){throw Bn(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new jn(this.firestore,yo(this._delegate,$5(...e)))}catch(t){throw Bn(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new jn(this.firestore,yo(this._delegate,j5(...e)))}catch(t){throw Bn(t,"endAt()","Query.endAt()")}}isEqual(e){return jx(this._delegate,e._delegate)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=G5(this._delegate):(e==null?void 0:e.source)==="server"?t=Q5(this._delegate):t=K5(this._delegate),t.then(r=>new Gw(this.firestore,new Bo(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=oO(e),r=aO(e,i=>new Gw(this.firestore,new Bo(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return tO(this._delegate,t,r)}withConverter(e){return new jn(this.firestore,e?this._delegate.withConverter(rl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class p3{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Dh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Gw{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new jn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Dh(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new p3(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Dh(this._firestore,r))})}isEqual(e){return eO(this._delegate,e._delegate)}}class tc extends jn{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new $r(this.firestore,e):null}doc(e){try{return e===void 0?new $r(this.firestore,cg(this._delegate)):new $r(this.firestore,cg(this._delegate,e))}catch(t){throw Bn(t,"doc()","CollectionReference.doc()")}}add(e){return J5(this._delegate,e).then(t=>new $r(this.firestore,t))}isEqual(e){return $x(this._delegate,e._delegate)}withConverter(e){return new tc(this.firestore,e?this._delegate.withConverter(rl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function ja(n){return et(n,Nt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(...e){this._delegate=new jo(...e)}static documentId(){return new Q0(Rt.keyField().canonicalString())}isEqual(e){return e=Ce(e),e instanceof jo?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{static serverTimestamp(){const e=s3();return e._methodName="FieldValue.serverTimestamp",new Fa(e)}static delete(){const e=i3();return e._methodName="FieldValue.delete",new Fa(e)}static arrayUnion(...e){const t=o3(...e);return t._methodName="FieldValue.arrayUnion",new Fa(t)}static arrayRemove(...e){const t=a3(...e);return t._methodName="FieldValue.arrayRemove",new Fa(t)}static increment(e){const t=l3(e);return t._methodName="FieldValue.increment",new Fa(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3={Firestore:rO,GeoPoint:ny,Timestamp:At,Blob:nO,Transaction:iO,WriteBatch:sO,DocumentReference:$r,DocumentSnapshot:Nh,Query:jn,QueryDocumentSnapshot:Dh,QuerySnapshot:Gw,CollectionReference:tc,FieldPath:Q0,FieldValue:Fa,setLogLevel:f3,CACHE_SIZE_UNLIMITED:w5};function g3(n,e){n.INTERNAL.registerComponent(new Br("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},m3)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y3(n){g3(n,(e,t)=>new rO(e,t,new h3)),n.registerVersion(u3,c3)}y3(uc);const bd={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},du={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _3(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function lO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const v3=_3,w3=lO,uO=new es("auth","Firebase",lO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg=new Kh("@firebase/auth");function E3(n,...e){hg.logLevel<=Ue.WARN&&hg.warn(`Auth (${br}): ${n}`,...e)}function Tm(n,...e){hg.logLevel<=Ue.ERROR&&hg.error(`Auth (${br}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(n,...e){throw J0(n,...e)}function an(n,...e){return J0(n,...e)}function Y0(n,e,t){const r=Object.assign(Object.assign({},w3()),{[e]:t});return new es("auth","Firebase",r).create(e,{appName:n.name})}function yn(n){return Y0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vc(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&bn(n,"argument-error"),Y0(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function J0(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return uO.create(n,...e)}function de(n,e,...t){if(!n)throw J0(e,...t)}function $i(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Tm(e),new Error(e)}function fi(n,e){n||$i(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function X0(){return uA()==="http:"||uA()==="https:"}function uA(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(X0()||AE()||"connection"in navigator)?navigator.onLine:!0}function T3(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,t){this.shortDelay=e,this.longDelay=t,fi(t>e,"Short delay should be less than long delay!"),this.isMobile=pC()||Og()}get(){return I3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(n,e){fi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3=new ff(3e4,6e4);function Ut(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function $t(n,e,t,r,i={}){return dO(n,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const u=pi(Object.assign({key:n.config.apiKey},l)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const h=Object.assign({method:e,headers:d},s);return gC()||(h.referrerPolicy="no-referrer"),cO.fetch()(hO(n,n.config.apiHost,t,u),h)})}async function dO(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},S3),e);try{const i=new A3(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw Qd(n,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const u=s.ok?l.errorMessage:l.error.message,[d,h]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qd(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Qd(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw Qd(n,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Y0(n,m,h);bn(n,m)}}catch(i){if(i instanceof gn)throw i;bn(n,"network-request-failed",{message:String(i)})}}async function $s(n,e,t,r,i={}){const s=await $t(n,e,t,r,i);return"mfaPendingCredential"in s&&bn(n,"multi-factor-auth-required",{_serverResponse:s}),s}function hO(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?Z0(n.config,i):`${n.config.apiScheme}://${i}`}function b3(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class A3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(an(this.auth,"network-request-failed")),R3.get())})}}function Qd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=an(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(n){return n!==void 0&&n.getResponse!==void 0}function dA(n){return n!==void 0&&n.enterprise!==void 0}class fO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return b3(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P3(n){return(await $t(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function pO(n,e){return $t(n,"GET","/v2/recaptchaConfig",Ut(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C3(n,e){return $t(n,"POST","/v1/accounts:delete",e)}async function k3(n,e){return $t(n,"POST","/v1/accounts:update",e)}async function mO(n,e){return $t(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function x3(n,e=!1){const t=Ce(n),r=await t.getIdToken(e),i=hy(r);de(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ah(Vv(i.auth_time)),issuedAtTime:ah(Vv(i.iat)),expirationTime:ah(Vv(i.exp)),signInProvider:l||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Vv(n){return Number(n)*1e3}function hy(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Tm("JWT malformed, contained fewer than 3 sections"),null;try{const i=kg(t);return i?JSON.parse(i):(Tm("Failed to decode base64 JWT payload"),null)}catch(i){return Tm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function hA(n){const e=hy(n);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ds(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof gn&&O3(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function O3({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ah(this.lastLoginAt),this.creationTime=ah(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vh(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Ds(n,mO(t,{idToken:r}));de(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const l=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?gO(s.providerUserInfo):[],u=L3(n.providerData,l),d=n.isAnonymous,h=!(n.email&&s.passwordHash)&&!(u!=null&&u.length),m=d?h:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new Qw(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(n,g)}async function D3(n){const e=Ce(n);await Vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function L3(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function gO(n){return n.map(e=>{var{providerId:t}=e,r=cc(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V3(n,e){const t=await dO(n,{},async()=>{const r=pi({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,l=hO(n,i,"/v1/token",`key=${s}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",cO.fetch()(l,{method:"POST",headers:u,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function M3(n,e){return $t(n,"POST","/v2/accounts:revokeToken",Ut(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){de(e.length!==0,"internal-error");const t=hA(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await V3(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,l=new Cu;return r&&(de(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(de(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(de(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Cu,this.toJSON())}_performRefresh(){return $i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(n,e){de(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ts{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=cc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new N3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Qw(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Ds(this,this.stsTokenManager.getToken(this.auth,e));return de(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return x3(this,e)}reload(){return D3(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ts(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Vh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ge(this.auth.app))return Promise.reject(yn(this.auth));const e=await this.getIdToken();return await Ds(this,C3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,l,u,d,h,m;const g=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(i=t.email)!==null&&i!==void 0?i:void 0,T=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,I=(l=t.photoURL)!==null&&l!==void 0?l:void 0,R=(u=t.tenantId)!==null&&u!==void 0?u:void 0,A=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,V=(h=t.createdAt)!==null&&h!==void 0?h:void 0,L=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:M,emailVerified:z,isAnonymous:j,providerData:q,stsTokenManager:D}=t;de(M&&D,e,"internal-error");const b=Cu.fromJSON(this.name,D);de(typeof M=="string",e,"internal-error"),_o(g,e.name),_o(_,e.name),de(typeof z=="boolean",e,"internal-error"),de(typeof j=="boolean",e,"internal-error"),_o(T,e.name),_o(I,e.name),_o(R,e.name),_o(A,e.name),_o(V,e.name),_o(L,e.name);const C=new Ts({uid:M,auth:e,email:_,emailVerified:z,displayName:g,isAnonymous:j,photoURL:I,phoneNumber:T,tenantId:R,stsTokenManager:b,createdAt:V,lastLoginAt:L});return q&&Array.isArray(q)&&(C.providerData=q.map(E=>Object.assign({},E))),A&&(C._redirectEventId=A),C}static async _fromIdTokenResponse(e,t,r=!1){const i=new Cu;i.updateFromServerResponse(t);const s=new Ts({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Vh(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];de(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?gO(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),u=new Cu;u.updateFromIdToken(r);const d=new Ts({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Qw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA=new Map;function wr(n){fi(n instanceof Function,"Expected a class definition");let e=fA.get(n);return e?(fi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,fA.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}yO.type="NONE";const nc=yO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ha(n,e,t){return`firebase:${n}:${e}:${t}`}class ku{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ha(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ha("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ts._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new ku(wr(nc),e,r);const i=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||wr(nc);const l=Ha(r,e.config.apiKey,e.name);let u=null;for(const h of t)try{const m=await h._get(l);if(m){const g=Ts._fromJSON(e,m);h!==s&&(u=g),s=h;break}}catch{}const d=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new ku(s,e,r):(s=d[0],u&&await s._set(l,u.toJSON()),await Promise.all(t.map(async h=>{if(h!==s)try{await h._remove(l)}catch{}})),new ku(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(EO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_O(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(IO(e))return"Blackberry";if(TO(e))return"Webos";if(vO(e))return"Safari";if((e.includes("chrome/")||wO(e))&&!e.includes("edge/"))return"Chrome";if(pf(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function _O(n=We()){return/firefox\//i.test(n)}function vO(n=We()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wO(n=We()){return/crios\//i.test(n)}function EO(n=We()){return/iemobile/i.test(n)}function pf(n=We()){return/android/i.test(n)}function IO(n=We()){return/blackberry/i.test(n)}function TO(n=We()){return/webos/i.test(n)}function mf(n=We()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function F3(n=We()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function U3(n=We()){var e;return mf(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $3(){return PE()&&document.documentMode===10}function SO(n=We()){return mf(n)||pf(n)||TO(n)||IO(n)||/windows phone/i.test(n)||EO(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(n,e=[]){let t;switch(n){case"Browser":t=pA(We());break;case"Worker":t=`${pA(We())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${br}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((l,u)=>{try{const d=e(s);l(d)}catch(d){u(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B3(n,e={}){return $t(n,"GET","/v2/passwordPolicy",Ut(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3=6;class W3{constructor(e){var t,r,i,s;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:z3,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,l,u;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(s=d.containsUppercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mA(this),this.idTokenSubscription=new mA(this),this.beforeStateQueue=new j3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=wr(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ku.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await mO(this,{idToken:e}),r=await Ts._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ge(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&(d!=null&&d.user)&&(i=d.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Vh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=T3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ge(this.app))return Promise.reject(yn(this));const t=e?Ce(e):null;return t&&de(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ge(this.app)?Promise.reject(yn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ge(this.app)?Promise.reject(yn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await B3(this),t=new W3(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new es("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await M3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&wr(e)||this._popupRedirectResolver;de(t,this,"argument-error"),this.redirectPersistenceManager=await ku.create(this,[wr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(u,this,"internal-error"),u.then(()=>{l||s(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Ge(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&E3(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Dt(n){return Ce(n)}class mA{constructor(e){this.auth=e,this.observer=null,this.addObserver=CE(t=>this.observer=t)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function H3(n){gf=n}function eI(n){return gf.loadJS(n)}function K3(){return gf.recaptchaV2Script}function G3(){return gf.recaptchaEnterpriseScript}function Q3(){return gf.gapiScript}function bO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3=500,J3=6e4,Xp=1e12;class X3{constructor(e){this.auth=e,this.counter=Xp,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new tz(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;const r=e||Xp;(t=this._widgets.get(r))===null||t===void 0||t.delete(),this._widgets.delete(r)}getResponse(e){var t;const r=e||Xp;return((t=this._widgets.get(r))===null||t===void 0?void 0:t.getResponse())||""}async execute(e){var t;const r=e||Xp;return(t=this._widgets.get(r))===null||t===void 0||t.execute(),""}}class Z3{constructor(){this.enterprise=new ez}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class ez{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class tz{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;de(i,"argument-error",{appName:t}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=nz(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},J3)},Y3))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function nz(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const rz="recaptcha-enterprise",lh="NO_RECAPTCHA";class AO{constructor(e){this.type=rz,this.auth=Dt(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(l,u)=>{pO(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new fO(d);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,l(h.siteKey)}}).catch(d=>{u(d)})})}function i(s,l,u){const d=window.grecaptcha;dA(d)?d.enterprise.ready(()=>{d.enterprise.execute(s,{action:e}).then(h=>{l(h)}).catch(()=>{l(lh)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Z3().execute("siteKey",{action:"verify"}):new Promise((s,l)=>{r(this.auth).then(u=>{if(!t&&dA(window.grecaptcha))i(u,s,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=G3();d.length!==0&&(d+=u),eI(d).then(()=>{i(u,s,l)}).catch(h=>{l(h)})}}).catch(u=>{l(u)})})}}async function Ad(n,e,t,r=!1,i=!1){const s=new AO(n);let l;if(i)l=lh;else try{l=await s.verify(t)}catch{l=await s.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Co(n,e,t,r,i){var s,l;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Ad(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Ad(n,e,t,t==="getOobCode");return r(n,d)}else return Promise.reject(u)});else if(i==="PHONE_PROVIDER")if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("PHONE_PROVIDER")){const u=await Ad(n,e,t);return r(n,u).catch(async d=>{var h;if(((h=n._getRecaptchaConfig())===null||h===void 0?void 0:h.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(d.code==="auth/missing-recaptcha-token"||d.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const m=await Ad(n,e,t,!1,!0);return r(n,m)}return Promise.reject(d)})}else{const u=await Ad(n,e,t,!1,!0);return r(n,u)}else return Promise.reject(i+" provider is not supported.")}async function iz(n){const e=Dt(n),t=await pO(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new fO(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new AO(e).verify()}function sz(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(wr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function oz(n,e,t){const r=Dt(n);de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(t!=null&&t.disableWarnings),s=PO(e),{host:l,port:u}=az(e),d=u===null?"":`:${u}`,h={url:`${s}//${l}${d}/`},m=Object.freeze({host:l,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){de(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),de(di(h,r.config.emulator)&&di(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,i||lz()}function PO(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function az(n){const e=PO(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:gA(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:gA(l)}}}function gA(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function lz(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return $i("not implemented")}_getIdTokenResponse(e){return $i("not implemented")}_linkToIdToken(e,t){return $i("not implemented")}_getReauthenticationResolver(e){return $i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CO(n,e){return $t(n,"POST","/v1/accounts:resetPassword",Ut(n,e))}async function uz(n,e){return $t(n,"POST","/v1/accounts:update",e)}async function cz(n,e){return $t(n,"POST","/v1/accounts:signUp",e)}async function dz(n,e){return $t(n,"POST","/v1/accounts:update",Ut(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hz(n,e){return $s(n,"POST","/v1/accounts:signInWithPassword",Ut(n,e))}async function fy(n,e){return $t(n,"POST","/v1/accounts:sendOobCode",Ut(n,e))}async function fz(n,e){return fy(n,e)}async function pz(n,e){return fy(n,e)}async function mz(n,e){return fy(n,e)}async function gz(n,e){return fy(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yz(n,e){return $s(n,"POST","/v1/accounts:signInWithEmailLink",Ut(n,e))}async function _z(n,e){return $s(n,"POST","/v1/accounts:signInWithEmailLink",Ut(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends wc{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Mh(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Mh(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Co(e,t,"signInWithPassword",hz,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return yz(e,{email:this._email,oobCode:this._password});default:bn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Co(e,r,"signUpPassword",cz,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return _z(e,{idToken:t,email:this._email,oobCode:this._password});default:bn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ps(n,e){return $s(n,"POST","/v1/accounts:signInWithIdp",Ut(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vz="http://localhost";class Ji extends wc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ji(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):bn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=cc(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Ji(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Ps(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ps(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ps(e,t)}buildRequest(){const e={requestUri:vz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=pi(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yA(n,e){return $t(n,"POST","/v1/accounts:sendVerificationCode",Ut(n,e))}async function wz(n,e){return $s(n,"POST","/v1/accounts:signInWithPhoneNumber",Ut(n,e))}async function Ez(n,e){const t=await $s(n,"POST","/v1/accounts:signInWithPhoneNumber",Ut(n,e));if(t.temporaryProof)throw Qd(n,"account-exists-with-different-credential",t);return t}const Iz={USER_NOT_FOUND:"user-not-found"};async function Tz(n,e){const t=Object.assign(Object.assign({},e),{operation:"REAUTH"});return $s(n,"POST","/v1/accounts:signInWithPhoneNumber",Ut(n,t),Iz)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka extends wc{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ka({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ka({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return wz(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return Ez(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return Tz(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!t&&!i&&!s?null:new Ka({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sz(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Rz(n){const e=ci(Mi(n)).link,t=e?ci(Mi(e)).deep_link_id:null,r=ci(Mi(n)).deep_link_id;return(r?ci(Mi(r)).link:null)||r||t||e||n}class py{constructor(e){var t,r,i,s,l,u;const d=ci(Mi(e)),h=(t=d.apiKey)!==null&&t!==void 0?t:null,m=(r=d.oobCode)!==null&&r!==void 0?r:null,g=Sz((i=d.mode)!==null&&i!==void 0?i:null);de(h&&m&&g,"argument-error"),this.apiKey=h,this.operation=g,this.code=m,this.continueUrl=(s=d.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(u=d.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=Rz(e);try{return new py(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(){this.providerId=ta.PROVIDER_ID}static credential(e,t){return Mh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=py.parseLink(t);return de(r,"argument-error"),Mh._fromEmailAndCode(e,r.code,r.tenantId)}}ta.PROVIDER_ID="password";ta.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ta.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends js{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class xu extends Ec{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return de("providerId"in t&&"signInMethod"in t,"argument-error"),Ji._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return de(e.idToken||e.accessToken,"argument-error"),Ji._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return xu.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return xu.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:l,providerId:u}=e;if(!r&&!i&&!t&&!s||!u)return null;try{return new xu(u)._credential({idToken:t,accessToken:r,nonce:l,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends Ec{constructor(){super("facebook.com")}static credential(e){return Ji._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ni.credential(e.oauthAccessToken)}catch{return null}}}Ni.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ni.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends Ec{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ji._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Di.credential(t,r)}catch{return null}}}Di.GOOGLE_SIGN_IN_METHOD="google.com";Di.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends Ec{constructor(){super("github.com")}static credential(e){return Ji._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Li.credential(e.oauthAccessToken)}catch{return null}}}Li.GITHUB_SIGN_IN_METHOD="github.com";Li.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bz="http://localhost";class rc extends wc{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return Ps(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ps(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ps(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=t;return!r||!i||!s||r!==i?null:new rc(r,s)}static _create(e,t){return new rc(e,t)}buildRequest(){return{requestUri:bz,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Az="saml.";class fg extends js{constructor(e){de(e.startsWith(Az),"argument-error"),super(e)}static credentialFromResult(e){return fg.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return fg.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=rc.fromJSON(e);return de(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return rc._create(r,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends Ec{constructor(){super("twitter.com")}static credential(e,t){return Ji._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Vi.credential(t,r)}catch{return null}}}Vi.TWITTER_SIGN_IN_METHOD="twitter.com";Vi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kO(n,e){return $s(n,"POST","/v1/accounts:signUp",Ut(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await Ts._fromIdTokenResponse(e,r,i),l=_A(r);return new zr({user:s,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=_A(r);return new zr({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function _A(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pz(n){var e;if(Ge(n.app))return Promise.reject(yn(n));const t=Dt(n);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new zr({user:t.currentUser,providerId:null,operationType:"signIn"});const r=await kO(t,{returnSecureToken:!0}),i=await zr._fromIdTokenResponse(t,"signIn",r,!0);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg extends gn{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,pg.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new pg(e,t,r,i)}}function xO(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?pg._fromErrorAndOperation(n,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cz(n,e){const t=Ce(n);await my(!0,t,e);const{providerUserInfo:r}=await k3(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),i=OO(r||[]);return t.providerData=t.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function tI(n,e,t=!1){const r=await Ds(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return zr._forOperation(n,"link",r)}async function my(n,e,t){await Vh(e);const r=OO(e.providerData),i=n===!1?"provider-already-linked":"no-such-provider";de(r.has(t)===n,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NO(n,e,t=!1){const{auth:r}=n;if(Ge(r.app))return Promise.reject(yn(r));const i="reauthenticate";try{const s=await Ds(n,xO(r,i,e,n),t);de(s.idToken,r,"internal-error");const l=hy(s.idToken);de(l,r,"internal-error");const{sub:u}=l;return de(n.uid===u,r,"user-mismatch"),zr._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&bn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DO(n,e,t=!1){if(Ge(n.app))return Promise.reject(yn(n));const r="signIn",i=await xO(n,r,e),s=await zr._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function gy(n,e){return DO(Dt(n),e)}async function LO(n,e){const t=Ce(n);return await my(!1,t,e.providerId),tI(t,e)}async function VO(n,e){return NO(Ce(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kz(n,e){return $s(n,"POST","/v1/accounts:signInWithCustomToken",Ut(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xz(n,e){if(Ge(n.app))return Promise.reject(yn(n));const t=Dt(n),r=await kz(t,{token:e,returnSecureToken:!0}),i=await zr._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?nI._fromServerResponse(e,t):"totpInfo"in t?rI._fromServerResponse(e,t):bn(e,"internal-error")}}class nI extends yf{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new nI(t)}}class rI extends yf{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new rI(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(n,e,t){var r;de(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),de(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),de(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(de(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(de(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iI(n){const e=Dt(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Oz(n,e,t){const r=Dt(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&yy(r,i,t),await Co(r,i,"getOobCode",pz,"EMAIL_PASSWORD_PROVIDER")}async function Nz(n,e,t){await CO(Ce(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&iI(n),r})}async function Dz(n,e){await dz(Ce(n),{oobCode:e})}async function MO(n,e){const t=Ce(n),r=await CO(t,{oobCode:e}),i=r.requestType;switch(de(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":de(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":de(r.mfaInfo,t,"internal-error");default:de(r.email,t,"internal-error")}let s=null;return r.mfaInfo&&(s=yf._fromServerResponse(Dt(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function Lz(n,e){const{data:t}=await MO(Ce(n),e);return t.email}async function Vz(n,e,t){if(Ge(n.app))return Promise.reject(yn(n));const r=Dt(n),l=await Co(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",kO,"EMAIL_PASSWORD_PROVIDER").catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&iI(n),d}),u=await zr._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function Mz(n,e,t){return Ge(n.app)?Promise.reject(yn(n)):gy(Ce(n),ta.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&iI(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fz(n,e,t){const r=Dt(n),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(l,u){de(u.handleCodeInApp,r,"argument-error"),u&&yy(r,l,u)}s(i,t),await Co(r,i,"getOobCode",mz,"EMAIL_PASSWORD_PROVIDER")}function Uz(n,e){const t=py.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"}async function $z(n,e,t){if(Ge(n.app))return Promise.reject(yn(n));const r=Ce(n),i=ta.credentialWithLink(e,t||Lh());return de(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),gy(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jz(n,e){return $t(n,"POST","/v1/accounts:createAuthUri",Ut(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bz(n,e){const t=X0()?Lh():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:i}=await jz(Ce(n),r);return i||[]}async function zz(n,e){const t=Ce(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&yy(t.auth,i,e);const{email:s}=await fz(t.auth,i);s!==n.email&&await n.reload()}async function Wz(n,e,t){const r=Ce(n),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&yy(r.auth,s,t);const{email:l}=await gz(r.auth,s);l!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qz(n,e){return $t(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hz(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Ce(n),s={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await Ds(r,qz(r.auth,s));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const u=r.providerData.find(({providerId:d})=>d==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function Kz(n,e){const t=Ce(n);return Ge(t.auth.app)?Promise.reject(yn(t.auth)):FO(t,e,null)}function Gz(n,e){return FO(Ce(n),null,e)}async function FO(n,e,t){const{auth:r}=n,s={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(s.email=e),t&&(s.password=t);const l=await Ds(n,uz(r,s));await n._updateTokensIfNecessary(l,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qz(n){var e,t;if(!n)return null;const{providerId:r}=n,i=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},s=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(n!=null&&n.idToken)){const l=(t=(e=hy(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(l){const u=l!=="anonymous"&&l!=="custom"?l:null;return new Ou(s,u)}}if(!r)return null;switch(r){case"facebook.com":return new Yz(s,i);case"github.com":return new Jz(s,i);case"google.com":return new Xz(s,i);case"twitter.com":return new Zz(s,i,n.screenName||null);case"custom":case"anonymous":return new Ou(s,null);default:return new Ou(s,r,i)}}class Ou{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class UO extends Ou{constructor(e,t,r,i){super(e,t,r),this.username=i}}class Yz extends Ou{constructor(e,t){super(e,"facebook.com",t)}}class Jz extends UO{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class Xz extends Ou{constructor(e,t){super(e,"google.com",t)}}class Zz extends UO{constructor(e,t,r){super(e,"twitter.com",t,r)}}function e9(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:Qz(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new Ba("enroll",e,t)}static _fromMfaPendingCredential(e){return new Ba("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e!=null&&e.multiFactorSession){if(!((t=e.multiFactorSession)===null||t===void 0)&&t.pendingCredential)return Ba._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return Ba._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=Dt(e),i=t.customData._serverResponse,s=(i.mfaInfo||[]).map(u=>yf._fromServerResponse(r,u));de(i.mfaPendingCredential,r,"internal-error");const l=Ba._fromMfaPendingCredential(i.mfaPendingCredential);return new sI(l,s,async u=>{const d=await u._process(r,l);delete i.mfaInfo,delete i.mfaPendingCredential;const h=Object.assign(Object.assign({},i),{idToken:d.idToken,refreshToken:d.refreshToken});switch(t.operationType){case"signIn":const m=await zr._fromIdTokenResponse(r,t.operationType,h);return await r._updateCurrentUser(m.user),m;case"reauthenticate":return de(t.user,r,"internal-error"),zr._forOperation(t.user,t.operationType,h);default:bn(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function t9(n,e){var t;const r=Ce(n),i=e;return de(e.customData.operationType,r,"argument-error"),de((t=i.customData._serverResponse)===null||t===void 0?void 0:t.mfaPendingCredential,r,"argument-error"),sI._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(n,e){return $t(n,"POST","/v2/accounts/mfaEnrollment:start",Ut(n,e))}function n9(n,e){return $t(n,"POST","/v2/accounts/mfaEnrollment:finalize",Ut(n,e))}function r9(n,e){return $t(n,"POST","/v2/accounts/mfaEnrollment:withdraw",Ut(n,e))}class oI{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>yf._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new oI(e)}async getSession(){return Ba._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,i=await this.getSession(),s=await Ds(this.user,r._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Ds(this.user,r9(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==t),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const Mv=new WeakMap;function i9(n){const e=Ce(n);return Mv.has(e)||Mv.set(e,oI._fromUser(e)),Mv.get(e)}const mg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(mg,"1"),this.storage.removeItem(mg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9=1e3,o9=10;class jO extends $O{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=SO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);$3()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,o9):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},s9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}jO.type="LOCAL";const aI=jO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO extends $O{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}BO.type="SESSION";const il=BO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a9(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new _y(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async h=>h(t.origin,s)),d=await a9(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_y.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((u,d)=>{const h=_f("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const _=g;if(_.data.eventId===h)switch(_.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(_.data.response);break;default:clearTimeout(m),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(){return window}function u9(n){Yt().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(){return typeof Yt().WorkerGlobalScope<"u"&&typeof Yt().importScripts=="function"}async function c9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function d9(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function h9(){return lI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO="firebaseLocalStorageDb",f9=1,gg="firebaseLocalStorage",WO="fbase_key";class vf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function vy(n,e){return n.transaction([gg],e?"readwrite":"readonly").objectStore(gg)}function p9(){const n=indexedDB.deleteDatabase(zO);return new vf(n).toPromise()}function Yw(){const n=indexedDB.open(zO,f9);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(gg,{keyPath:WO})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(gg)?e(r):(r.close(),await p9(),e(await Yw()))})})}async function wA(n,e,t){const r=vy(n,!0).put({[WO]:e,value:t});return new vf(r).toPromise()}async function m9(n,e){const t=vy(n,!1).get(e),r=await new vf(t).toPromise();return r===void 0?null:r.value}function EA(n,e){const t=vy(n,!0).delete(e);return new vf(t).toPromise()}const g9=800,y9=3;class qO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yw(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>y9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_y._getInstance(h9()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await c9(),!this.activeServiceWorker)return;this.sender=new l9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||d9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Yw();return await wA(e,mg,"1"),await EA(e,mg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>wA(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>m9(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>EA(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=vy(i,!1).getAll();return new vf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),g9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qO.type="LOCAL";const Fh=qO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(n,e){return $t(n,"POST","/v2/accounts/mfaSignIn:start",Ut(n,e))}function _9(n,e){return $t(n,"POST","/v2/accounts/mfaSignIn:finalize",Ut(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv=bO("rcb"),v9=new ff(3e4,6e4);class w9{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Yt().grecaptcha)===null||e===void 0)&&e.render)}load(e,t=""){return de(E9(t),e,"argument-error"),this.shouldResolveImmediately(t)&&cA(Yt().grecaptcha)?Promise.resolve(Yt().grecaptcha):new Promise((r,i)=>{const s=Yt().setTimeout(()=>{i(an(e,"network-request-failed"))},v9.get());Yt()[Fv]=()=>{Yt().clearTimeout(s),delete Yt()[Fv];const u=Yt().grecaptcha;if(!u||!cA(u)){i(an(e,"internal-error"));return}const d=u.render;u.render=(h,m)=>{const g=d(h,m);return this.counter++,g},this.hostLanguage=t,r(u)};const l=`${K3()}?${pi({onload:Fv,render:"explicit",hl:t})}`;eI(l).catch(()=>{clearTimeout(s),i(an(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(!((t=Yt().grecaptcha)===null||t===void 0)&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function E9(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class I9{async load(e){return new X3(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh="recaptcha",T9={theme:"light",type:"image"};let S9=class{constructor(e,t,r=Object.assign({},T9)){this.parameters=r,this.type=uh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Dt(e),this.isInvisible=this.parameters.size==="invisible",de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof t=="string"?document.getElementById(t):t;de(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new I9:new w9,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(i=>{const s=l=>{l&&(this.tokenChangeListeners.delete(s),i(l))};this.tokenChangeListeners.add(s),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){de(!this.parameters.sitekey,this.auth,"argument-error"),de(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=Yt()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){de(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){de(X0()&&!lI(),this.auth,"internal-error"),await R9(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await P3(this.auth);de(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return de(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function R9(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Ka._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function b9(n,e,t){if(Ge(n.app))return Promise.reject(yn(n));const r=Dt(n),i=await wy(r,e,Ce(t));return new uI(i,s=>gy(r,s))}async function A9(n,e,t){const r=Ce(n);await my(!1,r,"phone");const i=await wy(r.auth,e,Ce(t));return new uI(i,s=>LO(r,s))}async function P9(n,e,t){const r=Ce(n);if(Ge(r.auth.app))return Promise.reject(yn(r.auth));const i=await wy(r.auth,e,Ce(t));return new uI(i,s=>VO(r,s))}async function wy(n,e,t){var r;if(!n._getRecaptchaConfig())try{await iz(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const s=i.session;if("phoneNumber"in i){de(s.type==="enroll",n,"internal-error");const l={idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Co(n,l,"mfaSmsEnrollment",async(m,g)=>{if(g.phoneEnrollmentInfo.captchaResponse===lh){de((t==null?void 0:t.type)===uh,m,"argument-error");const _=await Uv(m,g,t);return vA(m,_)}return vA(m,g)},"PHONE_PROVIDER").catch(m=>Promise.reject(m))).phoneSessionInfo.sessionInfo}else{de(s.type==="signin",n,"internal-error");const l=((r=i.multiFactorHint)===null||r===void 0?void 0:r.uid)||i.multiFactorUid;de(l,n,"missing-multi-factor-info");const u={mfaPendingCredential:s.credential,mfaEnrollmentId:l,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Co(n,u,"mfaSmsSignIn",async(g,_)=>{if(_.phoneSignInInfo.captchaResponse===lh){de((t==null?void 0:t.type)===uh,g,"argument-error");const T=await Uv(g,_,t);return IA(g,T)}return IA(g,_)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneResponseInfo.sessionInfo}}else{const s={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Co(n,s,"sendVerificationCode",async(h,m)=>{if(m.captchaResponse===lh){de((t==null?void 0:t.type)===uh,h,"argument-error");const g=await Uv(h,m,t);return yA(h,g)}return yA(h,m)},"PHONE_PROVIDER").catch(h=>Promise.reject(h))).sessionInfo}}finally{t==null||t._reset()}}async function C9(n,e){const t=Ce(n);if(Ge(t.auth.app))return Promise.reject(yn(t.auth));await tI(t,e)}async function Uv(n,e,t){de(t.type===uh,n,"argument-error");const r=await t.verify();de(typeof r=="string",n,"argument-error");const i=Object.assign({},e);if("phoneEnrollmentInfo"in i){const s=i.phoneEnrollmentInfo.phoneNumber,l=i.phoneEnrollmentInfo.captchaResponse,u=i.phoneEnrollmentInfo.clientType,d=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:s,recaptchaToken:r,captchaResponse:l,clientType:u,recaptchaVersion:d}}),i}else if("phoneSignInInfo"in i){const s=i.phoneSignInInfo.captchaResponse,l=i.phoneSignInInfo.clientType,u=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:s,clientType:l,recaptchaVersion:u}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sl=class Sm{constructor(e){this.providerId=Sm.PROVIDER_ID,this.auth=Dt(e)}verifyPhoneNumber(e,t){return wy(this.auth,e,Ce(t))}static credential(e,t){return Ka._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Sm.credentialFromTaggedObject(t)}static credentialFromError(e){return Sm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?Ka._fromTokenResponse(t,r):null}};sl.PROVIDER_ID="phone";sl.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(n,e){return e?wr(e):(de(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI extends wc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ps(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ps(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ps(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function k9(n){return DO(n.auth,new cI(n),n.bypassAuthState)}function x9(n){const{auth:e,user:t}=n;return de(t,e,"internal-error"),NO(t,new cI(n),n.bypassAuthState)}async function O9(n){const{auth:e,user:t}=n;return de(t,e,"internal-error"),tI(t,new cI(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return k9;case"linkViaPopup":case"linkViaRedirect":return O9;case"reauthViaPopup":case"reauthViaRedirect":return x9;default:bn(this.auth,"internal-error")}}resolve(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9=new ff(2e3,1e4);async function D9(n,e,t){if(Ge(n.app))return Promise.reject(an(n,"operation-not-supported-in-this-environment"));const r=Dt(n);vc(n,e,js);const i=ml(r,t);return new Ss(r,"signInViaPopup",e,i).executeNotNull()}async function L9(n,e,t){const r=Ce(n);if(Ge(r.auth.app))return Promise.reject(an(r.auth,"operation-not-supported-in-this-environment"));vc(r.auth,e,js);const i=ml(r.auth,t);return new Ss(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function V9(n,e,t){const r=Ce(n);vc(r.auth,e,js);const i=ml(r.auth,t);return new Ss(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Ss extends HO{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ss.currentPopupAction&&Ss.currentPopupAction.cancel(),Ss.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){fi(this.filter.length===1,"Popup operations only handle one event");const e=_f();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(an(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(an(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ss.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(an(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,N9.get())};e()}}Ss.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M9="pendingRedirect",ch=new Map;class F9 extends HO{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=ch.get(this.auth._key());if(!e){try{const r=await U9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}ch.set(this.auth._key(),e)}return this.bypassAuthState||ch.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function U9(n,e){const t=GO(e),r=KO(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}async function dI(n,e){return KO(n)._set(GO(e),"true")}function $9(){ch.clear()}function hI(n,e){ch.set(n._key(),e)}function KO(n){return wr(n._redirectPersistence)}function GO(n){return Ha(M9,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j9(n,e,t){return B9(n,e,t)}async function B9(n,e,t){if(Ge(n.app))return Promise.reject(yn(n));const r=Dt(n);vc(n,e,js),await r._initializationPromise;const i=ml(r,t);return await dI(i,r),i._openRedirect(r,e,"signInViaRedirect")}function z9(n,e,t){return W9(n,e,t)}async function W9(n,e,t){const r=Ce(n);if(vc(r.auth,e,js),Ge(r.auth.app))return Promise.reject(yn(r.auth));await r.auth._initializationPromise;const i=ml(r.auth,t);await dI(i,r.auth);const s=await QO(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function q9(n,e,t){return H9(n,e,t)}async function H9(n,e,t){const r=Ce(n);vc(r.auth,e,js),await r.auth._initializationPromise;const i=ml(r.auth,t);await my(!1,r,e.providerId),await dI(i,r.auth);const s=await QO(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function K9(n,e){return await Dt(n)._initializationPromise,Ey(n,e,!1)}async function Ey(n,e,t=!1){if(Ge(n.app))return Promise.reject(yn(n));const r=Dt(n),i=ml(r,e),l=await new F9(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}async function QO(n){const e=_f(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G9=10*60*1e3;class YO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Q9(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!JO(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(an(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=G9&&this.cachedEventUids.clear(),this.cachedEventUids.has(TA(e))}saveEventToCache(e){this.cachedEventUids.add(TA(e)),this.lastProcessedEventTime=Date.now()}}function TA(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function JO({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Q9(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JO(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XO(n,e={}){return $t(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,J9=/^https?/;async function X9(n){if(n.config.emulator)return;const{authorizedDomains:e}=await XO(n);for(const t of e)try{if(Z9(t))return}catch{}bn(n,"unauthorized-domain")}function Z9(n){const e=Lh(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!J9.test(t))return!1;if(Y9.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6=new ff(3e4,6e4);function SA(){const n=Yt().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function t6(n){return new Promise((e,t)=>{var r,i,s;function l(){SA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{SA(),t(an(n,"network-request-failed"))},timeout:e6.get()})}if(!((i=(r=Yt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Yt().gapi)===null||s===void 0)&&s.load)l();else{const u=bO("iframefcb");return Yt()[u]=()=>{gapi.load?l():t(an(n,"network-request-failed"))},eI(`${Q3()}?onload=${u}`).catch(d=>t(d))}}).catch(e=>{throw Rm=null,e})}let Rm=null;function n6(n){return Rm=Rm||t6(n),Rm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6=new ff(5e3,15e3),i6="__/auth/iframe",s6="emulator/auth/iframe",o6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},a6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function l6(n){const e=n.config;de(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Z0(e,s6):`https://${n.config.authDomain}/${i6}`,r={apiKey:e.apiKey,appName:n.name,v:br},i=a6.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${pi(r).slice(1)}`}async function u6(n){const e=await n6(n),t=Yt().gapi;return de(t,n,"internal-error"),e.open({where:document.body,url:l6(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:o6,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=an(n,"network-request-failed"),u=Yt().setTimeout(()=>{s(l)},r6.get());function d(){Yt().clearTimeout(u),i(r)}r.ping(d).then(d,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},d6=500,h6=600,f6="_blank",p6="http://localhost";class RA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function m6(n,e,t,r=d6,i=h6){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d=Object.assign(Object.assign({},c6),{width:r.toString(),height:i.toString(),top:s,left:l}),h=We().toLowerCase();t&&(u=wO(h)?f6:t),_O(h)&&(e=e||p6,d.scrollbars="yes");const m=Object.entries(d).reduce((_,[T,I])=>`${_}${T}=${I},`,"");if(U3(h)&&u!=="_self")return g6(e||"",u),new RA(null);const g=window.open(e||"",u,m);de(g,n,"popup-blocked");try{g.focus()}catch{}return new RA(g)}function g6(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y6="__/auth/handler",_6="emulator/auth/handler",v6=encodeURIComponent("fac");async function Jw(n,e,t,r,i,s){de(n.config.authDomain,n,"auth-domain-config-required"),de(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:br,eventId:i};if(e instanceof js){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",_C(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries(s||{}))l[m]=g}if(e instanceof Ec){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const d=await n._getAppCheckToken(),h=d?`#${v6}=${encodeURIComponent(d)}`:"";return`${w6(n)}?${pi(u).slice(1)}${h}`}function w6({config:n}){return n.emulator?Z0(n,_6):`https://${n.authDomain}/${y6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="webStorageSupport";class E6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=il,this._completeRedirectFn=Ey,this._overrideRedirectResult=hI}async _openPopup(e,t,r,i){var s;fi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const l=await Jw(e,t,r,Lh(),i);return m6(e,l,_f())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await Jw(e,t,r,Lh(),i);return u9(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(fi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await u6(e),r=new YO(e);return t.register("authEvent",i=>(de(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send($v,{type:$v},i=>{var s;const l=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[$v];l!==void 0&&t(!!l),bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=X9(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return SO()||vO()||mf()}}const I6=E6;class T6{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return $i("unexpected MultiFactorSessionType")}}}class fI extends T6{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new fI(e)}_finalizeEnroll(e,t,r){return n9(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return _9(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class ZO{constructor(){}static assertion(e){return fI._fromCredential(e)}}ZO.FACTOR_ID="phone";var bA="@firebase/auth",AA="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R6(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function b6(n){Ki(new Br("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;de(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RO(n)},h=new q3(r,i,s,d);return sz(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ki(new Br("auth-internal",e=>{const t=Dt(e.getProvider("auth").getImmediate());return(r=>new S6(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Er(bA,AA,R6(n)),Er(bA,AA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6=5*60;RE("authIdTokenMaxAge");function P6(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}H3({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=an("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",P6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});b6("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ol(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6=2e3;async function k6(n,e,t){var r;const{BuildInfo:i}=ol();fi(e.sessionId,"AuthEvent did not contain a session ID");const s=await L6(e.sessionId),l={};return mf()?l.ibi=i.packageName:pf()?l.apn=i.packageName:bn(n,"operation-not-supported-in-this-environment"),i.displayName&&(l.appDisplayName=i.displayName),l.sessionId=s,Jw(n,t,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,l)}async function x6(n){const{BuildInfo:e}=ol(),t={};mf()?t.iosBundleId=e.packageName:pf()?t.androidPackageName=e.packageName:bn(n,"operation-not-supported-in-this-environment"),await XO(n,t)}function O6(n){const{cordova:e}=ol();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(n):i=e.InAppBrowser.open(n,F3()?"_blank":"_system","location=yes"),t(i)})})}async function N6(n,e,t){const{cordova:r}=ol();let i=()=>{};try{await new Promise((s,l)=>{let u=null;function d(){var g;s();const _=(g=r.plugins.browsertab)===null||g===void 0?void 0:g.close;typeof _=="function"&&_(),typeof(t==null?void 0:t.close)=="function"&&t.close()}function h(){u||(u=window.setTimeout(()=>{l(an(n,"redirect-cancelled-by-user"))},C6))}function m(){(document==null?void 0:document.visibilityState)==="visible"&&h()}e.addPassiveListener(d),document.addEventListener("resume",h,!1),pf()&&document.addEventListener("visibilitychange",m,!1),i=()=>{e.removePassiveListener(d),document.removeEventListener("resume",h,!1),document.removeEventListener("visibilitychange",m,!1),u&&window.clearTimeout(u)}})}finally{i()}}function D6(n){var e,t,r,i,s,l,u,d,h,m;const g=ol();de(typeof((e=g==null?void 0:g.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),de(typeof((t=g==null?void 0:g.BuildInfo)===null||t===void 0?void 0:t.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),de(typeof((s=(i=(r=g==null?void 0:g.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),de(typeof((d=(u=(l=g==null?void 0:g.cordova)===null||l===void 0?void 0:l.plugins)===null||u===void 0?void 0:u.browsertab)===null||d===void 0?void 0:d.isAvailable)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),de(typeof((m=(h=g==null?void 0:g.cordova)===null||h===void 0?void 0:h.InAppBrowser)===null||m===void 0?void 0:m.open)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function L6(n){const e=V6(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(i=>i.toString(16).padStart(2,"0")).join("")}function V6(n){if(fi(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6=20;class F6 extends YO{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function U6(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:B6(),postBody:null,tenantId:n.tenantId,error:an(n,"no-auth-event")}}function $6(n,e){return Xw()._set(Zw(n),e)}async function PA(n){const e=await Xw()._get(Zw(n));return e&&await Xw()._remove(Zw(n)),e}function j6(n,e){var t,r;const i=W6(e);if(i.includes("/__/auth/callback")){const s=bm(i),l=s.firebaseError?z6(decodeURIComponent(s.firebaseError)):null,u=(r=(t=l==null?void 0:l.code)===null||t===void 0?void 0:t.split("auth/"))===null||r===void 0?void 0:r[1],d=u?an(u):null;return d?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:d,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:i,postBody:null}}return null}function B6(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<M6;t++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function Xw(){return wr(aI)}function Zw(n){return Ha("authEvent",n.config.apiKey,n.name)}function z6(n){try{return JSON.parse(n)}catch{return null}}function W6(n){const e=bm(n),t=e.link?decodeURIComponent(e.link):void 0,r=bm(t).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return bm(i).link||i||r||t||n}function bm(n){if(!(n!=null&&n.includes("?")))return{};const[e,...t]=n.split("?");return ci(t.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6=500;class H6{constructor(){this._redirectPersistence=il,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ey,this._overrideRedirectResult=hI}async _initialize(e){const t=e._key();let r=this.eventManagers.get(t);return r||(r=new F6(e),this.eventManagers.set(t,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){bn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,r,i){D6(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),$9(),await this._originValidation(e);const l=U6(e,r,i);await $6(e,l);const u=await k6(e,l,t),d=await O6(u);return N6(e,s,d)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=x6(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=ol(),l=setTimeout(async()=>{await PA(e),t.onEvent(CA())},q6),u=async m=>{clearTimeout(l);const g=await PA(e);let _=null;g&&(m!=null&&m.url)&&(_=j6(g,m.url)),t.onEvent(_||CA())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,u);const d=i,h=`${s.packageName.toLowerCase()}://`;ol().handleOpenURL=async m=>{if(m.toLowerCase().startsWith(h)&&u({url:m}),typeof d=="function")try{d(m)}catch(g){console.error(g)}}}}const K6=H6;function CA(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:an("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G6(n,e){Dt(n)._logFramework(e)}var Q6="@firebase/auth-compat",Y6="0.5.19";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6=1e3;function dh(){var n;return((n=self==null?void 0:self.location)===null||n===void 0?void 0:n.protocol)||null}function X6(){return dh()==="http:"||dh()==="https:"}function eN(n=We()){return!!((dh()==="file:"||dh()==="ionic:"||dh()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function Z6(){return Og()||bE()}function eW(){return PE()&&(document==null?void 0:document.documentMode)===11}function tW(n=We()){return/Edge\/\d+/.test(n)}function nW(n=We()){return eW()||tW(n)}function tN(){try{const n=self.localStorage,e=_f();if(n)return n.setItem(e,"1"),n.removeItem(e),nW()?mh():!0}catch{return pI()&&mh()}return!1}function pI(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function jv(){return(X6()||AE()||eN())&&!Z6()&&tN()&&!pI()}function nN(){return eN()&&typeof document<"u"}async function rW(){return nN()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},J6);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function iW(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r={LOCAL:"local",NONE:"none",SESSION:"session"},Pd=de,rN="persistence";function sW(n,e){if(Pd(Object.values(_r).includes(e),n,"invalid-persistence-type"),Og()){Pd(e!==_r.SESSION,n,"unsupported-persistence-type");return}if(bE()){Pd(e===_r.NONE,n,"unsupported-persistence-type");return}if(pI()){Pd(e===_r.NONE||e===_r.LOCAL&&mh(),n,"unsupported-persistence-type");return}Pd(e===_r.NONE||tN(),n,"unsupported-persistence-type")}async function eE(n){await n._initializationPromise;const e=iN(),t=Ha(rN,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistence())}function oW(n,e){const t=iN();if(!t)return[];const r=Ha(rN,n,e);switch(t.getItem(r)){case _r.NONE:return[nc];case _r.LOCAL:return[Fh,il];case _r.SESSION:return[il];default:return[]}}function iN(){var n;try{return((n=iW())===null||n===void 0?void 0:n.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aW=de;class So{constructor(){this.browserResolver=wr(I6),this.cordovaResolver=wr(K6),this.underlyingResolver=null,this._redirectPersistence=il,this._completeRedirectFn=Ey,this._overrideRedirectResult=hI}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,r,i)}async _openRedirect(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,r,i)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return nN()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return aW(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await rW();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(n){return n.unwrap()}function lW(n){return n.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uW(n){return oN(n)}function cW(n,e){var t;const r=(t=e.customData)===null||t===void 0?void 0:t._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new dW(n,t9(n,e))}else if(r){const i=oN(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function oN(n){const{_tokenResponse:e}=n instanceof gn?n.customData:n;if(!e)return null;if(!(n instanceof gn)&&"temporaryProof"in e&&"phoneNumber"in e)return sl.credentialFromResult(n);const t=e.providerId;if(!t||t===bd.PASSWORD)return null;let r;switch(t){case bd.GOOGLE:r=Di;break;case bd.FACEBOOK:r=Ni;break;case bd.GITHUB:r=Li;break;case bd.TWITTER:r=Vi;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:l,pendingToken:u,nonce:d}=e;return!s&&!l&&!i&&!u?null:u?t.startsWith("saml.")?rc._create(t,u):Ji._fromParams({providerId:t,signInMethod:t,pendingToken:u,idToken:i,accessToken:s}):new xu(t).credential({idToken:i,accessToken:s,rawNonce:d})}return n instanceof gn?r.credentialFromError(n):r.credentialFromResult(n)}function tr(n,e){return e.catch(t=>{throw t instanceof gn&&cW(n,t),t}).then(t=>{const r=t.operationType,i=t.user;return{operationType:r,credential:uW(t),additionalUserInfo:e9(t),user:Rs.getOrCreate(i)}})}async function tE(n,e){const t=await e;return{verificationId:t.verificationId,confirm:r=>tr(n,t.confirm(r))}}class dW{constructor(e,t){this.resolver=t,this.auth=lW(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return tr(sN(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this._delegate=e,this.multiFactor=i9(e)}static getOrCreate(e){return Rs.USER_MAP.has(e)||Rs.USER_MAP.set(e,new Rs(e)),Rs.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return tr(this.auth,LO(this._delegate,e))}async linkWithPhoneNumber(e,t){return tE(this.auth,A9(this._delegate,e,t))}async linkWithPopup(e){return tr(this.auth,V9(this._delegate,e,So))}async linkWithRedirect(e){return await eE(Dt(this.auth)),q9(this._delegate,e,So)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return tr(this.auth,VO(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return tE(this.auth,P9(this._delegate,e,t))}reauthenticateWithPopup(e){return tr(this.auth,L9(this._delegate,e,So))}async reauthenticateWithRedirect(e){return await eE(Dt(this.auth)),z9(this._delegate,e,So)}sendEmailVerification(e){return zz(this._delegate,e)}async unlink(e){return await Cz(this._delegate,e),this}updateEmail(e){return Kz(this._delegate,e)}updatePassword(e){return Gz(this._delegate,e)}updatePhoneNumber(e){return C9(this._delegate,e)}updateProfile(e){return Hz(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return Wz(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Rs.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd=de;class nE{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Cd(r,"invalid-api-key",{appName:e.name}),Cd(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?So:void 0;this._delegate=t.initialize({options:{persistence:hW(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(v3),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Rs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){oz(this._delegate,e,t)}applyActionCode(e){return Dz(this._delegate,e)}checkActionCode(e){return MO(this._delegate,e)}confirmPasswordReset(e,t){return Nz(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return tr(this._delegate,Vz(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Bz(this._delegate,e)}isSignInWithEmailLink(e){return Uz(this._delegate,e)}async getRedirectResult(){Cd(jv(),this._delegate,"operation-not-supported-in-this-environment");const e=await K9(this._delegate,So);return e?tr(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){G6(this._delegate,e)}onAuthStateChanged(e,t,r){const{next:i,error:s,complete:l}=kA(e,t,r);return this._delegate.onAuthStateChanged(i,s,l)}onIdTokenChanged(e,t,r){const{next:i,error:s,complete:l}=kA(e,t,r);return this._delegate.onIdTokenChanged(i,s,l)}sendSignInLinkToEmail(e,t){return Fz(this._delegate,e,t)}sendPasswordResetEmail(e,t){return Oz(this._delegate,e,t||void 0)}async setPersistence(e){sW(this._delegate,e);let t;switch(e){case _r.SESSION:t=il;break;case _r.LOCAL:t=await wr(Fh)._isAvailable()?Fh:aI;break;case _r.NONE:t=nc;break;default:return bn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return tr(this._delegate,Pz(this._delegate))}signInWithCredential(e){return tr(this._delegate,gy(this._delegate,e))}signInWithCustomToken(e){return tr(this._delegate,xz(this._delegate,e))}signInWithEmailAndPassword(e,t){return tr(this._delegate,Mz(this._delegate,e,t))}signInWithEmailLink(e,t){return tr(this._delegate,$z(this._delegate,e,t))}signInWithPhoneNumber(e,t){return tE(this._delegate,b9(this._delegate,e,t))}async signInWithPopup(e){return Cd(jv(),this._delegate,"operation-not-supported-in-this-environment"),tr(this._delegate,D9(this._delegate,e,So))}async signInWithRedirect(e){return Cd(jv(),this._delegate,"operation-not-supported-in-this-environment"),await eE(this._delegate),j9(this._delegate,e,So)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return Lz(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}nE.Persistence=_r;function kA(n,e,t){let r=n;typeof n!="function"&&({next:r,error:e,complete:t}=n);const i=r;return{next:l=>i(l&&Rs.getOrCreate(l)),error:e,complete:t}}function hW(n,e){const t=oW(n,e);if(typeof self<"u"&&!t.includes(Fh)&&t.push(Fh),typeof window<"u")for(const r of[aI,il])t.includes(r)||t.push(r);return t.includes(nc)||t.push(nc),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{static credential(e,t){return sl.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new sl(sN(uc.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}mI.PHONE_SIGN_IN_METHOD=sl.PHONE_SIGN_IN_METHOD;mI.PROVIDER_ID=sl.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fW=de;class pW{constructor(e,t,r=uc.app()){var i;fW((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new S9(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mW="auth-compat";function gW(n){n.INTERNAL.registerComponent(new Br(mW,e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new nE(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:du.EMAIL_SIGNIN,PASSWORD_RESET:du.PASSWORD_RESET,RECOVER_EMAIL:du.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:du.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:du.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:du.VERIFY_EMAIL}},EmailAuthProvider:ta,FacebookAuthProvider:Ni,GithubAuthProvider:Li,GoogleAuthProvider:Di,OAuthProvider:xu,SAMLAuthProvider:fg,PhoneAuthProvider:mI,PhoneMultiFactorGenerator:ZO,RecaptchaVerifier:pW,TwitterAuthProvider:Vi,Auth:nE,AuthCredential:wc,Error:gn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(Q6,Y6)}gW(uc);const yW={apiKey:"AIzaSyCzNEdFeeT2RdWZWK1F5Q61IZPDB5PHN5s",authDomain:"clone-22796.firebaseapp.com",projectId:"clone-22796",storageBucket:"clone-22796.firebasestorage.app",messagingSenderId:"897790875500",appId:"1:897790875500:web:060e18028c59f1d265c549"},aN=uc.initializeApp(yW),yg=J$(aN),_W=aN.firestore(),vW=()=>{var u;const[n,e]=K.useState(""),[t,r]=K.useState(!1),[{user:i,basket:s},l]=K.useContext(Ko);return console.log(s.length),$.jsxs("section",{className:ct.fixed,children:[$.jsxs("header",{className:ct.header,children:[$.jsxs("div",{className:ct.header_left,children:[$.jsx(ui,{to:"/",children:$.jsx("div",{className:ct.Amlogo1,children:$.jsx("img",{className:ct.Amlogo,src:"https://pngimg.com/uploads/amazon/amazon_PNG11.png",alt:"Amazon logo"})})}),$.jsxs("div",{className:ct.header_delivery,children:[$.jsx("div",{children:$.jsx("span",{children:$.jsx(IM,{})})}),$.jsxs("div",{className:ct.deliver_to,children:[$.jsx("span",{className:ct.delivery_line1,children:"Deliver to"}),$.jsx("span",{className:ct.delivery_line2,children:"USA"})]})]})]}),$.jsxs("div",{className:ct.header_search,children:[$.jsx("select",{className:ct.search_dropdown,children:$.jsx("option",{children:"All"})}),$.jsx("input",{className:ct.search_input,type:"text",placeholder:"Search Amazon",value:n,onChange:d=>e(d.target.value)}),$.jsx("button",{className:ct.search_button,children:$.jsx(EM,{})})]}),$.jsxs("div",{className:ct.header_nav,children:[$.jsx(ui,{to:"",children:$.jsxs("div",{className:ct.language,children:[$.jsx("img",{className:ct.flag,src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Flag_of_the_United_States_%28DoS_ECA_Color_Standard%29.svg/1280px-Flag_of_the_United_States_%28DoS_ECA_Color_Standard%29.svg.png",alt:"flag"}),$.jsx("section",{children:$.jsx("option",{value:"",children:"EN"})}),$.jsx(rR,{})]})}),$.jsxs("div",{className:ct.header_left,children:[$.jsx(ui,{to:!i&&"/amazon-clone/auth",children:$.jsx("div",{className:ct.nav_item,children:$.jsx("div",{className:ct.nav_line1,children:i?$.jsxs($.Fragment,{children:[$.jsxs("span",{children:["Hello, ",(u=i==null?void 0:i.email)==null?void 0:u.split("@")[0]]}),$.jsx("br",{}),$.jsx("span",{onClick:()=>yg.signOut(),children:"Signout"})]}):$.jsxs($.Fragment,{children:[$.jsx("span",{children:"Hello,signin"}),$.jsxs("span",{className:ct.nav_line2,children:[$.jsx("br",{}),"Account & Lists",$.jsx(rR,{})]})]})})})}),$.jsx(ui,{to:"/amazon-clone/orders",children:$.jsxs("div",{className:ct.nav_item,children:[$.jsx("span",{className:ct.nav_line1,children:"Returns"}),$.jsx("span",{className:ct.nav_line2,children:"& Orders"})]})}),$.jsx(ui,{to:"/amazon-clone/cart",children:$.jsx("div",{className:ct.nav_itemcart,onClick:()=>r(!t),children:$.jsxs("div",{className:ct.cart,children:[$.jsx("span",{className:ct.cart_count,children:s==null?void 0:s.length}),$.jsx(TM,{size:38}),$.jsx("span",{className:ct.cart_text,children:"Cart"})]})})})]})]})]}),$.jsx(XM,{})]})},Ic=({children:n})=>$.jsxs("div",{children:[$.jsx(vW,{}),n]});var Bv={},kd={},Zp={},em={},zv={exports:{}},Wv,xA;function wW(){if(xA)return Wv;xA=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Wv=n,Wv}var qv,OA;function EW(){if(OA)return qv;OA=1;var n=wW();function e(){}function t(){}return t.resetWarningCache=e,qv=function(){function r(l,u,d,h,m,g){if(g!==n){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},qv}var NA;function lN(){return NA||(NA=1,zv.exports=EW()()),zv.exports}var DA;function IW(){return DA||(DA=1,function(n){(function(e,t){t(n,qo(),lN())})(em,function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=I;var i=l(t),s=l(r);function l(L){return L&&L.__esModule?L:{default:L}}var u=Object.assign||function(L){for(var M=1;M<arguments.length;M++){var z=arguments[M];for(var j in z)Object.prototype.hasOwnProperty.call(z,j)&&(L[j]=z[j])}return L};function d(L,M){var z={};for(var j in L)M.indexOf(j)>=0||Object.prototype.hasOwnProperty.call(L,j)&&(z[j]=L[j]);return z}function h(L,M){if(!(L instanceof M))throw new TypeError("Cannot call a class as a function")}var m=function(){function L(M,z){for(var j=0;j<z.length;j++){var q=z[j];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(M,q.key,q)}}return function(M,z,j){return z&&L(M.prototype,z),j&&L(M,j),M}}();function g(L,M){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:L}function _(L,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);L.prototype=Object.create(M&&M.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(L,M):L.__proto__=M)}var T=!1;function I(L){T=L}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){I(!0)}}))}catch{}function R(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return T?L:L.capture}function A(L){if("touches"in L){var M=L.touches[0],z=M.pageX,j=M.pageY;return{x:z,y:j}}var q=L.screenX,D=L.screenY;return{x:q,y:D}}var V=function(L){_(M,L);function M(){var z;h(this,M);for(var j=arguments.length,q=Array(j),D=0;D<j;D++)q[D]=arguments[D];var b=g(this,(z=M.__proto__||Object.getPrototypeOf(M)).call.apply(z,[this].concat(q)));return b._handleSwipeStart=b._handleSwipeStart.bind(b),b._handleSwipeMove=b._handleSwipeMove.bind(b),b._handleSwipeEnd=b._handleSwipeEnd.bind(b),b._onMouseDown=b._onMouseDown.bind(b),b._onMouseMove=b._onMouseMove.bind(b),b._onMouseUp=b._onMouseUp.bind(b),b._setSwiperRef=b._setSwiperRef.bind(b),b}return m(M,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,R({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,R({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(j){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(j))}},{key:"_onMouseMove",value:function(j){this.mouseDown&&this._handleSwipeMove(j)}},{key:"_onMouseUp",value:function(j){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(j)}},{key:"_handleSwipeStart",value:function(j){var q=A(j),D=q.x,b=q.y;this.moveStart={x:D,y:b},this.props.onSwipeStart(j)}},{key:"_handleSwipeMove",value:function(j){if(this.moveStart){var q=A(j),D=q.x,b=q.y,C=D-this.moveStart.x,E=b-this.moveStart.y;this.moving=!0;var x=this.props.onSwipeMove({x:C,y:E},j);x&&j.cancelable&&j.preventDefault(),this.movePosition={deltaX:C,deltaY:E}}}},{key:"_handleSwipeEnd",value:function(j){this.props.onSwipeEnd(j);var q=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-q?this.props.onSwipeLeft(1,j):this.movePosition.deltaX>q&&this.props.onSwipeRight(1,j),this.movePosition.deltaY<-q?this.props.onSwipeUp(1,j):this.movePosition.deltaY>q&&this.props.onSwipeDown(1,j)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(j){this.swiper=j,this.props.innerRef(j)}},{key:"render",value:function(){var j=this.props;j.tagName;var q=j.className,D=j.style,b=j.children;j.allowMouseEvents,j.onSwipeUp,j.onSwipeDown,j.onSwipeLeft,j.onSwipeRight,j.onSwipeStart,j.onSwipeMove,j.onSwipeEnd,j.innerRef,j.tolerance;var C=d(j,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return i.default.createElement(this.props.tagName,u({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:q,style:D},C),b)}}]),M}(t.Component);V.displayName="ReactSwipe",V.propTypes={tagName:s.default.string,className:s.default.string,style:s.default.object,children:s.default.node,allowMouseEvents:s.default.bool,onSwipeUp:s.default.func,onSwipeDown:s.default.func,onSwipeLeft:s.default.func,onSwipeRight:s.default.func,onSwipeStart:s.default.func,onSwipeMove:s.default.func,onSwipeEnd:s.default.func,innerRef:s.default.func,tolerance:s.default.number.isRequired},V.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=V})}(em)),em}var LA;function uN(){return LA||(LA=1,function(n){(function(e,t){t(n,IW())})(Zp,function(e,t){Object.defineProperty(e,"__esModule",{value:!0});var r=i(t);function i(s){return s&&s.__esModule?s:{default:s}}e.default=r.default})}(Zp)),Zp}var xd={},Hv={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var VA;function TW(){return VA||(VA=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var s="",l=0;l<arguments.length;l++){var u=arguments[l];u&&(s=i(s,r(u)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return t.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var l="";for(var u in s)e.call(s,u)&&s[u]&&(l=i(l,u));return l}function i(s,l){return l?s?s+" "+l:s+l:s}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(Hv)),Hv.exports}var MA;function cN(){if(MA)return xd;MA=1,Object.defineProperty(xd,"__esModule",{value:!0}),xd.default=void 0;var n=e(TW());function e(i){return i&&i.__esModule?i:{default:i}}function t(i,s,l){return s in i?Object.defineProperty(i,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[s]=l,i}var r={ROOT:function(s){return(0,n.default)(t({"carousel-root":!0},s||"",!!s))},CAROUSEL:function(s){return(0,n.default)({carousel:!0,"carousel-slider":s})},WRAPPER:function(s,l){return(0,n.default)({"thumbs-wrapper":!s,"slider-wrapper":s,"axis-horizontal":l==="horizontal","axis-vertical":l!=="horizontal"})},SLIDER:function(s,l){return(0,n.default)({thumbs:!s,slider:s,animated:!l})},ITEM:function(s,l,u){return(0,n.default)({thumb:!s,slide:s,selected:l,previous:u})},ARROW_PREV:function(s){return(0,n.default)({"control-arrow control-prev":!0,"control-disabled":s})},ARROW_NEXT:function(s){return(0,n.default)({"control-arrow control-next":!0,"control-disabled":s})},DOT:function(s){return(0,n.default)({dot:!0,selected:s})}};return xd.default=r,xd}var Od={},Nd={},FA;function SW(){if(FA)return Nd;FA=1,Object.defineProperty(Nd,"__esModule",{value:!0}),Nd.outerWidth=void 0;var n=function(t){var r=t.offsetWidth,i=getComputedStyle(t);return r+=parseInt(i.marginLeft)+parseInt(i.marginRight),r};return Nd.outerWidth=n,Nd}var Dd={},UA;function gI(){if(UA)return Dd;UA=1,Object.defineProperty(Dd,"__esModule",{value:!0}),Dd.default=void 0;var n=function(t,r,i){var s=t===0?t:t+r,l=i==="horizontal"?[s,0,0]:[0,s,0],u="translate3d",d="("+l.join(",")+")";return u+d};return Dd.default=n,Dd}var Ld={},$A;function dN(){if($A)return Ld;$A=1,Object.defineProperty(Ld,"__esModule",{value:!0}),Ld.default=void 0;var n=function(){return window};return Ld.default=n,Ld}var jA;function hN(){if(jA)return Od;jA=1,Object.defineProperty(Od,"__esModule",{value:!0}),Od.default=void 0;var n=d(qo()),e=l(cN()),t=SW(),r=l(gI()),i=l(uN()),s=l(dN());function l(b){return b&&b.__esModule?b:{default:b}}function u(){if(typeof WeakMap!="function")return null;var b=new WeakMap;return u=function(){return b},b}function d(b){if(b&&b.__esModule)return b;if(b===null||h(b)!=="object"&&typeof b!="function")return{default:b};var C=u();if(C&&C.has(b))return C.get(b);var E={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var k in b)if(Object.prototype.hasOwnProperty.call(b,k)){var O=x?Object.getOwnPropertyDescriptor(b,k):null;O&&(O.get||O.set)?Object.defineProperty(E,k,O):E[k]=b[k]}return E.default=b,C&&C.set(b,E),E}function h(b){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(E){return typeof E}:h=function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},h(b)}function m(){return m=Object.assign||function(b){for(var C=1;C<arguments.length;C++){var E=arguments[C];for(var x in E)Object.prototype.hasOwnProperty.call(E,x)&&(b[x]=E[x])}return b},m.apply(this,arguments)}function g(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}function _(b,C){for(var E=0;E<C.length;E++){var x=C[E];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(b,x.key,x)}}function T(b,C,E){return C&&_(b.prototype,C),b}function I(b,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),C&&R(b,C)}function R(b,C){return R=Object.setPrototypeOf||function(x,k){return x.__proto__=k,x},R(b,C)}function A(b){var C=M();return function(){var x=z(b),k;if(C){var O=z(this).constructor;k=Reflect.construct(x,arguments,O)}else k=x.apply(this,arguments);return V(this,k)}}function V(b,C){return C&&(h(C)==="object"||typeof C=="function")?C:L(b)}function L(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function M(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function z(b){return z=Object.setPrototypeOf?Object.getPrototypeOf:function(E){return E.__proto__||Object.getPrototypeOf(E)},z(b)}function j(b,C,E){return C in b?Object.defineProperty(b,C,{value:E,enumerable:!0,configurable:!0,writable:!0}):b[C]=E,b}var q=function(C){return C.hasOwnProperty("key")},D=function(b){I(E,b);var C=A(E);function E(x){var k;return g(this,E),k=C.call(this,x),j(L(k),"itemsWrapperRef",void 0),j(L(k),"itemsListRef",void 0),j(L(k),"thumbsRef",void 0),j(L(k),"setItemsWrapperRef",function(O){k.itemsWrapperRef=O}),j(L(k),"setItemsListRef",function(O){k.itemsListRef=O}),j(L(k),"setThumbsRef",function(O,ee){k.thumbsRef||(k.thumbsRef=[]),k.thumbsRef[ee]=O}),j(L(k),"updateSizes",function(){if(!(!k.props.children||!k.itemsWrapperRef||!k.thumbsRef)){var O=n.Children.count(k.props.children),ee=k.itemsWrapperRef.clientWidth,F=k.props.thumbWidth?k.props.thumbWidth:(0,t.outerWidth)(k.thumbsRef[0]),me=Math.floor(ee/F),oe=me<O,X=oe?O-me:0;k.setState(function(pe,he){return{itemSize:F,visibleItems:me,firstItem:oe?k.getFirstItem(he.selectedItem):0,lastPosition:X,showArrows:oe}})}}),j(L(k),"handleClickItem",function(O,ee,F){if(!q(F)||F.key==="Enter"){var me=k.props.onSelectItem;typeof me=="function"&&me(O,ee)}}),j(L(k),"onSwipeStart",function(){k.setState({swiping:!0})}),j(L(k),"onSwipeEnd",function(){k.setState({swiping:!1})}),j(L(k),"onSwipeMove",function(O){var ee=O.x;if(!k.state.itemSize||!k.itemsWrapperRef||!k.state.visibleItems)return!1;var F=0,me=n.Children.count(k.props.children),oe=-(k.state.firstItem*100)/k.state.visibleItems,X=Math.max(me-k.state.visibleItems,0),pe=-X*100/k.state.visibleItems;oe===F&&ee>0&&(ee=0),oe===pe&&ee<0&&(ee=0);var he=k.itemsWrapperRef.clientWidth,W=oe+100/(he/ee);return k.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(ie){k.itemsListRef.style[ie]=(0,r.default)(W,"%",k.props.axis)}),!0}),j(L(k),"slideRight",function(O){k.moveTo(k.state.firstItem-(typeof O=="number"?O:1))}),j(L(k),"slideLeft",function(O){k.moveTo(k.state.firstItem+(typeof O=="number"?O:1))}),j(L(k),"moveTo",function(O){O=O<0?0:O,O=O>=k.state.lastPosition?k.state.lastPosition:O,k.setState({firstItem:O})}),k.state={selectedItem:x.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},k}return T(E,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(k){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==k.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,s.default)().addEventListener("resize",this.updateSizes),(0,s.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,s.default)().removeEventListener("resize",this.updateSizes),(0,s.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(k){var O=k;return k>=this.state.lastPosition&&(O=this.state.lastPosition),k<this.state.firstItem+this.state.visibleItems&&(O=this.state.firstItem),k<this.state.firstItem&&(O=k),O}},{key:"renderItems",value:function(){var k=this;return this.props.children.map(function(O,ee){var F=e.default.ITEM(!1,ee===k.state.selectedItem),me={key:ee,ref:function(X){return k.setThumbsRef(X,ee)},className:F,onClick:k.handleClickItem.bind(k,ee,k.props.children[ee]),onKeyDown:k.handleClickItem.bind(k,ee,k.props.children[ee]),"aria-label":"".concat(k.props.labels.item," ").concat(ee+1),style:{width:k.props.thumbWidth}};return n.default.createElement("li",m({},me,{role:"button",tabIndex:0}),O)})}},{key:"render",value:function(){var k=this;if(!this.props.children)return null;var O=n.Children.count(this.props.children)>1,ee=this.state.showArrows&&this.state.firstItem>0,F=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,me={},oe=-this.state.firstItem*(this.state.itemSize||0),X=(0,r.default)(oe,"px",this.props.axis),pe=this.props.transitionTime+"ms";return me={WebkitTransform:X,MozTransform:X,MsTransform:X,OTransform:X,transform:X,msTransform:X,WebkitTransitionDuration:pe,MozTransitionDuration:pe,MsTransitionDuration:pe,OTransitionDuration:pe,transitionDuration:pe,msTransitionDuration:pe},n.default.createElement("div",{className:e.default.CAROUSEL(!1)},n.default.createElement("div",{className:e.default.WRAPPER(!1),ref:this.setItemsWrapperRef},n.default.createElement("button",{type:"button",className:e.default.ARROW_PREV(!ee),onClick:function(){return k.slideRight()},"aria-label":this.props.labels.leftArrow}),O?n.default.createElement(i.default,{tagName:"ul",className:e.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:me,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):n.default.createElement("ul",{className:e.default.SLIDER(!1,this.state.swiping),ref:function(W){return k.setItemsListRef(W)},style:me},this.renderItems()),n.default.createElement("button",{type:"button",className:e.default.ARROW_NEXT(!F),onClick:function(){return k.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),E}(n.Component);return Od.default=D,j(D,"displayName","Thumbs"),j(D,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350}),Od}var Vd={},BA;function RW(){if(BA)return Vd;BA=1,Object.defineProperty(Vd,"__esModule",{value:!0}),Vd.default=void 0;var n=function(){return document};return Vd.default=n,Vd}var mr={},zA;function fN(){if(zA)return mr;zA=1,Object.defineProperty(mr,"__esModule",{value:!0}),mr.setPosition=mr.getPosition=mr.isKeyboardEvent=mr.defaultStatusFormatter=mr.noop=void 0;var n=qo(),e=t(gI());function t(d){return d&&d.__esModule?d:{default:d}}var r=function(){};mr.noop=r;var i=function(h,m){return"".concat(h," of ").concat(m)};mr.defaultStatusFormatter=i;var s=function(h){return h?h.hasOwnProperty("key"):!1};mr.isKeyboardEvent=s;var l=function(h,m){if(m.infiniteLoop&&++h,h===0)return 0;var g=n.Children.count(m.children);if(m.centerMode&&m.axis==="horizontal"){var _=-h*m.centerSlidePercentage,T=g-1;return h&&(h!==T||m.infiniteLoop)?_+=(100-m.centerSlidePercentage)/2:h===T&&(_+=100-m.centerSlidePercentage),_}return-h*100};mr.getPosition=l;var u=function(h,m){var g={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(_){g[_]=(0,e.default)(h,"%",m)}),g};return mr.setPosition=u,mr}var ai={},WA;function bW(){if(WA)return ai;WA=1,Object.defineProperty(ai,"__esModule",{value:!0}),ai.fadeAnimationHandler=ai.slideStopSwipingHandler=ai.slideSwipeAnimationHandler=ai.slideAnimationHandler=void 0;var n=qo(),e=r(gI()),t=fN();function r(g){return g&&g.__esModule?g:{default:g}}function i(g,_){var T=Object.keys(g);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(g);_&&(I=I.filter(function(R){return Object.getOwnPropertyDescriptor(g,R).enumerable})),T.push.apply(T,I)}return T}function s(g){for(var _=1;_<arguments.length;_++){var T=arguments[_]!=null?arguments[_]:{};_%2?i(Object(T),!0).forEach(function(I){l(g,I,T[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(T)):i(Object(T)).forEach(function(I){Object.defineProperty(g,I,Object.getOwnPropertyDescriptor(T,I))})}return g}function l(g,_,T){return _ in g?Object.defineProperty(g,_,{value:T,enumerable:!0,configurable:!0,writable:!0}):g[_]=T,g}var u=function(_,T){var I={},R=T.selectedItem,A=R,V=n.Children.count(_.children)-1,L=_.infiniteLoop&&(R<0||R>V);if(L)return A<0?_.centerMode&&_.centerSlidePercentage&&_.axis==="horizontal"?I.itemListStyle=(0,t.setPosition)(-(V+2)*_.centerSlidePercentage-(100-_.centerSlidePercentage)/2,_.axis):I.itemListStyle=(0,t.setPosition)(-(V+2)*100,_.axis):A>V&&(I.itemListStyle=(0,t.setPosition)(0,_.axis)),I;var M=(0,t.getPosition)(R,_),z=(0,e.default)(M,"%",_.axis),j=_.transitionTime+"ms";return I.itemListStyle={WebkitTransform:z,msTransform:z,OTransform:z,transform:z},T.swiping||(I.itemListStyle=s(s({},I.itemListStyle),{},{WebkitTransitionDuration:j,MozTransitionDuration:j,OTransitionDuration:j,transitionDuration:j,msTransitionDuration:j})),I};ai.slideAnimationHandler=u;var d=function(_,T,I,R){var A={},V=T.axis==="horizontal",L=n.Children.count(T.children),M=0,z=(0,t.getPosition)(I.selectedItem,T),j=T.infiniteLoop?(0,t.getPosition)(L-1,T)-100:(0,t.getPosition)(L-1,T),q=V?_.x:_.y,D=q;z===M&&q>0&&(D=0),z===j&&q<0&&(D=0);var b=z+100/(I.itemSize/D),C=Math.abs(q)>T.swipeScrollTolerance;return T.infiniteLoop&&C&&(I.selectedItem===0&&b>-100?b-=L*100:I.selectedItem===L-1&&b<-L*100&&(b+=L*100)),(!T.preventMovementUntilSwipeScrollTolerance||C||I.swipeMovementStarted)&&(I.swipeMovementStarted||R({swipeMovementStarted:!0}),A.itemListStyle=(0,t.setPosition)(b,T.axis)),C&&!I.cancelClick&&R({cancelClick:!0}),A};ai.slideSwipeAnimationHandler=d;var h=function(_,T){var I=(0,t.getPosition)(T.selectedItem,_),R=(0,t.setPosition)(I,_.axis);return{itemListStyle:R}};ai.slideStopSwipingHandler=h;var m=function(_,T){var I=_.transitionTime+"ms",R="ease-in-out",A={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:R,msTransitionTimingFunction:R,MozTransitionTimingFunction:R,WebkitTransitionTimingFunction:R,OTransitionTimingFunction:R};return T.swiping||(A=s(s({},A),{},{WebkitTransitionDuration:I,MozTransitionDuration:I,OTransitionDuration:I,transitionDuration:I,msTransitionDuration:I})),{slideStyle:A,selectedStyle:s(s({},A),{},{opacity:1,position:"relative"}),prevStyle:s({},A)}};return ai.fadeAnimationHandler=m,ai}var qA;function AW(){if(qA)return kd;qA=1,Object.defineProperty(kd,"__esModule",{value:!0}),kd.default=void 0;var n=m(qo()),e=d(uN()),t=d(cN()),r=d(hN()),i=d(RW()),s=d(dN()),l=fN(),u=bW();function d(x){return x&&x.__esModule?x:{default:x}}function h(){if(typeof WeakMap!="function")return null;var x=new WeakMap;return h=function(){return x},x}function m(x){if(x&&x.__esModule)return x;if(x===null||g(x)!=="object"&&typeof x!="function")return{default:x};var k=h();if(k&&k.has(x))return k.get(x);var O={},ee=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var F in x)if(Object.prototype.hasOwnProperty.call(x,F)){var me=ee?Object.getOwnPropertyDescriptor(x,F):null;me&&(me.get||me.set)?Object.defineProperty(O,F,me):O[F]=x[F]}return O.default=x,k&&k.set(x,O),O}function g(x){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?g=function(O){return typeof O}:g=function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},g(x)}function _(){return _=Object.assign||function(x){for(var k=1;k<arguments.length;k++){var O=arguments[k];for(var ee in O)Object.prototype.hasOwnProperty.call(O,ee)&&(x[ee]=O[ee])}return x},_.apply(this,arguments)}function T(x,k){var O=Object.keys(x);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(x);k&&(ee=ee.filter(function(F){return Object.getOwnPropertyDescriptor(x,F).enumerable})),O.push.apply(O,ee)}return O}function I(x){for(var k=1;k<arguments.length;k++){var O=arguments[k]!=null?arguments[k]:{};k%2?T(Object(O),!0).forEach(function(ee){C(x,ee,O[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(O)):T(Object(O)).forEach(function(ee){Object.defineProperty(x,ee,Object.getOwnPropertyDescriptor(O,ee))})}return x}function R(x,k){if(!(x instanceof k))throw new TypeError("Cannot call a class as a function")}function A(x,k){for(var O=0;O<k.length;O++){var ee=k[O];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(x,ee.key,ee)}}function V(x,k,O){return k&&A(x.prototype,k),x}function L(x,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(k&&k.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),k&&M(x,k)}function M(x,k){return M=Object.setPrototypeOf||function(ee,F){return ee.__proto__=F,ee},M(x,k)}function z(x){var k=D();return function(){var ee=b(x),F;if(k){var me=b(this).constructor;F=Reflect.construct(ee,arguments,me)}else F=ee.apply(this,arguments);return j(this,F)}}function j(x,k){return k&&(g(k)==="object"||typeof k=="function")?k:q(x)}function q(x){if(x===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}function D(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function b(x){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)},b(x)}function C(x,k,O){return k in x?Object.defineProperty(x,k,{value:O,enumerable:!0,configurable:!0,writable:!0}):x[k]=O,x}var E=function(x){L(O,x);var k=z(O);function O(ee){var F;R(this,O),F=k.call(this,ee),C(q(F),"thumbsRef",void 0),C(q(F),"carouselWrapperRef",void 0),C(q(F),"listRef",void 0),C(q(F),"itemsRef",void 0),C(q(F),"timer",void 0),C(q(F),"animationHandler",void 0),C(q(F),"setThumbsRef",function(oe){F.thumbsRef=oe}),C(q(F),"setCarouselWrapperRef",function(oe){F.carouselWrapperRef=oe}),C(q(F),"setListRef",function(oe){F.listRef=oe}),C(q(F),"setItemsRef",function(oe,X){F.itemsRef||(F.itemsRef=[]),F.itemsRef[X]=oe}),C(q(F),"autoPlay",function(){n.Children.count(F.props.children)<=1||(F.clearAutoPlay(),F.props.autoPlay&&(F.timer=setTimeout(function(){F.increment()},F.props.interval)))}),C(q(F),"clearAutoPlay",function(){F.timer&&clearTimeout(F.timer)}),C(q(F),"resetAutoPlay",function(){F.clearAutoPlay(),F.autoPlay()}),C(q(F),"stopOnHover",function(){F.setState({isMouseEntered:!0},F.clearAutoPlay)}),C(q(F),"startOnLeave",function(){F.setState({isMouseEntered:!1},F.autoPlay)}),C(q(F),"isFocusWithinTheCarousel",function(){return F.carouselWrapperRef?!!((0,i.default)().activeElement===F.carouselWrapperRef||F.carouselWrapperRef.contains((0,i.default)().activeElement)):!1}),C(q(F),"navigateWithKeyboard",function(oe){if(F.isFocusWithinTheCarousel()){var X=F.props.axis,pe=X==="horizontal",he={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},W=pe?he.ArrowRight:he.ArrowDown,ie=pe?he.ArrowLeft:he.ArrowUp;W===oe.keyCode?F.increment():ie===oe.keyCode&&F.decrement()}}),C(q(F),"updateSizes",function(){if(!(!F.state.initialized||!F.itemsRef||F.itemsRef.length===0)){var oe=F.props.axis==="horizontal",X=F.itemsRef[0];if(X){var pe=oe?X.clientWidth:X.clientHeight;F.setState({itemSize:pe}),F.thumbsRef&&F.thumbsRef.updateSizes()}}}),C(q(F),"setMountState",function(){F.setState({hasMount:!0}),F.updateSizes()}),C(q(F),"handleClickItem",function(oe,X){if(n.Children.count(F.props.children)!==0){if(F.state.cancelClick){F.setState({cancelClick:!1});return}F.props.onClickItem(oe,X),oe!==F.state.selectedItem&&F.setState({selectedItem:oe})}}),C(q(F),"handleOnChange",function(oe,X){n.Children.count(F.props.children)<=1||F.props.onChange(oe,X)}),C(q(F),"handleClickThumb",function(oe,X){F.props.onClickThumb(oe,X),F.moveTo(oe)}),C(q(F),"onSwipeStart",function(oe){F.setState({swiping:!0}),F.props.onSwipeStart(oe)}),C(q(F),"onSwipeEnd",function(oe){F.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),F.props.onSwipeEnd(oe),F.clearAutoPlay(),F.state.autoPlay&&F.autoPlay()}),C(q(F),"onSwipeMove",function(oe,X){F.props.onSwipeMove(X);var pe=F.props.swipeAnimationHandler(oe,F.props,F.state,F.setState.bind(q(F)));return F.setState(I({},pe)),!!Object.keys(pe).length}),C(q(F),"decrement",function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;F.moveTo(F.state.selectedItem-(typeof oe=="number"?oe:1))}),C(q(F),"increment",function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;F.moveTo(F.state.selectedItem+(typeof oe=="number"?oe:1))}),C(q(F),"moveTo",function(oe){if(typeof oe=="number"){var X=n.Children.count(F.props.children)-1;oe<0&&(oe=F.props.infiniteLoop?X:0),oe>X&&(oe=F.props.infiniteLoop?0:X),F.selectItem({selectedItem:oe}),F.state.autoPlay&&F.state.isMouseEntered===!1&&F.resetAutoPlay()}}),C(q(F),"onClickNext",function(){F.increment(1)}),C(q(F),"onClickPrev",function(){F.decrement(1)}),C(q(F),"onSwipeForward",function(){F.increment(1),F.props.emulateTouch&&F.setState({cancelClick:!0})}),C(q(F),"onSwipeBackwards",function(){F.decrement(1),F.props.emulateTouch&&F.setState({cancelClick:!0})}),C(q(F),"changeItem",function(oe){return function(X){(!(0,l.isKeyboardEvent)(X)||X.key==="Enter")&&F.moveTo(oe)}}),C(q(F),"selectItem",function(oe){F.setState(I({previousItem:F.state.selectedItem},oe),function(){F.setState(F.animationHandler(F.props,F.state))}),F.handleOnChange(oe.selectedItem,n.Children.toArray(F.props.children)[oe.selectedItem])}),C(q(F),"getInitialImage",function(){var oe=F.props.selectedItem,X=F.itemsRef&&F.itemsRef[oe],pe=X&&X.getElementsByTagName("img")||[];return pe[0]}),C(q(F),"getVariableItemHeight",function(oe){var X=F.itemsRef&&F.itemsRef[oe];if(F.state.hasMount&&X&&X.children.length){var pe=X.children[0].getElementsByTagName("img")||[];if(pe.length>0){var he=pe[0];if(!he.complete){var W=function ke(){F.forceUpdate(),he.removeEventListener("load",ke)};he.addEventListener("load",W)}}var ie=pe[0]||X.children[0],Te=ie.clientHeight;return Te>0?Te:null}return null});var me={initialized:!1,previousItem:ee.selectedItem,selectedItem:ee.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:ee.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return F.animationHandler=typeof ee.animationHandler=="function"&&ee.animationHandler||ee.animationHandler==="fade"&&u.fadeAnimationHandler||u.slideAnimationHandler,F.state=I(I({},me),F.animationHandler(ee,me)),F}return V(O,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(F,me){!F.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!F.autoFocus&&this.props.autoFocus&&this.forceFocus(),me.swiping&&!this.state.swiping&&this.setState(I({},this.props.stopSwipingHandler(this.props,this.state))),(F.selectedItem!==this.props.selectedItem||F.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),F.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var F=this;this.bindEvents(),this.state.autoPlay&&n.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var me=F.getInitialImage();me&&!me.complete?me.addEventListener("load",F.setMountState):F.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var F=this.carouselWrapperRef;this.props.stopOnHover&&F&&(F.addEventListener("mouseenter",this.stopOnHover),F.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var F=this.carouselWrapperRef;this.props.stopOnHover&&F&&(F.removeEventListener("mouseenter",this.stopOnHover),F.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,s.default)().addEventListener("resize",this.updateSizes),(0,s.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,i.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,s.default)().removeEventListener("resize",this.updateSizes),(0,s.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var F=this.getInitialImage();F&&F.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,i.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var F;(F=this.carouselWrapperRef)===null||F===void 0||F.focus()}},{key:"renderItems",value:function(F){var me=this;return this.props.children?n.Children.map(this.props.children,function(oe,X){var pe=X===me.state.selectedItem,he=X===me.state.previousItem,W=pe&&me.state.selectedStyle||he&&me.state.prevStyle||me.state.slideStyle||{};me.props.centerMode&&me.props.axis==="horizontal"&&(W=I(I({},W),{},{minWidth:me.props.centerSlidePercentage+"%"})),me.state.swiping&&me.state.swipeMovementStarted&&(W=I(I({},W),{},{pointerEvents:"none"}));var ie={ref:function(ke){return me.setItemsRef(ke,X)},key:"itemKey"+X+(F?"clone":""),className:t.default.ITEM(!0,X===me.state.selectedItem,X===me.state.previousItem),onClick:me.handleClickItem.bind(me,X,oe),style:W};return n.default.createElement("li",ie,me.props.renderItem(oe,{isSelected:X===me.state.selectedItem,isPrevious:X===me.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var F=this,me=this.props,oe=me.showIndicators,X=me.labels,pe=me.renderIndicator,he=me.children;return oe?n.default.createElement("ul",{className:"control-dots"},n.Children.map(he,function(W,ie){return pe&&pe(F.changeItem(ie),ie===F.state.selectedItem,ie,X.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?n.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,n.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||n.Children.count(this.props.children)===0?null:n.default.createElement(r.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var F=this;if(!this.props.children||n.Children.count(this.props.children)===0)return null;var me=this.props.swipeable&&n.Children.count(this.props.children)>1,oe=this.props.axis==="horizontal",X=this.props.showArrows&&n.Children.count(this.props.children)>1,pe=X&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,he=X&&(this.state.selectedItem<n.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,W=this.renderItems(!0),ie=W.shift(),Te=W.pop(),ke={className:t.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},Ve={};if(oe){if(ke.onSwipeLeft=this.onSwipeForward,ke.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var $e=this.getVariableItemHeight(this.state.selectedItem);Ve.height=$e||"auto"}}else ke.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,ke.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,ke.style=I(I({},ke.style),{},{height:this.state.itemSize}),Ve.height=this.state.itemSize;return n.default.createElement("div",{"aria-label":this.props.ariaLabel,className:t.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},n.default.createElement("div",{className:t.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,pe,this.props.labels.leftArrow),n.default.createElement("div",{className:t.default.WRAPPER(!0,this.props.axis),style:Ve},me?n.default.createElement(e.default,_({tagName:"ul",innerRef:this.setListRef},ke,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&Te,this.renderItems(),this.props.infiniteLoop&&ie):n.default.createElement("ul",{className:t.default.SLIDER(!0,this.state.swiping),ref:function(qe){return F.setListRef(qe)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&Te,this.renderItems(),this.props.infiniteLoop&&ie)),this.props.renderArrowNext(this.onClickNext,he,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),O}(n.default.Component);return kd.default=E,C(E,"displayName","Carousel"),C(E,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:l.noop,onClickThumb:l.noop,onChange:l.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(k,O,ee){return n.default.createElement("button",{type:"button","aria-label":ee,className:t.default.ARROW_PREV(!O),onClick:k})},renderArrowNext:function(k,O,ee){return n.default.createElement("button",{type:"button","aria-label":ee,className:t.default.ARROW_NEXT(!O),onClick:k})},renderIndicator:function(k,O,ee,F){return n.default.createElement("li",{className:t.default.DOT(O),onClick:k,onKeyDown:k,value:ee,key:ee,role:"button",tabIndex:0,"aria-label":"".concat(F," ").concat(ee+1)})},renderItem:function(k){return k},renderThumbs:function(k){var O=n.Children.map(k,function(ee){var F=ee;if(ee.type!=="img"&&(F=n.Children.toArray(ee.props.children).find(function(me){return me.type==="img"})),!!F)return F});return O.filter(function(ee){return ee}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):O},statusFormatter:l.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:u.slideSwipeAnimationHandler,stopSwipingHandler:u.slideStopSwipingHandler}),kd}var HA={},KA;function PW(){return KA||(KA=1),HA}var GA;function CW(){return GA||(GA=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(n,"CarouselProps",{enumerable:!0,get:function(){return t.CarouselProps}}),Object.defineProperty(n,"Thumbs",{enumerable:!0,get:function(){return r.default}});var e=i(AW()),t=PW(),r=i(hN());function i(s){return s&&s.__esModule?s:{default:s}}}(Bv)),Bv}var kW=CW();const xW="/amazon-clone/assets/img1-bl35EseN.jpg",OW="/amazon-clone/assets/img2-CO6XiwvK.jpg",NW="/amazon-clone/assets/img3-BPr44Ttk.jpg",DW="/amazon-clone/assets/img4-Fp0oaH3y.jpg",Kv=[xW,OW,NW,DW],LW="_hero__img_12y1j_3",VW={hero__img:LW},MW=()=>$.jsxs("div",{children:[$.jsx(kW.Carousel,{autoplay:!0,infiniteLoop:!0,showIndicators:!1,showThumbs:!1,children:Kv==null?void 0:Kv.map((n,e)=>$.jsx("img",{src:n,alt:`Slide ${e}`},e))}),$.jsx("div",{className:VW.hero__img})]}),FW="_category_1sdlo_1",UW="_category_container_1sdlo_69",pN={category:FW,category_container:UW},$W=({data:n})=>$.jsx("div",{className:pN.category,children:$.jsxs(ui,{to:`/amazon-clone/category/${n.name}`,children:[$.jsx("span",{children:$.jsx("h2",{children:n.title})}),$.jsx("img",{src:n.imgLink,alt:""}),$.jsx("p",{children:"shop now"})]})}),Gv=[{title:"Electronics",name:"electronics",imgLink:"https://images-na.ssl-images-amazon.com/images/G/01/AmazonExports/Fuji/2020/May/Dashboard/Fuji_Dash_TV_2X._SY304_CB432517900_.jpg"},{title:"Discover fashion trends",name:"women's clothing",imgLink:"https://images.unsplash.com/photo-1675881149252-a2e3d0e57e0f?w=2000&auto=format&fit=crop&q=&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTJ8fGZlbWFsZSUyMGZhc2hpb258ZW58MHx8MHx8fDA%3D"},{title:"Men's Clothing",name:"men's clothing",imgLink:"https://m.media-amazon.com/images/I/618bcm65ksL._AC_UL480_FMwebp_QL65_.jpg"},{title:"Jewelery",name:"jewelery",imgLink:"https://m.media-amazon.com/images/I/71r7eWuCsaL._AC_UL480_FMwebp_QL65_.jpg"}],jW=()=>$.jsx("section",{className:pN.category_container,children:Gv==null?void 0:Gv.map((n,e)=>$.jsx($W,{data:n},e))});function mN(n,e){return function(){return n.apply(e,arguments)}}const{toString:BW}=Object.prototype,{getPrototypeOf:yI}=Object,Iy=(n=>e=>{const t=BW.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),mi=n=>(n=n.toLowerCase(),e=>Iy(e)===n),Ty=n=>e=>typeof e===n,{isArray:Tc}=Array,Uh=Ty("undefined");function zW(n){return n!==null&&!Uh(n)&&n.constructor!==null&&!Uh(n.constructor)&&Ir(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const gN=mi("ArrayBuffer");function WW(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&gN(n.buffer),e}const qW=Ty("string"),Ir=Ty("function"),yN=Ty("number"),Sy=n=>n!==null&&typeof n=="object",HW=n=>n===!0||n===!1,Am=n=>{if(Iy(n)!=="object")return!1;const e=yI(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},KW=mi("Date"),GW=mi("File"),QW=mi("Blob"),YW=mi("FileList"),JW=n=>Sy(n)&&Ir(n.pipe),XW=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Ir(n.append)&&((e=Iy(n))==="formdata"||e==="object"&&Ir(n.toString)&&n.toString()==="[object FormData]"))},ZW=mi("URLSearchParams"),[eq,tq,nq,rq]=["ReadableStream","Request","Response","Headers"].map(mi),iq=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function wf(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),Tc(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const s=t?Object.getOwnPropertyNames(n):Object.keys(n),l=s.length;let u;for(r=0;r<l;r++)u=s[r],e.call(null,n[u],u,n)}}function _N(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const za=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,vN=n=>!Uh(n)&&n!==za;function rE(){const{caseless:n}=vN(this)&&this||{},e={},t=(r,i)=>{const s=n&&_N(e,i)||i;Am(e[s])&&Am(r)?e[s]=rE(e[s],r):Am(r)?e[s]=rE({},r):Tc(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&wf(arguments[r],t);return e}const sq=(n,e,t,{allOwnKeys:r}={})=>(wf(e,(i,s)=>{t&&Ir(i)?n[s]=mN(i,t):n[s]=i},{allOwnKeys:r}),n),oq=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),aq=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},lq=(n,e,t,r)=>{let i,s,l;const u={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),s=i.length;s-- >0;)l=i[s],(!r||r(l,n,e))&&!u[l]&&(e[l]=n[l],u[l]=!0);n=t!==!1&&yI(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},uq=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},cq=n=>{if(!n)return null;if(Tc(n))return n;let e=n.length;if(!yN(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},dq=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&yI(Uint8Array)),hq=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(n,s[0],s[1])}},fq=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},pq=mi("HTMLFormElement"),mq=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),QA=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),gq=mi("RegExp"),wN=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};wf(t,(i,s)=>{let l;(l=e(i,s,n))!==!1&&(r[s]=l||i)}),Object.defineProperties(n,r)},yq=n=>{wN(n,(e,t)=>{if(Ir(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Ir(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},_q=(n,e)=>{const t={},r=i=>{i.forEach(s=>{t[s]=!0})};return Tc(n)?r(n):r(String(n).split(e)),t},vq=()=>{},wq=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function Eq(n){return!!(n&&Ir(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const Iq=n=>{const e=new Array(10),t=(r,i)=>{if(Sy(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Tc(r)?[]:{};return wf(r,(l,u)=>{const d=t(l,i+1);!Uh(d)&&(s[u]=d)}),e[i]=void 0,s}}return r};return t(n,0)},Tq=mi("AsyncFunction"),Sq=n=>n&&(Sy(n)||Ir(n))&&Ir(n.then)&&Ir(n.catch),EN=((n,e)=>n?setImmediate:e?((t,r)=>(za.addEventListener("message",({source:i,data:s})=>{i===za&&s===t&&r.length&&r.shift()()},!1),i=>{r.push(i),za.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Ir(za.postMessage)),Rq=typeof queueMicrotask<"u"?queueMicrotask.bind(za):typeof process<"u"&&process.nextTick||EN,re={isArray:Tc,isArrayBuffer:gN,isBuffer:zW,isFormData:XW,isArrayBufferView:WW,isString:qW,isNumber:yN,isBoolean:HW,isObject:Sy,isPlainObject:Am,isReadableStream:eq,isRequest:tq,isResponse:nq,isHeaders:rq,isUndefined:Uh,isDate:KW,isFile:GW,isBlob:QW,isRegExp:gq,isFunction:Ir,isStream:JW,isURLSearchParams:ZW,isTypedArray:dq,isFileList:YW,forEach:wf,merge:rE,extend:sq,trim:iq,stripBOM:oq,inherits:aq,toFlatObject:lq,kindOf:Iy,kindOfTest:mi,endsWith:uq,toArray:cq,forEachEntry:hq,matchAll:fq,isHTMLForm:pq,hasOwnProperty:QA,hasOwnProp:QA,reduceDescriptors:wN,freezeMethods:yq,toObjectSet:_q,toCamelCase:mq,noop:vq,toFiniteNumber:wq,findKey:_N,global:za,isContextDefined:vN,isSpecCompliantForm:Eq,toJSONObject:Iq,isAsyncFn:Tq,isThenable:Sq,setImmediate:EN,asap:Rq};function Me(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}re.inherits(Me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:re.toJSONObject(this.config),code:this.code,status:this.status}}});const IN=Me.prototype,TN={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{TN[n]={value:n}});Object.defineProperties(Me,TN);Object.defineProperty(IN,"isAxiosError",{value:!0});Me.from=(n,e,t,r,i,s)=>{const l=Object.create(IN);return re.toFlatObject(n,l,function(d){return d!==Error.prototype},u=>u!=="isAxiosError"),Me.call(l,n.message,e,t,r,i),l.cause=n,l.name=n.name,s&&Object.assign(l,s),l};const bq=null;function iE(n){return re.isPlainObject(n)||re.isArray(n)}function SN(n){return re.endsWith(n,"[]")?n.slice(0,-2):n}function YA(n,e,t){return n?n.concat(e).map(function(i,s){return i=SN(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function Aq(n){return re.isArray(n)&&!n.some(iE)}const Pq=re.toFlatObject(re,{},null,function(e){return/^is[A-Z]/.test(e)});function Ry(n,e,t){if(!re.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=re.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,A){return!re.isUndefined(A[R])});const r=t.metaTokens,i=t.visitor||m,s=t.dots,l=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&re.isSpecCompliantForm(e);if(!re.isFunction(i))throw new TypeError("visitor must be a function");function h(I){if(I===null)return"";if(re.isDate(I))return I.toISOString();if(!d&&re.isBlob(I))throw new Me("Blob is not supported. Use a Buffer instead.");return re.isArrayBuffer(I)||re.isTypedArray(I)?d&&typeof Blob=="function"?new Blob([I]):Buffer.from(I):I}function m(I,R,A){let V=I;if(I&&!A&&typeof I=="object"){if(re.endsWith(R,"{}"))R=r?R:R.slice(0,-2),I=JSON.stringify(I);else if(re.isArray(I)&&Aq(I)||(re.isFileList(I)||re.endsWith(R,"[]"))&&(V=re.toArray(I)))return R=SN(R),V.forEach(function(M,z){!(re.isUndefined(M)||M===null)&&e.append(l===!0?YA([R],z,s):l===null?R:R+"[]",h(M))}),!1}return iE(I)?!0:(e.append(YA(A,R,s),h(I)),!1)}const g=[],_=Object.assign(Pq,{defaultVisitor:m,convertValue:h,isVisitable:iE});function T(I,R){if(!re.isUndefined(I)){if(g.indexOf(I)!==-1)throw Error("Circular reference detected in "+R.join("."));g.push(I),re.forEach(I,function(V,L){(!(re.isUndefined(V)||V===null)&&i.call(e,V,re.isString(L)?L.trim():L,R,_))===!0&&T(V,R?R.concat(L):[L])}),g.pop()}}if(!re.isObject(n))throw new TypeError("data must be an object");return T(n),e}function JA(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function _I(n,e){this._pairs=[],n&&Ry(n,this,e)}const RN=_I.prototype;RN.append=function(e,t){this._pairs.push([e,t])};RN.toString=function(e){const t=e?function(r){return e.call(this,r,JA)}:JA;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function Cq(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function bN(n,e,t){if(!e)return n;const r=t&&t.encode||Cq;re.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let s;if(i?s=i(e,t):s=re.isURLSearchParams(e)?e.toString():new _I(e,t).toString(r),s){const l=n.indexOf("#");l!==-1&&(n=n.slice(0,l)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class XA{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){re.forEach(this.handlers,function(r){r!==null&&e(r)})}}const AN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},kq=typeof URLSearchParams<"u"?URLSearchParams:_I,xq=typeof FormData<"u"?FormData:null,Oq=typeof Blob<"u"?Blob:null,Nq={isBrowser:!0,classes:{URLSearchParams:kq,FormData:xq,Blob:Oq},protocols:["http","https","file","blob","url","data"]},vI=typeof window<"u"&&typeof document<"u",sE=typeof navigator=="object"&&navigator||void 0,Dq=vI&&(!sE||["ReactNative","NativeScript","NS"].indexOf(sE.product)<0),Lq=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Vq=vI&&window.location.href||"http://localhost",Mq=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:vI,hasStandardBrowserEnv:Dq,hasStandardBrowserWebWorkerEnv:Lq,navigator:sE,origin:Vq},Symbol.toStringTag,{value:"Module"})),Dn={...Mq,...Nq};function Fq(n,e){return Ry(n,new Dn.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,s){return Dn.isNode&&re.isBuffer(t)?(this.append(r,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function Uq(n){return re.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function $q(n){const e={},t=Object.keys(n);let r;const i=t.length;let s;for(r=0;r<i;r++)s=t[r],e[s]=n[s];return e}function PN(n){function e(t,r,i,s){let l=t[s++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),d=s>=t.length;return l=!l&&re.isArray(i)?i.length:l,d?(re.hasOwnProp(i,l)?i[l]=[i[l],r]:i[l]=r,!u):((!i[l]||!re.isObject(i[l]))&&(i[l]=[]),e(t,r,i[l],s)&&re.isArray(i[l])&&(i[l]=$q(i[l])),!u)}if(re.isFormData(n)&&re.isFunction(n.entries)){const t={};return re.forEachEntry(n,(r,i)=>{e(Uq(r),i,t,0)}),t}return null}function jq(n,e,t){if(re.isString(n))try{return(e||JSON.parse)(n),re.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Ef={transitional:AN,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,s=re.isObject(e);if(s&&re.isHTMLForm(e)&&(e=new FormData(e)),re.isFormData(e))return i?JSON.stringify(PN(e)):e;if(re.isArrayBuffer(e)||re.isBuffer(e)||re.isStream(e)||re.isFile(e)||re.isBlob(e)||re.isReadableStream(e))return e;if(re.isArrayBufferView(e))return e.buffer;if(re.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Fq(e,this.formSerializer).toString();if((u=re.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Ry(u?{"files[]":e}:e,d&&new d,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),jq(e)):e}],transformResponse:[function(e){const t=this.transitional||Ef.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(re.isResponse(e)||re.isReadableStream(e))return e;if(e&&re.isString(e)&&(r&&!this.responseType||i)){const l=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(u){if(l)throw u.name==="SyntaxError"?Me.from(u,Me.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Dn.classes.FormData,Blob:Dn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};re.forEach(["delete","get","head","post","put","patch"],n=>{Ef.headers[n]={}});const Bq=re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),zq=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(l){i=l.indexOf(":"),t=l.substring(0,i).trim().toLowerCase(),r=l.substring(i+1).trim(),!(!t||e[t]&&Bq[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},ZA=Symbol("internals");function Md(n){return n&&String(n).trim().toLowerCase()}function Pm(n){return n===!1||n==null?n:re.isArray(n)?n.map(Pm):String(n)}function Wq(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const qq=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Qv(n,e,t,r,i){if(re.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!re.isString(e)){if(re.isString(r))return e.indexOf(r)!==-1;if(re.isRegExp(r))return r.test(e)}}function Hq(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function Kq(n,e){const t=re.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,s,l){return this[r].call(this,e,i,s,l)},configurable:!0})})}let sr=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function s(u,d,h){const m=Md(d);if(!m)throw new Error("header name must be a non-empty string");const g=re.findKey(i,m);(!g||i[g]===void 0||h===!0||h===void 0&&i[g]!==!1)&&(i[g||d]=Pm(u))}const l=(u,d)=>re.forEach(u,(h,m)=>s(h,m,d));if(re.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(re.isString(e)&&(e=e.trim())&&!qq(e))l(zq(e),t);else if(re.isHeaders(e))for(const[u,d]of e.entries())s(d,u,r);else e!=null&&s(t,e,r);return this}get(e,t){if(e=Md(e),e){const r=re.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return Wq(i);if(re.isFunction(t))return t.call(this,i,r);if(re.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Md(e),e){const r=re.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||Qv(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function s(l){if(l=Md(l),l){const u=re.findKey(r,l);u&&(!t||Qv(r,r[u],u,t))&&(delete r[u],i=!0)}}return re.isArray(e)?e.forEach(s):s(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const s=t[r];(!e||Qv(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const t=this,r={};return re.forEach(this,(i,s)=>{const l=re.findKey(r,s);if(l){t[l]=Pm(i),delete t[s];return}const u=e?Hq(s):String(s).trim();u!==s&&delete t[s],t[u]=Pm(i),r[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return re.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&re.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[ZA]=this[ZA]={accessors:{}}).accessors,i=this.prototype;function s(l){const u=Md(l);r[u]||(Kq(i,l),r[u]=!0)}return re.isArray(e)?e.forEach(s):s(e),this}};sr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);re.reduceDescriptors(sr.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});re.freezeMethods(sr);function Yv(n,e){const t=this||Ef,r=e||t,i=sr.from(r.headers);let s=r.data;return re.forEach(n,function(u){s=u.call(t,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function CN(n){return!!(n&&n.__CANCEL__)}function Sc(n,e,t){Me.call(this,n??"canceled",Me.ERR_CANCELED,e,t),this.name="CanceledError"}re.inherits(Sc,Me,{__CANCEL__:!0});function kN(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Me("Request failed with status code "+t.status,[Me.ERR_BAD_REQUEST,Me.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Gq(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function Qq(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,s=0,l;return e=e!==void 0?e:1e3,function(d){const h=Date.now(),m=r[s];l||(l=h),t[i]=d,r[i]=h;let g=s,_=0;for(;g!==i;)_+=t[g++],g=g%n;if(i=(i+1)%n,i===s&&(s=(s+1)%n),h-l<e)return;const T=m&&h-m;return T?Math.round(_*1e3/T):void 0}}function Yq(n,e){let t=0,r=1e3/e,i,s;const l=(h,m=Date.now())=>{t=m,i=null,s&&(clearTimeout(s),s=null),n.apply(null,h)};return[(...h)=>{const m=Date.now(),g=m-t;g>=r?l(h,m):(i=h,s||(s=setTimeout(()=>{s=null,l(i)},r-g)))},()=>i&&l(i)]}const _g=(n,e,t=3)=>{let r=0;const i=Qq(50,250);return Yq(s=>{const l=s.loaded,u=s.lengthComputable?s.total:void 0,d=l-r,h=i(d),m=l<=u;r=l;const g={loaded:l,total:u,progress:u?l/u:void 0,bytes:d,rate:h||void 0,estimated:h&&u&&m?(u-l)/h:void 0,event:s,lengthComputable:u!=null,[e?"download":"upload"]:!0};n(g)},t)},eP=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},tP=n=>(...e)=>re.asap(()=>n(...e)),Jq=Dn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Dn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Dn.origin),Dn.navigator&&/(msie|trident)/i.test(Dn.navigator.userAgent)):()=>!0,Xq=Dn.hasStandardBrowserEnv?{write(n,e,t,r,i,s){const l=[n+"="+encodeURIComponent(e)];re.isNumber(t)&&l.push("expires="+new Date(t).toGMTString()),re.isString(r)&&l.push("path="+r),re.isString(i)&&l.push("domain="+i),s===!0&&l.push("secure"),document.cookie=l.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Zq(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function eH(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function xN(n,e,t){let r=!Zq(e);return n&&r||t==!1?eH(n,e):e}const nP=n=>n instanceof sr?{...n}:n;function al(n,e){e=e||{};const t={};function r(h,m,g,_){return re.isPlainObject(h)&&re.isPlainObject(m)?re.merge.call({caseless:_},h,m):re.isPlainObject(m)?re.merge({},m):re.isArray(m)?m.slice():m}function i(h,m,g,_){if(re.isUndefined(m)){if(!re.isUndefined(h))return r(void 0,h,g,_)}else return r(h,m,g,_)}function s(h,m){if(!re.isUndefined(m))return r(void 0,m)}function l(h,m){if(re.isUndefined(m)){if(!re.isUndefined(h))return r(void 0,h)}else return r(void 0,m)}function u(h,m,g){if(g in e)return r(h,m);if(g in n)return r(void 0,h)}const d={url:s,method:s,data:s,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(h,m,g)=>i(nP(h),nP(m),g,!0)};return re.forEach(Object.keys(Object.assign({},n,e)),function(m){const g=d[m]||i,_=g(n[m],e[m],m);re.isUndefined(_)&&g!==u||(t[m]=_)}),t}const ON=n=>{const e=al({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:l,auth:u}=e;e.headers=l=sr.from(l),e.url=bN(xN(e.baseURL,e.url),n.params,n.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let d;if(re.isFormData(t)){if(Dn.hasStandardBrowserEnv||Dn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((d=l.getContentType())!==!1){const[h,...m]=d?d.split(";").map(g=>g.trim()).filter(Boolean):[];l.setContentType([h||"multipart/form-data",...m].join("; "))}}if(Dn.hasStandardBrowserEnv&&(r&&re.isFunction(r)&&(r=r(e)),r||r!==!1&&Jq(e.url))){const h=i&&s&&Xq.read(s);h&&l.set(i,h)}return e},tH=typeof XMLHttpRequest<"u",nH=tH&&function(n){return new Promise(function(t,r){const i=ON(n);let s=i.data;const l=sr.from(i.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:h}=i,m,g,_,T,I;function R(){T&&T(),I&&I(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let A=new XMLHttpRequest;A.open(i.method.toUpperCase(),i.url,!0),A.timeout=i.timeout;function V(){if(!A)return;const M=sr.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),j={data:!u||u==="text"||u==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:M,config:n,request:A};kN(function(D){t(D),R()},function(D){r(D),R()},j),A=null}"onloadend"in A?A.onloadend=V:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(V)},A.onabort=function(){A&&(r(new Me("Request aborted",Me.ECONNABORTED,n,A)),A=null)},A.onerror=function(){r(new Me("Network Error",Me.ERR_NETWORK,n,A)),A=null},A.ontimeout=function(){let z=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const j=i.transitional||AN;i.timeoutErrorMessage&&(z=i.timeoutErrorMessage),r(new Me(z,j.clarifyTimeoutError?Me.ETIMEDOUT:Me.ECONNABORTED,n,A)),A=null},s===void 0&&l.setContentType(null),"setRequestHeader"in A&&re.forEach(l.toJSON(),function(z,j){A.setRequestHeader(j,z)}),re.isUndefined(i.withCredentials)||(A.withCredentials=!!i.withCredentials),u&&u!=="json"&&(A.responseType=i.responseType),h&&([_,I]=_g(h,!0),A.addEventListener("progress",_)),d&&A.upload&&([g,T]=_g(d),A.upload.addEventListener("progress",g),A.upload.addEventListener("loadend",T)),(i.cancelToken||i.signal)&&(m=M=>{A&&(r(!M||M.type?new Sc(null,n,A):M),A.abort(),A=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const L=Gq(i.url);if(L&&Dn.protocols.indexOf(L)===-1){r(new Me("Unsupported protocol "+L+":",Me.ERR_BAD_REQUEST,n));return}A.send(s||null)})},rH=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const s=function(h){if(!i){i=!0,u();const m=h instanceof Error?h:this.reason;r.abort(m instanceof Me?m:new Sc(m instanceof Error?m.message:m))}};let l=e&&setTimeout(()=>{l=null,s(new Me(`timeout ${e} of ms exceeded`,Me.ETIMEDOUT))},e);const u=()=>{n&&(l&&clearTimeout(l),l=null,n.forEach(h=>{h.unsubscribe?h.unsubscribe(s):h.removeEventListener("abort",s)}),n=null)};n.forEach(h=>h.addEventListener("abort",s));const{signal:d}=r;return d.unsubscribe=()=>re.asap(u),d}},iH=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},sH=async function*(n,e){for await(const t of oH(n))yield*iH(t,e)},oH=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},rP=(n,e,t,r)=>{const i=sH(n,e);let s=0,l,u=d=>{l||(l=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:h,value:m}=await i.next();if(h){u(),d.close();return}let g=m.byteLength;if(t){let _=s+=g;t(_)}d.enqueue(new Uint8Array(m))}catch(h){throw u(h),h}},cancel(d){return u(d),i.return()}},{highWaterMark:2})},by=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",NN=by&&typeof ReadableStream=="function",aH=by&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),DN=(n,...e)=>{try{return!!n(...e)}catch{return!1}},lH=NN&&DN(()=>{let n=!1;const e=new Request(Dn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),iP=64*1024,oE=NN&&DN(()=>re.isReadableStream(new Response("").body)),vg={stream:oE&&(n=>n.body)};by&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!vg[e]&&(vg[e]=re.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new Me(`Response type '${e}' is not supported`,Me.ERR_NOT_SUPPORT,r)})})})(new Response);const uH=async n=>{if(n==null)return 0;if(re.isBlob(n))return n.size;if(re.isSpecCompliantForm(n))return(await new Request(Dn.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(re.isArrayBufferView(n)||re.isArrayBuffer(n))return n.byteLength;if(re.isURLSearchParams(n)&&(n=n+""),re.isString(n))return(await aH(n)).byteLength},cH=async(n,e)=>{const t=re.toFiniteNumber(n.getContentLength());return t??uH(e)},dH=by&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:s,timeout:l,onDownloadProgress:u,onUploadProgress:d,responseType:h,headers:m,withCredentials:g="same-origin",fetchOptions:_}=ON(n);h=h?(h+"").toLowerCase():"text";let T=rH([i,s&&s.toAbortSignal()],l),I;const R=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let A;try{if(d&&lH&&t!=="get"&&t!=="head"&&(A=await cH(m,r))!==0){let j=new Request(e,{method:"POST",body:r,duplex:"half"}),q;if(re.isFormData(r)&&(q=j.headers.get("content-type"))&&m.setContentType(q),j.body){const[D,b]=eP(A,_g(tP(d)));r=rP(j.body,iP,D,b)}}re.isString(g)||(g=g?"include":"omit");const V="credentials"in Request.prototype;I=new Request(e,{..._,signal:T,method:t.toUpperCase(),headers:m.normalize().toJSON(),body:r,duplex:"half",credentials:V?g:void 0});let L=await fetch(I);const M=oE&&(h==="stream"||h==="response");if(oE&&(u||M&&R)){const j={};["status","statusText","headers"].forEach(C=>{j[C]=L[C]});const q=re.toFiniteNumber(L.headers.get("content-length")),[D,b]=u&&eP(q,_g(tP(u),!0))||[];L=new Response(rP(L.body,iP,D,()=>{b&&b(),R&&R()}),j)}h=h||"text";let z=await vg[re.findKey(vg,h)||"text"](L,n);return!M&&R&&R(),await new Promise((j,q)=>{kN(j,q,{data:z,headers:sr.from(L.headers),status:L.status,statusText:L.statusText,config:n,request:I})})}catch(V){throw R&&R(),V&&V.name==="TypeError"&&/fetch/i.test(V.message)?Object.assign(new Me("Network Error",Me.ERR_NETWORK,n,I),{cause:V.cause||V}):Me.from(V,V&&V.code,n,I)}}),aE={http:bq,xhr:nH,fetch:dH};re.forEach(aE,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const sP=n=>`- ${n}`,hH=n=>re.isFunction(n)||n===null||n===!1,LN={getAdapter:n=>{n=re.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let s=0;s<e;s++){t=n[s];let l;if(r=t,!hH(t)&&(r=aE[(l=String(t)).toLowerCase()],r===void 0))throw new Me(`Unknown adapter '${l}'`);if(r)break;i[l||"#"+s]=r}if(!r){const s=Object.entries(i).map(([u,d])=>`adapter ${u} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=e?s.length>1?`since :
`+s.map(sP).join(`
`):" "+sP(s[0]):"as no adapter specified";throw new Me("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:aE};function Jv(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Sc(null,n)}function oP(n){return Jv(n),n.headers=sr.from(n.headers),n.data=Yv.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),LN.getAdapter(n.adapter||Ef.adapter)(n).then(function(r){return Jv(n),r.data=Yv.call(n,n.transformResponse,r),r.headers=sr.from(r.headers),r},function(r){return CN(r)||(Jv(n),r&&r.response&&(r.response.data=Yv.call(n,n.transformResponse,r.response),r.response.headers=sr.from(r.response.headers))),Promise.reject(r)})}const VN="1.8.2",Ay={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Ay[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const aP={};Ay.transitional=function(e,t,r){function i(s,l){return"[Axios v"+VN+"] Transitional option '"+s+"'"+l+(r?". "+r:"")}return(s,l,u)=>{if(e===!1)throw new Me(i(l," has been removed"+(t?" in "+t:"")),Me.ERR_DEPRECATED);return t&&!aP[l]&&(aP[l]=!0,console.warn(i(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,l,u):!0}};Ay.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function fH(n,e,t){if(typeof n!="object")throw new Me("options must be an object",Me.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const s=r[i],l=e[s];if(l){const u=n[s],d=u===void 0||l(u,s,n);if(d!==!0)throw new Me("option "+s+" must be "+d,Me.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Me("Unknown option "+s,Me.ERR_BAD_OPTION)}}const Cm={assertOptions:fH,validators:Ay},Ai=Cm.validators;let Ga=class{constructor(e){this.defaults=e,this.interceptors={request:new XA,response:new XA}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=al(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:s}=t;r!==void 0&&Cm.assertOptions(r,{silentJSONParsing:Ai.transitional(Ai.boolean),forcedJSONParsing:Ai.transitional(Ai.boolean),clarifyTimeoutError:Ai.transitional(Ai.boolean)},!1),i!=null&&(re.isFunction(i)?t.paramsSerializer={serialize:i}:Cm.assertOptions(i,{encode:Ai.function,serialize:Ai.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Cm.assertOptions(t,{baseUrl:Ai.spelling("baseURL"),withXsrfToken:Ai.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=s&&re.merge(s.common,s[t.method]);s&&re.forEach(["delete","get","head","post","put","patch","common"],I=>{delete s[I]}),t.headers=sr.concat(l,s);const u=[];let d=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(t)===!1||(d=d&&R.synchronous,u.unshift(R.fulfilled,R.rejected))});const h=[];this.interceptors.response.forEach(function(R){h.push(R.fulfilled,R.rejected)});let m,g=0,_;if(!d){const I=[oP.bind(this),void 0];for(I.unshift.apply(I,u),I.push.apply(I,h),_=I.length,m=Promise.resolve(t);g<_;)m=m.then(I[g++],I[g++]);return m}_=u.length;let T=t;for(g=0;g<_;){const I=u[g++],R=u[g++];try{T=I(T)}catch(A){R.call(this,A);break}}try{m=oP.call(this,T)}catch(I){return Promise.reject(I)}for(g=0,_=h.length;g<_;)m=m.then(h[g++],h[g++]);return m}getUri(e){e=al(this.defaults,e);const t=xN(e.baseURL,e.url,e.allowAbsoluteUrls);return bN(t,e.params,e.paramsSerializer)}};re.forEach(["delete","get","head","options"],function(e){Ga.prototype[e]=function(t,r){return this.request(al(r||{},{method:e,url:t,data:(r||{}).data}))}});re.forEach(["post","put","patch"],function(e){function t(r){return function(s,l,u){return this.request(al(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:l}))}}Ga.prototype[e]=t(),Ga.prototype[e+"Form"]=t(!0)});let pH=class MN{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const l=new Promise(u=>{r.subscribe(u),s=u}).then(i);return l.cancel=function(){r.unsubscribe(s)},l},e(function(s,l,u){r.reason||(r.reason=new Sc(s,l,u),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new MN(function(i){e=i}),cancel:e}}};function mH(n){return function(t){return n.apply(null,t)}}function gH(n){return re.isObject(n)&&n.isAxiosError===!0}const lE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(lE).forEach(([n,e])=>{lE[e]=n});function FN(n){const e=new Ga(n),t=mN(Ga.prototype.request,e);return re.extend(t,Ga.prototype,e,{allOwnKeys:!0}),re.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return FN(al(n,i))},t}const Pt=FN(Ef);Pt.Axios=Ga;Pt.CanceledError=Sc;Pt.CancelToken=pH;Pt.isCancel=CN;Pt.VERSION=VN;Pt.toFormData=Ry;Pt.AxiosError=Me;Pt.Cancel=Pt.CanceledError;Pt.all=function(e){return Promise.all(e)};Pt.spread=mH;Pt.isAxiosError=gH;Pt.mergeConfig=al;Pt.AxiosHeaders=sr;Pt.formToJSON=n=>PN(re.isHTMLForm(n)?new FormData(n):n);Pt.getAdapter=LN.getAdapter;Pt.HttpStatusCode=lE;Pt.default=Pt;const{Axios:lY,AxiosError:uY,CanceledError:cY,isCancel:dY,CancelToken:hY,VERSION:fY,all:pY,Cancel:mY,isAxiosError:gY,spread:yY,toFormData:_Y,AxiosHeaders:vY,HttpStatusCode:wY,formToJSON:EY,getAdapter:IY,mergeConfig:TY}=Pt;var yH=lN();const xt=vE(yH);function UN(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=UN(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function hh(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=UN(n))&&(r&&(r+=" "),r+=e);return r}function $N(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}const _H={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function jN(n,e,t=void 0){const r={};for(const i in n){const s=n[i];let l="",u=!0;for(let d=0;d<s.length;d+=1){const h=s[d];h&&(l+=(u===!0?"":" ")+e(h),u=!1,t&&t[h]&&(l+=" "+t[h]))}r[i]=l}return r}const vH=K.createContext(),wH=()=>K.useContext(vH)??!1;function lP(n){try{return n.matches(":focus-visible")}catch{}return!1}var Xv={exports:{}},lt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uP;function EH(){if(uP)return lt;uP=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),T=Symbol.for("react.client.reference");function I(R){if(typeof R=="object"&&R!==null){var A=R.$$typeof;switch(A){case n:switch(R=R.type,R){case t:case i:case r:case d:case h:return R;default:switch(R=R&&R.$$typeof,R){case l:case u:case g:case m:return R;case s:return R;default:return A}}case e:return A}}}return lt.ContextConsumer=s,lt.ContextProvider=l,lt.Element=n,lt.ForwardRef=u,lt.Fragment=t,lt.Lazy=g,lt.Memo=m,lt.Portal=e,lt.Profiler=i,lt.StrictMode=r,lt.Suspense=d,lt.SuspenseList=h,lt.isContextConsumer=function(R){return I(R)===s},lt.isContextProvider=function(R){return I(R)===l},lt.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===n},lt.isForwardRef=function(R){return I(R)===u},lt.isFragment=function(R){return I(R)===t},lt.isLazy=function(R){return I(R)===g},lt.isMemo=function(R){return I(R)===m},lt.isPortal=function(R){return I(R)===e},lt.isProfiler=function(R){return I(R)===i},lt.isStrictMode=function(R){return I(R)===r},lt.isSuspense=function(R){return I(R)===d},lt.isSuspenseList=function(R){return I(R)===h},lt.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===t||R===i||R===r||R===d||R===h||R===_||typeof R=="object"&&R!==null&&(R.$$typeof===g||R.$$typeof===m||R.$$typeof===l||R.$$typeof===s||R.$$typeof===u||R.$$typeof===T||R.getModuleId!==void 0)},lt.typeOf=I,lt}var cP;function IH(){return cP||(cP=1,Xv.exports=EH()),Xv.exports}var BN=IH();function vs(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function zN(n){if(K.isValidElement(n)||BN.isValidElementType(n)||!vs(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=zN(n[t])}),e}function Tr(n,e,t={clone:!0}){const r=t.clone?{...n}:n;return vs(n)&&vs(e)&&Object.keys(e).forEach(i=>{K.isValidElement(e[i])||BN.isValidElementType(e[i])?r[i]=e[i]:vs(e[i])&&Object.prototype.hasOwnProperty.call(n,i)&&vs(n[i])?r[i]=Tr(n[i],e[i],t):t.clone?r[i]=vs(e[i])?zN(e[i]):e[i]:r[i]=e[i]}),r}function ll(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${n}; visit ${t} for the full message.`}function zo(n){if(typeof n!="string")throw new Error(ll(7));return n.charAt(0).toUpperCase()+n.slice(1)}function TH(n,e){typeof n=="function"?n(e):n&&(n.current=e)}let dP=0;function SH(n){const[e,t]=K.useState(n),r=n||e;return K.useEffect(()=>{e==null&&(dP+=1,t(`mui-${dP}`))},[e]),r}const RH={...iw},hP=RH.useId;function WN(n){if(hP!==void 0){const e=hP();return n??e}return SH(n)}function bH({controlled:n,default:e,name:t,state:r="value"}){const{current:i}=K.useRef(n!==void 0),[s,l]=K.useState(e),u=i?n:s,d=K.useCallback(h=>{i||l(h)},[]);return[u,d]}function AH(...n){return K.useMemo(()=>n.every(e=>e==null)?null:e=>{n.forEach(t=>{TH(t,e)})},n)}function uE(n,e){const t={...e};for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const i=r;if(i==="components"||i==="slots")t[i]={...n[i],...t[i]};else if(i==="componentsProps"||i==="slotProps"){const s=n[i],l=e[i];if(!l)t[i]=s||{};else if(!s)t[i]=l;else{t[i]={...l};for(const u in s)if(Object.prototype.hasOwnProperty.call(s,u)){const d=u;t[i][d]=uE(s[d],l[d])}}}else t[i]===void 0&&(t[i]=n[i])}return t}const fP=n=>n,PH=()=>{let n=fP;return{configure(e){n=e},generate(e){return n(e)},reset(){n=fP}}},CH=PH(),kH={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function wI(n,e,t="Mui"){const r=kH[e];return r?`${t}-${r}`:`${CH.generate(n)}-${e}`}function qN(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=wI(n,i,t)}),r}function fh(n,e){return e?Tr(n,e,{clone:!1}):n}function xH(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var l,u;const s=/min-width:\s*([0-9.]+)/;return+(((l=r.match(s))==null?void 0:l[1])||0)-+(((u=i.match(s))==null?void 0:u[1])||0)});return t.length?t.reduce((r,i)=>{const s=e[i];return delete r[i],r[i]=s,r},{...e}):e}function OH(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function NH(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,r,i]=t,s=Number.isNaN(+r)?r||0:+r;return n.containerQueries(i).up(s)}function DH(n){const e=(s,l)=>s.replace("@media",l?`@container ${l}`:"@container");function t(s,l){s.up=(...u)=>e(n.breakpoints.up(...u),l),s.down=(...u)=>e(n.breakpoints.down(...u),l),s.between=(...u)=>e(n.breakpoints.between(...u),l),s.only=(...u)=>e(n.breakpoints.only(...u),l),s.not=(...u)=>{const d=e(n.breakpoints.not(...u),l);return d.includes("not all and")?d.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):d}}const r={},i=s=>(t(r,s),r);return t(i),{...n,containerQueries:i}}const Py={xs:0,sm:600,md:900,lg:1200,xl:1536},pP={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${Py[n]}px)`},LH={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:Py[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function Ls(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const s=r.breakpoints||pP;return e.reduce((l,u,d)=>(l[s.up(s.keys[d])]=t(e[d]),l),{})}if(typeof e=="object"){const s=r.breakpoints||pP;return Object.keys(e).reduce((l,u)=>{if(OH(s.keys,u)){const d=NH(r.containerQueries?r:LH,u);d&&(l[d]=t(e[u],u))}else if(Object.keys(s.values||Py).includes(u)){const d=s.up(u);l[d]=t(e[u],u)}else{const d=u;l[d]=e[d]}return l},{})}return t(e)}function VH(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((r,i)=>{const s=n.up(i);return r[s]={},r},{}))||{}}function MH(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function Cy(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function wg(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=Cy(n,t)||r,e&&(i=e(i,r,n)),i}function Ht(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,s=l=>{if(l[e]==null)return null;const u=l[e],d=l.theme,h=Cy(d,r)||{};return Ls(l,u,g=>{let _=wg(h,i,g);return g===_&&typeof g=="string"&&(_=wg(h,i,`${e}${g==="default"?"":zo(g)}`,g)),t===!1?_:{[t]:_}})};return s.propTypes={},s.filterProps=[e],s}function FH(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const UH={m:"margin",p:"padding"},$H={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},mP={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},jH=FH(n=>{if(n.length>2)if(mP[n])n=mP[n];else return[n];const[e,t]=n.split(""),r=UH[e],i=$H[t]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),EI=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],II=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...EI,...II];function If(n,e,t,r){const i=Cy(n,e,!0)??t;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const l=Math.abs(s),u=i[l];return s>=0?u:typeof u=="number"?-u:`-${u}`}:typeof i=="function"?i:()=>{}}function TI(n){return If(n,"spacing",8)}function Tf(n,e){return typeof e=="string"||e==null?e:n(e)}function BH(n,e){return t=>n.reduce((r,i)=>(r[i]=Tf(e,t),r),{})}function zH(n,e,t,r){if(!e.includes(t))return null;const i=jH(t),s=BH(i,r),l=n[t];return Ls(n,l,s)}function HN(n,e){const t=TI(n.theme);return Object.keys(n).map(r=>zH(n,e,r,t)).reduce(fh,{})}function Vt(n){return HN(n,EI)}Vt.propTypes={};Vt.filterProps=EI;function Mt(n){return HN(n,II)}Mt.propTypes={};Mt.filterProps=II;function ky(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),t=r=>Object.keys(r).reduce((i,s)=>e[s]?fh(i,e[s](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function Ur(n){return typeof n!="number"?n:`${n}px solid`}function Wr(n,e){return Ht({prop:n,themeKey:"borders",transform:e})}const WH=Wr("border",Ur),qH=Wr("borderTop",Ur),HH=Wr("borderRight",Ur),KH=Wr("borderBottom",Ur),GH=Wr("borderLeft",Ur),QH=Wr("borderColor"),YH=Wr("borderTopColor"),JH=Wr("borderRightColor"),XH=Wr("borderBottomColor"),ZH=Wr("borderLeftColor"),e8=Wr("outline",Ur),t8=Wr("outlineColor"),xy=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=If(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:Tf(e,r)});return Ls(n,n.borderRadius,t)}return null};xy.propTypes={};xy.filterProps=["borderRadius"];ky(WH,qH,HH,KH,GH,QH,YH,JH,XH,ZH,xy,e8,t8);const Oy=n=>{if(n.gap!==void 0&&n.gap!==null){const e=If(n.theme,"spacing",8),t=r=>({gap:Tf(e,r)});return Ls(n,n.gap,t)}return null};Oy.propTypes={};Oy.filterProps=["gap"];const Ny=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=If(n.theme,"spacing",8),t=r=>({columnGap:Tf(e,r)});return Ls(n,n.columnGap,t)}return null};Ny.propTypes={};Ny.filterProps=["columnGap"];const Dy=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=If(n.theme,"spacing",8),t=r=>({rowGap:Tf(e,r)});return Ls(n,n.rowGap,t)}return null};Dy.propTypes={};Dy.filterProps=["rowGap"];const n8=Ht({prop:"gridColumn"}),r8=Ht({prop:"gridRow"}),i8=Ht({prop:"gridAutoFlow"}),s8=Ht({prop:"gridAutoColumns"}),o8=Ht({prop:"gridAutoRows"}),a8=Ht({prop:"gridTemplateColumns"}),l8=Ht({prop:"gridTemplateRows"}),u8=Ht({prop:"gridTemplateAreas"}),c8=Ht({prop:"gridArea"});ky(Oy,Ny,Dy,n8,r8,i8,s8,o8,a8,l8,u8,c8);function Nu(n,e){return e==="grey"?e:n}const d8=Ht({prop:"color",themeKey:"palette",transform:Nu}),h8=Ht({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Nu}),f8=Ht({prop:"backgroundColor",themeKey:"palette",transform:Nu});ky(d8,h8,f8);function vr(n){return n<=1&&n!==0?`${n*100}%`:n}const p8=Ht({prop:"width",transform:vr}),SI=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var i,s,l,u,d;const r=((l=(s=(i=n.theme)==null?void 0:i.breakpoints)==null?void 0:s.values)==null?void 0:l[t])||Py[t];return r?((d=(u=n.theme)==null?void 0:u.breakpoints)==null?void 0:d.unit)!=="px"?{maxWidth:`${r}${n.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:vr(t)}};return Ls(n,n.maxWidth,e)}return null};SI.filterProps=["maxWidth"];const m8=Ht({prop:"minWidth",transform:vr}),g8=Ht({prop:"height",transform:vr}),y8=Ht({prop:"maxHeight",transform:vr}),_8=Ht({prop:"minHeight",transform:vr});Ht({prop:"size",cssProperty:"width",transform:vr});Ht({prop:"size",cssProperty:"height",transform:vr});const v8=Ht({prop:"boxSizing"});ky(p8,SI,m8,g8,y8,_8,v8);const Ly={border:{themeKey:"borders",transform:Ur},borderTop:{themeKey:"borders",transform:Ur},borderRight:{themeKey:"borders",transform:Ur},borderBottom:{themeKey:"borders",transform:Ur},borderLeft:{themeKey:"borders",transform:Ur},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Ur},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:xy},color:{themeKey:"palette",transform:Nu},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Nu},backgroundColor:{themeKey:"palette",transform:Nu},p:{style:Mt},pt:{style:Mt},pr:{style:Mt},pb:{style:Mt},pl:{style:Mt},px:{style:Mt},py:{style:Mt},padding:{style:Mt},paddingTop:{style:Mt},paddingRight:{style:Mt},paddingBottom:{style:Mt},paddingLeft:{style:Mt},paddingX:{style:Mt},paddingY:{style:Mt},paddingInline:{style:Mt},paddingInlineStart:{style:Mt},paddingInlineEnd:{style:Mt},paddingBlock:{style:Mt},paddingBlockStart:{style:Mt},paddingBlockEnd:{style:Mt},m:{style:Vt},mt:{style:Vt},mr:{style:Vt},mb:{style:Vt},ml:{style:Vt},mx:{style:Vt},my:{style:Vt},margin:{style:Vt},marginTop:{style:Vt},marginRight:{style:Vt},marginBottom:{style:Vt},marginLeft:{style:Vt},marginX:{style:Vt},marginY:{style:Vt},marginInline:{style:Vt},marginInlineStart:{style:Vt},marginInlineEnd:{style:Vt},marginBlock:{style:Vt},marginBlockStart:{style:Vt},marginBlockEnd:{style:Vt},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Oy},rowGap:{style:Dy},columnGap:{style:Ny},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:vr},maxWidth:{style:SI},minWidth:{transform:vr},height:{transform:vr},maxHeight:{transform:vr},minHeight:{transform:vr},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function w8(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function E8(n,e){return typeof n=="function"?n(e):n}function I8(){function n(t,r,i,s){const l={[t]:r,theme:i},u=s[t];if(!u)return{[t]:r};const{cssProperty:d=t,themeKey:h,transform:m,style:g}=u;if(r==null)return null;if(h==="typography"&&r==="inherit")return{[t]:r};const _=Cy(i,h)||{};return g?g(l):Ls(l,r,I=>{let R=wg(_,m,I);return I===R&&typeof I=="string"&&(R=wg(_,m,`${t}${I==="default"?"":zo(I)}`,I)),d===!1?R:{[d]:R}})}function e(t){const{sx:r,theme:i={}}=t||{};if(!r)return null;const s=i.unstable_sxConfig??Ly;function l(u){let d=u;if(typeof u=="function")d=u(i);else if(typeof u!="object")return u;if(!d)return null;const h=VH(i.breakpoints),m=Object.keys(h);let g=h;return Object.keys(d).forEach(_=>{const T=E8(d[_],i);if(T!=null)if(typeof T=="object")if(s[_])g=fh(g,n(_,T,i,s));else{const I=Ls({theme:i},T,R=>({[_]:R}));w8(I,T)?g[_]=e({sx:T,theme:i}):g=fh(g,I)}else g=fh(g,n(_,T,i,s))}),xH(i,MH(m,g))}return Array.isArray(r)?r.map(l):l(r)}return e}const ic=I8();ic.filterProps=["sx"];function cE(){return cE=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},cE.apply(null,arguments)}function T8(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function S8(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var R8=function(){function n(t){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(S8(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=T8(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},n}(),On="-ms-",Eg="-moz-",tt="-webkit-",KN="comm",RI="rule",bI="decl",b8="@import",GN="@keyframes",A8="@layer",P8=Math.abs,Vy=String.fromCharCode,C8=Object.assign;function k8(n,e){return Tn(n,0)^45?(((e<<2^Tn(n,0))<<2^Tn(n,1))<<2^Tn(n,2))<<2^Tn(n,3):0}function QN(n){return n.trim()}function x8(n,e){return(n=e.exec(n))?n[0]:n}function nt(n,e,t){return n.replace(e,t)}function dE(n,e){return n.indexOf(e)}function Tn(n,e){return n.charCodeAt(e)|0}function $h(n,e,t){return n.slice(e,t)}function xi(n){return n.length}function AI(n){return n.length}function tm(n,e){return e.push(n),n}function O8(n,e){return n.map(e).join("")}var My=1,sc=1,YN=0,or=0,Jt=0,Rc="";function Fy(n,e,t,r,i,s,l){return{value:n,root:e,parent:t,type:r,props:i,children:s,line:My,column:sc,length:l,return:""}}function Fd(n,e){return C8(Fy("",null,null,"",null,null,0),n,{length:-n.length},e)}function N8(){return Jt}function D8(){return Jt=or>0?Tn(Rc,--or):0,sc--,Jt===10&&(sc=1,My--),Jt}function Sr(){return Jt=or<YN?Tn(Rc,or++):0,sc++,Jt===10&&(sc=1,My++),Jt}function qi(){return Tn(Rc,or)}function km(){return or}function Sf(n,e){return $h(Rc,n,e)}function jh(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function JN(n){return My=sc=1,YN=xi(Rc=n),or=0,[]}function XN(n){return Rc="",n}function xm(n){return QN(Sf(or-1,hE(n===91?n+2:n===40?n+1:n)))}function L8(n){for(;(Jt=qi())&&Jt<33;)Sr();return jh(n)>2||jh(Jt)>3?"":" "}function V8(n,e){for(;--e&&Sr()&&!(Jt<48||Jt>102||Jt>57&&Jt<65||Jt>70&&Jt<97););return Sf(n,km()+(e<6&&qi()==32&&Sr()==32))}function hE(n){for(;Sr();)switch(Jt){case n:return or;case 34:case 39:n!==34&&n!==39&&hE(Jt);break;case 40:n===41&&hE(n);break;case 92:Sr();break}return or}function M8(n,e){for(;Sr()&&n+Jt!==57;)if(n+Jt===84&&qi()===47)break;return"/*"+Sf(e,or-1)+"*"+Vy(n===47?n:Sr())}function F8(n){for(;!jh(qi());)Sr();return Sf(n,or)}function U8(n){return XN(Om("",null,null,null,[""],n=JN(n),0,[0],n))}function Om(n,e,t,r,i,s,l,u,d){for(var h=0,m=0,g=l,_=0,T=0,I=0,R=1,A=1,V=1,L=0,M="",z=i,j=s,q=r,D=M;A;)switch(I=L,L=Sr()){case 40:if(I!=108&&Tn(D,g-1)==58){dE(D+=nt(xm(L),"&","&\f"),"&\f")!=-1&&(V=-1);break}case 34:case 39:case 91:D+=xm(L);break;case 9:case 10:case 13:case 32:D+=L8(I);break;case 92:D+=V8(km()-1,7);continue;case 47:switch(qi()){case 42:case 47:tm($8(M8(Sr(),km()),e,t),d);break;default:D+="/"}break;case 123*R:u[h++]=xi(D)*V;case 125*R:case 59:case 0:switch(L){case 0:case 125:A=0;case 59+m:V==-1&&(D=nt(D,/\f/g,"")),T>0&&xi(D)-g&&tm(T>32?yP(D+";",r,t,g-1):yP(nt(D," ","")+";",r,t,g-2),d);break;case 59:D+=";";default:if(tm(q=gP(D,e,t,h,m,i,u,M,z=[],j=[],g),s),L===123)if(m===0)Om(D,e,q,q,z,s,g,u,j);else switch(_===99&&Tn(D,3)===110?100:_){case 100:case 108:case 109:case 115:Om(n,q,q,r&&tm(gP(n,q,q,0,0,i,u,M,i,z=[],g),j),i,j,g,u,r?z:j);break;default:Om(D,q,q,q,[""],j,0,u,j)}}h=m=T=0,R=V=1,M=D="",g=l;break;case 58:g=1+xi(D),T=I;default:if(R<1){if(L==123)--R;else if(L==125&&R++==0&&D8()==125)continue}switch(D+=Vy(L),L*R){case 38:V=m>0?1:(D+="\f",-1);break;case 44:u[h++]=(xi(D)-1)*V,V=1;break;case 64:qi()===45&&(D+=xm(Sr())),_=qi(),m=g=xi(M=D+=F8(km())),L++;break;case 45:I===45&&xi(D)==2&&(R=0)}}return s}function gP(n,e,t,r,i,s,l,u,d,h,m){for(var g=i-1,_=i===0?s:[""],T=AI(_),I=0,R=0,A=0;I<r;++I)for(var V=0,L=$h(n,g+1,g=P8(R=l[I])),M=n;V<T;++V)(M=QN(R>0?_[V]+" "+L:nt(L,/&\f/g,_[V])))&&(d[A++]=M);return Fy(n,e,t,i===0?RI:u,d,h,m)}function $8(n,e,t){return Fy(n,e,t,KN,Vy(N8()),$h(n,2,-2),0)}function yP(n,e,t,r){return Fy(n,e,t,bI,$h(n,0,r),$h(n,r+1,-1),r)}function Du(n,e){for(var t="",r=AI(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function j8(n,e,t,r){switch(n.type){case A8:if(n.children.length)break;case b8:case bI:return n.return=n.return||n.value;case KN:return"";case GN:return n.return=n.value+"{"+Du(n.children,r)+"}";case RI:n.value=n.props.join(",")}return xi(t=Du(n.children,r))?n.return=n.value+"{"+t+"}":""}function B8(n){var e=AI(n);return function(t,r,i,s){for(var l="",u=0;u<e;u++)l+=n[u](t,r,i,s)||"";return l}}function z8(n){return function(e){e.root||(e=e.return)&&n(e)}}function ZN(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var W8=function(e,t,r){for(var i=0,s=0;i=s,s=qi(),i===38&&s===12&&(t[r]=1),!jh(s);)Sr();return Sf(e,or)},q8=function(e,t){var r=-1,i=44;do switch(jh(i)){case 0:i===38&&qi()===12&&(t[r]=1),e[r]+=W8(or-1,t,r);break;case 2:e[r]+=xm(i);break;case 4:if(i===44){e[++r]=qi()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=Vy(i)}while(i=Sr());return e},H8=function(e,t){return XN(q8(JN(e),t))},_P=new WeakMap,K8=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!_P.get(r))&&!i){_P.set(e,!0);for(var s=[],l=H8(t,s),u=r.props,d=0,h=0;d<l.length;d++)for(var m=0;m<u.length;m++,h++)e.props[h]=s[d]?l[d].replace(/&\f/g,u[m]):u[m]+" "+l[d]}}},G8=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function eD(n,e){switch(k8(n,e)){case 5103:return tt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return tt+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return tt+n+Eg+n+On+n+n;case 6828:case 4268:return tt+n+On+n+n;case 6165:return tt+n+On+"flex-"+n+n;case 5187:return tt+n+nt(n,/(\w+).+(:[^]+)/,tt+"box-$1$2"+On+"flex-$1$2")+n;case 5443:return tt+n+On+"flex-item-"+nt(n,/flex-|-self/,"")+n;case 4675:return tt+n+On+"flex-line-pack"+nt(n,/align-content|flex-|-self/,"")+n;case 5548:return tt+n+On+nt(n,"shrink","negative")+n;case 5292:return tt+n+On+nt(n,"basis","preferred-size")+n;case 6060:return tt+"box-"+nt(n,"-grow","")+tt+n+On+nt(n,"grow","positive")+n;case 4554:return tt+nt(n,/([^-])(transform)/g,"$1"+tt+"$2")+n;case 6187:return nt(nt(nt(n,/(zoom-|grab)/,tt+"$1"),/(image-set)/,tt+"$1"),n,"")+n;case 5495:case 3959:return nt(n,/(image-set\([^]*)/,tt+"$1$`$1");case 4968:return nt(nt(n,/(.+:)(flex-)?(.*)/,tt+"box-pack:$3"+On+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+tt+n+n;case 4095:case 3583:case 4068:case 2532:return nt(n,/(.+)-inline(.+)/,tt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(xi(n)-1-e>6)switch(Tn(n,e+1)){case 109:if(Tn(n,e+4)!==45)break;case 102:return nt(n,/(.+:)(.+)-([^]+)/,"$1"+tt+"$2-$3$1"+Eg+(Tn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~dE(n,"stretch")?eD(nt(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Tn(n,e+1)!==115)break;case 6444:switch(Tn(n,xi(n)-3-(~dE(n,"!important")&&10))){case 107:return nt(n,":",":"+tt)+n;case 101:return nt(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+tt+(Tn(n,14)===45?"inline-":"")+"box$3$1"+tt+"$2$3$1"+On+"$2box$3")+n}break;case 5936:switch(Tn(n,e+11)){case 114:return tt+n+On+nt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return tt+n+On+nt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return tt+n+On+nt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return tt+n+On+n+n}return n}var Q8=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case bI:e.return=eD(e.value,e.length);break;case GN:return Du([Fd(e,{value:nt(e.value,"@","@"+tt)})],i);case RI:if(e.length)return O8(e.props,function(s){switch(x8(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Du([Fd(e,{props:[nt(s,/:(read-\w+)/,":"+Eg+"$1")]})],i);case"::placeholder":return Du([Fd(e,{props:[nt(s,/:(plac\w+)/,":"+tt+"input-$1")]}),Fd(e,{props:[nt(s,/:(plac\w+)/,":"+Eg+"$1")]}),Fd(e,{props:[nt(s,/:(plac\w+)/,On+"input-$1")]})],i)}return""})}},Y8=[Q8],J8=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(R){var A=R.getAttribute("data-emotion");A.indexOf(" ")!==-1&&(document.head.appendChild(R),R.setAttribute("data-s",""))})}var i=e.stylisPlugins||Y8,s={},l,u=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(R){for(var A=R.getAttribute("data-emotion").split(" "),V=1;V<A.length;V++)s[A[V]]=!0;u.push(R)});var d,h=[K8,G8];{var m,g=[j8,z8(function(R){m.insert(R)})],_=B8(h.concat(i,g)),T=function(A){return Du(U8(A),_)};d=function(A,V,L,M){m=L,T(A?A+"{"+V.styles+"}":V.styles),M&&(I.inserted[V.name]=!0)}}var I={key:t,sheet:new R8({key:t,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:d};return I.sheet.hydrate(u),I},X8=!0;function Z8(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):i&&(r+=i+" ")}),r}var tD=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||X8===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},eK=function(e,t,r){tD(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var s=t;do e.insert(t===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function tK(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var nK={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},rK=/[A-Z]|^ms/g,iK=/_EMO_([^_]+?)_([^]*?)_EMO_/g,nD=function(e){return e.charCodeAt(1)===45},vP=function(e){return e!=null&&typeof e!="boolean"},Zv=ZN(function(n){return nD(n)?n:n.replace(rK,"-$&").toLowerCase()}),wP=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(iK,function(r,i,s){return Oi={name:i,styles:s,next:Oi},i})}return nK[e]!==1&&!nD(e)&&typeof t=="number"&&t!==0?t+"px":t};function Bh(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return Oi={name:i.name,styles:i.styles,next:Oi},i.name;var s=t;if(s.styles!==void 0){var l=s.next;if(l!==void 0)for(;l!==void 0;)Oi={name:l.name,styles:l.styles,next:Oi},l=l.next;var u=s.styles+";";return u}return sK(n,e,t)}case"function":{if(n!==void 0){var d=Oi,h=t(n);return Oi=d,Bh(n,e,h)}break}}var m=t;if(e==null)return m;var g=e[m];return g!==void 0?g:m}function sK(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=Bh(n,e,t[i])+";";else for(var s in t){var l=t[s];if(typeof l!="object"){var u=l;e!=null&&e[u]!==void 0?r+=s+"{"+e[u]+"}":vP(u)&&(r+=Zv(s)+":"+wP(s,u)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&(e==null||e[l[0]]===void 0))for(var d=0;d<l.length;d++)vP(l[d])&&(r+=Zv(s)+":"+wP(s,l[d])+";");else{var h=Bh(n,e,l);switch(s){case"animation":case"animationName":{r+=Zv(s)+":"+h+";";break}default:r+=s+"{"+h+"}"}}}return r}var EP=/label:\s*([^\s;{]+)\s*(;|$)/g,Oi;function rD(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,i="";Oi=void 0;var s=n[0];if(s==null||s.raw===void 0)r=!1,i+=Bh(t,e,s);else{var l=s;i+=l[0]}for(var u=1;u<n.length;u++)if(i+=Bh(t,e,n[u]),r){var d=s;i+=d[u]}EP.lastIndex=0;for(var h="",m;(m=EP.exec(i))!==null;)h+="-"+m[1];var g=tK(i)+h;return{name:g,styles:i,next:Oi}}var oK=function(e){return e()},aK=iw.useInsertionEffect?iw.useInsertionEffect:!1,lK=aK||oK,iD=K.createContext(typeof HTMLElement<"u"?J8({key:"css"}):null);iD.Provider;var uK=function(e){return K.forwardRef(function(t,r){var i=K.useContext(iD);return e(t,i,r)})},cK=K.createContext({}),dK=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,hK=ZN(function(n){return dK.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),fK=hK,pK=function(e){return e!=="theme"},IP=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?fK:pK},TP=function(e,t,r){var i;if(t){var s=t.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(l){return e.__emotion_forwardProp(l)&&s(l)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},mK=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return tD(t,r,i),lK(function(){return eK(t,r,i)}),null},gK=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,l;t!==void 0&&(s=t.label,l=t.target);var u=TP(e,t,r),d=u||IP(i),h=!d("as");return function(){var m=arguments,g=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&g.push("label:"+s+";"),m[0]==null||m[0].raw===void 0)g.push.apply(g,m);else{var _=m[0];g.push(_[0]);for(var T=m.length,I=1;I<T;I++)g.push(m[I],_[I])}var R=uK(function(A,V,L){var M=h&&A.as||i,z="",j=[],q=A;if(A.theme==null){q={};for(var D in A)q[D]=A[D];q.theme=K.useContext(cK)}typeof A.className=="string"?z=Z8(V.registered,j,A.className):A.className!=null&&(z=A.className+" ");var b=rD(g.concat(j),V.registered,q);z+=V.key+"-"+b.name,l!==void 0&&(z+=" "+l);var C=h&&u===void 0?IP(M):d,E={};for(var x in A)h&&x==="as"||C(x)&&(E[x]=A[x]);return E.className=z,L&&(E.ref=L),K.createElement(K.Fragment,null,K.createElement(mK,{cache:V,serialized:b,isStringTag:typeof M=="string"}),K.createElement(M,E))});return R.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",R.defaultProps=e.defaultProps,R.__emotion_real=R,R.__emotion_base=i,R.__emotion_styles=g,R.__emotion_forwardProp=u,Object.defineProperty(R,"toString",{value:function(){return"."+l}}),R.withComponent=function(A,V){var L=n(A,cE({},t,V,{shouldForwardProp:TP(R,V,!0)}));return L.apply(void 0,g)},R}},yK=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],fE=gK.bind(null);yK.forEach(function(n){fE[n]=fE(n)});/**
 * @mui/styled-engine v6.4.6
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function _K(n,e){return fE(n,e)}function vK(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const SP=[];function RP(n){return SP[0]=n,rD(SP)}const wK=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>({...t,[r.key]:r.val}),{})};function EK(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5,...i}=n,s=wK(e),l=Object.keys(s);function u(_){return`@media (min-width:${typeof e[_]=="number"?e[_]:_}${t})`}function d(_){return`@media (max-width:${(typeof e[_]=="number"?e[_]:_)-r/100}${t})`}function h(_,T){const I=l.indexOf(T);return`@media (min-width:${typeof e[_]=="number"?e[_]:_}${t}) and (max-width:${(I!==-1&&typeof e[l[I]]=="number"?e[l[I]]:T)-r/100}${t})`}function m(_){return l.indexOf(_)+1<l.length?h(_,l[l.indexOf(_)+1]):u(_)}function g(_){const T=l.indexOf(_);return T===0?u(l[1]):T===l.length-1?d(l[T]):h(_,l[l.indexOf(_)+1]).replace("@media","@media not all and")}return{keys:l,values:s,up:u,down:d,between:h,only:m,not:g,unit:t,...i}}const IK={borderRadius:4};function sD(n=8,e=TI({spacing:n})){if(n.mui)return n;const t=(...r)=>(r.length===0?[1]:r).map(s=>{const l=e(s);return typeof l=="number"?`${l}px`:l}).join(" ");return t.mui=!0,t}function TK(n,e){var r;const t=this;if(t.vars){if(!((r=t.colorSchemes)!=null&&r[n])||typeof t.getColorSchemeSelector!="function")return{};let i=t.getColorSchemeSelector(n);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return t.palette.mode===n?e:{}}function oD(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:s={},...l}=n,u=EK(t),d=sD(i);let h=Tr({breakpoints:u,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:d,shape:{...IK,...s}},l);return h=DH(h),h.applyStyles=TK,h=e.reduce((m,g)=>Tr(m,g),h),h.unstable_sxConfig={...Ly,...l==null?void 0:l.unstable_sxConfig},h.unstable_sx=function(g){return ic({sx:g,theme:this})},h}function aD(n){const{variants:e,...t}=n,r={variants:e,style:RP(t),isProcessed:!0};return r.style===t||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=RP(i.style))}),r}const SK=oD();function ew(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function RK(n){return n?(e,t)=>t[n]:null}function bK(n,e,t){n.theme=CK(n.theme)?t:n.theme[e]||n.theme}function Nm(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(r=>Nm(n,r));if(Array.isArray(t==null?void 0:t.variants)){let r;if(t.isProcessed)r=t.style;else{const{variants:i,...s}=t;r=s}return lD(n,t.variants,[r])}return t!=null&&t.isProcessed?t.style:t}function lD(n,e,t=[]){var i;let r;e:for(let s=0;s<e.length;s+=1){const l=e[s];if(typeof l.props=="function"){if(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),!l.props(r))continue}else for(const u in l.props)if(n[u]!==l.props[u]&&((i=n.ownerState)==null?void 0:i[u])!==l.props[u])continue e;typeof l.style=="function"?(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),t.push(l.style(r))):t.push(l.style)}return t}function AK(n={}){const{themeId:e,defaultTheme:t=SK,rootShouldForwardProp:r=ew,slotShouldForwardProp:i=ew}=n;function s(u){bK(u,e,t)}return(u,d={})=>{vK(u,j=>j.filter(q=>q!==ic));const{name:h,slot:m,skipVariantsResolver:g,skipSx:_,overridesResolver:T=RK(xK(m)),...I}=d,R=g!==void 0?g:m&&m!=="Root"&&m!=="root"||!1,A=_||!1;let V=ew;m==="Root"||m==="root"?V=r:m?V=i:kK(u)&&(V=void 0);const L=_K(u,{shouldForwardProp:V,label:PK(),...I}),M=j=>{if(typeof j=="function"&&j.__emotion_real!==j)return function(D){return Nm(D,j)};if(vs(j)){const q=aD(j);return q.variants?function(b){return Nm(b,q)}:q.style}return j},z=(...j)=>{const q=[],D=j.map(M),b=[];if(q.push(s),h&&T&&b.push(function(k){var me,oe;const ee=(oe=(me=k.theme.components)==null?void 0:me[h])==null?void 0:oe.styleOverrides;if(!ee)return null;const F={};for(const X in ee)F[X]=Nm(k,ee[X]);return T(k,F)}),h&&!R&&b.push(function(k){var F,me;const O=k.theme,ee=(me=(F=O==null?void 0:O.components)==null?void 0:F[h])==null?void 0:me.variants;return ee?lD(k,ee):null}),A||b.push(ic),Array.isArray(D[0])){const x=D.shift(),k=new Array(q.length).fill(""),O=new Array(b.length).fill("");let ee;ee=[...k,...x,...O],ee.raw=[...k,...x.raw,...O],q.unshift(ee)}const C=[...q,...D,...b],E=L(...C);return u.muiName&&(E.muiName=u.muiName),E};return L.withConfig&&(z.withConfig=L.withConfig),z}}function PK(n,e){return void 0}function CK(n){for(const e in n)return!1;return!0}function kK(n){return typeof n=="string"&&n.charCodeAt(0)>96}function xK(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function PI(n,e=0,t=1){return $N(n,e,t)}function OK(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Wo(n){if(n.type)return n;if(n.charAt(0)==="#")return Wo(OK(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(ll(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(ll(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:t,values:r,colorSpace:i}}const NK=n=>{const e=Wo(n);return e.values.slice(0,3).map((t,r)=>e.type.includes("hsl")&&r!==0?`${t}%`:t).join(" ")},Yd=(n,e)=>{try{return NK(n)}catch{return n}};function Uy(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function uD(n){n=Wo(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),l=(h,m=(h+t/30)%12)=>i-s*Math.max(Math.min(m-3,9-m,1),-1);let u="rgb";const d=[Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255)];return n.type==="hsla"&&(u+="a",d.push(e[3])),Uy({type:u,values:d})}function pE(n){n=Wo(n);let e=n.type==="hsl"||n.type==="hsla"?Wo(uD(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function DK(n,e){const t=pE(n),r=pE(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function LK(n,e){return n=Wo(n),e=PI(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,Uy(n)}function nm(n,e,t){try{return LK(n,e)}catch{return n}}function CI(n,e){if(n=Wo(n),e=PI(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return Uy(n)}function dt(n,e,t){try{return CI(n,e)}catch{return n}}function kI(n,e){if(n=Wo(n),e=PI(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return Uy(n)}function ht(n,e,t){try{return kI(n,e)}catch{return n}}function VK(n,e=.15){return pE(n)>.5?CI(n,e):kI(n,e)}function rm(n,e,t){try{return VK(n,e)}catch{return n}}const MK=K.createContext(void 0);function FK(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const i=e.components[t];return i.defaultProps?uE(i.defaultProps,r):!i.styleOverrides&&!i.variants?uE(i,r):r}function UK({props:n,name:e}){const t=K.useContext(MK);return FK({props:n,name:e,theme:{components:t}})}const bP={theme:void 0};function $K(n){let e,t;return function(i){let s=e;return(s===void 0||i.theme!==t)&&(bP.theme=i.theme,s=aD(n(bP)),e=s,t=i.theme),s}}function jK(n=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${n?`${n}-`:""}${r}${e(...i)})`}const AP=(n,e,t,r=[])=>{let i=n;e.forEach((s,l)=>{l===e.length-1?Array.isArray(i)?i[Number(s)]=t:i&&typeof i=="object"&&(i[s]=t):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},BK=(n,e,t)=>{function r(i,s=[],l=[]){Object.entries(i).forEach(([u,d])=>{(!t||t&&!t([...s,u]))&&d!=null&&(typeof d=="object"&&Object.keys(d).length>0?r(d,[...s,u],Array.isArray(d)?[...l,u]:l):e([...s,u],d,l))})}r(n)},zK=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function tw(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},i={},s={},l={};return BK(n,(u,d,h)=>{if((typeof d=="string"||typeof d=="number")&&(!r||!r(u,d))){const m=`--${t?`${t}-`:""}${u.join("-")}`,g=zK(u,d);Object.assign(i,{[m]:g}),AP(s,u,`var(${m})`,h),AP(l,u,`var(${m}, ${g})`,h)}},u=>u[0]==="vars"),{css:i,vars:s,varsWithDefaults:l}}function WK(n,e={}){const{getSelector:t=A,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:s={},components:l,defaultColorScheme:u="light",...d}=n,{vars:h,css:m,varsWithDefaults:g}=tw(d,e);let _=g;const T={},{[u]:I,...R}=s;if(Object.entries(R||{}).forEach(([M,z])=>{const{vars:j,css:q,varsWithDefaults:D}=tw(z,e);_=Tr(_,D),T[M]={css:q,vars:j}}),I){const{css:M,vars:z,varsWithDefaults:j}=tw(I,e);_=Tr(_,j),T[u]={css:M,vars:z}}function A(M,z){var q,D;let j=i;if(i==="class"&&(j=".%s"),i==="data"&&(j="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(j=`[${i}="%s"]`),M){if(j==="media")return n.defaultColorScheme===M?":root":{[`@media (prefers-color-scheme: ${((D=(q=s[M])==null?void 0:q.palette)==null?void 0:D.mode)||M})`]:{":root":z}};if(j)return n.defaultColorScheme===M?`:root, ${j.replace("%s",String(M))}`:j.replace("%s",String(M))}return":root"}return{vars:_,generateThemeVars:()=>{let M={...h};return Object.entries(T).forEach(([,{vars:z}])=>{M=Tr(M,z)}),M},generateStyleSheets:()=>{var b,C;const M=[],z=n.defaultColorScheme||"light";function j(E,x){Object.keys(x).length&&M.push(typeof E=="string"?{[E]:{...x}}:E)}j(t(void 0,{...m}),m);const{[z]:q,...D}=T;if(q){const{css:E}=q,x=(C=(b=s[z])==null?void 0:b.palette)==null?void 0:C.mode,k=!r&&x?{colorScheme:x,...E}:{...E};j(t(z,{...k}),k)}return Object.entries(D).forEach(([E,{css:x}])=>{var ee,F;const k=(F=(ee=s[E])==null?void 0:ee.palette)==null?void 0:F.mode,O=!r&&k?{colorScheme:k,...x}:{...x};j(t(E,{...O}),O)}),M}}}function qK(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}const zh={black:"#000",white:"#fff"},HK={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},hu={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},fu={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Ud={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},pu={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},mu={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},gu={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function cD(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:zh.white,default:zh.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const KK=cD();function dD(){return{text:{primary:zh.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:zh.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const PP=dD();function CP(n,e,t,r){const i=r.light||r,s=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=kI(n.main,i):e==="dark"&&(n.dark=CI(n.main,s)))}function GK(n="light"){return n==="dark"?{main:pu[200],light:pu[50],dark:pu[400]}:{main:pu[700],light:pu[400],dark:pu[800]}}function QK(n="light"){return n==="dark"?{main:hu[200],light:hu[50],dark:hu[400]}:{main:hu[500],light:hu[300],dark:hu[700]}}function YK(n="light"){return n==="dark"?{main:fu[500],light:fu[300],dark:fu[700]}:{main:fu[700],light:fu[400],dark:fu[800]}}function JK(n="light"){return n==="dark"?{main:mu[400],light:mu[300],dark:mu[700]}:{main:mu[700],light:mu[500],dark:mu[900]}}function XK(n="light"){return n==="dark"?{main:gu[400],light:gu[300],dark:gu[700]}:{main:gu[800],light:gu[500],dark:gu[900]}}function ZK(n="light"){return n==="dark"?{main:Ud[400],light:Ud[300],dark:Ud[700]}:{main:"#ed6c02",light:Ud[500],dark:Ud[900]}}function xI(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2,...i}=n,s=n.primary||GK(e),l=n.secondary||QK(e),u=n.error||YK(e),d=n.info||JK(e),h=n.success||XK(e),m=n.warning||ZK(e);function g(R){return DK(R,PP.text.primary)>=t?PP.text.primary:KK.text.primary}const _=({color:R,name:A,mainShade:V=500,lightShade:L=300,darkShade:M=700})=>{if(R={...R},!R.main&&R[V]&&(R.main=R[V]),!R.hasOwnProperty("main"))throw new Error(ll(11,A?` (${A})`:"",V));if(typeof R.main!="string")throw new Error(ll(12,A?` (${A})`:"",JSON.stringify(R.main)));return CP(R,"light",L,r),CP(R,"dark",M,r),R.contrastText||(R.contrastText=g(R.main)),R};let T;return e==="light"?T=cD():e==="dark"&&(T=dD()),Tr({common:{...zh},mode:e,primary:_({color:s,name:"primary"}),secondary:_({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:_({color:u,name:"error"}),warning:_({color:m,name:"warning"}),info:_({color:d,name:"info"}),success:_({color:h,name:"success"}),grey:HK,contrastThreshold:t,getContrastText:g,augmentColor:_,tonalOffset:r,...T},i)}function e7(n){const e={};return Object.entries(n).forEach(r=>{const[i,s]=r;typeof s=="object"&&(e[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function t7(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function n7(n){return Math.round(n*1e5)/1e5}const kP={textTransform:"uppercase"},xP='"Roboto", "Helvetica", "Arial", sans-serif';function r7(n,e){const{fontFamily:t=xP,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:l=500,fontWeightBold:u=700,htmlFontSize:d=16,allVariants:h,pxToRem:m,...g}=typeof e=="function"?e(n):e,_=r/14,T=m||(A=>`${A/d*_}rem`),I=(A,V,L,M,z)=>({fontFamily:t,fontWeight:A,fontSize:T(V),lineHeight:L,...t===xP?{letterSpacing:`${n7(M/V)}em`}:{},...z,...h}),R={h1:I(i,96,1.167,-1.5),h2:I(i,60,1.2,-.5),h3:I(s,48,1.167,0),h4:I(s,34,1.235,.25),h5:I(s,24,1.334,0),h6:I(l,20,1.6,.15),subtitle1:I(s,16,1.75,.15),subtitle2:I(l,14,1.57,.1),body1:I(s,16,1.5,.15),body2:I(s,14,1.43,.15),button:I(l,14,1.75,.4,kP),caption:I(s,12,1.66,.4),overline:I(s,12,2.66,1,kP),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Tr({htmlFontSize:d,pxToRem:T,fontFamily:t,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:l,fontWeightBold:u,...R},g,{clone:!1})}const i7=.2,s7=.14,o7=.12;function Tt(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${i7})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${s7})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${o7})`].join(",")}const a7=["none",Tt(0,2,1,-1,0,1,1,0,0,1,3,0),Tt(0,3,1,-2,0,2,2,0,0,1,5,0),Tt(0,3,3,-2,0,3,4,0,0,1,8,0),Tt(0,2,4,-1,0,4,5,0,0,1,10,0),Tt(0,3,5,-1,0,5,8,0,0,1,14,0),Tt(0,3,5,-1,0,6,10,0,0,1,18,0),Tt(0,4,5,-2,0,7,10,1,0,2,16,1),Tt(0,5,5,-3,0,8,10,1,0,3,14,2),Tt(0,5,6,-3,0,9,12,1,0,3,16,2),Tt(0,6,6,-3,0,10,14,1,0,4,18,3),Tt(0,6,7,-4,0,11,15,1,0,4,20,3),Tt(0,7,8,-4,0,12,17,2,0,5,22,4),Tt(0,7,8,-4,0,13,19,2,0,5,24,4),Tt(0,7,9,-4,0,14,21,2,0,5,26,4),Tt(0,8,9,-5,0,15,22,2,0,6,28,5),Tt(0,8,10,-5,0,16,24,2,0,6,30,5),Tt(0,8,11,-5,0,17,26,2,0,6,32,5),Tt(0,9,11,-5,0,18,28,2,0,7,34,6),Tt(0,9,12,-6,0,19,29,2,0,7,36,6),Tt(0,10,13,-6,0,20,31,3,0,8,38,7),Tt(0,10,13,-6,0,21,33,3,0,8,40,7),Tt(0,10,14,-6,0,22,35,3,0,8,42,7),Tt(0,11,14,-7,0,23,36,3,0,9,44,8),Tt(0,11,15,-7,0,24,38,3,0,9,46,8)],l7={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},u7={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function OP(n){return`${Math.round(n)}ms`}function c7(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function d7(n){const e={...l7,...n.easing},t={...u7,...n.duration};return{getAutoHeightDuration:c7,create:(i=["all"],s={})=>{const{duration:l=t.standard,easing:u=e.easeInOut,delay:d=0,...h}=s;return(Array.isArray(i)?i:[i]).map(m=>`${m} ${typeof l=="string"?l:OP(l)} ${u} ${typeof d=="string"?d:OP(d)}`).join(",")},...n,easing:e,duration:t}}const h7={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function f7(n){return vs(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function hD(n={}){const e={...n};function t(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[l,u]=i[s];!f7(u)||l.startsWith("unstable_")?delete r[l]:vs(u)&&(r[l]={...u},t(r[l]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function mE(n={},...e){const{breakpoints:t,mixins:r={},spacing:i,palette:s={},transitions:l={},typography:u={},shape:d,...h}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(ll(20));const m=xI(s),g=oD(n);let _=Tr(g,{mixins:t7(g.breakpoints,r),palette:m,shadows:a7.slice(),typography:r7(m,u),transitions:d7(l),zIndex:{...h7}});return _=Tr(_,h),_=e.reduce((T,I)=>Tr(T,I),_),_.unstable_sxConfig={...Ly,...h==null?void 0:h.unstable_sxConfig},_.unstable_sx=function(I){return ic({sx:I,theme:this})},_.toRuntimeSource=hD,_}function p7(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const m7=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=p7(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function fD(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function pD(n){return n==="dark"?m7:[]}function g7(n){const{palette:e={mode:"light"},opacity:t,overlays:r,...i}=n,s=xI(e);return{palette:s,opacity:{...fD(s.mode),...t},overlays:r||pD(s.mode),...i}}function y7(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const _7=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],v7=n=>(e,t)=>{const r=n.rootSelector||":root",i=n.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const l={};return _7(n.cssVarPrefix).forEach(u=>{l[u]=t[u],delete t[u]}),s==="media"?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:l}}:s?{[s.replace("%s",e)]:l,[`${r}, ${s.replace("%s",e)}`]:t}:{[r]:{...t,...l}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(s)return s.replace("%s",String(e))}return r};function w7(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function se(n,e,t){!n[e]&&t&&(n[e]=t)}function Jd(n){return typeof n!="string"||!n.startsWith("hsl")?n:uD(n)}function ys(n,e){`${e}Channel`in n||(n[`${e}Channel`]=Yd(Jd(n[e])))}function E7(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const Pi=n=>{try{return n()}catch{}},I7=(n="mui")=>jK(n);function nw(n,e,t,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!t){n[r]=g7({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:s,...l}=mE({...t,palette:{mode:i,...e==null?void 0:e.palette}});return n[r]={...e,palette:s,opacity:{...fD(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||pD(i)},l}function T7(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:l=y7,colorSchemeSelector:u=t.light&&t.dark?"media":void 0,rootSelector:d=":root",...h}=n,m=Object.keys(t)[0],g=r||(t.light&&m!=="light"?"light":m),_=I7(s),{[g]:T,light:I,dark:R,...A}=t,V={...A};let L=T;if((g==="dark"&&!("dark"in t)||g==="light"&&!("light"in t))&&(L=!0),!L)throw new Error(ll(21,g));const M=nw(V,L,h,g);I&&!V.light&&nw(V,I,void 0,"light"),R&&!V.dark&&nw(V,R,void 0,"dark");let z={defaultColorScheme:g,...M,cssVarPrefix:s,colorSchemeSelector:u,rootSelector:d,getCssVar:_,colorSchemes:V,font:{...e7(M.typography),...M.font},spacing:E7(h.spacing)};Object.keys(z.colorSchemes).forEach(C=>{const E=z.colorSchemes[C].palette,x=k=>{const O=k.split("-"),ee=O[1],F=O[2];return _(k,E[ee][F])};if(E.mode==="light"&&(se(E.common,"background","#fff"),se(E.common,"onBackground","#000")),E.mode==="dark"&&(se(E.common,"background","#000"),se(E.common,"onBackground","#fff")),w7(E,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),E.mode==="light"){se(E.Alert,"errorColor",dt(E.error.light,.6)),se(E.Alert,"infoColor",dt(E.info.light,.6)),se(E.Alert,"successColor",dt(E.success.light,.6)),se(E.Alert,"warningColor",dt(E.warning.light,.6)),se(E.Alert,"errorFilledBg",x("palette-error-main")),se(E.Alert,"infoFilledBg",x("palette-info-main")),se(E.Alert,"successFilledBg",x("palette-success-main")),se(E.Alert,"warningFilledBg",x("palette-warning-main")),se(E.Alert,"errorFilledColor",Pi(()=>E.getContrastText(E.error.main))),se(E.Alert,"infoFilledColor",Pi(()=>E.getContrastText(E.info.main))),se(E.Alert,"successFilledColor",Pi(()=>E.getContrastText(E.success.main))),se(E.Alert,"warningFilledColor",Pi(()=>E.getContrastText(E.warning.main))),se(E.Alert,"errorStandardBg",ht(E.error.light,.9)),se(E.Alert,"infoStandardBg",ht(E.info.light,.9)),se(E.Alert,"successStandardBg",ht(E.success.light,.9)),se(E.Alert,"warningStandardBg",ht(E.warning.light,.9)),se(E.Alert,"errorIconColor",x("palette-error-main")),se(E.Alert,"infoIconColor",x("palette-info-main")),se(E.Alert,"successIconColor",x("palette-success-main")),se(E.Alert,"warningIconColor",x("palette-warning-main")),se(E.AppBar,"defaultBg",x("palette-grey-100")),se(E.Avatar,"defaultBg",x("palette-grey-400")),se(E.Button,"inheritContainedBg",x("palette-grey-300")),se(E.Button,"inheritContainedHoverBg",x("palette-grey-A100")),se(E.Chip,"defaultBorder",x("palette-grey-400")),se(E.Chip,"defaultAvatarColor",x("palette-grey-700")),se(E.Chip,"defaultIconColor",x("palette-grey-700")),se(E.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),se(E.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),se(E.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),se(E.LinearProgress,"primaryBg",ht(E.primary.main,.62)),se(E.LinearProgress,"secondaryBg",ht(E.secondary.main,.62)),se(E.LinearProgress,"errorBg",ht(E.error.main,.62)),se(E.LinearProgress,"infoBg",ht(E.info.main,.62)),se(E.LinearProgress,"successBg",ht(E.success.main,.62)),se(E.LinearProgress,"warningBg",ht(E.warning.main,.62)),se(E.Skeleton,"bg",`rgba(${x("palette-text-primaryChannel")} / 0.11)`),se(E.Slider,"primaryTrack",ht(E.primary.main,.62)),se(E.Slider,"secondaryTrack",ht(E.secondary.main,.62)),se(E.Slider,"errorTrack",ht(E.error.main,.62)),se(E.Slider,"infoTrack",ht(E.info.main,.62)),se(E.Slider,"successTrack",ht(E.success.main,.62)),se(E.Slider,"warningTrack",ht(E.warning.main,.62));const k=rm(E.background.default,.8);se(E.SnackbarContent,"bg",k),se(E.SnackbarContent,"color",Pi(()=>E.getContrastText(k))),se(E.SpeedDialAction,"fabHoverBg",rm(E.background.paper,.15)),se(E.StepConnector,"border",x("palette-grey-400")),se(E.StepContent,"border",x("palette-grey-400")),se(E.Switch,"defaultColor",x("palette-common-white")),se(E.Switch,"defaultDisabledColor",x("palette-grey-100")),se(E.Switch,"primaryDisabledColor",ht(E.primary.main,.62)),se(E.Switch,"secondaryDisabledColor",ht(E.secondary.main,.62)),se(E.Switch,"errorDisabledColor",ht(E.error.main,.62)),se(E.Switch,"infoDisabledColor",ht(E.info.main,.62)),se(E.Switch,"successDisabledColor",ht(E.success.main,.62)),se(E.Switch,"warningDisabledColor",ht(E.warning.main,.62)),se(E.TableCell,"border",ht(nm(E.divider,1),.88)),se(E.Tooltip,"bg",nm(E.grey[700],.92))}if(E.mode==="dark"){se(E.Alert,"errorColor",ht(E.error.light,.6)),se(E.Alert,"infoColor",ht(E.info.light,.6)),se(E.Alert,"successColor",ht(E.success.light,.6)),se(E.Alert,"warningColor",ht(E.warning.light,.6)),se(E.Alert,"errorFilledBg",x("palette-error-dark")),se(E.Alert,"infoFilledBg",x("palette-info-dark")),se(E.Alert,"successFilledBg",x("palette-success-dark")),se(E.Alert,"warningFilledBg",x("palette-warning-dark")),se(E.Alert,"errorFilledColor",Pi(()=>E.getContrastText(E.error.dark))),se(E.Alert,"infoFilledColor",Pi(()=>E.getContrastText(E.info.dark))),se(E.Alert,"successFilledColor",Pi(()=>E.getContrastText(E.success.dark))),se(E.Alert,"warningFilledColor",Pi(()=>E.getContrastText(E.warning.dark))),se(E.Alert,"errorStandardBg",dt(E.error.light,.9)),se(E.Alert,"infoStandardBg",dt(E.info.light,.9)),se(E.Alert,"successStandardBg",dt(E.success.light,.9)),se(E.Alert,"warningStandardBg",dt(E.warning.light,.9)),se(E.Alert,"errorIconColor",x("palette-error-main")),se(E.Alert,"infoIconColor",x("palette-info-main")),se(E.Alert,"successIconColor",x("palette-success-main")),se(E.Alert,"warningIconColor",x("palette-warning-main")),se(E.AppBar,"defaultBg",x("palette-grey-900")),se(E.AppBar,"darkBg",x("palette-background-paper")),se(E.AppBar,"darkColor",x("palette-text-primary")),se(E.Avatar,"defaultBg",x("palette-grey-600")),se(E.Button,"inheritContainedBg",x("palette-grey-800")),se(E.Button,"inheritContainedHoverBg",x("palette-grey-700")),se(E.Chip,"defaultBorder",x("palette-grey-700")),se(E.Chip,"defaultAvatarColor",x("palette-grey-300")),se(E.Chip,"defaultIconColor",x("palette-grey-300")),se(E.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),se(E.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),se(E.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),se(E.LinearProgress,"primaryBg",dt(E.primary.main,.5)),se(E.LinearProgress,"secondaryBg",dt(E.secondary.main,.5)),se(E.LinearProgress,"errorBg",dt(E.error.main,.5)),se(E.LinearProgress,"infoBg",dt(E.info.main,.5)),se(E.LinearProgress,"successBg",dt(E.success.main,.5)),se(E.LinearProgress,"warningBg",dt(E.warning.main,.5)),se(E.Skeleton,"bg",`rgba(${x("palette-text-primaryChannel")} / 0.13)`),se(E.Slider,"primaryTrack",dt(E.primary.main,.5)),se(E.Slider,"secondaryTrack",dt(E.secondary.main,.5)),se(E.Slider,"errorTrack",dt(E.error.main,.5)),se(E.Slider,"infoTrack",dt(E.info.main,.5)),se(E.Slider,"successTrack",dt(E.success.main,.5)),se(E.Slider,"warningTrack",dt(E.warning.main,.5));const k=rm(E.background.default,.98);se(E.SnackbarContent,"bg",k),se(E.SnackbarContent,"color",Pi(()=>E.getContrastText(k))),se(E.SpeedDialAction,"fabHoverBg",rm(E.background.paper,.15)),se(E.StepConnector,"border",x("palette-grey-600")),se(E.StepContent,"border",x("palette-grey-600")),se(E.Switch,"defaultColor",x("palette-grey-300")),se(E.Switch,"defaultDisabledColor",x("palette-grey-600")),se(E.Switch,"primaryDisabledColor",dt(E.primary.main,.55)),se(E.Switch,"secondaryDisabledColor",dt(E.secondary.main,.55)),se(E.Switch,"errorDisabledColor",dt(E.error.main,.55)),se(E.Switch,"infoDisabledColor",dt(E.info.main,.55)),se(E.Switch,"successDisabledColor",dt(E.success.main,.55)),se(E.Switch,"warningDisabledColor",dt(E.warning.main,.55)),se(E.TableCell,"border",dt(nm(E.divider,1),.68)),se(E.Tooltip,"bg",nm(E.grey[700],.92))}ys(E.background,"default"),ys(E.background,"paper"),ys(E.common,"background"),ys(E.common,"onBackground"),ys(E,"divider"),Object.keys(E).forEach(k=>{const O=E[k];k!=="tonalOffset"&&O&&typeof O=="object"&&(O.main&&se(E[k],"mainChannel",Yd(Jd(O.main))),O.light&&se(E[k],"lightChannel",Yd(Jd(O.light))),O.dark&&se(E[k],"darkChannel",Yd(Jd(O.dark))),O.contrastText&&se(E[k],"contrastTextChannel",Yd(Jd(O.contrastText))),k==="text"&&(ys(E[k],"primary"),ys(E[k],"secondary")),k==="action"&&(O.active&&ys(E[k],"active"),O.selected&&ys(E[k],"selected")))})}),z=e.reduce((C,E)=>Tr(C,E),z);const j={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:l,getSelector:v7(z)},{vars:q,generateThemeVars:D,generateStyleSheets:b}=WK(z,j);return z.vars=q,Object.entries(z.colorSchemes[z.defaultColorScheme]).forEach(([C,E])=>{z[C]=E}),z.generateThemeVars=D,z.generateStyleSheets=b,z.generateSpacing=function(){return sD(h.spacing,TI(this))},z.getColorSchemeSelector=qK(u),z.spacing=z.generateSpacing(),z.shouldSkipGeneratingVar=l,z.unstable_sxConfig={...Ly,...h==null?void 0:h.unstable_sxConfig},z.unstable_sx=function(E){return ic({sx:E,theme:this})},z.toRuntimeSource=hD,z}function NP(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:xI({...t===!0?{}:t.palette,mode:e})})}function S7(n={},...e){const{palette:t,cssVariables:r=!1,colorSchemes:i=t?void 0:{light:!0},defaultColorScheme:s=t==null?void 0:t.mode,...l}=n,u=s||"light",d=i==null?void 0:i[u],h={...i,...t?{[u]:{...typeof d!="boolean"&&d,palette:t}}:void 0};if(r===!1){if(!("colorSchemes"in n))return mE(n,...e);let m=t;"palette"in n||h[u]&&(h[u]!==!0?m=h[u].palette:u==="dark"&&(m={mode:"dark"}));const g=mE({...n,palette:m},...e);return g.defaultColorScheme=u,g.colorSchemes=h,g.palette.mode==="light"&&(g.colorSchemes.light={...h.light!==!0&&h.light,palette:g.palette},NP(g,"dark",h.dark)),g.palette.mode==="dark"&&(g.colorSchemes.dark={...h.dark!==!0&&h.dark,palette:g.palette},NP(g,"light",h.light)),g}return!t&&!("light"in h)&&u==="light"&&(h.light=!0),T7({...l,colorSchemes:h,defaultColorScheme:u,...typeof r!="boolean"&&r},...e)}const R7=S7(),b7="$$material";function mD(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const A7=n=>mD(n)&&n!=="classes",Rf=AK({themeId:b7,defaultTheme:R7,rootShouldForwardProp:A7}),OI=$K;function gD(n){return UK(n)}function P7(n){return wI("MuiSvgIcon",n)}qN("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const C7=n=>{const{color:e,fontSize:t,classes:r}=n,i={root:["root",e!=="inherit"&&`color${zo(e)}`,`fontSize${zo(t)}`]};return jN(i,P7,r)},k7=Rf("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${zo(t.color)}`],e[`fontSize${zo(t.fontSize)}`]]}})(OI(({theme:n})=>{var e,t,r,i,s,l,u,d,h,m,g,_,T,I;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=n.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:r.shorter}),variants:[{props:R=>!R.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((l=(s=n.typography)==null?void 0:s.pxToRem)==null?void 0:l.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((d=(u=n.typography)==null?void 0:u.pxToRem)==null?void 0:d.call(u,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((m=(h=n.typography)==null?void 0:h.pxToRem)==null?void 0:m.call(h,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,R])=>R&&R.main).map(([R])=>{var A,V;return{props:{color:R},style:{color:(V=(A=(n.vars??n).palette)==null?void 0:A[R])==null?void 0:V.main}}}),{props:{color:"action"},style:{color:(_=(g=(n.vars??n).palette)==null?void 0:g.action)==null?void 0:_.active}},{props:{color:"disabled"},style:{color:(I=(T=(n.vars??n).palette)==null?void 0:T.action)==null?void 0:I.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),gE=K.forwardRef(function(e,t){const r=gD({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:l="inherit",component:u="svg",fontSize:d="medium",htmlColor:h,inheritViewBox:m=!1,titleAccess:g,viewBox:_="0 0 24 24",...T}=r,I=K.isValidElement(i)&&i.type==="svg",R={...r,color:l,component:u,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:m,viewBox:_,hasSvgAsChild:I},A={};m||(A.viewBox=_);const V=C7(R);return $.jsxs(k7,{as:u,className:hh(V.root,s),focusable:"false",color:h,"aria-hidden":g?void 0:!0,role:g?"img":void 0,ref:t,...A,...T,...I&&i.props,ownerState:R,children:[I?i.props.children:i,g?$.jsx("title",{children:g}):null]})});gE.muiName="SvgIcon";function yD(n,e){function t(r,i){return $.jsx(gE,{"data-testid":`${e}Icon`,ref:i,...r,children:n})}return t.muiName=gE.muiName,K.memo(K.forwardRef(t))}const x7=yD($.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),O7=yD($.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function N7(n){return wI("MuiRating",n)}const $d=qN("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);function D7(n){const e=n.toString().split(".")[1];return e?e.length:0}function rw(n,e){if(n==null)return n;const t=Math.round(n/e)*e;return Number(t.toFixed(D7(e)))}const L7=n=>{const{classes:e,size:t,readOnly:r,disabled:i,emptyValueFocused:s,focusVisible:l}=n,u={root:["root",`size${zo(t)}`,i&&"disabled",l&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[s&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return jN(u,N7,e)},V7=Rf("span",{name:"MuiRating",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${$d.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${zo(t.size)}`],t.readOnly&&e.readOnly]}})(OI(({theme:n})=>({display:"inline-flex",position:"relative",fontSize:n.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${$d.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${$d.focusVisible} .${$d.iconActive}`]:{outline:"1px solid #999"},[`& .${$d.visuallyHidden}`]:_H,variants:[{props:{size:"small"},style:{fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:n.typography.pxToRem(30)}},{props:({ownerState:e})=>e.readOnly,style:{pointerEvents:"none"}}]}))),_D=Rf("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:n},e)=>[e.label,n.emptyValueFocused&&e.labelEmptyValueActive]})({cursor:"inherit",variants:[{props:({ownerState:n})=>n.emptyValueFocused,style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),M7=Rf("span",{name:"MuiRating",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.iconEmpty&&e.iconEmpty,t.iconFilled&&e.iconFilled,t.iconHover&&e.iconHover,t.iconFocus&&e.iconFocus,t.iconActive&&e.iconActive]}})(OI(({theme:n})=>({display:"flex",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:({ownerState:e})=>e.iconActive,style:{transform:"scale(1.2)"}},{props:({ownerState:e})=>e.iconEmpty,style:{color:(n.vars||n).palette.action.disabled}}]}))),F7=Rf("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:n=>mD(n)&&n!=="iconActive",overridesResolver:(n,e)=>{const{iconActive:t}=n;return[e.decimal,t&&e.iconActive]}})({position:"relative",variants:[{props:({iconActive:n})=>n,style:{transform:"scale(1.2)"}}]});function U7(n){const{value:e,...t}=n;return $.jsx("span",{...t})}function DP(n){const{classes:e,disabled:t,emptyIcon:r,focus:i,getLabelText:s,highlightSelectedOnly:l,hover:u,icon:d,IconContainerComponent:h,isActive:m,itemValue:g,labelProps:_,name:T,onBlur:I,onChange:R,onClick:A,onFocus:V,readOnly:L,ownerState:M,ratingValue:z,ratingValueRounded:j}=n,q=l?g===z:g<=z,D=g<=u,b=g<=i,C=g===j,E=`${T}-${WN()}`,x=$.jsx(M7,{as:h,value:g,className:hh(e.icon,q?e.iconFilled:e.iconEmpty,D&&e.iconHover,b&&e.iconFocus,m&&e.iconActive),ownerState:{...M,iconEmpty:!q,iconFilled:q,iconHover:D,iconFocus:b,iconActive:m},children:r&&!q?r:d});return L?$.jsx("span",{..._,children:x}):$.jsxs(K.Fragment,{children:[$.jsxs(_D,{ownerState:{...M,emptyValueFocused:void 0},htmlFor:E,..._,children:[x,$.jsx("span",{className:e.visuallyHidden,children:s(g)})]}),$.jsx("input",{className:e.visuallyHidden,onFocus:V,onBlur:I,onChange:R,onClick:A,disabled:t,value:g,id:E,type:"radio",name:T,checked:C})]})}const $7=$.jsx(x7,{fontSize:"inherit"}),j7=$.jsx(O7,{fontSize:"inherit"});function B7(n){return`${n||"0"} Star${n!==1?"s":""}`}const z7=K.forwardRef(function(e,t){const r=gD({name:"MuiRating",props:e}),{component:i="span",className:s,defaultValue:l=null,disabled:u=!1,emptyIcon:d=j7,emptyLabelText:h="Empty",getLabelText:m=B7,highlightSelectedOnly:g=!1,icon:_=$7,IconContainerComponent:T=U7,max:I=5,name:R,onChange:A,onChangeActive:V,onMouseLeave:L,onMouseMove:M,precision:z=1,readOnly:j=!1,size:q="medium",value:D,...b}=r,C=WN(R),[E,x]=bH({controlled:D,default:l,name:"Rating"}),k=rw(E,z),O=wH(),[{hover:ee,focus:F},me]=K.useState({hover:-1,focus:-1});let oe=k;ee!==-1&&(oe=ee),F!==-1&&(oe=F);const[X,pe]=K.useState(!1),he=K.useRef(),W=AH(he,t),ie=it=>{M&&M(it);const gt=he.current,{right:en,left:qr,width:Ar}=gt.getBoundingClientRect();let Pr;O?Pr=(en-it.clientX)/Ar:Pr=(it.clientX-qr)/Ar;let qn=rw(I*Pr+z/2,z);qn=$N(qn,z,I),me(Hn=>Hn.hover===qn&&Hn.focus===qn?Hn:{hover:qn,focus:qn}),pe(!1),V&&ee!==qn&&V(it,qn)},Te=it=>{L&&L(it);const gt=-1;me({hover:gt,focus:gt}),V&&ee!==gt&&V(it,gt)},ke=it=>{let gt=it.target.value===""?null:parseFloat(it.target.value);ee!==-1&&(gt=ee),x(gt),A&&A(it,gt)},Ve=it=>{it.clientX===0&&it.clientY===0||(me({hover:-1,focus:-1}),x(null),A&&parseFloat(it.target.value)===k&&A(it,null))},$e=it=>{lP(it.target)&&pe(!0);const gt=parseFloat(it.target.value);me(en=>({hover:en.hover,focus:gt}))},Qe=it=>{if(ee!==-1)return;lP(it.target)||pe(!1);const gt=-1;me(en=>({hover:en.hover,focus:gt}))},[qe,rt]=K.useState(!1),wt={...r,component:i,defaultValue:l,disabled:u,emptyIcon:d,emptyLabelText:h,emptyValueFocused:qe,focusVisible:X,getLabelText:m,icon:_,IconContainerComponent:T,max:I,precision:z,readOnly:j,size:q},un=L7(wt);return $.jsxs(V7,{as:i,ref:W,onMouseMove:ie,onMouseLeave:Te,className:hh(un.root,s,j&&"MuiRating-readOnly"),ownerState:wt,role:j?"img":null,"aria-label":j?m(oe):null,...b,children:[Array.from(new Array(I)).map((it,gt)=>{const en=gt+1,qr={classes:un,disabled:u,emptyIcon:d,focus:F,getLabelText:m,highlightSelectedOnly:g,hover:ee,icon:_,IconContainerComponent:T,name:C,onBlur:Qe,onChange:ke,onClick:Ve,onFocus:$e,ratingValue:oe,ratingValueRounded:k,readOnly:j,ownerState:wt},Ar=en===Math.ceil(oe)&&(ee!==-1||F!==-1);if(z<1){const Pr=Array.from(new Array(1/z));return $.jsx(F7,{className:hh(un.decimal,Ar&&un.iconActive),ownerState:wt,iconActive:Ar,children:Pr.map((qn,Hn)=>{const ar=rw(en-1+(Hn+1)*z,z);return $.jsx(DP,{...qr,isActive:!1,itemValue:ar,labelProps:{style:Pr.length-1===Hn?{}:{width:ar===oe?`${(Hn+1)*z*100}%`:"0%",overflow:"hidden",position:"absolute"}}},ar)})},en)}return $.jsx(DP,{...qr,isActive:Ar,itemValue:en},en)}),!j&&!u&&$.jsxs(_D,{className:hh(un.label,un.labelEmptyValue),ownerState:wt,children:[$.jsx("input",{className:un.visuallyHidden,value:"",id:`${C}-empty`,type:"radio",name:C,checked:k==null,onFocus:()=>rt(!0),onBlur:()=>rt(!1),onChange:ke}),$.jsx("span",{className:un.visuallyHidden,children:h})]})]})});var Dm={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */var W7=Dm.exports,LP;function q7(){return LP||(LP=1,function(n){(function(e,t){n.exports?n.exports=t():e.numeral=t()})(W7,function(){var e,t,r="2.0.6",i={},s={},l={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},u={currentLocale:l.currentLocale,zeroFormat:l.zeroFormat,nullFormat:l.nullFormat,defaultFormat:l.defaultFormat,scalePercentBy100:l.scalePercentBy100};function d(h,m){this._input=h,this._value=m}return e=function(h){var m,g,_,T;if(e.isNumeral(h))m=h.value();else if(h===0||typeof h>"u")m=0;else if(h===null||t.isNaN(h))m=null;else if(typeof h=="string")if(u.zeroFormat&&h===u.zeroFormat)m=0;else if(u.nullFormat&&h===u.nullFormat||!h.replace(/[^0-9]+/g,"").length)m=null;else{for(g in i)if(T=typeof i[g].regexps.unformat=="function"?i[g].regexps.unformat():i[g].regexps.unformat,T&&h.match(T)){_=i[g].unformat;break}_=_||e._.stringToNumber,m=_(h)}else m=Number(h)||null;return new d(h,m)},e.version=r,e.isNumeral=function(h){return h instanceof d},e._=t={numberToFormat:function(h,m,g){var _=s[e.options.currentLocale],T=!1,I=!1,R=0,A="",V=1e12,L=1e9,M=1e6,z=1e3,j="",q=!1,D,b,C,E,x,k,O;if(h=h||0,b=Math.abs(h),e._.includes(m,"(")?(T=!0,m=m.replace(/[\(|\)]/g,"")):(e._.includes(m,"+")||e._.includes(m,"-"))&&(x=e._.includes(m,"+")?m.indexOf("+"):h<0?m.indexOf("-"):-1,m=m.replace(/[\+|\-]/g,"")),e._.includes(m,"a")&&(D=m.match(/a(k|m|b|t)?/),D=D?D[1]:!1,e._.includes(m," a")&&(A=" "),m=m.replace(new RegExp(A+"a[kmbt]?"),""),b>=V&&!D||D==="t"?(A+=_.abbreviations.trillion,h=h/V):b<V&&b>=L&&!D||D==="b"?(A+=_.abbreviations.billion,h=h/L):b<L&&b>=M&&!D||D==="m"?(A+=_.abbreviations.million,h=h/M):(b<M&&b>=z&&!D||D==="k")&&(A+=_.abbreviations.thousand,h=h/z)),e._.includes(m,"[.]")&&(I=!0,m=m.replace("[.]",".")),C=h.toString().split(".")[0],E=m.split(".")[1],k=m.indexOf(","),R=(m.split(".")[0].split(",")[0].match(/0/g)||[]).length,E?(e._.includes(E,"[")?(E=E.replace("]",""),E=E.split("["),j=e._.toFixed(h,E[0].length+E[1].length,g,E[1].length)):j=e._.toFixed(h,E.length,g),C=j.split(".")[0],e._.includes(j,".")?j=_.delimiters.decimal+j.split(".")[1]:j="",I&&Number(j.slice(1))===0&&(j="")):C=e._.toFixed(h,0,g),A&&!D&&Number(C)>=1e3&&A!==_.abbreviations.trillion)switch(C=String(Number(C)/1e3),A){case _.abbreviations.thousand:A=_.abbreviations.million;break;case _.abbreviations.million:A=_.abbreviations.billion;break;case _.abbreviations.billion:A=_.abbreviations.trillion;break}if(e._.includes(C,"-")&&(C=C.slice(1),q=!0),C.length<R)for(var ee=R-C.length;ee>0;ee--)C="0"+C;return k>-1&&(C=C.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+_.delimiters.thousands)),m.indexOf(".")===0&&(C=""),O=C+j+(A||""),T?O=(T&&q?"(":"")+O+(T&&q?")":""):x>=0?O=x===0?(q?"-":"+")+O:O+(q?"-":"+"):q&&(O="-"+O),O},stringToNumber:function(h){var m=s[u.currentLocale],g=h,_={thousand:3,million:6,billion:9,trillion:12},T,I,R;if(u.zeroFormat&&h===u.zeroFormat)I=0;else if(u.nullFormat&&h===u.nullFormat||!h.replace(/[^0-9]+/g,"").length)I=null;else{I=1,m.delimiters.decimal!=="."&&(h=h.replace(/\./g,"").replace(m.delimiters.decimal,"."));for(T in _)if(R=new RegExp("[^a-zA-Z]"+m.abbreviations[T]+"(?:\\)|(\\"+m.currency.symbol+")?(?:\\))?)?$"),g.match(R)){I*=Math.pow(10,_[T]);break}I*=(h.split("-").length+Math.min(h.split("(").length-1,h.split(")").length-1))%2?1:-1,h=h.replace(/[^0-9\.]+/g,""),I*=Number(h)}return I},isNaN:function(h){return typeof h=="number"&&isNaN(h)},includes:function(h,m){return h.indexOf(m)!==-1},insert:function(h,m,g){return h.slice(0,g)+m+h.slice(g)},reduce:function(h,m){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof m!="function")throw new TypeError(m+" is not a function");var g=Object(h),_=g.length>>>0,T=0,I;if(arguments.length===3)I=arguments[2];else{for(;T<_&&!(T in g);)T++;if(T>=_)throw new TypeError("Reduce of empty array with no initial value");I=g[T++]}for(;T<_;T++)T in g&&(I=m(I,g[T],T,g));return I},multiplier:function(h){var m=h.toString().split(".");return m.length<2?1:Math.pow(10,m[1].length)},correctionFactor:function(){var h=Array.prototype.slice.call(arguments);return h.reduce(function(m,g){var _=t.multiplier(g);return m>_?m:_},1)},toFixed:function(h,m,g,_){var T=h.toString().split("."),I=m-(_||0),R,A,V,L;return T.length===2?R=Math.min(Math.max(T[1].length,I),m):R=I,V=Math.pow(10,R),L=(g(h+"e+"+R)/V).toFixed(R),_>m-R&&(A=new RegExp("\\.?0{1,"+(_-(m-R))+"}$"),L=L.replace(A,"")),L}},e.options=u,e.formats=i,e.locales=s,e.locale=function(h){return h&&(u.currentLocale=h.toLowerCase()),u.currentLocale},e.localeData=function(h){if(!h)return s[u.currentLocale];if(h=h.toLowerCase(),!s[h])throw new Error("Unknown locale : "+h);return s[h]},e.reset=function(){for(var h in l)u[h]=l[h]},e.zeroFormat=function(h){u.zeroFormat=typeof h=="string"?h:null},e.nullFormat=function(h){u.nullFormat=typeof h=="string"?h:null},e.defaultFormat=function(h){u.defaultFormat=typeof h=="string"?h:"0.0"},e.register=function(h,m,g){if(m=m.toLowerCase(),this[h+"s"][m])throw new TypeError(m+" "+h+" already registered.");return this[h+"s"][m]=g,g},e.validate=function(h,m){var g,_,T,I,R,A,V,L;if(typeof h!="string"&&(h+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",h)),h=h.trim(),h.match(/^\d+$/))return!0;if(h==="")return!1;try{V=e.localeData(m)}catch{V=e.localeData(e.locale())}return T=V.currency.symbol,R=V.abbreviations,g=V.delimiters.decimal,V.delimiters.thousands==="."?_="\\.":_=V.delimiters.thousands,L=h.match(/^[^\d]+/),L!==null&&(h=h.substr(1),L[0]!==T)||(L=h.match(/[^\d]+$/),L!==null&&(h=h.slice(0,-1),L[0]!==R.thousand&&L[0]!==R.million&&L[0]!==R.billion&&L[0]!==R.trillion))?!1:(A=new RegExp(_+"{2}"),h.match(/[^\d.,]/g)?!1:(I=h.split(g),I.length>2?!1:I.length<2?!!I[0].match(/^\d+.*\d$/)&&!I[0].match(A):I[0].length===1?!!I[0].match(/^\d+$/)&&!I[0].match(A)&&!!I[1].match(/^\d+$/):!!I[0].match(/^\d+.*\d$/)&&!I[0].match(A)&&!!I[1].match(/^\d+$/)))},e.fn=d.prototype={clone:function(){return e(this)},format:function(h,m){var g=this._value,_=h||u.defaultFormat,T,I,R;if(m=m||Math.round,g===0&&u.zeroFormat!==null)I=u.zeroFormat;else if(g===null&&u.nullFormat!==null)I=u.nullFormat;else{for(T in i)if(_.match(i[T].regexps.format)){R=i[T].format;break}R=R||e._.numberToFormat,I=R(g,_,m)}return I},value:function(){return this._value},input:function(){return this._input},set:function(h){return this._value=Number(h),this},add:function(h){var m=t.correctionFactor.call(null,this._value,h);function g(_,T,I,R){return _+Math.round(m*T)}return this._value=t.reduce([this._value,h],g,0)/m,this},subtract:function(h){var m=t.correctionFactor.call(null,this._value,h);function g(_,T,I,R){return _-Math.round(m*T)}return this._value=t.reduce([h],g,Math.round(this._value*m))/m,this},multiply:function(h){function m(g,_,T,I){var R=t.correctionFactor(g,_);return Math.round(g*R)*Math.round(_*R)/Math.round(R*R)}return this._value=t.reduce([this._value,h],m,1),this},divide:function(h){function m(g,_,T,I){var R=t.correctionFactor(g,_);return Math.round(g*R)/Math.round(_*R)}return this._value=t.reduce([this._value,h],m),this},difference:function(h){return Math.abs(e(this._value).subtract(h).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(h){var m=h%10;return~~(h%100/10)===1?"th":m===1?"st":m===2?"nd":m===3?"rd":"th"},currency:{symbol:"$"}}),function(){e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(h,m,g){var _=e._.includes(m," BPS")?" ":"",T;return h=h*1e4,m=m.replace(/\s?BPS/,""),T=e._.numberToFormat(h,m,g),e._.includes(T,")")?(T=T.split(""),T.splice(-1,0,_+"BPS"),T=T.join("")):T=T+_+"BPS",T},unformat:function(h){return+(e._.stringToNumber(h)*1e-4).toFixed(15)}})}(),function(){var h={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},m={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},g=h.suffixes.concat(m.suffixes.filter(function(T){return h.suffixes.indexOf(T)<0})),_=g.join("|");_="("+_.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(_)},format:function(T,I,R){var A,V=e._.includes(I,"ib")?m:h,L=e._.includes(I," b")||e._.includes(I," ib")?" ":"",M,z,j;for(I=I.replace(/\s?i?b/,""),M=0;M<=V.suffixes.length;M++)if(z=Math.pow(V.base,M),j=Math.pow(V.base,M+1),T===null||T===0||T>=z&&T<j){L+=V.suffixes[M],z>0&&(T=T/z);break}return A=e._.numberToFormat(T,I,R),A+L},unformat:function(T){var I=e._.stringToNumber(T),R,A;if(I){for(R=h.suffixes.length-1;R>=0;R--){if(e._.includes(T,h.suffixes[R])){A=Math.pow(h.base,R);break}if(e._.includes(T,m.suffixes[R])){A=Math.pow(m.base,R);break}}I*=A||1}return I}})}(),function(){e.register("format","currency",{regexps:{format:/(\$)/},format:function(h,m,g){var _=e.locales[e.options.currentLocale],T={before:m.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:m.match(/([\+|\-|\)|\s|\$]*)$/)[0]},I,R,A;for(m=m.replace(/\s?\$\s?/,""),I=e._.numberToFormat(h,m,g),h>=0?(T.before=T.before.replace(/[\-\(]/,""),T.after=T.after.replace(/[\-\)]/,"")):h<0&&!e._.includes(T.before,"-")&&!e._.includes(T.before,"(")&&(T.before="-"+T.before),A=0;A<T.before.length;A++)switch(R=T.before[A],R){case"$":I=e._.insert(I,_.currency.symbol,A);break;case" ":I=e._.insert(I," ",A+_.currency.symbol.length-1);break}for(A=T.after.length-1;A>=0;A--)switch(R=T.after[A],R){case"$":I=A===T.after.length-1?I+_.currency.symbol:e._.insert(I,_.currency.symbol,-(T.after.length-(1+A)));break;case" ":I=A===T.after.length-1?I+" ":e._.insert(I," ",-(T.after.length-(1+A)+_.currency.symbol.length-1));break}return I}})}(),function(){e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(h,m,g){var _,T=typeof h=="number"&&!e._.isNaN(h)?h.toExponential():"0e+0",I=T.split("e");return m=m.replace(/e[\+|\-]{1}0/,""),_=e._.numberToFormat(Number(I[0]),m,g),_+"e"+I[1]},unformat:function(h){var m=e._.includes(h,"e+")?h.split("e+"):h.split("e-"),g=Number(m[0]),_=Number(m[1]);_=e._.includes(h,"e-")?_*=-1:_;function T(I,R,A,V){var L=e._.correctionFactor(I,R),M=I*L*(R*L)/(L*L);return M}return e._.reduce([g,Math.pow(10,_)],T,1)}})}(),function(){e.register("format","ordinal",{regexps:{format:/(o)/},format:function(h,m,g){var _=e.locales[e.options.currentLocale],T,I=e._.includes(m," o")?" ":"";return m=m.replace(/\s?o/,""),I+=_.ordinal(h),T=e._.numberToFormat(h,m,g),T+I}})}(),function(){e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(h,m,g){var _=e._.includes(m," %")?" ":"",T;return e.options.scalePercentBy100&&(h=h*100),m=m.replace(/\s?\%/,""),T=e._.numberToFormat(h,m,g),e._.includes(T,")")?(T=T.split(""),T.splice(-1,0,_+"%"),T=T.join("")):T=T+_+"%",T},unformat:function(h){var m=e._.stringToNumber(h);return e.options.scalePercentBy100?m*.01:m}})}(),function(){e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(h,m,g){var _=Math.floor(h/60/60),T=Math.floor((h-_*60*60)/60),I=Math.round(h-_*60*60-T*60);return _+":"+(T<10?"0"+T:T)+":"+(I<10?"0"+I:I)},unformat:function(h){var m=h.split(":"),g=0;return m.length===3?(g=g+Number(m[0])*60*60,g=g+Number(m[1])*60,g=g+Number(m[2])):m.length===2&&(g=g+Number(m[0])*60,g=g+Number(m[1])),Number(g)}})}(),e})}(Dm)),Dm.exports}var H7=q7();const K7=vE(H7),NI=({amount:n})=>{const e=K7(n).format("$0,0.00");return $.jsx("div",{children:e})},G7="_card__container_1sd4j_1",Q7="_button_1sd4j_31",Y7="_rating_1sd4j_91",J7="_products_container_1sd4j_103",X7="_product_flexed_1sd4j_133",Xd={card__container:G7,button:Q7,rating:Y7,products_container:J7,product_flexed:X7},ko={ADD_TO_BASKET:"ADD_TO_BASKET",REMOVE_FROM_BASKET:"REMOVE_FROM_BASKET",SET_USER:"SET_USER"},bf=({product:n,flex:e,renderDesc:t,renderAdd:r})=>{const{image:i,title:s,price:l,id:u,rating:d,description:h}=n,[m,g]=K.useContext(Ko),_=()=>{g({type:ko.ADD_TO_BASKET,item:{image:i,title:s,id:u,rating:d,price:l,description:h}})};return $.jsxs("div",{className:`${Xd.card__container} ${e?Xd.product_flexed:""}`,children:[$.jsx(ui,{to:`/products/${u}`,children:$.jsx("img",{src:i,alt:""})}),$.jsxs("div",{children:[$.jsx("h3",{children:s}),t&&$.jsx("div",{children:h}),$.jsxs("div",{className:Xd.rating,children:[$.jsx(z7,{value:d==null?void 0:d.rate,precision:.1}),$.jsx("small",{children:d==null?void 0:d.count})]}),$.jsx(NI,{amount:l}),r&&$.jsx("button",{className:Xd.button,onClick:_,children:"add to cart"})]})]})},Z7=()=>{const[n,e]=K.useState([]),[t,r]=K.useState(!1);return console.log(n),K.useEffect(()=>{Pt.get("https://fakestoreapi.com/products").then(i=>{e(i.data),r(!1)}).catch(i=>{console.log(i),r(!1)})},[]),t?$.jsx(Loader,{}):$.jsx("section",{className:Xd.products_container,children:n==null?void 0:n.map((i,s)=>$.jsx(bf,{product:i,renderAdd:!0},s))})},VP=()=>$.jsxs(Ic,{children:[$.jsx(MW,{}),$.jsx(jW,{}),$.jsx(Z7,{})]}),eG="_sign_in_page_5tvou_3",tG="_amazon_img_5tvou_21",nG="_sign_in_container_5tvou_53",rG="_input_group_5tvou_85",iG="_sign_in_btn_5tvou_133",sG="_create_account_5tvou_195",oG="_signup_btn_5tvou_233",vo={sign_in_page:eG,amazon_img:tG,sign_in_container:nG,input_group:rG,sign_in_btn:iG,create_account:sG,signup_btn:oG};var aG={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function vD(n){if(typeof n=="number")return{value:n,unit:"px"};var e,t=(n.match(/^[0-9.]*/)||"").toString();t.includes(".")?e=parseFloat(t):e=parseInt(t,10);var r=(n.match(/[^0-9]*$/)||"").toString();return aG[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(n," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function Wa(n){var e=vD(n);return"".concat(e.value).concat(e.unit)}var Ig=function(n,e,t){var r="react-spinners-".concat(n,"-").concat(t);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var s=i.sheet,l=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return s&&s.insertRule(l,0),r},Tg;(function(n){n.maroon="#800000",n.red="#FF0000",n.orange="#FFA500",n.yellow="#FFFF00",n.olive="#808000",n.green="#008000",n.purple="#800080",n.fuchsia="#FF00FF",n.lime="#00FF00",n.teal="#008080",n.aqua="#00FFFF",n.blue="#0000FF",n.navy="#000080",n.black="#000000",n.gray="#808080",n.silver="#C0C0C0",n.white="#FFFFFF"})(Tg||(Tg={}));var lG=function(n,e){if(n.includes("/"))return n.replace("rgb(","rgba(");var t=n.substring(n.startsWith("rgba(")?5:4,n.length-1).trim(),r=t.split(",");return r.length===4?n.replace("rgb(","rgba("):r.length===3?"rgba(".concat(t,", ").concat(e,")"):"rgba(".concat(t," / ").concat(e,")")},uG=function(n,e){if(n.startsWith("rgb"))return lG(n,e);if(Object.keys(Tg).includes(n)&&(n=Tg[n]),n[0]==="#"&&(n=n.slice(1)),n.length===3){var t="";n.split("").forEach(function(i){t+=i,t+=i}),n=t}var r=(n.match(/.{2}/g)||[]).map(function(i){return parseInt(i,16)}).join(", ");return"rgba(".concat(r,", ").concat(e,")")},Sg=function(){return Sg=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Sg.apply(this,arguments)},cG=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},dG=Ig("ClimbingBoxLoader",`0% {transform:translate(0, -1em) rotate(-45deg)}
  5% {transform:translate(0, -1em) rotate(-50deg)}
  20% {transform:translate(1em, -2em) rotate(47deg)}
  25% {transform:translate(1em, -2em) rotate(45deg)}
  30% {transform:translate(1em, -2em) rotate(40deg)}
  45% {transform:translate(2em, -3em) rotate(137deg)}
  50% {transform:translate(2em, -3em) rotate(135deg)}
  55% {transform:translate(2em, -3em) rotate(130deg)}
  70% {transform:translate(3em, -4em) rotate(217deg)}
  75% {transform:translate(3em, -4em) rotate(220deg)}
  100% {transform:translate(0, -1em) rotate(-225deg)}`,"climbingBox");function MP(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,s=n.speedMultiplier,l=s===void 0?1:s,u=n.cssOverride,d=u===void 0?{}:u,h=n.size,m=h===void 0?15:h,g=cG(n,["loading","color","speedMultiplier","cssOverride","size"]),_=Sg({display:"inherit",position:"relative",width:"7.1em",height:"7.1em"},d),T={position:"absolute",top:"50%",left:"50%",marginTop:"-2.7em",marginLeft:"-2.7em",width:"5.4em",height:"5.4em",fontSize:Wa(m)},I={position:"absolute",left:"0",bottom:"-0.1em",height:"1em",width:"1em",backgroundColor:"transparent",borderRadius:"15%",border:"0.25em solid ".concat(i),transform:"translate(0, -1em) rotate(-45deg)",animationFillMode:"both",animation:"".concat(dG," ").concat(2.5/l,"s infinite cubic-bezier(0.79, 0, 0.47, 0.97)")},R={position:"absolute",width:"7.1em",height:"7.1em",top:"1.7em",left:"1.7em",borderLeft:"0.25em solid ".concat(i),transform:"rotate(45deg)"};return t?K.createElement("span",Sg({style:_},g),K.createElement("span",{style:T},K.createElement("span",{style:I}),K.createElement("span",{style:R}))):null}var Rg=function(){return Rg=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Rg.apply(this,arguments)},hG=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},fG=Ig("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function pG(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,s=n.speedMultiplier,l=s===void 0?1:s,u=n.cssOverride,d=u===void 0?{}:u,h=n.size,m=h===void 0?35:h,g=hG(n,["loading","color","speedMultiplier","cssOverride","size"]),_=Rg({background:"transparent !important",width:Wa(m),height:Wa(m),borderRadius:"100%",border:"2px solid",borderTopColor:i,borderBottomColor:"transparent",borderLeftColor:i,borderRightColor:i,display:"inline-block",animation:"".concat(fG," ").concat(.75/l,"s 0s infinite linear"),animationFillMode:"both"},d);return t?K.createElement("span",Rg({style:_},g)):null}var bg=function(){return bg=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},bg.apply(this,arguments)},mG=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function gG(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,s=n.speedMultiplier,l=s===void 0?1:s,u=n.cssOverride,d=u===void 0?{}:u,h=n.size,m=h===void 0?50:h,g=mG(n,["loading","color","speedMultiplier","cssOverride","size"]),_=vD(m),T=_.value,I=_.unit,R=bg({display:"inherit",position:"relative",width:Wa(m),height:Wa(m),transform:"rotate(165deg)"},d),A=T/5,V=(T-A)/2,L=V-A,M=uG(i,.75),z=Ig("HashLoader","0% {width: ".concat(A,"px; box-shadow: ").concat(V,"px ").concat(-L,"px ").concat(M,", ").concat(-V,"px ").concat(L,"px ").concat(M,`}
    35% {width: `).concat(Wa(m),"; box-shadow: 0 ").concat(-L,"px ").concat(M,", 0 ").concat(L,"px ").concat(M,`}
    70% {width: `).concat(A,"px; box-shadow: ").concat(-V,"px ").concat(-L,"px ").concat(M,", ").concat(V,"px ").concat(L,"px ").concat(M,`}
    100% {box-shadow: `).concat(V,"px ").concat(-L,"px ").concat(M,", ").concat(-V,"px ").concat(L,"px ").concat(M,"}"),"before"),j=Ig("HashLoader","0% {height: ".concat(A,"px; box-shadow: ").concat(L,"px ").concat(V,"px ").concat(i,", ").concat(-L,"px ").concat(-V,"px ").concat(i,`}
    35% {height: `).concat(Wa(m),"; box-shadow: ").concat(L,"px 0 ").concat(i,", ").concat(-L,"px 0 ").concat(i,`}
    70% {height: `).concat(A,"px; box-shadow: ").concat(L,"px ").concat(-V,"px ").concat(i,", ").concat(-L,"px ").concat(V,"px ").concat(i,`}
    100% {box-shadow: `).concat(L,"px ").concat(V,"px ").concat(i,", ").concat(-L,"px ").concat(-V,"px ").concat(i,"}"),"after"),q=function(D){return{position:"absolute",top:"50%",left:"50%",display:"block",width:"".concat(T/5).concat(I),height:"".concat(T/5).concat(I),borderRadius:"".concat(T/10).concat(I),transform:"translate(-50%, -50%)",animationFillMode:"none",animation:"".concat(D===1?z:j," ").concat(2/l,"s infinite")}};return t?K.createElement("span",bg({style:R},g),K.createElement("span",{style:q(1)}),K.createElement("span",{style:q(2)})):null}const yG=()=>{var A,V;const[n,e]=K.useState(""),[t,r]=K.useState(""),[i,s]=K.useState(""),[l,u]=K.useState(!1),d={SET_USER:"SET_USER"},[{user:h},m]=K.useContext(Ko),g=Pg(),_=Ho();console.log(_);const[T,I]=K.useState({signin:!1,sigup:!1});console.log(h);const R=async L=>{L.preventDefault(),L.target.name==="signin"?(I({signin:!0}),MU(yg,n,t).then(M=>{m({type:d.SET_USER,user:M.user}),I({signin:!1}),g((_==null?void 0:_.state.redirect)||"/amazon-clone")}).catch(M=>s(M.message)),I({signin:!1})):(I({signup:!0}),VU(yg,n,t).then(M=>{m({type:d.SET_USER,user:M.user}),I({signup:!1}),g((_==null?void 0:_.state.redirect)||"/amazon-clone")}).catch(M=>s(M.message)),I({signup:!1}))};return $.jsx($.Fragment,{children:$.jsxs("div",{className:vo.sign_in_page,children:[$.jsx("div",{className:vo.amazon_img,children:$.jsx(ui,{to:"/",children:$.jsx("img",{src:"./public/Amazon_2024.svg.png",alt:"amazon logo"})})}),$.jsxs("div",{className:vo.sign_in_container,children:[$.jsx("h1",{children:"Sign-In"}),((A=_==null?void 0:_.state)==null?void 0:A.msg)&&$.jsx("small",{style:{padding:"5px",color:"red",fontWeight:"bold"},children:(V=_==null?void 0:_.state)==null?void 0:V.msg}),$.jsxs("form",{children:[$.jsxs("div",{className:vo.input_group,children:[$.jsx("label",{htmlFor:"email",children:"Email"}),$.jsx("input",{onChange:L=>e(L.target.value),type:"email",id:"email",placeholder:"enter your email"})]}),$.jsxs("div",{className:vo.input_group,children:[$.jsx("label",{htmlFor:"password",children:"Password"}),$.jsx("input",{onChange:L=>r(L.target.value),type:"password",id:"password",placeholder:"Enter your password here"})]}),$.jsx("button",{type:"submit",name:"signin",onClick:R,className:vo.sign_in_btn,children:"Sign-In"})]}),T.signin?$.jsx(MP,{}):"",$.jsxs("div",{className:"extra-options",children:[$.jsx("a",{href:"#",children:"Forgot your password?"}),$.jsx("p",{children:"By signing-in you agree to AMAZON FAKE CLONE conditions or use & Sale. Please see our privacy notice. Our cookies Notice and our interest-Based Ads Notice"})]}),$.jsxs("div",{className:vo.create_account,children:[$.jsx("p",{children:"New to Amazon?"}),$.jsx("button",{type:"submit",name:"signup",onClick:R,className:vo.signup_btn,children:"Create your Amazon account"}),T.signin?$.jsx(MP,{}):""]}),i&&$.jsx("small",{style:{color:"red",paddingLeft:"80px",paddingTop:"15px"},children:i})]})]})})},_G="_payment_header_s4ckc_1",vG="_flex_s4ckc_19",wG="_payment_card_container_s4ckc_47",EG="_payment_Details_s4ckc_55",IG="_payment_order_s4ckc_61",wo={payment_header:_G,flex:vG,payment_card_container:wG,payment_Details:EG,payment_order:IG};function FP(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function UP(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?FP(Object(t),!0).forEach(function(r){wD(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):FP(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Lm(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Lm=function(e){return typeof e}:Lm=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lm(n)}function wD(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ED(n,e){return TG(n)||SG(n,e)||RG(n,e)||bG()}function TG(n){if(Array.isArray(n))return n}function SG(n,e){var t=n&&(typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"]);if(t!=null){var r=[],i=!0,s=!1,l,u;try{for(t=t.call(n);!(i=(l=t.next()).done)&&(r.push(l.value),!(e&&r.length===e));i=!0);}catch(d){s=!0,u=d}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw u}}return r}}function RG(n,e){if(n){if(typeof n=="string")return $P(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return $P(n,e)}}function $P(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function bG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var gr=function(e,t,r){var i=!!r,s=Ke.useRef(r);Ke.useEffect(function(){s.current=r},[r]),Ke.useEffect(function(){if(!i||!e)return function(){};var l=function(){s.current&&s.current.apply(s,arguments)};return e.on(t,l),function(){e.off(t,l)}},[i,t,e,s])},yE=function(e){var t=Ke.useRef(e);return Ke.useEffect(function(){t.current=e},[e]),t.current},oc=function(e){return e!==null&&Lm(e)==="object"},AG=function(e){return oc(e)&&typeof e.then=="function"},PG=function(e){return oc(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},jP="[object Object]",CG=function n(e,t){if(!oc(e)||!oc(t))return e===t;var r=Array.isArray(e),i=Array.isArray(t);if(r!==i)return!1;var s=Object.prototype.toString.call(e)===jP,l=Object.prototype.toString.call(t)===jP;if(s!==l)return!1;if(!s&&!r)return e===t;var u=Object.keys(e),d=Object.keys(t);if(u.length!==d.length)return!1;for(var h={},m=0;m<u.length;m+=1)h[u[m]]=!0;for(var g=0;g<d.length;g+=1)h[d[g]]=!0;var _=Object.keys(h);if(_.length!==u.length)return!1;var T=e,I=t,R=function(V){return n(T[V],I[V])};return _.every(R)},ID=function(e,t,r){return oc(e)?Object.keys(e).reduce(function(i,s){var l=!oc(t)||!CG(e[s],t[s]);return r.includes(s)?(l&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),i):l?UP(UP({},i||{}),{},wD({},s,e[s])):i},null):null},TD="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",BP=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:TD;if(e===null||PG(e))return e;throw new Error(t)},kG=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:TD;if(AG(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return BP(i,t)})};var r=BP(e,t);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},xG=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.4.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.4.0",url:"https://stripe.com/docs/stripe-js/react"}))},$y=Ke.createContext(null);$y.displayName="ElementsContext";var SD=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},RD=function(e){var t=e.stripe,r=e.options,i=e.children,s=Ke.useMemo(function(){return kG(t)},[t]),l=Ke.useState(function(){return{stripe:s.tag==="sync"?s.stripe:null,elements:s.tag==="sync"?s.stripe.elements(r):null}}),u=ED(l,2),d=u[0],h=u[1];Ke.useEffect(function(){var _=!0,T=function(R){h(function(A){return A.stripe?A:{stripe:R,elements:R.elements(r)}})};return s.tag==="async"&&!d.stripe?s.stripePromise.then(function(I){I&&_&&T(I)}):s.tag==="sync"&&!d.stripe&&T(s.stripe),function(){_=!1}},[s,d,r]);var m=yE(t);Ke.useEffect(function(){m!==null&&m!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[m,t]);var g=yE(r);return Ke.useEffect(function(){if(d.elements){var _=ID(r,g,["clientSecret","fonts"]);_&&d.elements.update(_)}},[r,g,d.elements]),Ke.useEffect(function(){xG(d.stripe)},[d.stripe]),Ke.createElement($y.Provider,{value:d},i)};RD.propTypes={stripe:xt.any,options:xt.object};var OG=function(e){var t=Ke.useContext($y);return SD(t,e)},NG=function(){var e=OG("calls useElements()"),t=e.elements;return t};xt.func.isRequired;var bD=Ke.createContext(null);bD.displayName="CheckoutSdkContext";var DG=function(e,t){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CheckoutProvider> provider."));return e},LG=Ke.createContext(null);LG.displayName="CheckoutContext";xt.any,xt.shape({clientSecret:xt.string.isRequired,elementsOptions:xt.object}).isRequired;var _E=function(e){var t=Ke.useContext(bD),r=Ke.useContext($y);if(t&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t?DG(t,e):SD(r,e)},VG=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Xt=function(e,t){var r="".concat(VG(e),"Element"),i=function(d){var h=d.id,m=d.className,g=d.options,_=g===void 0?{}:g,T=d.onBlur,I=d.onFocus,R=d.onReady,A=d.onChange,V=d.onEscape,L=d.onClick,M=d.onLoadError,z=d.onLoaderStart,j=d.onNetworksChange,q=d.onConfirm,D=d.onCancel,b=d.onShippingAddressChange,C=d.onShippingRateChange,E=_E("mounts <".concat(r,">")),x="elements"in E?E.elements:null,k="checkoutSdk"in E?E.checkoutSdk:null,O=Ke.useState(null),ee=ED(O,2),F=ee[0],me=ee[1],oe=Ke.useRef(null),X=Ke.useRef(null);gr(F,"blur",T),gr(F,"focus",I),gr(F,"escape",V),gr(F,"click",L),gr(F,"loaderror",M),gr(F,"loaderstart",z),gr(F,"networkschange",j),gr(F,"confirm",q),gr(F,"cancel",D),gr(F,"shippingaddresschange",b),gr(F,"shippingratechange",C),gr(F,"change",A);var pe;R&&(e==="expressCheckout"?pe=R:pe=function(){R(F)}),gr(F,"ready",pe),Ke.useLayoutEffect(function(){if(oe.current===null&&X.current!==null&&(x||k)){var W=null;k?W=k.createElement(e,_):x&&(W=x.create(e,_)),oe.current=W,me(W),W&&W.mount(X.current)}},[x,k,_]);var he=yE(_);return Ke.useEffect(function(){if(oe.current){var W=ID(_,he,["paymentRequest"]);W&&"update"in oe.current&&oe.current.update(W)}},[_,he]),Ke.useLayoutEffect(function(){return function(){if(oe.current&&typeof oe.current.destroy=="function")try{oe.current.destroy(),oe.current=null}catch{}}},[]),Ke.createElement("div",{id:h,className:m,ref:X})},s=function(d){_E("mounts <".concat(r,">"));var h=d.id,m=d.className;return Ke.createElement("div",{id:h,className:m})},l=t?s:i;return l.propTypes={id:xt.string,className:xt.string,onChange:xt.func,onBlur:xt.func,onFocus:xt.func,onReady:xt.func,onEscape:xt.func,onClick:xt.func,onLoadError:xt.func,onLoaderStart:xt.func,onNetworksChange:xt.func,onConfirm:xt.func,onCancel:xt.func,onShippingAddressChange:xt.func,onShippingRateChange:xt.func,options:xt.object},l.displayName=r,l.__elementType=e,l},Zt=typeof window>"u",MG=Ke.createContext(null);MG.displayName="EmbeddedCheckoutProviderContext";var FG=function(){var e=_E("calls useStripe()"),t=e.stripe;return t};Xt("auBankAccount",Zt);var zP=Xt("card",Zt);Xt("cardNumber",Zt);Xt("cardExpiry",Zt);Xt("cardCvc",Zt);Xt("fpxBank",Zt);Xt("iban",Zt);Xt("idealBank",Zt);Xt("p24Bank",Zt);Xt("epsBank",Zt);Xt("payment",Zt);Xt("expressCheckout",Zt);Xt("currencySelector",Zt);Xt("paymentRequestButton",Zt);Xt("linkAuthentication",Zt);Xt("address",Zt);Xt("shippingAddress",Zt);Xt("paymentMethodMessaging",Zt);Xt("affirmMessage",Zt);Xt("afterpayClearpayMessage",Zt);const UG=Pt.create({baseURL:"http://127.0.0.1:5001/clone-22796/us-central1/api"}),$G=()=>{var T;const[{user:n,basket:e}]=K.useContext(Ko);console.log(n);const t=e==null?void 0:e.reduce((I,R)=>R.amount+I,0),r=Pg(),i=e==null?void 0:e.reduce((I,R)=>I+R.amount*R.price,0),s=FG(),l=NG(),[u,d]=K.useState(""),[h,m]=K.useState(!1),g=I=>{var R;console.log(I),(R=I==null?void 0:I.error)!=null&&R.message?d(I.error.message):d("")},_=async I=>{var R;I.preventDefault();try{m(!0);const A=await UG({method:"POST",url:`/payment/create?total=${i*100}`});console.log(A.data);const V=(R=A.data)==null?void 0:R.clientSecret,{paymentIntent:L}=await s.confirmCardPayment(V,{payment_method:{card:l.getElement(zP)}});console.log(L),await _W.collection("users").doc(n.id).collection("orders").doc(L.id).set({basket:e,amount:L.amount,created:L.created}),m(!1),r("/amazon-clone/orders",{state:{msg:"your order is placed"}})}catch(A){console.log(A),m(!1)}};return $.jsxs(Ic,{children:[$.jsxs("div",{className:wo.payment_header,children:["Check ",t," out items"]}),$.jsxs("section",{className:wo.Payment,children:[$.jsxs("div",{className:wo.flex,children:[$.jsx("h3",{children:" Delivery Address"}),$.jsx("div",{children:(T=n==null?void 0:n.email)==null?void 0:T.split("@")[0]}),$.jsx("div",{children:"234 century Dr"}),$.jsx("div",{children:"columbus, OH"})]}),$.jsx("hr",{}),$.jsxs("div",{className:wo.flex,children:[$.jsx("h3",{children:" Review items and delivery"}),$.jsxs("div",{children:[" ",e==null?void 0:e.map(I=>$.jsx(bf,{product:I,flex:!0}))]})]}),$.jsx("hr",{}),$.jsxs("div",{className:wo.flex,children:[$.jsx("h3",{children:" Payment methods"}),$.jsx("div",{className:wo.payment_card_container,children:$.jsx("div",{className:wo.payment_Details,children:$.jsxs("form",{onSubmit:_,action:"",children:[u&&$.jsx("smal",{style:{color:"red"},children:u}),$.jsx(zP,{onChange:g}),$.jsxs("div",{children:[$.jsx("div",{children:$.jsxs("span",{className:wo.payment_order,children:["Total Order: ",$.jsx(NI,{amount:i})]})}),$.jsx("button",{type:"submit",style:{backgroundColor:"orange",borderRadius:"3px",border:"solid,orange, 4px"},children:h?$.jsxs("div",{children:[" "," ",$.jsx(pG,{})," ",$.jsx("p",{children:" Please wait "})]}):"pay now"})]})]})})})]})]})]})},jG=()=>$.jsx(Ic,{children:$.jsx("div",{children:"Orders"})}),BG="_container_18umc_1",zG="_subtotal_18umc_13",WG="_btn_18umc_85",qG="_cart_product_18umc_159",HG="_btn_container_18umc_167",ka={container:BG,subtotal:zG,btn:WG,cart_product:qG,btn_container:HG};function KG(n){return ul({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(n)}function GG(n){return ul({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"},child:[]}]})(n)}const QG=()=>{const[{basket:n,user:e},t]=K.useContext(Ko),r=n==null?void 0:n.reduce((l,u)=>l+u.amount*u.price,0),i=l=>{t({type:ko.ADD_TO_BASKET,item:l})},s=l=>{t({type:ko.REMOVE_FROM_BASKET,id:l})};return $.jsx(Ic,{children:$.jsxs("section",{className:ka.container,children:[$.jsxs("div",{className:ka.cart__container,children:[$.jsx("h2",{children:"Hello"}),$.jsx("h3",{children:"Your shopping basket"}),$.jsx("hr",{}),(n==null?void 0:n.length)===0?$.jsx("p",{children:"Opps! Your Cart is Empty"}):n==null?void 0:n.map((l,u)=>$.jsx($.Fragment,{children:$.jsxs("section",{className:ka.cart_product,children:[$.jsx(bf,{product:l,renderDescription:!0,renderAdd:!1,flex:!0},u),$.jsxs("div",{className:ka.btn_container,children:[$.jsx("button",{className:ka.btn,onClick:()=>i(l),children:$.jsx(GG,{size:25})}),$.jsx("span",{children:l.amount}),$.jsx("button",{className:ka.btn,onClick:()=>s(l.id),children:$.jsx(KG,{size:25})})]})]})}))]}),(n==null?void 0:n.length)!==0&&$.jsxs("div",{className:`${ka.subtotal} `,children:[$.jsxs("div",{children:[$.jsxs("p",{children:["Subtotal (",n.length," items)"]}),$.jsx(NI,{amount:r})]}),$.jsxs("span",{children:[$.jsx("input",{type:"checkbox"}),$.jsx("small",{children:"This order contains a gift"})]}),$.jsx(ui,{to:"/amazon-clone/payments",children:"Proceed to checkout"})]})]})})},YG="_products_container_1gvjl_1",JG={products_container:YG},AD="https://fakestoreapi.com/products",XG=()=>{const[n,e]=K.useState([]),{name:t}=tC();return console.log(t),K.useEffect(()=>{Pt.get(`${AD}/products/category/${t}`).then(r=>{e(r.data)}).catch(r=>{console.log(r)})},[t]),$.jsx(Ic,{children:$.jsxs("div",{children:[$.jsx("h1",{style:{padding:"10px"},children:"Results"}),$.jsxs("p",{style:{padding:"10px"},children:["Category/",t]}),$.jsx("hr",{}),$.jsx("div",{className:JG.products_container,children:n==null?void 0:n.map(r=>$.jsx(bf,{data:r,renderAdd:!0},r.id))})]})})},ZG=()=>$.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh"},children:$.jsx(gG,{})}),eQ=()=>{const{productId:n}=tC(),[e,t]=K.useState({}),[r,i]=K.useState(!1);return K.useEffect(()=>{i(!0),Pt.get(`${AD}/${n}`).then(s=>{t(s.data),i(!1)}).catch(s=>{i(!1)})},[n]),$.jsx(Ic,{children:r?$.jsx(ZG,{}):$.jsx(bf,{product:e,flex:!0,renderDesc:!0,renderAdd:!0})})};var PD="acacia",tQ=function(e){return e===3?"v3":e},CD="https://js.stripe.com",nQ="".concat(CD,"/").concat(PD,"/stripe.js"),rQ=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,iQ=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var sQ=function(e){return rQ.test(e)||iQ.test(e)},oQ=function(){for(var e=document.querySelectorAll('script[src^="'.concat(CD,'"]')),t=0;t<e.length;t++){var r=e[t];if(sQ(r.src))return r}return null},WP=function(e){var t="",r=document.createElement("script");r.src="".concat(nQ).concat(t);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},aQ=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"6.0.0",startTime:t})},jd=null,im=null,sm=null,lQ=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}},uQ=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},cQ=function(e){return jd!==null?jd:(jd=new Promise(function(t,r){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe){t(window.Stripe);return}try{var i=oQ();if(!(i&&e)){if(!i)i=WP(e);else if(i&&sm!==null&&im!==null){var s;i.removeEventListener("load",sm),i.removeEventListener("error",im),(s=i.parentNode)===null||s===void 0||s.removeChild(i),i=WP(e)}}sm=uQ(t,r),im=lQ(r),i.addEventListener("load",sm),i.addEventListener("error",im)}catch(l){r(l);return}}),jd.catch(function(t){return jd=null,Promise.reject(t)}))},dQ=function(e,t,r){if(e===null)return null;var i=t[0],s=i.match(/^pk_test/),l=tQ(e.version),u=PD;s&&l!==u&&console.warn("Stripe.js@".concat(l," was loaded on the page, but @stripe/stripe-js@").concat("6.0.0"," expected Stripe.js@").concat(u,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var d=e.apply(void 0,t);return aQ(d,r),d},Bd,kD=!1,xD=function(){return Bd||(Bd=cQ(null).catch(function(e){return Bd=null,Promise.reject(e)}),Bd)};Promise.resolve().then(function(){return xD()}).catch(function(n){kD||console.warn(n)});var hQ=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];kD=!0;var i=Date.now();return xD().then(function(s){return dQ(s,t,i)})};const qP=({children:n,msg:e,redirect:t})=>{const r=Pg(),[{user:i},s]=K.useContext(Ko);return K.useEffect(()=>{i||r("/amazon-clone/auth",{state:{msg:e,redirect:t}})},[i]),n},fQ=hQ("pk_test_51R0whRC5WrgQuRWo3BS5T19zIEGDbaaWUtLUZMBqP9wyXFqwNS2MMUCVORqVqHYRRLrbCXlgwNONajXQmN2vcjaF00otuohBxJ"),pQ=()=>$.jsx(iM,{children:$.jsxs(DV,{children:[$.jsx(_s,{path:"/amazon-clone",element:$.jsx(VP,{})}),$.jsx(_s,{path:"/",element:$.jsx(VP,{})}),$.jsx(_s,{path:"/amazon-clone/auth",element:$.jsx(yG,{})}),$.jsx(_s,{path:"/amazon-clone/payments",element:$.jsx(qP,{msg:"you must log in to pay",redirect:"/amazon-clone/payments",children:$.jsx(RD,{stripe:fQ,children:$.jsx($G,{})})})}),$.jsx(_s,{path:"/amazon-clone/orders",element:$.jsx(qP,{msg:"you must log in to see your orders",redirect:"/amazon-clone/orders",children:$.jsx(jG,{})})}),$.jsx(_s,{path:"/amazon-clone/cart",element:$.jsx(QG,{})}),$.jsx(_s,{path:"/amazon-clone/category/:name",element:$.jsx(XG,{})}),$.jsx(_s,{path:"/products/:productId",element:$.jsx(eQ,{})})]})});function mQ(){const[{user:n},e]=K.useContext(Ko);return K.useEffect(()=>{yg.onAuthStateChanged(t=>{t?(console.log(t),e({type:ko.SET_USER,user:t})):e({type:ko.SET_USER,user:null})})},[]),$.jsxs($.Fragment,{children:[$.jsx("payment",{}),$.jsx(pQ,{})]})}const gQ={basket:[]},yQ=(n,e)=>{switch(e.type){case ko.ADD_TO_BASKET:if(n.basket.find(s=>s.id===e.item.id)){const s=n.basket.map(l=>l.id===e.item.id?{...l,amount:l.amount+1}:l);return{...n,basket:s}}else return{...n,basket:[...n.basket,{...e.item,amount:1}]};case ko.REMOVE_FROM_BASKET:const r=n.basket.findIndex(s=>s.id===e.id);let i=[...n.basket];return r>=0&&(i[r].amount>1?i[r]={...i[r],amount:i[r].amount-1}:i.splice(r,1)),{...n,basket:i};case ko.SET_USER:return{...n,user:e.user};default:return n}};WL.createRoot(document.getElementById("root")).render($.jsx(K.StrictMode,{children:$.jsx(KM,{reducer:yQ,initialState:gQ,children:$.jsx(mQ,{})})}));
